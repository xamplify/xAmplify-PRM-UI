<!-- BEGIN PAGE CONTENT-->
<div class="page-bar">
	<ul class="page-breadcrumb">
		<li><i class="fa fa-home"></i> <a [routerLink]="refService.homeRouter" translate>Home</a> <i
			class="fa fa-angle-right"></i></li>
		<li><a (click)="refresh()" translate> Manage {{checkingContactTypeName}}s
				</a></li>
		<li><a (click)="backToEditContacts()" translate><i
				class="fa fa-angle-right"> </i>Edit {{checkingContactTypeName}}s</a></li>
		<li *ngIf="! showEditContactData"><i class="fa fa-angle-right">
		</i>
		<span class="capitalize" *ngIf="contactsByType.selectedCategory != 'non-active' && contactsByType.selectedCategory != 'unsubscribe' && contactsByType.selectedCategory != 'active' && contactsByType.selectedCategory != 'invalid'">{{contactsByType.selectedCategory}}
		   {{checkingContactTypeName}}s</span>
		<span class="capitalize" *ngIf="contactsByType.selectedCategory == 'non-active'" translate>Unregistered {{checkingContactTypeName}}s
		   </span>
		  <span class="capitalize" *ngIf="contactsByType.selectedCategory == 'unsubscribe'" translate>Unsubscribed {{checkingContactTypeName}}s
		   </span>
		  <span class="capitalize" *ngIf="contactsByType.selectedCategory == 'active'" translate>Registered {{checkingContactTypeName}}s
		   </span>
		   <span class="capitalize" *ngIf="contactsByType.selectedCategory == 'invalid'" translate>Undeliverable {{checkingContactTypeName}}s
		   </span>
		</li>
	</ul>
</div>

<div class="clearfix" id="manageContacts">
	<div class="row">
		<div class="col-xs-12">
			<div class="tabbable tabbable-custom tabbable-noborder"
				style="background: white;">

				<div class="tab-content">
					<div class="my-container">
						<ngx-loading [show]="loading"
							[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
					</div>
					<div class="tab-pane active">
						<!-- BEGIN FILTER -->

						<div class="page-bar m0">
							<div class="page-breadcrumb">
								<span *ngIf="!isDefaultPartnerList" data-toggle="tooltip" data-placement="top" title="Edit Contact list Name" style="cursor:pointer;font-size: 16px; font-family: Open Sans; color: #989292;"
								(click)="saveAs(false)">
								<span class="ellipsis" title="{{selectedContactListName}}">{{selectedContactListName | slice:0:30}}
												<span *ngIf="selectedContactListName?.length>30">...</span>
									<!-- <span *ngIf="!isDefaultPartnerList">List</span> -->
									</span>
									</span>
									<span *ngIf="isDefaultPartnerList"
									style="font-size: 16px; font-family: Open Sans; color: #989292;">{{selectedContactListName}}
								</span>
								<div *ngIf="!isDefaultPartnerList" style="color: #4d5b69;text-align: right;margin-right: -19px;">
									<i class="fa fa-pencil" aria-hidden="true"></i>
									</div>
							</div>
							<!-- END DASHBOARD STATS -->
							<div class="clearfix"></div>

							<div class="row mt5 mb5">
								<div class="col-xs-6 col-sm-2 col-lg-2 col-sm-5ths">
									<button class="btn-block dashboard-stat blue" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'all'"
										(click)="backToEditContacts()">
										<div class="visual">
											<!-- <i class="fa fa-users"></i> -->
											<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'all' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'all'" ></i>
										</div>
										<div class="details">
											<div class="number" style="color: #FFFFFF;">{{contactsByType.allContactsCount}}</div>
											<div class="desc" style="font-size:20px; color: #FFFFFF;" translate>All <!-- {{checkingContactTypeName}}s --></div>
										</div>
										<span class="morePadding"> <a class="more" style="text-align: left; background: #3480b5; color: white" translate>
														Detailed view <i class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
									</button>
								</div>
								<div class="col-xs-6 col-sm-2 col-lg-2 col-sm-5ths">
									<button class="btn-block dashboard-stat green" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'active'"
										(click)="showingContactDetails('active')"
										[disabled]="contactsByType.activeContactsCount == 0">
										<div class="visual">
											<!-- <i class="fa fa-eye"></i> -->
											<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'active' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'active'" ></i>
										</div>
										<div class="details">
											<div class="number" style="color: #FFFFFF;">{{contactsByType.activeContactsCount}}</div>
											<div class="desc" style="font-size:20px; color: #FFFFFF;" translate>Registered <!-- {{checkingContactTypeName}}s --></div>
										</div>
										<span class="morePadding"> <a class="more" style="text-align: left; background: #268c83; color:white" translate>
														Detailed view <i class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
									</button>
								</div>
								<div class="col-xs-6 col-sm-2 col-lg-2 col-sm-5ths">
									<button class="btn-block dashboard-stat purple" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'non-active'"
										(click)="showingContactDetails('non-active')"
										[disabled]="contactsByType.inactiveContactsCount == 0">
										<div class="visual">
											<!-- <i class="fa fa-eye-slash"></i> -->
											<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'non-active' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'non-active'" ></i>
										</div>
										<div class="details">
											<div class="number">{{contactsByType.inactiveContactsCount}}</div>
											<div class="desc" style="font-size:20px" translate>Unregistered <!-- {{checkingContactTypeName}}s --></div>
										</div>
										<span class="morePadding"> <a class="more" style="text-align: left;" translate>
														Detailed view <i class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
									</button>
								</div>
								<div class="col-xs-6 col-sm-2 col-lg-2 col-sm-5ths">
									<button class="btn-block dashboard-stat yellow-gold" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'invalid'"
										(click)="showingContactDetails('invalid')"
										[disabled]="contactsByType.invalidContactsCount == 0">
										<div class="visual">
											<!-- <i class="fa fa-user-times"></i> -->
											<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'invalid' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'invalid'" ></i>
										</div>
										<div class="details">
											<div class="number">{{contactsByType.invalidContactsCount}}</div>
											<div class="desc" style="font-size:20px" translate>Undeliverable <!-- {{checkingContactTypeName}}s --></div>
										</div>
										<span class="morePadding"> <a class="more" style="text-align: left;" translate>
														Detailed view <i class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
									</button>
								</div>
								<div class="col-xs-6 col-sm-2 col-lg-2 col-sm-5ths">
									<button class="btn-block dashboard-stat red" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'unsubscribe'"
										(click)="showingContactDetails('unsubscribe')"
										[disabled]="contactsByType.unsubscribedContactsCount == 0">
										<div class="visual">

											<!-- <i class="fa fa-times"></i> -->

											<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'unsubscribe' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'unsubscribe'" ></i>
										</div>
										<div class="details">
											<div class="number">{{contactsByType.unsubscribedContactsCount}}</div>
											<div class="desc" style="font-size:20px" translate>Unsubscribed
												<!-- {{checkingContactTypeName}}s --></div>
										</div>
										<span class="morePadding"> <a class="more" style="text-align: left;" translate>
														Detailed view <i class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
									</button>
								</div>
							</div>
							<!-- END DASHBOARD STATS -->
							<div class="clearfix"></div>
							<!-- END FILTER -->
						</div>
					</div>
					<div style="padding: 0px 0 10px;">
						<app-response-message [customResponse]="customResponse"
							*ngIf="customResponse.isVisible"></app-response-message>
					</div>
					<div *ngIf="showEditContactData">
						<div class="col-xs-12 p0">
							<!-- BEGIN EXAMPLE TABLE PORTLET-->
							<div class="portlet box blue">
								<div class="portlet-title">
									<div class="caption" translate>
										<i class="fa fa-edit"></i>List of {{checkingContactTypeName}}s
									</div>

									<div class="color-grey" style="margin-top:4px">
											<div *ngIf="!isSynchronizationList">
											<!-- disabling cancel button condition
											[disabled]="selectedAddContactsOption == 8 && !clickBoard"  -->
														<button id="cancel_button" class="btn pull-right"
															(click)="cancelContacts()" style="margin-left: 5px; background-color: white" translate>
															Cancel<i class="fa fa-cancel"></i>
														</button>
													</div>
													<div class="btn-group pull-right" *ngIf="(!assignLeads && contactService?.contactType!='ASSIGNED_LEADS_LIST')">
														<button class="btn dropdown-toggle" style="background-color: white"
															id="save&delete_button" data-toggle="dropdown" translate>
															Actions <i class="fa fa-angle-down"></i>
														</button>
														<ul class="dropdown-menu pull-right">
															<li><a *ngIf="selectedAddContactsOption != 8 && !isSegmentation" id="save_button" (click)="saveContacts()">Save
															</a></li>
															<li><a id="saveAs_button"
																*ngIf="selectedAddContactsOption == 8 && !assignLeads"
																(click)="saveAs(true)" translate>Save As </a></li>
															<li><a id="exportToExcel"
																*ngIf="selectedAddContactsOption == 8 && !assignLeads"
																(click)="hasAccess()" translate>Export To Excel</a></li>
															<li><a id="download_empy_csv"
																(click)="downloadEmptyCsv()" *ngIf="selectedAddContactsOption == 8" translate>Download CSV Template</a></li>
															<li><a id="delete_button"
																*ngIf="(selectedAddContactsOption == 8 || selectedAddContactsOption == 9 && selectedContactListIds?.length != 0) && !isSynchronizationList && !assignLeads"
																(click)="showAlert(selectedContactListId)" translate> Delete</a></li>
														</ul>
													</div>
													</div>
										<button id="cancel_button" class="btn pull-right" *ngIf="selectedAddContactsOption == 8 && selectedContactListIds?.length != 0 && (!assignLeads && contactService?.contactType!='ASSIGNED_LEADS_LIST') "
															(click)="saveAs(true)" style="margin-right: 5px; background-color: white; color: #777070" translate>
															Save As<!-- <i class="fa fa-save"></i> -->
														</button>
								</div>
								<div class="portlet-body">
									<div class="table-toolbar">
										<div class="clearfix">
											<ng-container *ngIf="showAddOptions && ((assignLeads && !contactService?.assignedToPartner) || (!assignLeads && contactService?.contactType!='ASSIGNED_LEADS_LIST'))">
											<div class="col-xs-12 col-md-6 col-sm-6 p0"
											*ngIf="hasAllAccess || authenticationService.isPartner() || authenticationService.isVendorPartner() ||
											 authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPartner ||
											 (hasContactRole && loggedInUserId==uploadedUserId) || assignLeads">
												<div class="btn-group" *ngIf="!isSynchronizationList">
													<button id="add_contact" class="btn green"
														(click)="addContactModalOpen()"
														[disabled]="selectedAddContactsOption == 1 || selectedAddContactsOption == 2 || selectedAddContactsOption == 9" translate>
														One at a Time
														<!-- Add {{checkingContactTypeName}}  -->
														<i class="fa fa-plus" style="font-size: 12px; margin-left: 5px;"></i>
													</button>
                       							 </div>
                        					<ng-container *ngIf="!refService.isMobileScreenSize()">
												<div class="btn-group" *ngIf="!isSynchronizationList">
													<button id="copyFrom_clipboard" class="btn green"
														[disabled]="selectedAddContactsOption == 0 || selectedAddContactsOption == 2 || selectedAddContactsOption == 9"
														(click)="addContactsOption(AddContactsOption.COPYFROMCLIPBOARD);" translate>
														Copy List From ClipBoard <i class="fa fa-clipboard"
															aria-hidden="true"
															style="font-size: 12px; margin-left: 5px;"></i>
													</button>
												</div>
												<div class="btn-group" *ngIf="!isSynchronizationList">
													<div class="fileUpload btn btn-primary" id="upload_csv"
														[class.disabled]="selectedAddContactsOption == 0 || selectedAddContactsOption == 1 || selectedAddContactsOption == 9"
														style="background-color: #26a69a !important" translate>
														Upload CSV <i class="fa fa-upload" aria-hidden="true"
															style="font-size: 12px; margin-left: 5px;"></i> <input
															type="file" ng2FileSelect class="upload"
															[uploader]="uploader" title=" " (click)="input.value = null"
															(change)="fileChange(input)" accept=".csv" #input
															[disabled]="selectedAddContactsOption == 0 || selectedAddContactsOption == 1 || selectedAddContactsOption == 9" />
													</div>
												</div>
												</ng-container>
											</div>
										</ng-container>
								 <div class="col-xs-12 col-md-6 col-sm-6 p0 pull-right" style="margin-top: 10px;">
									<div class="col-xs-2 col-md-2 col-sm-2">
								<div *ngIf="!isSegmentation" (click)="modelForSeg()"
									style="float: right; cursor: pointer;"
									data-toggle="modal" data-target="#filterModal">
									<i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip"
												data-placement="left" title="Apply a filter"
										style="color: #0095da; font-size: 30px; margin-top: 10px;"></i>
								</div>
								<div *ngIf="isSegmentation" (click)="removeSegmentation()"
									style="float: right; cursor: pointer;">
									<i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip"
												data-placement="left" title="Remove a filter"
										style="color: red; font-size: 30px; margin-top: 10px;"></i> <i
										class="fa fa-times" aria-hidden="true"
										style="color: red; margin-left: -8px;"></i>
								</div>
								</div>
								<div class="col-xs-10 col-md-10 col-sm-10 p0">
								<div class="btn-group pull-right" *ngIf="showEditContactData && selectedAddContactsOption === 8" >
									<div class="inputs" align="right" style="float: right">

										<div class="inputs" align="right" style="float: right;display: inline-flex;">
											<div style="float: left; margin-right: 10px;">
												<select class="form-control" [(ngModel)]="sortOption"
													(ngModelChange)="sortByOption($event)">
													<ng-container
														*ngFor="let sort of sortOptions; let i = index">
													<option [ngValue]="sort">{{sort.name}}</option>
													</ng-container>
												</select>
											</div>
											<div class="portlet-input input-inline">
												<div class="input-icon right">
													<input type="text"
														[(ngModel)]="searchKey"
														[ngModelOptions]="{standalone: true}"
														class="form-control" placeholder="Search for a {{checkingContactTypeName}}" (keypress)="eventHandler($event.keyCode)">
												<button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey" (click)="searchKey='';search('contactList')"></button>
														<button type="submit" class="search-box-item-click" (click)="search('contactList')"><i class="fa fa-search"></i></button>

												</div>
											</div>
										</div>
									</div>
								</div>
								</div>
								</div>

										</div>
									</div>

									<div style="margin-bottom: 0px; padding-left: 1cm">
										<table class="table" *ngIf="uploadCsvUsingFile">
											<thead>
											</thead>
											<tbody>
												<tr *ngFor="let item of uploader.queue">
													<td width="28%"><strong>{{ item?.file?.name
															}}</strong></td>
													<!-- <td *ngIf="uploader.isHTML5" nowrap>{{
														item?.file?.size/1024/1024 | number:'.2' }} MB</td>
													<td *ngIf="uploader.isHTML5">
														<div class="progress" style="margin-bottom: 0;">
															<div class="progress-bar" role="progressbar"
																[ngStyle]="{ 'width': item.progress + '%' }"></div>
														</div>
													</td> -->
													<td class="text-center"><span *ngIf="item.isSuccess"><i
															class="glyphicon glyphicon-ok"></i></span> <span
														*ngIf="item.isCancel"><i
															class="glyphicon glyphicon-ban-circle"></i></span> <span
														*ngIf="item.isError"><i
															class="glyphicon glyphicon-remove"></i></span></td>
													<td nowrap>
														<button type="button" class="btn btn-danger btn-xs"
															(click)="item.remove()" (click)="removeCsv()" translate>
															<span class="glyphicon glyphicon-trash"></span> Remove
														</button>
													</td>
												</tr>
											</tbody>
										</table>
										<div *ngIf="fileTypeError" id="csvFileTypeError"
											class="alert alert-danger alert-dismissable"
											style="width: 50%">
											<b translate>File type not allowed please select the .csv file only..</b>

										</div>
										<div *ngIf="inValidCsvContacts" id="csvInavalidCntactsError"
											class="alert alert-danger alert-dismissable"
											style="width: 80%">
											<b translate>We found invalid emailIds please remove..<strong>{{invalidPatternEmails}}</strong>
												and Re Upload..
											</b>
										</div>
									</div>
									<div *ngIf="dublicateEmailId" class="col-md-6"
										class="col-md-9 alert alert alert-danger alert-dismissable"
										style="width: 100%">
										<a class="close" data-dismiss="alert" aria-label="close">&times;</a>
										<h4 translate>Duplicate EmailId Exist Please Remove..
											<u>{{duplicateEmailIds}}</u>
										</h4>
									</div>

									<div *ngIf="noContactsFound==true"
										style="background-color: #3598dc" class="alert alert-info">
										<h4 style="margin-top: 8px; color: white" translate>No results found</h4>
									</div>
									<div *ngIf="showInvalidMaills==true" class="col-md-6"
										class="col-md-9 alert alert alert-danger alert-dismissable">
										<a class="close" (click)="closeShowValidMessage()"
											data-dismiss="alert" aria-label="close">&times;</a> <strong translate>
											Invalid email pattern Contacts found.. !!!</strong>
									</div>
										<!-- ---Legal Basis Options -->
											<div *ngIf="(isValidClipBoardData&&gdprStatus) || (gdprStatus && selectedAddContactsOption==2)" class="col-sm-6 form-group" id="customWidth">
												<div class="form-group">
												<label for="name" class="col-xs-12 col-sm-4 control-label" translate>Legal Basis Options <span class="danger">*</span></label>
												  <div id="multiselect-sample" class="control-section">
												    <div class="col-lg-8 content-wrapper">
												        <div class="control-styles">
												        	<ejs-multiselect [(ngModel)]='selectedLegalBasisOptions' [ngModelOptions]="{standalone: true}" [allowFiltering]='true' [ignoreAccent]='true' id='multiselectelement'
												        	 [dataSource]='legalBasisOptions' [fields]='fields'[placeholder]='placeHolder' (blur)="validateLegalBasisOptions()"></ejs-multiselect>
												        	  <span class="custom-error-message chagneText" *ngIf="!isValidLegalOptions" translate>Please select at least one option</span>
												        </div>
												    </div>
												    </div>
											</div>
											</div>

									<div class="row" *ngIf="clickBoard">
										<div class="col-sm-12" style="padding-left:0px">
											<h3 class="col-xs-12" translate>Copy from text -- paste below</h3>
											<div class="col-sm-9 form-group">
												<div class="col-sm-3" style="padding-left: 0px;">
													<select class="col-sm-2 options form-control">
														<option selected value="DEFAULT" translate>Delimiter Type</option>
														<option value="CommaSeperated" translate>Comma Separated</option>
														<option value="TabSeperated" translate>Tab Separated</option>
													</select>
												</div>
												<button class=" col-sm-3 btn btn-default" type="button"
													style="background-color: #26a69a; color: white"
													(click)="clipboardShowPreview()" translate>VERIFY DATA</button>
											</div>
											<div class="col-sm-9">
												<textarea *ngIf="!isPartner" class="textareaNumber" [(ngModel)]="clipboardTextareaText"
													placeholder="FirstName,LastName,Company,Jobtitle,Email,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Address,City,State,Zip,Country,Phone"
													[ngModelOptions]="{standalone: true}"
													style="min-width: 100%; max-width: 100%; height: 150px; font-size: 12px; line-height: 1.4;"
													required="required">
						           	</textarea>
						           	<textarea *ngIf="isPartner" id="copyFromclipTextArea" class="textareaNumber"
							[(ngModel)]="clipboardTextareaText"
							placeholder="FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone"
							[ngModelOptions]="{standalone: true}"
							style="height: 150px; font-size: 12px; line-height: 1.4; min-width: 100%; max-width: 100%; width: 100%;"
							required="required">
									</textarea>
											</div>
											<div class="col-sm-3">
												<span id="clipBoardValidationMessage"></span>
											</div>
										</div>
									</div>
									<!-- <div class="row" *ngIf="partnerClickBoard" style="margin-bottom: 15px;">
			<div class="col-sm-12" style="padding-left:0px">
				<h3 style="margin-left: 30px;">Copy from text -- paste below</h3>
				<div class="col-xs-12 col-sm-9">
					<div class="col-xs-6" style="margin-bottom: 10px">
						<select class="opts form-control">
							<option selected value="DEFAULT">Delimiter Type</option>
							<option value="CommaSeperated">Comma Separated</option>
							<option value="TabSeperated">Tab Separated</option>
						</select>
					</div>
					<div class="col-xs-6" style="margin-bottom: 10px">
						<button class="btn btn-default" type="button"
							style="background-color: #26a69a; color: white"
							(click)="clipboardShowPreview()">SHOW PREVIEW</button>
					</div>
					<div class="col-xs-12">
						<textarea id="copyFromclipTextArea" class="textareaNumber"
							[(ngModel)]="clipboardTextareaText"
							placeholder="FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,PartnerType,Category,Address,City,State,Zip,Country,Phone"
							[ngModelOptions]="{standalone: true}"
							style="height: 150px; font-size: 12px; line-height: 1.4; min-width: 100%; max-width: 100%; width: 100%;"
							required="required">
									</textarea>
					</div>
				</div>
				<div class="col-xs-12 col-sm-3" style="margin-top: 30px; padding-left:0px">
					<span id="clipBoardValidationMessage"></span>
				</div>
			</div>
		</div> -->

									<div class="row" id="file_preview" *ngIf="filePrevew">
										<div class="col-xs-12">
											<!-- BEGIN EXAMPLE TABLE PORTLET-->

											<div *ngIf="users?.length == 0 && selectedAddContactsOption == 2 && isCsvFileLsitLoading">
									<app-list-loader></app-list-loader>
									</div>
											<div class="portlet box blue" *ngIf="users?.length != 0">
												<div class="portlet-title">
													<div class="caption" translate>
														<i class="fa fa-edit"></i>File Preview
													</div>
												</div>
												<div class="portlet-body">

													<table
														class="table tgrid"
														id="sample_editable_2">
														<thead>
															<tr>
																<th translate>FIRST NAME</th>
																<th translate>LAST NAME</th>
																<th translate>EMAILID</th>
																<th translate>MORE</th>
															</tr>
														</thead>
														<tbody>
															<ng-container *ngFor="let user of csvPagedItems; let i = index">
															<tr>
																<td title="{{user.firstName}}">{{user.firstName | slice:0:30}}
																	<span *ngIf="user.firstName?.length>30">...</span>
																</td>
																<td title="{{user.lastName}}">{{user.lastName | slice:0:25}}
																	<span *ngIf="user.lastName?.length>25">...</span>
																</td>
																<td title="{{user.emailId}}">{{user.emailId | slice:0:35}}
																	<span *ngIf="user.emailId?.length>35">...</span>
																</td>

																<td>
																	<button id='more_less_button_{{i}}'
																		(click)="user.isShowDetails = ! user.isShowDetails">
																		<span *ngIf="!user.isShowDetails" translate>More</span> <span
																			*ngIf="user.isShowDetails" translate>Less</span>
																	</button>
																</td>
															</tr>
															<tr
																[ngClass]="{'hidden': !user.isShowDetails, 'show-more': user.isShowDetails}">
																<td colspan="6">
																	<table cellpadding="5" cellspacing="0"
																		style="padding-left: 50px; margin-left: 55px;">
																		<tbody>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Company:</td>
																				<td class='pt10 pb10'>{{user.contactCompany}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Job Title:</td>
																				<td class='pt10 pb10'>{{user.jobTitle}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc" *ngIf="isPartner">
																				<td class='pt10 pb10' translate>Vertical:</td>
																				<td class='pt10 pb10'>{{user.vertical}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc" *ngIf="isPartner">
																				<td class='pt10 pb10' translate>Region:</td>
																				<td class='pt10 pb10'>{{user.region}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc" *ngIf="isPartner">
																				<td class='pt10 pb10' translate>Type:</td>
																				<td class='pt10 pb10'>{{user.partnerType}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc" *ngIf="isPartner">
																				<td class='pt10 pb10' translate>Category:</td>
																				<td class='pt10 pb10'>{{user.category}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Address:</td>
																				<td class='pt10 pb10'>{{user.address}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>City:</td>
																				<td class='pt10 pb10'>{{user.city}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>State:</td>
																				<td class='pt10 pb10'>{{user.state}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Zip Code:</td>
																				<td class='pt10 pb10'>{{user.zipCode}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Country:</td>
																				<td class='pt10 pb10'>{{user.country}}</td>
																			</tr>
																			<tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10' translate>Phone Number:</td>
																				<td class='pt10 pb10'>{{user.mobileNumber}}</td>
																			</tr>
																			<!-- <tr style="border-bottom: 1px solid #dcdcdc">
																				<td class='pt10 pb10'>Notes:</td>
																				<td class='pt10 pb10'>{{user.description}}</td>
																			</tr> -->
																		</tbody>
																	</table>
																</td>
															</tr>
															</ng-container>
														</tbody>
													</table>

											<ul *ngIf="pager.pages && pager.pages.length"
										class="pagination">
										<li [ngClass]="{disabled:pager.currentPage === 1}"><a
											(click)="setCsvPage(1)" translate>First</a></li>
										<li [ngClass]="{disabled:pager.currentPage === 1}"><a
											(click)="setCsvPage(pager.currentPage - 1)" translate>Previous</a></li>
										<li *ngFor="let page of pager.pages"
											[ngClass]="{active:pager.currentPage === page}"><a
											(click)="setCsvPage(page)">{{page}}</a></li>
										<li
											[ngClass]="{disabled:pager.currentPage === pager.totalPages}">
											<a (click)="setCsvPage(pager.currentPage + 1)" translate>Next</a>
										</li>
										<li
											[ngClass]="{disabled:pager.currentPage === pager.totalPages}">
											<a (click)="setCsvPage(pager.totalPages)" translate>Last</a>
										</li>
									</ul>


												</div>
											</div>
											<!-- END EXAMPLE TABLE PORTLET-->
										</div>
									</div>
									<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
									<div class="clearfix">
										<div class="col-xs-12 p0">
											<div class="table-responsive">
												<table class='table tgrid'
													*ngIf="(contacts?.length > 0) && isShowUsers && !httpRequestLoader.isLoading">
													<thead>
														<tr>
															<th class='text-center'><input type="checkbox"
																name="all" [(ngModel)]="isHeaderCheckBoxChecked"
																(change)="checkAll($event)"
																id="checkAllExistingContacts"/></th>
															<th style="width: 25%" *ngIf="isPartner" translate>Entity info</th>
															<th style="width: 25%" *ngIf="!isPartner" translate>NAME</th>
																<th *ngIf="isPartner" translate>VERTICAL</th>
														<th *ngIf="isPartner" translate>REGION</th>
														<th *ngIf="isPartner" translate>TYPE</th>
														<th *ngIf="isPartner" translate>CATEGORY</th>
														<!-- <th class="hidden-xs" *ngIf="!isPartner">Phone</th> -->
														<th class="hidden-xs" *ngIf="!isPartner" translate>Job Title</th>
														<th class="text-center hidden-xs"  *ngIf="!isPartner" translate>ADDRESS</th>
														<th class="text-center hidden-xs" *ngIf="gdprStatus || isPartner"></th>
														<th class="text-center" *ngIf="isPartner"></th>
														<!-- <th class='text-center'>MORE</th> -->
														<th class='text-center' style="width:16%" *ngIf="((hasAllAccess || authenticationService.isPartner() || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPartner || authenticationService.isVendorPartner() || (hasContactRole && loggedInUserId==uploadedUserId)) && !isSynchronizationList || isPartner || contactsByType.selectedCategory == 'non-active') && !clickBoard" translate>ACTIONS</th>
														</tr>
													</thead>
													<tbody>
													<ng-container *ngIf="selectedAddContactsOption == 0">
														<ng-container
															*ngFor="let newContact of users; let i = index">
														<tr class='row_{{i}}' style="background-color: #73c5be;">
															<td align="center"><input type="checkbox" checked="newContact.checked"></td>
															<td *ngIf="isPartner">
															<app-user-info [isPartnerEntityInfo]="true" [isPartnerInfo]="true" [userInfo]="newContact"> </app-user-info>
															</td>
															<td>
															<app-user-info  [userInfo]="newContact"> </app-user-info>
															</td>
															<!-- <td class="hidden-xs">
															<div *ngIf="newContact.mobileNumber" [class.disabled]="true" style="pointer-events: none !important; cursor: auto;">
                              <int-phone-prefix [(ngModel)]="newContact.mobileNumber"  [ngModelOptions]="{standalone: true}"></int-phone-prefix>
                              </div>
																<h5>
																	<span *ngIf="newContact?.mobileNumber; else NA"
																		class="textWhite">{{newContact.mobileNumber}}</span>
																</h5>
															</td> -->
															<td class="hidden-xs">
																<h5 class='mb0 textWhite ellipsis' title="{{newContact.jobTitle}}">{{newContact.jobTitle | slice:0:25}}
																<span *ngIf="newContact.jobTitle?.length>25">...</span>
																</h5>
																<h6 class='mt0 textWhite ellipsis' *ngIf="!isPartner" title="{{newContact.contactCompany}}">{{newContact.contactCompany | slice:0:25}}
																<span *ngIf="newContact.contactCompany?.length>25">...</span>
																</h6>
															</td>
															<td class="hidden-xs">
																<h5 *ngIf="newContact?.address" class='mb0 textWhite'>{{newContact.address}}</h5>
																<h5 class='mb0 textWhite'>{{newContact.city}},&nbsp;{{newContact.state}}</h5>
																<h5 *ngIf="newContact?.zipCode || newContact.country"
																	class='mt0 textWhite'>{{newContact.zipCode}},&nbsp;{{newContact.country}}</h5>
															</td>
															<!-- <td align="center">
																<button id='more_less_button_{{i}}'
																	(click)="newContact.isShowDetails = ! newContact.isShowDetails">
																	<span *ngIf="!newContact.isShowDetails">More</span> <span
																		*ngIf="newContact.isShowDetails">Less</span>
																</button>
															</td> -->
															<td align="center"><a class="delete textWhite"
																(click)="cancelRow(i)" translate> Cancel </a></td>
															<ng-template #NA>N/A</ng-template>
														</tr>
														<!-- <tr
															[ngClass]="{'hidden': !newContact.isShowDetails, 'show-more': newContact.isShowDetails}"
															style="background-color: #73c5be;">
															<td colspan="8">
																<table cellpadding="5" cellspacing="0"
																	style="padding-left: 50px; margin-left: 55px;">
																	<tbody>
																		<tr>
																			<td class='bold pt10 pb10 textWhite bold'>Notes:</td>
																			<td class='pt10 pb10 textWhite'>{{newContact.description}}</td>
																		</tr>
																	</tbody>
																</table>
															</td>
														</tr> -->
														</ng-container>
														</ng-container>
														<ng-container
															*ngFor="let contact of pagination.pagedItems;let i = index">
														<tr class='row_{{i}}'>
															<td class='text-center'
																*ngIf="!isCampaignDraftContactList "><input
																type="checkbox"
																[checked]="selectedContactListIds.indexOf(contact.id)>-1"
																class="chk"
																[class.contact-list-selected]="selectedContactListIds.indexOf(contact.id)>-1"
																lang="{{contact.name}}" name="campaignContact[]"
																value="{{contact.id}}" id="{{contact.id}}"
																(click)="highlightRow(contact.id,$event)" /></td>
															<td *ngIf="isPartner">
															<app-user-info [isPartnerEntityInfo]="true" [isPartnerInfo]="true" [userInfo]="contact"> </app-user-info>
															</td>
															<td class="white-space-transform" *ngIf="isPartner" title="{{contact.vertical}}">{{contact.vertical | slice:0:14}}
															<span *ngIf="contact.vertical?.length>14">..</span>
															</td>
														<td class="white-space-transform" *ngIf="isPartner" title="contact.region">{{contact.region | slice:0:14}}
														<span *ngIf="contact.region?.length>14">..</span>
														</td>
														<td class="white-space-transform" *ngIf="isPartner" title="contact.partnerType">{{contact.partnerType | slice:0:14}}
														<span *ngIf="contact.partnerType?.length>14">..</span>
														</td>
														<td class="white-space-transform" *ngIf="isPartner" title="{{contact.category}}">{{contact.category | slice:0:14}}
														<span *ngIf="contact.category?.length>14">..</span>
														</td>
															<td *ngIf="!isPartner">
															<app-user-info [isContactCompanyInfo]="true" [userInfo]="contact"> </app-user-info>
															</td>
															<td class="hidden-xs" *ngIf="!isPartner">
																<h5 class='mb0 ellipsis' title="{{contact.jobTitle}}">{{contact.jobTitle | slice:0:25}}
																<span *ngIf="contact.jobTitle?.length>25">...</span>
																</h5>
															</td>
															<td align="center" class="hidden-xs">
																<h5 *ngIf="contact?.address" class='mb0'>{{contact.address | slice:0:30}}
																<span *ngIf="contact.address?.length>30">..</span>
																</h5>
																<h5 class='mb0'>{{contact.city | slice:0:15}}
																<span *ngIf="contact.city?.length>15">..</span>
																<span *ngIf="contact.city && contact.state">,&nbsp;</span>{{contact.state | slice:0:15}}
																<span *ngIf="contact.state?.length>15">..</span>
																</h5>
																<h5 *ngIf="contact?.zipCode || contact.country" class='mt0'>{{contact.zipCode}}<span *ngIf="contact.zipCode && contact.country">,&nbsp;</span>{{contact.country}}</h5>
															</td>
															<td align="center" *ngIf="gdprStatus || isPartner">
															<button  id='more_less_button_{{i}}'
																(click)="contact.isShowDetails = ! contact.isShowDetails">
																<span *ngIf="!contact.isShowDetails" translate>More</span> <span
																	*ngIf="contact.isShowDetails" translate>Less</span>
															</button>
															</td>
															<td align="center" *ngIf="(hasAllAccess || authenticationService.isPartner() || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPartner || authenticationService.isVendorPartner() || (hasContactRole && loggedInUserId==uploadedUserId)) && !isSynchronizationList && !clickBoard">
															<div class="actions-block override-actions" style="width:170px" *ngIf= "(!assignLeads && contactService?.contactType!='ASSIGNED_LEADS_LIST')">
															  	<a data-toggle="tooltip" data-placement="top" title="{{actionsDescription.contact_edit}} {{checkingContactTypeName}}" (click)="editUserDetails(contact)">
																  	<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
																 </a>
																<a data-toggle="tooltip" data-placement="top" title="{{actionsDescription.contact_delete}} {{checkingContactTypeName}}" (click)="deleteUserShowAlert(contact.id)">
																		<i class="fa fa-trash-o" aria-hidden="true"></i>
																</a>
 																<a   data-toggle="tooltip" data-placement="bottom" title="{{campaignsTitle}}" (click)="addCampaigns(contact)">
                                                                <i class="fa fa-bullhorn" aria-hidden="true"></i></a>
                                                                <a *ngIf="authenticationService.module.isCampaign"   data-toggle="tooltip" data-placement="bottom" title="Campaign Analytics" (click)="goToCampaigns(contact)">
                                                                <i class="fa fa-line-chart" aria-hidden="true"></i></a>
                                                            </div>
															</td>
															<ng-template #NA>N/A</ng-template>
														</tr>
														<tr
												[ngClass]="{'hidden': !contact.isShowDetails, 'show-more': contact.isShowDetails}">
												<td [attr.colspan]="isPartner ? '9':'6'">
													<table cellpadding="5" cellspacing="0"
														style="padding-left: 50px; margin-left: 55px;">
														<tbody>
															<tr *ngIf="gdprStatus">
																<td class='pt10 pb10 bold' translate>Legal Basis : </td>
																<td align="center" class="pt10 pb10">
																	{{contact.legalBasisString}}
																</td>
															</tr>
															<tr *ngIf="isPartner && authenticationService.contactsCount">
																<td class='pt10 pb10 bold' translate>Contacts Limit : </td>
																<td align="center" class="pt10 pb10">
																	{{contact.contactsLimit}}
															</tr>
															<!-- <tr *ngIf="isPartner && mdfAccess">
																<td class='pt10 pb10 bold' translate>MDF Amount : </td>
																<td align="center" class="pt10 pb10">
																	{{contact.mdfAmountInString}}
															</tr> -->
														</tbody>
													</table>
												</td>
											</tr>
											    </ng-container>
												</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- END EXAMPLE TABLE PORTLET-->
							<app-pagination [pagination]="pagination" [type]="'contacts'"
										(notifyParent)="setPage($event)" (notifyParentDropDown)="onChangeAllContactUsers($event)"></app-pagination>
						</div>
					</div>
				</div>

				<div class="row-css col-xs-12" *ngIf="showAllContactData">
					<div class="col-xs-12">
						<div *ngIf="!contactsByType.isLoading && contactsByType.contacts?.length == 0"
							class="alert alert-info">
							<h4 translate>No results found</h4>
						</div>
						<div class="alert alert-success alert-dismissable col-xs-12"
							style="padding: 15px 10px 12px;"
							*ngIf="invalidDeleteSuccessMessage">
							<strong translate>Success!</strong> your {{checkingContactTypeName}}s has
							been deleted successfully.
						</div>
					</div>
					<div class="col-xs-12" id="hidingListOfUsersTable"
						style="top: -13px; width: 104%; left: -6px;">
						<!-- BEGIN EXAMPLE TABLE PORTLET-->
						<div class="portlet box blue">
							<div class="portlet-title">
								<div class="caption">
									<span class="capitalize" *ngIf="contactsByType.selectedCategory != 'non-active' && contactsByType.selectedCategory != 'active' && contactsByType.selectedCategory !='invalid'">{{contactsByType.selectedCategory}}
										{{checkingContactTypeName}} List</span>
									<span class="capitalize" *ngIf="contactsByType.selectedCategory == 'non-active'" translate>
										Unregistered {{checkingContactTypeName}} List</span>
									<span class="capitalize" *ngIf="contactsByType.selectedCategory == 'active'" translate>
										Registered {{checkingContactTypeName}} List</span>
										<span class="capitalize" *ngIf="contactsByType.selectedCategory == 'invalid'" translate>
										Undeliverable {{checkingContactTypeName}} List</span>
								</div>
								<div class="btn-group pull-right"
									style="margin-top: 4px; color: #000000;"
									*ngIf="contactsByType.selectedCategory == 'invalid'">
									<span class="dropdown-toggle" data-toggle="dropdown" style="color: #FFF; box-shadow:none; margin-top: 8px; float:right;">
										<i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down" style="font-size:14px; float:right"></i>
									</span>
									<ul class="dropdown-menu pull-right">
										<li *ngIf="contactsByType.selectedCategory == 'invalid'"><a id="delete_button"
											(click)="invalidContactsShowAlert()" translate> Delete </a></li>
										<li *ngIf="contactsByType.selectedCategory == 'invalid'"><a
													id="validate_email_button" (click)="validateUndeliverableContacts()" translate>
													Mark as valid email(s) </a></li>
										<li><a id="export_button"
										(click) = "hasAccessForDownloadUndeliverableContacts()" translate> Export To Excel </a></li>
									</ul>
								</div>
							</div>
							<div class="portlet-body">

									<div class="page-bar" *ngIf="!showEditContactData">
									<div class="col-xs-12 col-md-12 col-sm-12 p0">
									<div class="btn-group pull-right">
									<div class="col-xs-2 col-md-2 col-sm-2">
									<div *ngIf="!isSegmentation" (click)="modelForSeg()"
									style="float: left; cursor: pointer; padding-right: 20px;"
									data-toggle="modal" data-target="#filterModal">
									<i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip"
												data-placement="left" title="Apply a filter"
										style="color: #0095da; font-size: 30px; margin-top: 10px;"></i>
								</div>
								<div *ngIf="isSegmentation" (click)="removeSegmentation()"
									style="float: left; cursor: pointer; padding-right: 20px;">
									<i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip"
												data-placement="left" title="Remove a filter"
										style="color: red; font-size: 30px; margin-top: 10px;"></i> <i
										class="fa fa-times" aria-hidden="true"
										style="color: red; margin-left: -8px;"></i>
								</div>
							</div>
							<div class="col-xs-10 col-md-10 col-sm-10 p0">
										<div class="inputs" align="right" style="float: right; display: inline-flex;">
											<div style="float: left; margin-right: 10px;">
												<select class="form-control" [(ngModel)]="sortOption"
													(ngModelChange)="sortByOption($event)">
													<ng-container
														*ngFor="let sort of sortOptions; let i = index">
													<option [ngValue]="sort">{{sort.name}}</option>
													</ng-container>
												</select>
											</div>
											<div class="portlet-input input-inline">
												<div class="input-icon right">
													<!-- <i class="icon-magnifier"
														style="cursor: pointer; font-size: 18px;"
														(click)="search('contactList')"></i> --> <input type="text"
														[(ngModel)]="searchKey"
														[ngModelOptions]="{standalone: true}"
														class="form-control" placeholder="Search for a {{checkingContactTypeName}}" (keypress)="eventHandler($event.keyCode)">
														<button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey" (click)="searchKey='';search('contacts')"></button>
														<button type="submit" class="search-box-item-click" (click)="search('contacts')"><i class="fa fa-search"></i></button>
												</div>
											</div>
										</div>
										</div>
									</div>
									</div>
								</div>


								<div class="table-responsive">
									<app-loader [model]="httpRequestLoader.isHorizontalCss"
										*ngIf="httpRequestLoader.isLoading"></app-loader>
									<table class='table tgrid' id="sample_editable_1" style="overflow: hidden;"
										*ngIf="!httpRequestLoader.isLoading">
										<thead>
											<tr>
												<th style="text-align: center;"
													*ngIf="contactsByType.selectedCategory == 'invalid'"><input
													type="checkbox" name="all"
													[(ngModel)]="isInvalidHeaderCheckBoxChecked"
													(change)="checkAllInvalidContacts($event)" class=""
													id="checkAllExistingInvalidContacts" /></th>
												<th style="width: 25%" *ngIf="isPartner" translate>Entity info</th>
												<th style="width: 25%" *ngIf="!isPartner" translate>NAME</th>
												<th *ngIf="contactsByType.selectedCategory == 'invalid' && !isPartner" translate>EMAIL CATEGORY</th>
												<th *ngIf="isPartner" translate>VERTICAL</th>
														<th *ngIf="isPartner" translate>REGION</th>
														<th *ngIf="isPartner" translate>TYPE</th>
														<th *ngIf="isPartner" translate>CATEGORY</th>
													<!-- 	<th class="hidden-xs" *ngIf="!isPartner">Phone</th> -->
														<th class="hidden-xs" *ngIf="!isPartner" translate>Job Title</th>
														<th class="text-center hidden-xs"  *ngIf="!isPartner" translate>ADDRESS</th>
														<th class="text-center hidden-xs" *ngIf="gdprStatus || isPartner"></th>
														<th class="text-center hidden-xs"  *ngIf="contactsByType.selectedCategory == 'unsubscribe'" translate>Reason</th>
												<th class="text-center" *ngIf="contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'unsubscribe'" style="width:17%" translate>ACTIONS</th>
												<!-- <th>MORE</th> -->
												<th *ngIf="!isPartner"></th>
											</tr>
										</thead>
										<tbody>
											<ng-container
												*ngFor="let allcontacts of contactsByType.contacts;let i = index">
											<tr class='row_{{i}}'>
												<td *ngIf="contactsByType.selectedCategory == 'invalid'"
													align="center"><input type="checkbox"
													[checked]="selectedInvalidContactIds.indexOf(allcontacts.id)>-1"
													class="chk"
													[class.invalid-contacts-selected]="selectedInvalidContactIds.indexOf(allcontacts.id)>-1"
													lang="{{allcontacts.id}}" name="invalidContact[]"
													value="{{allcontacts.id}}" id="{{allcontacts.id}}"
													(click)="invalidContactsSelectedUserIds(allcontacts.id,$event)" />
												</td>
												<td *ngIf="isPartner">
													<app-user-info [isPartnerEntityInfo]="true" [isPartnerInfo]="true" [userInfo]="allcontacts"> </app-user-info>
												</td>
												<td *ngIf="!isPartner">
													<app-user-info [isContactCompanyInfo]="true" [userInfo]="allcontacts"> </app-user-info>
												</td>
												<td *ngIf="contactsByType.selectedCategory =='invalid' && !isPartner" class="hidden-xs" >{{allcontacts.emailCategory}}
														<span *ngIf="!allcontacts.emailCategory"><b>-</b></span>
														</td>
												<td *ngIf="isPartner" title="allcontacts.vertical">{{allcontacts.vertical | slice:0:14}}
												<span *ngIf="allcontacts.vertical?.length>14">..</span>
												</td>
														<td *ngIf="isPartner" title="allcontacts.region">{{allcontacts.region | slice:0:14}}
														<span *ngIf="allcontacts.region?.length>14">..</span>
														</td>
														<td *ngIf="isPartner" title="allcontacts.partnerType">{{allcontacts.partnerType | slice:0:14}}
														<span *ngIf="allcontacts.partnerType?.length>14">..</span>
														</td>
														<td *ngIf="isPartner" title="allcontacts.category">{{allcontacts.category | slice:0:14}}
														<span *ngIf="allcontacts.category?.length>14">..</span>
														</td>
												<!-- <td class="hidden-xs" *ngIf="!isPartner">
												<div *ngIf="allcontacts.mobileNumber" [class.disabled]="true" style="pointer-events: none !important; cursor: auto;">
													<int-phone-prefix [(ngModel)]="allcontacts.mobileNumber"  [ngModelOptions]="{standalone: true}"></int-phone-prefix>
													</div>
													<h5>
														<span *ngIf="allcontacts?.mobileNumber; else NA">{{allcontacts.mobileNumber}}</span>
													</h5>
												</td> -->
												<td class="hidden-xs" *ngIf="!isPartner">
													<h5 class='mb0 ellipsis' title="{{allcontacts.jobTitle}}" >{{allcontacts.jobTitle | slice:0:25}}
													<span *ngIf="allcontacts.jobTitle?.length>25">...</span>
													</h5>
													<!-- <h6 class='mt0' *ngIf="!isPartner">{{allcontacts.contactCompany}}</h6> -->
												</td>
												<td class="hidden-xs center" *ngIf="!isPartner">
													<h5 *ngIf="allcontacts?.address" class='mb0'>{{allcontacts.address  | slice:0:30}}
													<span *ngIf="allcontacts.address?.length>30">..</span>
													</h5>
													<h5 class='mb0'>{{allcontacts.city | slice:0:15}}
													<span *ngIf="allcontacts.city?.length>15">..</span>
													<span *ngIf="allcontacts.city && allcontacts.state">,&nbsp;</span>{{allcontacts.state | slice:0:15}}
													<span *ngIf="allcontacts.state?.length>15">..</span>
													</h5>
													<h5 *ngIf="allcontacts?.zipCode || allcontacts.country"
														class='mt0'>{{allcontacts.zipCode}}<span *ngIf="allcontacts.zipCode && allcontacts.country">,&nbsp;</span>{{allcontacts.country}}</h5>
												</td>
												<td *ngIf="contactsByType.selectedCategory == 'unsubscribe'">{{allcontacts.unsubscribedReason}}</td>
												<td align="center">
                           							<button id='more_less_button_{{i}}'
																(click)="allcontacts.isShowDetails = ! allcontacts.isShowDetails">
																<span *ngIf="!allcontacts.isShowDetails" translate>More</span> <span
																	*ngIf="allcontacts.isShowDetails" translate>Less</span>
															</button>
															</td>
													<td align="center" *ngIf="contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'unsubscribe'">
                           <!-- <button id='more_less_button_{{i}}' *ngIf="isPartner"
																(click)="allcontacts.isShowDetails = ! allcontacts.isShowDetails">
																<span *ngIf="!allcontacts.isShowDetails">More</span> <span
																	*ngIf="allcontacts.isShowDetails">Less</span>
															</button> -->
															<button class="btn green" *ngIf="contactsByType.selectedCategory == 'unsubscribe' && (hasAllAccess || refService.roles.contactsRole || refService.roles.partnersRole || authenticationService.isVendor() || authenticationService.isOrgAdmin() || authenticationService.isVendorPartner() || authenticationService.isOrgAdminPartner() || authenticationService.isPartner() || authenticationService.isOnlyPartner())"
																(click)="activateUnsubscribedUser(allcontacts.id)" translate>
																Subscribe
															</button>
                            <div class="actions-block" style="float: none !important;" *ngIf="isPartner && contactsByType.selectedCategory == 'non-active'">
                            <a *ngIf="!allcontacts.signedUp" data-toggle="tooltip" data-placement="bottom" title="{{actionsDescription.partner_reSendMail}}" (click)="sendMail(allcontacts.id)">
                              <i class="fa fa-envelope"></i>
                            </a>
                          </div>
												</td>
												<!-- <td>
													<button id='more_less_button_{{i}}'
														(click)="allcontacts.isShowDetails = ! allcontacts.isShowDetails">
														<span *ngIf="!allcontacts.isShowDetails">More</span> <span
															*ngIf="allcontacts.isShowDetails">Less</span>
													</button>
												</td> -->
												<ng-template #NA>N/A</ng-template>
											</tr>
											<tr
												[ngClass]="{'hidden': !allcontacts.isShowDetails, 'show-more': allcontacts.isShowDetails}">
												<td colspan="8">
													<table cellpadding="5" cellspacing="0"
														style="padding-left: 50px; margin-left: 55px;">
														<tbody>
															<tr>
																<td class='pt10 pb10 bold' translate>Legal Basis : </td>
																&nbsp;<td align="center" class="pt10 pb10">
																	{{allcontacts.legalBasisString}}
																</td>
															</tr>
															<ng-container *ngIf="isPartner && authenticationService.contactsCount">
																<tr>
																	<td class='pt10 pb10 bold' translate>Contacts Limit : </td>
																	<td align="center" class="pt10 pb10">
																		{{allcontacts.contactsLimit}}
																	</td>
																</tr>
																<!-- <tr  *ngIf="mdfAccess">
																	<td class='pt10 pb10 bold' translate>MDF Amount : </td>
																	<td align="center" class="pt10 pb10">
																		{{allcontacts.mdfAmountInString}}
																	</td>
																</tr> -->

															</ng-container>


														</tbody>
													</table>
												</td>
											</tr>
											</ng-container>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<!--pager here  -->
						<app-pagination [pagination]="contactsByType.pagination" [type]="contactsByType.selectedCategory"
						(notifyParent)="setPage($event)" (notifyParentDropDown)="onChangeAllContactUsers($event)"></app-pagination>
					</div>
				</div>

			</div>
		</div>

	</div>

	<!-- modals -->


<div *ngIf="contactService.isContactModalPopup && !updateContactUser">
	<app-add-contact-modal [mdfAccess]="mdfAccess" [gdprInput]="parentInput" [totalUsers]="contacts" [isContactTypeEdit]="true" [isUpdateUser] = "false"  (notifyParent)="addRow($event)" ></app-add-contact-modal>
</div>

<div *ngIf="contactService.isContactModalPopup && updateContactUser">
	<app-add-contact-modal [mdfAccess]="mdfAccess"  [gdprInput]="parentInput" [totalUsers]="contacts"  [contactDetails]="contactAllDetails" [isUpdateUser] = "isUpdateUser" (notifyParent)="updateContactListUser($event)"></app-add-contact-modal>
</div>

<app-export-csv *ngIf="refService.isDownloadCsvFile" [downloadListDetails]="downloadDataList" [downloadListName]="logListName"> </app-export-csv>

	<!-- BEGIN PAGE CONTENT-->
<div id="filterModal" class="modal right fade" role="dialog"
		data-backdrop="static" data-keyboard="false">
		<div class="modal-dialog modal-css">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
				<!-- <button type="button" class="close"  (click)="cancelSegmentation()"
						data-dismiss="modal">&times;</button> -->
					<a class="close-circle" data-dismiss="modal" (click)="cancelSegmentation()"><i class="fa fa-times"></i></a>
					<h4 class="modal-title" translate>Filter</h4>
				</div>
				<div class="modal-body" style="padding: 28px;">
					<div class="row">
						<div class="col-sm-12">
							<div class="row col-sm-11"
								*ngFor="let addRow of criterias; let i = index"
								style="padding-bottom: 10px;">
								<div class="form-group">
									<div class="form-inline col-sm-12">
										<div class="form-group col-sm-4">
										<b>{{i}}</b>
											<select class="form-control"
												[(ngModel)]="criterias[i].property">
												<option
													*ngFor="let filterOption of filterOptions; let i = index">{{filterOption.value}}</option>
											</select>
										</div>
										<div class="form-group col-sm-3">
											<select class="form-control"
												[(ngModel)]="criterias[i].operation">
												<option
													*ngFor="let filterCondition of filterConditions; let i = index">{{filterCondition.value}}</option>
											</select>
										</div>
										<div class="form-group col-sm-3">
											<input type="text" class="form-control" placeholder="value*"	[(ngModel)]="criterias[i].value1" required (keypress)="eventEnterKeyHandler($event.keyCode)">
										</div>
										<div class="form-group col-sm-2 filter-delete" data-toggle="tooltip"
												data-placement="left" title="Remove a condition">
											<span (click)="cancelSegmentationRow(i)">
                         <i class="fa fa-trash-o" aria-hidden="true" 	style="color: red; font-size: 26px; margin-top: 6px"></i>
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="row col-sm-1" style="margin-left: 32px;">
							<div data-toggle="tooltip" data-placement="left" title="Add a condition">
								<button [disabled]="criterias.length > 5"  (click)="addNewRow()" type="button" class="btn btn-default pull-right">
									<i class="fa fa-plus-square" aria-hidden="true"
										style="color: #0196da"></i>
								</button>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-12 m0" *ngIf="isSegmentationErrorMessage">
						<h4 class="m0" style="color: red; text-align: center;">{{filterConditionErrorMessage}}</h4>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn green" [disabled]="criterias.length === 0"
						(click)="contactFilter()" translate>Submit</button>
					<button type="button" class="btn green"
						(click)="cancelSegmentation()" data-dismiss="modal" translate>Cancel</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- T&C Modal -->
<div class="modal fade" id="tcModal" tabindex="-1" data-backdrop="static" data-keyboard="false"
	role="dialog" aria-labelledby="tcModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-copy" role="document">
		<div class="modal-content" style="top: 100px;">
			<div class="modal-header">
				<h4 class="modal-title f-w-600" id="saveAsModalLabel" translate> Are you sure?</h4>
			</div>
			<div class="modal-body">
			<div>
				<h4 class="modal-title f-w-600" translate>You are agreeing to xAmplify's Terms and Conditions.</h4>
			</div>

			<div class="form-group" style="margin-top: 15px;" *ngIf="isPartner">
			  <input type="checkbox" [(ngModel)]="isCheckTC" [ngModelOptions]="{standalone: true}" name="xamplifyTC" value="tc" checked> <!-- I Agree <a (click)="navigateToTermsAndConditions()">T&C </a>-->
			  By onboarding a partner you confirm that you have read and agree to the <a (click)="navigateToTermsOfUse()" translate>xAmplify Terms of Use</a> and that you agree to the processing of your personal data by xAmplify as described in the <a (click)="navigateToPrivacy()">Privacy Policy</a>. Furthermore, you agree to use xAmplify in compliance with <a (click)="navigateToGDPR()">GDPR</a> and <a (click)="navigateToCCPA()">CCPA</a>.
			  <br>
			</div>

			<div class="form-group" style="margin-top: 15px;" *ngIf="!isPartner">
			  <input type="checkbox" [(ngModel)]="isCheckTC" [ngModelOptions]="{standalone: true}" name="xamplifyTC" value="tc" checked><!--  I Agree <a (click)="navigateToTermsOfUse()">T&C</a> -->
				By adding a contact you confirm that you have read and agree to the <a (click)="navigateToTermsOfUse()">xAmplify Terms of Use</a> and agree to the processing of your personal data by xAmplify as described in the <a (click)="navigateToPrivacy()">Privacy Policy</a>. Furthermore, you agree to use xAmplify in compliance with <a (click)="navigateToGDPR()">GDPR</a> and <a (click)="navigateToCCPA()">CCPA</a>.
			  <br>
			</div>


			<div *ngIf="!isCheckTC" style="color:red" translate>You must agree T&C</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="cancelContacts()" translate>Decline</button>
				<button type="button" [disabled]="!isCheckTC" class="btn btn-primary"
					(click)="saveContactsWithPermission()" translate>Accept</button>
			</div>
		</div>
	</div>
</div>


<app-save-as *ngIf="saveAsListName" [listName]="checkingContactTypeName" [saveAsListName]="saveAsListName" [isPartner]="isPartner"
   [showGDPR]="showGDPR" (notifyParentSaveAs)="closeSaveAsModal()" [gdprInput]="parentInput"></app-save-as>

<!-- <div *ngIf="contactsByType.contactListAssociatedCampaigns?.length && openCampaignModal">
<app-contacts-campaigns-mails [associatedCampaignDetails]="contactsByType.contactListAssociatedCampaigns" [isPartner]="isPartner"
[users]="newUserDetails" [contactListId]="contactListId" (notifyParent)="closeModal($event)"></app-contacts-campaigns-mails>
</div> -->
<app-send-campaigns #sendCampaignComponent></app-send-campaigns>
<!-- END PAGE CONTENT -->
<div class="modal fade right" id="assignContactAndMdfPopup" tabindex="-1" role="dialog" aria-labelledby="assignContactAndMdfPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header" >
                <button type="button" class="close-circle" (click)="closeAssignContactAndMdfAmountPopup()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title popup-header-title-font" *ngIf="mdfAccess" translate>Assign Contacts & MDF Amount</h4>
                <h4 class="modal-title popup-header-title-font" *ngIf="!mdfAccess" translate>Assign Contacts</h4>

            </div>
            <div class="modal-body">
                <app-response-message class="pg8" [customResponse]="contactAndMdfPopupResponse" *ngIf="contactAndMdfPopupResponse.isVisible">
                </app-response-message>
                <div class="table-responsive" >
                    <table class="table tgrid table-hover table-sm" id="assignContactAndTable" aria-describedby="assignContactAndTable">
                        <thead>
                            <tr>
                                <th scope="row" translate>Entity Info</th>
                                <th *ngIf="authenticationService.contactsCount" scope="row" translate>#Contacts
                                     <span id="tooltip-helper">
                                        <i class="fa fa-question-circle" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Assign number of contacts to each partner (Minimum 1)"></i>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let partner of users;let i=index">
                                <tr id="partner-row-{{i}}">
                                    <td>
                                        <app-user-info [isPartnerEntityInfo]="true" [userInfo]="partner">
                                        </app-user-info>
                                    </td>
                                    <td *ngIf="authenticationService.contactsCount" class="contact-count error" id="contact-count-{{i}}">
                                        <input type="number" [(ngModel)]="partner.contactsLimit"  [ngModelOptions]="{standalone: true}"  class="form-control" name="contactsLimit" placeholder="Contacts" min="1" oninput="validity.valid||(value='');">
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>

            <br>
            </div>
            <ngx-loading [show]="processingPartnersLoader" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
            <div class="modal-footer">
                <button type="submit" class="btn green-haze"  (click)="validatePartners()" translate>Save</button>
                <button type="submit" class="btn btn-default" (click)="closeAssignContactAndMdfAmountPopup()" translate>Close</button>
            </div>
        </div>
    </div>
</div>

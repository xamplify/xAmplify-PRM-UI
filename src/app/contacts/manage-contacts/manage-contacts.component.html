<ngx-loading [show]="campaignLoader" [config]="{ backdropBorderRadius: '14px' }" style="padding-bottom:20px"></ngx-loading>
<div class="page-content" [class.ml0]="authenticationService.isSuperAdmin()">
   <div class="page-bar" *ngIf="!showEdit">
      <ul class="page-breadcrumb">
         <li *ngIf="!authenticationService.isSuperAdmin()"><i class="fa fa-home" aria-hidden="true"></i> <a
            [routerLink]="referenceService.homeRouter" translate>Home</a>
            <i class="fa fa-angle-right" aria-hidden="true"></i>
         </li>
         <li *ngIf="authenticationService.isSuperAdmin()"><i class="fa fa-home" aria-hidden="true"></i><a
            [routerLink]="['/home/dashboard/admin-report']" translate>Admin Report</a>
            <i class="fa fa-angle-right" aria-hidden="true"></i>
         </li>
         <li>
            <a (click)="navigateToManageContacts()" translate>
            <!-- Manage 
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span> -->
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            <span>Partner Journey Automation</span>
            </a> 
            <i class="fa fa-angle-right" *ngIf="! showListOfContactList" aria-hidden="true"></i>
         </li>
         <li
            *ngIf="!showListOfContactList && contactsByType.selectedCategory != 'all' && contactsByType.selectedCategory != 'non-active' && contactsByType.selectedCategory != 'invalid' && contactsByType.selectedCategory != 'unsubscribe'">
            <span class="capitalize" translate>{{contactsByType.selectedCategory}}
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            </span>
         </li>
         <li *ngIf="!showListOfContactList && contactsByType.selectedCategory == 'all'">
            <span class="capitalize" translate>All
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            </span>
         </li>
         <li *ngIf="!showListOfContactList && contactsByType.selectedCategory == 'non-active'">
            <span class="capitalize" translate>Unregistered 
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            </span>
         </li>
         <li *ngIf="!showListOfContactList && contactsByType.selectedCategory == 'unsubscribe'">
            <span class="capitalize"  translate>Unsubscribed 
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            </span>
         </li>
         <li *ngIf="!showListOfContactList && contactsByType.selectedCategory == 'invalid'">
            <span class="capitalize" translate>
            <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
            <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span>
            </span>
         </li>
      </ul>
      <div align="right" style="margin-top: 3px;" class="hidden-xs"		 >
		  <a>
		  <button type="button" class="btn Btn-Green" download
			 style="margin-right: 3px;" (click)="goToWorkflow()"
			 [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}"
			 translate>
		  Create Workflow<i class="fa fa-sitemap" aria-hidden="true" style="margin-left: 5px"></i>
		  </button>
		  </a>
	   </div>
   </div>
   <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
   <div id="manageContacts">
      <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
      <div *ngIf="showAll">
         <!-- END PAGE HEADER-->
         <!-- BEGIN PAGE CONTENT-->
         <div>
            <div class="row">
              
                  <!-- Start Tiles here-->
                  <div class="page-bar" style="padding-bottom: 10px;padding-top: 10px;margin-left: 12px;margin-right: 12px;">
                     <app-box-loader [countLoader]=5 *ngIf="activePartnersLoader"></app-box-loader>
                     
                     <!---Active Partners Count-->
                     <div  class="col-sm-4 col-xs-6 col-lg-4 col-md-4" (click)="goToAnalytics()" style="padding-left: 14px;padding-right: 0px;">
                       <a class="dashboard-stat dashboard-stat-lighter yellow-gold" [class.greay]="0!=selectedTabIndex">
                         <div class="visual">
                           <i  style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                             [ngStyle]="{'color': 0===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 0"
                             aria-hidden="true"></i>
                         </div>
                         <div class="details" style="right: 13px !important;">
                           <div class="number">10</div>
                           <div class="desc" title="Active Partner" style="font-size: 13px">Partner Journey Analytics                           
                             <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                           </div>
                         </div>
                         <span id="permhref" class="morePadding">
                           <a class="more"> Detailed view
                             <i class="m-icon-swapright m-icon-white" aria-hidden="true"></i></a>
                         </span>
                       </a>
                     </div>
         
                     <!--Redistributed Campaigns Count-->
                     <app-box-loader [countLoader]=5 *ngIf="redistributedCampaignsCountLoader"></app-box-loader>
                     <div *ngIf="!redistributedCampaignsCountLoader" class="col-sm-4 col-xs-6 col-lg-4 col-md-4" style="padding-right: 0px;">
                       <a class="dashboard-stat dashboard-stat-lighter purple-soft" [class.greay]="2!=selectedTabIndex"
                         (click)="goToReDistributedPartnersDiv()">
                         <div class="visual">
                           <i *ngIf="selectedTabIndex == 2" class="fa fa-check-circle"
                             style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                             [ngStyle]="{'color': 2===selectedTabIndex ? '#white' : '#ccc' }" aria-hidden="true">
                           </i>
                         </div>
                         <div class="details" style="right: 13px !important;">
                           <div class="number"><span *ngIf="redistributedCampaignsCount">{{redistributedCampaignsCount}}</span><span
                               *ngIf="!redistributedCampaignsCount">100</span></div>
                           <div class="desc mlabelWidth" style="font-size: 13px">Triggers</div>
                         </div>
                         <span id="permhref" class="morePadding">
                           <a class="more" (click)="goToReDistributedPartnersDiv()"> Detailed view <i
                               class="m-icon-swapright m-icon-white" aria-hidden="true"></i></a>
                         </span>
                       </a>
                     </div>
         
                     <!--Through Partner Campaigns Count-->
                     <app-box-loader [countLoader]=5 *ngIf="throughPartnerCampaignsCountLoader"></app-box-loader>
                     <div *ngIf="!throughPartnerCampaignsCountLoader" class="col-sm-4 col-xs-6 col-lg-4 col-md-4">
                       <a class="dashboard-stat dashboard-stat-lighter green-soft" [class.greay]="3!=selectedTabIndex"
                         (click)="goToThroughPartnersDiv()">
                         <div class="visual">
                           <i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                             [ngStyle]="{'color': 3===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 3"
                             aria-hidden="true"></i>
                         </div>
                         <div class="details" style="right: 13px !important;">
                           <div class="number">63</div>
                           <div class="desc" style="font-size:13px" title="{{throughPartnerCampaignsTabName}}">
                             Email Notifications
                             <span *ngIf="throughPartnerCampaignsTabName?.length>20">...</span>
                           </div>
                         </div>
                         <span id="permhref" class="morePadding">
                           <a class="more" (click)="goToThroughPartnersDiv()"> Detailed view
                             <i class="m-icon-swapright m-icon-white" aria-hidden="true"></i></a>
                         </span>
                       </a>
                     </div>
         
                     <!--InActive Partner Campaigns Count-->
                     <!-- <app-box-loader [countLoader]=5 *ngIf="inActivePartnersCountLoader"></app-box-loader>
                     <div *ngIf="!inActivePartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2  pr0 col-sm-5ths" (click)="goToInActivePartnersDiv()">
                       <a class="dashboard-stat dashboard-stat-lighter blue-soft" [class.greay]="1!=selectedTabIndex">
                         <div class="visual">
                           <i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                             [ngStyle]="{'color': 1===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 1"
                             aria-hidden="true"></i>
                         </div>
                         <div class="details">
                           <div class="number">25</div>
                           <div class="desc" title="{{authenticationService?.partnerModule?.customName}}" style="font-size: 13px">
                             Modal Notifications
                             <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                           </div>
                         </div>
                         <span id="permhref" class="morePadding">
                           <a class="more" (click)="goToInActivePartnersDiv()"> Detailed view
                             <i class="m-icon-swapright m-icon-white" aria-hidden="true"></i></a>
                         </span>
                       </a>
                     </div> -->
         
                     <!--Active Partner Campaigns Count-->
                     <!-- <app-box-loader [countLoader]=5 *ngIf="approvePartnersCountLoader"></app-box-loader>
                     <div *ngIf="!approvePartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2 pr0 col-sm-5ths" (click)="goToApprovePartnersDiv()">
                       <a class="dashboard-stat dashboard-stat-lighter red-soft" [class.greay]="5!=selectedTabIndex">
                         <div class="visual">
                           <i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                             [ngStyle]="{'color': 5===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 5"
                             aria-hidden="true"></i>
                         </div>
                         <div class="details">
                           <div class="number">12</div>
                           <div class="desc" title="Approve {{authenticationService?.partnerModule?.customName}}" style="font-size: 13px">
                            Standard Notifications
                             <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                           </div>
                         </div>
                         <span id="permhref" class="morePadding">
                           <a class="more" (click)="goToApprovePartnersDiv()"> Detailed view
                             <i class="m-icon-swapright m-icon-white" aria-hidden="true"></i></a>
                         </span>
                       </a>
                     </div> -->
         
                   </div>
         <!-- End tile here-->
         <div [ngClass]="{'page-bar p10': showListOfContactList}" style="margin-left: 12px;margin-right: 12px;">
            <div class="tab-content" [ngStyle]="{'min-height':showListOfContactList? '': ''}">
               <div class="tab-pane active" >
                  <div class="clearfix"></div>
                  <!-- Remove Tiles here-->
                  <span *ngIf="iszohoAccessTokenExpired">
                     <h4>{{zohoExpiredAccessTokenMessage}}<a
                        (click)="zohoAuthenticationThroughExpiredAccessTokenMessage('zoho')"
                        class="badge badge-primary"> ReLogin</a></h4>
                  </span>
                  <div [className]="checkingContactTypeName=='Contact' ? 'row':'m0' " *ngIf="showListOfContactList">
                  <div [className]="checkingContactTypeName=='Contact' ? 'colxs-12 col-sm-12 col-md-6':''">
                     <ul *ngIf="checkingContactTypeName=='Contact'" class="mix-filter">
                        <li class="filter" (click)="filterContacts('MY-CONTACTS',0)" [class.contact-filter-selected]="0 == selectedFilterIndex" translate>My Contacts</li>
                        <li class="filter" (click)="filterContacts('FORM-LEADS',1)" [class.contact-filter-selected]="1 == selectedFilterIndex" translate>Form Contacts</li>
                        <li class="filter" (click)="filterContacts('ALL',2)" [class.contact-filter-selected]="2 == selectedFilterIndex" translate>All</li>
                     </ul>
                     <ul class="page-breadcrumb" *ngIf="checkingContactTypeName!='Contact'">
                        <!-- <li id="header-custom-li-font" translate *ngIf="checkingContactTypeName=='Partner'">
                           Your {{authenticationService?.partnerModule?.customName}} Lists
                        </li> -->
                        <li id="header-custom-li-font">Workflow Triggers</li>
                        <li id="header-custom-li-font" translate *ngIf="checkingContactTypeName!='Partner'">
                           Your {{checkingContactTypeName}} Lists
                        </li>
                     </ul>
                  </div>
                  <div [className]="checkingContactTypeName=='Contact' ? 'col-xs-12 col-sm-6 col-lg-6 pb6':'col-xs-12 col-sm-6 col-lg-6 p0 pull-right'" >
                     <div class="btn-group pull-right">
                        <ng-container class='m10'> 
                           <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" ng
                           data-placement="bottom" style="margin-right: 10px;" title="List View" [class.disabled]="isListView"
                           (click)="isListView = true"><i class="fa fa-th-list p10" aria-hidden="true"></i></span>
                           <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" data-placement="bottom"
                           title="Grid View" [class.disabled]="!isListView || showExpandButton"
                           (click)="isListView = false"><i class="fa fa-th-large p10" aria-hidden="true"></i></span>
                        </ng-container>
                        <div class="inputs sort-class pb5" style="display: flex;">
                           <div
                              [ngClass]="{'search-css': !referenceService.isMobileScreenSize(), 'mobile-css':referenceService.isMobileScreenSize() }">
                              <select class="form-control" [(ngModel)]="sortOption"
                              (ngModelChange)="sortByOption($event, 'contactList')">
                              <ng-container *ngFor="let sort of sortOptions; let i = index">
                                 <option *ngIf="i == 0" [ngValue]="sort">{{sort.name}}</option>
                                 <option *ngIf="sort.for == 'contactList'" [ngValue]="sort">{{sort.name}}</option>
                                 <option *ngIf="sort.for == 'shareLeadsList'" [ngValue]="sort">{{sort.name}}</option>
                              </ng-container>
                              </select>
                           </div>
                           <div class="portlet-input input-inline search-class"
                              [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
                              <div class="input-icon right">
                                 <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}"
                                 (input)="searchKeyValue('contactList')" class="form-control"
                                 placeholder="Search for a list" (keypress)="eventHandler($event.keyCode, 'contactList')">
                                 <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey"
                                 (click)="searchKey='';search('contactList')"></button>
                                 <button type="submit" class="search-box-item-click" (click)="search('contactList')">
                                 <i class="fa fa-search" aria-hidden="true"></i>
                                 </button>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row mr0 ml0">
                  <div class="">
                     <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible">
                     </app-response-message>
                     <app-response-message [customResponse]="emailNotificationCustomResponse" *ngIf="emailNotificationCustomResponse.isVisible">
                     </app-response-message>
                  </div>
               </div>
               <!-- END DASHBOARD STATS -->
               <div class="clearfix"></div>
            </div>
            <!-- END FILTER -->
            <section class="col-xs-12 p0" *ngIf="showListOfContactList">
               <div class="clearfix">
                  <app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
                  <app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
               </div>
               <section [hidden]="!isListView" [ngStyle]="{'margin-top' : !isListView ? '-8px' : '-5px'}"
               *ngIf="pagination.pagedItems?.length != 0 && !httpRequestLoader.isLoading">
               <div class="table-responsive pt5"  [ngClass]="{'success': customResponse.responseType == 'SUCCESS'}">
                  <table class='table tgrid' id="partner_contact_list" aria-describedby="">
                     <thead>
                        <tr>
                           <th scope="col" class="hidden-xs" *ngIf="showExpandButton"></th>
                           <th scope="col" class="hidden-xs" colspan="2" style="width: 35%">
                              <span class="ui-column-resizer"
                                 (mousedown)="referenceService.onMouseDown($event,'partner_contact_list',2)"> </span>
                              <span class="gridHeader" translate>Triggers</span>
                           </th>
                           <th scope="col" class="visible-xs" colspan="1" style="width: 35%" translate>
                              List Info
                           </th>
                           <th scope="col" class="hidden-xs" [hidden]="!assignLeads" translate><span
                              [hidden]="!assignLeads">status</span></th>
                           <th scope="col" class="hidden-xs" [hidden]="isPartner || assignLeads" translate><span
                              [hidden]="isPartner || assignLeads">Type</span></th>
                           <th scope="col" class="hidden-xs" [hidden]="assignLeads" translate><span [hidden]="assignLeads">Created
                              On</span>
                           </th>
                           <th scope="col" class="hidden-xs" translate [hidden]="!assignLeads"><span
                              [hidden]="!assignLeads">Date</span></th>
                           <th scope="col" class="text-center hidden-xs" translate *ngIf="checkingContactTypeName=='Partner'">
                              Trigger Hits
                           </th>
                           <th scope="col" class="text-center hidden-xs" translate *ngIf="checkingContactTypeName!='Partner'">
                              Total <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s</span> 
                           </th>
                           <th scope="col" class="text-center" style="width:27%" *ngIf="!authenticationService.isSuperAdmin()"
                              translate>Actions</th>
                        </tr>
                     </thead>
                     <tbody>
                        <ng-container *ngFor="let contactList of pagination.pagedItems ;let i =index">
                           <!-- XNFR-211 -->
                           <tr [class.isProcessing]="contactList.uploadInProgress || contactList.validationInProgress || !contactList.emailValidationInd">
                              <td class="cw" *ngIf="showExpandButton">
                                 <div class="actions-block left-float">
                                    <a (click)="viewMatchedContacts(contactList)" title="Matched Results">
                                    <i class="fa"
                                       [ngClass]="{'fa-angle-right': !contactList.expand, 'fa-angle-down': contactList.expand}"
                                       aria-hidden="true"></i>
                                    </a>
                                 </div>
                              </td>
                              <td style="width: 10%;" class="hidden-xs">
                                 <!-- <img *ngIf="contactList.socialNetwork=='ZOHO' && contactList.synchronisedList" src="{{properties?.zohoImage}}"
                                    alt="zoho" style="height: 70px;">
                                 <img *ngIf="contactList.socialNetwork=='GOOGLE' && contactList.synchronisedList" src="{{properties?.googleImage}}"
                                    alt="google" style="height: 70px;">
                                 <img *ngIf="contactList.socialNetwork=='SALESFORCE' && contactList.synchronisedList"
                                    src="{{properties?.salesforceImage}}" alt="salesforce" style="height: 70px;"> <img
                                    *ngIf="contactList.socialNetwork=='MANUAL' || !contactList.synchronisedList" src="{{properties?.manualImage}}"
                                    alt="manual" style="height: 54px;">
                                 <img *ngIf="contactList.socialNetwork=='HUBSPOT' && contactList.synchronisedList" src="{{properties?.hubspotImage}}"
                                    alt="manual" style="height: 70px;">
                                 <img *ngIf="contactList.socialNetwork=='MICROSOFT' && contactList.synchronisedList" src="{{properties?.microsoftImage}}"
                                    alt="manual" style="height: 70px;">
                                 <img *ngIf="contactList.socialNetwork=='PIPEDRIVE' && contactList.synchronisedList" src="{{properties?.pipedriveImage}}"
                                    alt="manual" style="height: 54px;">
                                 <img *ngIf="contactList.socialNetwork=='MARKETO' && contactList.synchronisedList" src="{{properties?.marketoImage}}"
                                    alt="manual" style="height: 70px;"> -->
                                 <!-- XNFR-211 -->
                                 <!-- <img
                                    *ngIf="contactList.uploadInProgress || contactList.validationInProgress || ((!contactList.marketoMasterList && !contactList.emailValidationInd) || (contactList.marketoMasterList && (!contactList.marketoSyncComplete || !contactList.emailValidationInd)))"
                                    src="assets/images/Spinner.gif"
                                    style="width: 55px; margin-top: -88px; margin-left: 17px;" alt=""> -->
                                    <img src="assets/images/trigger.png" style="height: 64px;" alt="manual">
                              </td>
                              <td>
                                 <h4 class="moreipsis" title="{{contactList.name}}">
                                    <span> {{contactList.name}}</span>
                                 </h4>
                                 <h5 class='m0 ellipsis' title="{{contactList.uploadedBy}}" translate>
                                    By <span class='f-w-400'>{{contactList.uploadedBy
                                    | slice:0:50}} <span *ngIf="contactList.uploadedBy?.length>50">...</span>
                                    </span>
                                 </h5>
                                 <h5 class="mb0 ellipsis" title="{{contactList.companyName}}">
                                    <strong>{{contactList.companyName | slice:0:50}}</strong> <span
                                       *ngIf="contactList.companyName?.length>50">...</span>
                                    <h5 class="mb0 ellipsis hidden-sm hidden-md hidden-lg">
                                       <span class="mb0"
                                          *ngIf="(!contactList.marketoMasterList && contactList.emailValidationInd) || (contactList.marketoMasterList && contactList.marketoSyncComplete && contactList.emailValidationInd)"
                                          translate>
                                       Total <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}:</span>
                                       <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s:</span>  
                                       {{contactList.noOfContacts}}</span>
                                       <span
                                          *ngIf="(!contactList.marketoMasterList && !contactList.emailValidationInd) || (contactList.marketoMasterList && (!contactList.marketoSyncComplete || !contactList.emailValidationInd))">
                                       <strong>-</strong></span>
                                       <br> <span class="mb0" translate> Created
                                       On:<app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.createdDate">
                                       </app-timestamp>
                                       </span>
                                    </h5>
                                 </h5>
                                 <h5 style=" position: relative;top: 10px;text-align: left;"
                                    *ngIf="contactList.moduleName=='SHARE LEADS' && !assignLeads">
                                    <span class="view-banner" data-toggle="tooltip" data-placement="top"
                                       title="assigned status" translate>Shared
                                    leads list</span>
                                 </h5>
                              </td>
                              <td class="hidden-xs" *ngIf="assignLeads" style="text-align: center;">
                                 <h5 class="view-banner" style="width: 90%;"
                                    *ngIf="contactList?.assignedLeadsList && contactList.assignedToPartner">
                                    <span data-toggle="tooltip" data-placement="top" title="assigned status"
                                       translate>Assigned</span>
                                 </h5>
                                 <h5 class="view-banner" style="width: 90%;"
                                    style="background-color: orange; width: 90%;"
                                    *ngIf="contactList?.assignedLeadsList && !contactList.assignedToPartner">
                                    <span data-toggle="tooltip" data-placement="top" title="assigned status" translate>Not
                                    Assigned</span>
                                 </h5>
                                 <h6 title="{{contactList.partnerCompanyName}}" *ngIf="contactList?.assignedLeadsList && contactList.assignedToPartner" style="text-align:center" translate>
                                    Shared To: <strong>{{contactList.partnerCompanyName | slice:0:7}}</strong>
                                    <span *ngIf="contactList.partnerCompanyName?.length>7">...</span>
                                 </h6>
                                 <h5>
                                    <a  *ngIf="contactList?.assignedLeadsList && contactList.assignedToPartner"
                                    data-toggle="tooltip" data-placement="top"
                                     title="Preview" (click)="selectedContactListId=contactList.id ; showListSharedDetails()"> 
                                    <i class="fa fa-eye table-eye-circle" aria-hidden="true"></i>
                                    </a>
                                 </h5>
                              </td>
                              <td class="hidden-xs" *ngIf="!assignLeads && !isPartner">
                                 <h5 class="view-banner" *ngIf="!contactList?.partnerUserList" [hidden]="assignLeads">
                                 <span *ngIf="contactList.publicList" data-toggle="tooltip" data-placement="top"
                                    title="{{actionsDescription.contact_list_public}}" translate>Public</span>
                                 <span *ngIf="!contactList.publicList" data-toggle="tooltip" data-placement="top"
                                    title="{{actionsDescription.contact_list_private}}" translate>Private</span>
                                 </h5>
                                 <h5 class="view-banner view-banner-green" *ngIf="!contactList?.partnerUserList && contactList?.formList"
                                 [hidden]="assignLeads">
                                 <span data-toggle="tooltip" data-placement="top"
                                    title="This list is associated with a form." translate>Form Contact List</span>
                                 </h5>
                              </td>
                              <td class="hidden-xs" *ngIf="!assignLeads">
                                 <app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.createdDate">
                                 </app-timestamp>
                              </td>
                              <td class="hidden-xs" *ngIf="assignLeads">
                                 <div>Created On: <b>
                                    <app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.createdDate">
                                    </app-timestamp>
                                    </b>
                                 </div>
                                 <div>Assigned On:
                                    <b>
                                    <app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.assignedDate">
                                    </app-timestamp>
                                    </b>
                                 </div>
                              </td>
                              <td class="text-center hidden-xs">
                                 <span
                                    *ngIf="(!contactList.marketoMasterList && contactList.emailValidationInd) || (contactList.marketoMasterList && contactList.marketoSyncComplete && contactList.emailValidationInd)">
                                 {{contactList.noOfContacts}}</span>
                                 <span
                                    *ngIf="(!contactList.marketoMasterList && !contactList.emailValidationInd) || (contactList.marketoMasterList && (!contactList.marketoSyncComplete || !contactList.emailValidationInd))">
                                 <strong>-</strong></span>
                              </td>
                              <!-- XNFR-211 -->
                              <td *ngIf="!authenticationService.isSuperAdmin()">
                                 <div class="actions-block override-actions" style="float:none !important;"
                                    *ngIf="!contactList.uploadInProgress && !contactList.validationInProgress && ((!contactList.marketoMasterList && contactList.emailValidationInd) || (contactList.marketoMasterList && contactList.marketoSyncComplete && contactList.emailValidationInd))">
                                    <a *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || (hasContactRole) || authenticationService.isOnlyPartner()
                                    || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId))
                                    && !contactList.defaultPartnerList && !contactList.marketoMasterList && (contactList.moduleName=='SHARE LEADS' && assignLeads && !contactList.assignedToPartner)"
                                    data-toggle="tooltip" data-placement="top"
                                    (click)="goToWorkflow()"
                                    title="{{actionsDescription.leads_list_share}}"> <i class="fa fa-share" aria-hidden="true"></i>
                                    </a> <a [class.disabled]="contactList.noOfContacts == 0 "
                                    *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || (authenticationService.module.isPartner && loggedInUserId==contactList.uploadedUserId) || authenticationService.isPartner() ||
                                    (hasPartnersRole && loggedInUserId==contactList.uploadedUserId) || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId) || (hasContactRole && loggedInUserId == contactList.uploadedUserId)) && !contactList.synchronisedList && ((assignLeads && !contactList.assignedToPartner) || (!sharedLeads && contactList.moduleName!='SHARE LEADS'))"
                                    (click)="goToWorkflow()"
                                    data-toggle="tooltip" data-placement="top"
                                    title="{{actionsDescription.contact_list_edit}}">
                                    <i  class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    </a> 
                                    <ng-container *ngIf="!authenticationService?.module?.deletedPartner">
                                       <a
                                       *ngIf="!hasAllAccess && !authenticationService.isPartner() && loggedInUserId != contactList.uploadedUserId && !authenticationService.module.isVendor || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember  || authenticationService.module.isVendorTier ||
                                       contactList.synchronisedList || ((sharedLeads)  || (assignLeads && contactList.assignedToPartner))"
                                       (click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList,contactList.synchronisedList, contactList.formList,contactList.teamMemberPartnerList);setListType(contactList.publicList,contactList?.contactType, contactList?.assignedToPartner);"
                                       data-toggle="tooltip" data-placement="top"
                                       title="{{actionsDescription.contact_list_info}}"> <i class="fa fa-info" aria-hidden="true"></i>
                                       </a> 
                                    </ng-container>
                                    <a [class.disabled]="contactList.noOfContacts == 0 " data-toggle="tooltip"  data-placement="top"
                                    *ngIf="(assignLeads || !sharedLeads) && !authenticationService?.module?.deletedPartner"
                                    title="{{actionsDescription.contact_list_saveAs}}"
                                    (click)="saveAsNewList(contactList)">
                                    <i class="fa fa-files-o" aria-hidden="true"></i>
                                    </a> 
                                    <a [class.disabled]="contactList.noOfContacts == 0 " *ngIf="assignLeads || showDownloadOptionForSharedLeads"
                                    (click)="hasDownLoadAccess(contactList.id, contactList.name)" data-toggle="tooltip"
                                    data-placement="top" title="{{actionsDescription.contact_list_download}}"
                                    data-rel="fancybox-button"> 
                                    <i class="fa fa-download" aria-hidden="true"></i>
                                    </a> 
                                    <span
                                       *ngIf="((contactList.moduleName=='SHARE LEADS' && assignLeads && !contactList.assignedToPartner&&contactList.synchronisedList) ||(contactList.moduleName!='SHARE LEADS'&&contactList.synchronisedList == true) || contactList.marketoMasterList == true) && !authenticationService?.module?.deletedPartner">
                                    <a data-toggle="tooltip" data-placement="top"
                                    title="{{actionsDescription.contact_list_synchronize}}" 
                                    [class.disabled]= "(!contactList.emailValidationInd) || ((contactList.socialNetwork=='GOOGLE' || contactList.socialNetwork=='SALESFORCE' || contactList.socialNetwork=='ZOHO' )&& (loggedInUserId != contactList.uploadedUserId))"                      
                                    *ngIf="hasAllAccess || authenticationService.module.isVendor || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember  || authenticationService.module.isVendorTier || authenticationService.vanityURLEnabled == true  || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || contactList.synchronisedList"
                                    (click)="synchronizeContactList(contactList)">
                                    <i class="fa fa-refresh" aria-hidden="true"></i>
                                    </a>
                                    </span> 
                                    <!---XNFR-81----->
                                    <ng-container *ngIf="contactList.name!=properties?.activeMasterPartnerList && contactList.name!=properties?.inActiveMasterPartnerList  && !contactList?.teamMemberPartnerList">
                                       <a
                                       *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || authenticationService.isOnlyPartner() || (hasPartnersRole && loggedInUserId==contactList.uploadedUserId)
                                       || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId))
                                       && !contactList.defaultPartnerList && !contactList.marketoMasterList && ((assignLeads) || (!sharedLeads && contactList.moduleName!='SHARE LEADS') && !contactList.formList)"
                                       (click)="showAlert(contactList.id)" data-toggle="tooltip" data-placement="top"
                                       title="{{actionsDescription.contact_list_delete}}">
                                       <i class="fa fa-trash-o" aria-hidden="true"></i>
                                       </a>
                                    </ng-container>
                                    <a *ngIf="(!authenticationService.module.isPrm && !authenticationService.module.isPrmTeamMember && !authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember) && !assignLeads && !sharedLeads
                                    && (authenticationService.module.isCampaign || authenticationService.module.isReDistribution) && contactList?.noOfContacts>0 && !authenticationService?.module?.deletedPartner"
                                    data-toggle="tooltip" data-placement="top"
                                    (click)="openPopUpForNewlyAddedPartnersOrContacts(contactList)"
                                    title="Notification"> <i class="icon-bell"
                                       aria-hidden="true"></i>
                                    </a>
                                 </div>
                                 <div class="actions-block override-actions"
                                    *ngIf="!contactList.uploadInProgress && !contactList.validationInProgress && ((contactList.socialNetwork=='MARKETO' && contactList.synchronisedList && contactList.marketoSyncComplete && !contactList.emailValidationInd)
                                    ||  (contactList.socialNetwork!='MARKETO' && contactList.synchronisedList  && !contactList.emailValidationInd)
                                    || (!contactList.synchronisedList  && !contactList.emailValidationInd))" >
                                    <a data-toggle="tooltip" data-placement="top" title="Force process the list"
                                       (click)="forceProcessList(contactList.id)">
                                    <i class="fa fa-repeat" aria-hidden="true"></i>
                                    </a>
                                 </div>
                                 <div class="actions-block actions-msg" *ngIf="contactList.uploadInProgress">Uploading...</div>
                                 <div class="actions-block actions-msg" *ngIf="contactList.validationInProgress">Validating Email IDs...</div>
                              </td>
                           </tr>
                           <tr *ngIf="contactList?.expand">
                              <td colspan="12">
                                 <app-userlist-users [searchKey]="pagination.searchKey" [userListId]="contactList.id">
                                 </app-userlist-users>
                              </td>
                           </tr>
                        </ng-container>
                     </tbody>
                  </table>
               </div>
            </section>
            <div class="row mix-grid" [hidden]="isListView" [ngStyle]="{'margin-top' : isListView ? '-5px' : '-8px'}"
            *ngIf="pagination.pagedItems && !httpRequestLoader.isLoading">
            <div *ngFor="let contactList of pagination.pagedItems" class="col-xs-12 col-sm-4 col-lg-3">
               <div class="grid-box mp-pt-carrdtop" id="contactListDiv_{{contactList.id}}">
                  <img alt="" class="imageClassCss"  *ngIf="contactList.socialNetwork=='MANUAL' || !contactList.synchronisedList" src="{{properties?.manualImage}}"> 
                  <img alt="" class="imageClassCss"  *ngIf="contactList.socialNetwork=='ZOHO' && contactList.synchronisedList" src="{{properties?.zohoImage}}"> 
                  <img alt=""  class="imageClassCss" *ngIf="contactList.socialNetwork=='GOOGLE' && contactList.synchronisedList"   src="{{properties?.googleImage}}">
                  <img class="imageClassCss" alt=""    *ngIf="contactList.socialNetwork=='SALESFORCE' && contactList.synchronisedList" src="{{properties?.salesforceImage}}">
                  <img alt="" class="imageClassCss" *ngIf="contactList.socialNetwork=='HUBSPOT' && contactList.synchronisedList"  src="{{properties?.hubspotImage}}">
                  <img alt="" class="imageClassCss" *ngIf="contactList.socialNetwork=='MICROSOFT' && contactList.synchronisedList"  src="{{properties?.microsoftImage}}">
                  <img alt="" class="imageClassCss" *ngIf="contactList.socialNetwork=='PIPEDRIVE' && contactList.synchronisedList"  src="{{properties?.pipedriveImage}}">
                  <img class="imageClassCss" *ngIf="contactList.socialNetwork=='MARKETO' && contactList.synchronisedList"  src="{{properties?.marketoImage}}" alt="manual" style="height: 60px;">
                  <div id="container"
                     *ngIf="contactList.uploadInProgress || contactList.validationInProgress || (!contactList.marketoMasterList && !contactList.emailValidationInd) || (contactList.marketoMasterList && (!contactList.marketoSyncComplete || !contactList.emailValidationInd))">
                     <h3 translate style="font-size: 14px;">
                        processing<span class="arrow">
                        <img alt="" src="assets/images/Spinner.gif" class="loaderGif" style="margin-top: 77px;">
                        </span>
                     </h3>
                  </div>
                  <div id="container" *ngIf="contactList.moduleName=='SHARE LEADS' && !assignLeads">
                     <h3 translate style="font-size: 14px;">
                        Shared leads list
                        <span class="arrow"></span>
                     </h3>
                  </div>
                  <h4 class="ellipsis" title="{{contactList.name}}" style="float:none !important">
                     {{contactList.name | slice:0:25}} <span *ngIf="contactList.name?.length>25">...</span>
                  </h4>
                  <span class="view-banner" *ngIf="assignLeads && contactList?.assignedLeadsList && contactList.assignedToPartner" style="position: relative;top: -3px;" translate>Assigned</span>
                  <span class="view-banner" *ngIf="assignLeads && contactList?.assignedLeadsList && !contactList.assignedToPartner" style="position: relative;top: -3px;background-color: orange;" translate>Not Assigned</span>
                  <h6 class="mt10 mb0 ellipsis" title="{{contactList.uploadedBy}}">
                     By {{contactList.uploadedBy | slice:0:30}} <span
                        *ngIf="contactList.uploadedBy?.length>30">...</span>
                  </h6>
                  <h6 class="mt0 ellipsis" title="{{contactList.companyName}}">
                     <b>{{contactList.companyName | slice:0:30}}</b> <span
                        *ngIf="contactList.companyName?.length>30">...</span>
                  </h6>
                  <h6 class="mt10 mb0"
                     *ngIf="(!contactList.marketoMasterList && contactList.emailValidationInd) || (contactList.marketoMasterList && contactList.marketoSyncComplete && contactList.emailValidationInd)"
                     translate>Total 
                     <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}:</span>
                     <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s:</span>  {{contactList.noOfContacts}}
                  </h6>
                  <h6 *ngIf="(!contactList.marketoMasterList && !contactList.emailValidationInd) || (contactList.marketoMasterList && (!contactList.marketoSyncComplete || !contactList.emailValidationInd))"
                     translate> Total <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}:</span>
                     <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s:</span> 
                     <strong>-</strong>
                  </h6>
                  <h6 class="mt10 mb0" translate>
                     Created date: 
                     <app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.createdDate"> </app-timestamp>
                  </h6>
                  <h6 class="mt10 mb0" translate *ngIf="assignLeads">
                     Assigned On: 
                     <app-timestamp [isOnlyDate]="true" [dateAndTime]="contactList.assignedDate"> </app-timestamp>
                  </h6>
                  <!--  -->
                  <td class="hidden-xs" *ngIf="!isPartner&& !assignLeads">
                     <h6 class="mt10 mb0 ellipsis"  translate>
                        Type:
                        <span *ngIf="contactList.publicList" data-toggle="tooltip" data-placement="top"
                           title="{{actionsDescription.contact_list_public}}"><strong translate>Public</strong></span>
                        <span *ngIf="!contactList.publicList" data-toggle="tooltip" data-placement="top"
                           title="{{actionsDescription.contact_list_private}}"><strong translate>Private</strong></span>
                        <span *ngIf="contactList?.formList" data-toggle="tooltip" data-placement="top"
                           title="{{actionsDescription.contact_list_private}}"><strong translate>, Form Contact List</strong></span>
                     </h6>
                  </td>
                  <!--  -->
                  <div class="bar" 
                     *ngIf="!contactList.uploadInProgress && !contactList.validationInProgress && !authenticationService.isSuperAdmin() && ((!contactList.marketoMasterList && contactList.emailValidationInd) || (contactList.marketoMasterList && contactList.marketoSyncComplete && contactList.emailValidationInd))">
                     <a *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || (hasContactRole) || authenticationService.isOnlyPartner()
                     || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId))
                     && !contactList.defaultPartnerList && !contactList.marketoMasterList && (contactList.moduleName=='SHARE LEADS' && assignLeads && !contactList.assignedToPartner)"
                     data-toggle="tooltip" data-placement="top"
                     (click)="storeListDetails(contactList);openShareListPopup(contactList)"
                     title="{{actionsDescription.leads_list_share}}"> <i class="fa fa-share" aria-hidden="true"></i>
                     </a>
                     <a  [class.disabled]="!contactList.emailValidationInd || contactList.noOfContacts == 0"
                     *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || (authenticationService.module.isPartner && loggedInUserId==contactList.uploadedUserId) || authenticationService.isPartner() ||
                     (hasPartnersRole && loggedInUserId==contactList.uploadedUserId) || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId) || (hasContactRole && loggedInUserId == contactList.uploadedUserId)) && !contactList.synchronisedList && ((assignLeads && !contactList.assignedToPartner) || (!sharedLeads && contactList.moduleName!='SHARE LEADS'))"
                     (click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList,contactList.synchronisedList, contactList.formList,contactList.teamMemberPartnerList);setListType(contactList.publicList)"
                     data-toggle="tooltip" data-placement="top" title="{{actionsDescription.contact_list_edit}}"
                     data-rel="fancybox-button"> <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                     </a> 
                     <ng-container *ngIf="!authenticationService?.module?.deletedPartner">
                        <a [class.disabled]="!contactList.emailValidationInd" style=""
                        *ngIf="(!hasAllAccess && !authenticationService.isPartner() && loggedInUserId != contactList.uploadedUserId && !authenticationService.module.isVendor || authenticationService.module.isPrm  || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier) || contactList.synchronisedList
                        || ((sharedLeads)  || (assignLeads && contactList.assignedToPartner))"
                        (click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList,contactList.synchronisedList, contactList.formList,contactList.teamMemberPartnerList);setListType(contactList.publicList,contactList?.contactType, contactList?.assignedToPartner);"
                        data-toggle="tooltip" data-placement="top" title="{{actionsDescription.contact_list_info}}"
                        data-rel="fancybox-button"> 
                        <i class="fa fa-info" style="color: white;" aria-hidden="true"></i>
                        </a> 
                     </ng-container>
                     <a data-toggle="tooltip" data-placement="top"
                     *ngIf="(assignLeads || !sharedLeads) && !authenticationService?.module?.deletedPartner"
                     title="{{actionsDescription.contact_list_saveAs}}"
                     (click)="saveAsNewList(contactList)"
                     [class.disabled]="!contactList.emailValidationInd || contactList.noOfContacts == 0"
                     data-rel="fancybox-button" style="left: 60%;"> <i class="fa fa-files-o" aria-hidden="true"
                        style="color: white;"></i>
                     </a> <a [class.disabled]="!contactList.emailValidationInd || contactList.noOfContacts == 0" 
                     (click)="hasDownLoadAccess(contactList.id, contactList.name)"
                     *ngIf="assignLeads || showDownloadOptionForSharedLeads"
                     data-toggle="tooltip" data-placement="top"
                     title="{{actionsDescription.contact_list_download}}" data-rel="fancybox-button">
                     <i class="fa fa-download" aria-hidden="true"></i>
                     </a>
                     <ng-container
                        *ngIf="((contactList.moduleName=='SHARE LEADS' && assignLeads && !contactList.assignedToPartner&&contactList.synchronisedList) ||(contactList.moduleName!='SHARE LEADS'&&contactList.synchronisedList == true) || contactList.marketoMasterList == true) && !authenticationService?.module?.deletedPartner">
                        <a data-toggle="tooltip" data-placement="top" 
                        title="{{actionsDescription.contact_list_synchronize}}"
                        [class.disabled]= "(!contactList.emailValidationInd) || ((contactList.socialNetwork=='GOOGLE' || contactList.socialNetwork=='SALESFORCE' || contactList.socialNetwork=='ZOHO' )&& (loggedInUserId != contactList.uploadedUserId))"
                        *ngIf="hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isVendorTier || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || contactList.synchronisedList"
                        (click)="synchronizeContactList(contactList)"
                        data-rel="fancybox-button" style="left: 18%; top: -20px;">
                        <i class="fa fa-refresh" aria-hidden="true" style="color: white;"></i>
                        </a>
                     </ng-container>
                     <!---XNFR-81----->
                     <ng-container *ngIf="contactList.name!=properties?.activeMasterPartnerList && contactList.name!=properties?.inActiveMasterPartnerList && !contactList?.teamMemberPartnerList">
                        <a [class.disabled]="!contactList.emailValidationInd || contactList.marketoMasterList" style=""
                        *ngIf="(hasAllAccess || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || authenticationService.isOnlyPartner() || (hasPartnersRole && loggedInUserId==contactList.uploadedUserId)
                        || (hasShareLeadsRole && loggedInUserId == contactList.uploadedUserId))
                        && !contactList.defaultPartnerList && !contactList.marketoMasterList && ((assignLeads) || (!sharedLeads && contactList.moduleName!='SHARE LEADS') && !contactList.formList)"
                        (click)="showAlert(contactList.id)" data-toggle="tooltip" data-placement="top"
                        title="{{actionsDescription.contact_list_delete}}" data-rel="fancybox-button" lang="{{contactList.id}}"> <i
                           class="fa fa-trash-o" aria-hidden="true"></i>
                        </a>
                     </ng-container>
                     <a *ngIf="(!authenticationService.module.isPrm && !authenticationService.module.isPrmTeamMember && !authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember) && !assignLeads 
                     && !sharedLeads && (authenticationService.module.isCampaign || authenticationService.module.isReDistribution) && contactList?.noOfContacts>0 && !authenticationService?.module?.deletedPartner"
                     data-toggle="tooltip" data-placement="top" style=""
                     (click)="openPopUpForNewlyAddedPartnersOrContacts(contactList)"
                     title="{{actionsDescription.send_campaigns}}"> <i class="fa fa-bullhorn" aria-hidden="true"></i>
                     </a>
                     <a  *ngIf="assignLeads && contactList?.assignedLeadsList && contactList.assignedToPartner"
                     data-toggle="tooltip" data-placement="top"
                      title="Preview" (click)="selectedContactListId=contactList.id ; showListSharedDetails()"> 
                     <i class="fa fa-eye" aria-hidden="true"></i>
                     </a>
                  </div>
                  <div class="bar" 
                     *ngIf="!contactList.uploadInProgress && !contactList.validationInProgress && ((contactList.socialNetwork=='MARKETO' && contactList.synchronisedList && contactList.marketoSyncComplete && !contactList.emailValidationInd)
                     ||  (contactList.socialNetwork!='MARKETO' && contactList.synchronisedList  && !contactList.emailValidationInd)
                     || (!contactList.synchronisedList  && !contactList.emailValidationInd))">
                     <a data-toggle="tooltip" data-placement="top" title="Force process the list"
                        data-rel="fancybox-button" (click)="forceProcessList(contactList.id)">
                     <i class="fa fa-repeat" aria-hidden="true"></i>
                     </a>
                  </div>
                  <div class="bar" *ngIf="contactList.uploadInProgress">Uploading...</div>
                  <div class="bar" *ngIf="contactList.validationInProgress">Validating Email IDs...</div>
               </div>
            </div>
         </div>
         <div id="pagination" [ngStyle]="{'margin-top':isListView ? '-5px': ''}">
            <!--pager here  -->
            <app-pagination
            [hidden]="httpRequestLoader.isLoading" [pagination]="pagination" [type]="'contacts'"
            (notifyParent)="setPage($event)" (notifyParentDropDown)="loadContactLists($event)">
            </app-pagination>
         </div>
         </section>
      </div>
   </div>

</div>
</div>
</div>
<app-edit-contacts *ngIf="showEdit" [contacts]="users" (notifyParent)="update($event)"
[selectedContactListId]="selectedContactListId" [uploadedUserId]="uploadedUserId"
[contactListId]="selectedContactListId" [contactListName]="selectedContactListName"
[isDefaultPartnerList]="isDefaultPartnerList" [isSynchronizationList]="isSynchronizationList"
[isFormList]="isFormList" [isTeamMemberPartnerList]="isTeamMemberPartnerList"></app-edit-contacts>
</div>
<div *ngIf="! showListOfContactList">
   <div class="alert alert-success alert-dismissible" *ngIf="invalidDeleteSucessMessage" style="margin-bottom: 20px;">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      {{checkingContactTypeName}} List has been Deleted successfully.
   </div>
   <div class="alert alert-danger" style="padding: 12px 10px 12px;" *ngIf="invalidDeleteErrorMessage">
      <span [innerHTML]="response.responseMessage"></span>
   </div>
   <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12">
         <div class="page-bar">
            <div class="tab-content" style="padding: 0px 10px">
               <!-- BEGIN PAGE HEADER-->
               <div class="" style="">
                  <div style="float:left;padding: 10px 0px 0px 0px">
                     <app-team-member-filter-option *ngIf="isPartner && showFilter" [resetTMSelectedFilterIndex]="resetTMSelectedFilterIndex.asObservable()" (teamMemberFilterOptionEventEmitter)="getSelectedIndex($event)"></app-team-member-filter-option>
                  </div>
                  <div class="page-toolbar">
                     <div class="pull-right" *ngIf="(sharedLeads && !contactsByType.isLoading && contactsByType.contacts?.length == 0) || !contactsByType.isLoading && contactsByType.contacts?.length == 0" style="margin-top: 6px;margin-bottom: 10px;">
                        <ng-template [ngTemplateOutlet]="filterButton"></ng-template>
                     </div>
                     <ng-template #filterButton>
                        <div class="btn-group" style="margin-right: 10px;">
                           <div class="inputs" style="float: right;display: flex;">
                              <div *ngIf="!isSegmentation" (click)="modelForSeg()"
                              style="float: left; cursor: pointer; margin-right: 15px" data-toggle="modal"
                              data-target="#filterModal">
                              <i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip" data-placement="left"
                                 title="Apply a filter" style="color: #0095da; font-size: 30px; margin-top: 10px;"></i>
                           </div>
                           <div *ngIf="isSegmentation" (click)="removeSegmentation()"
                           style="float: left; cursor: pointer; margin-right: 10px;display: flex;">
                           <i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip" data-placement="left"
                              title="Remove a filter" style="color: red; font-size: 30px; margin-top: 10px;"></i>
                           <i class="fa fa-times" aria-hidden="true" style="color: red; margin-left: -8px;margin-top: 15px;"></i>
                        </div>
                        <div
                           [ngClass]="{'mobileSorting':referenceService.isMobileScreenSize(), 'sortingContacts':!referenceService.isMobileScreenSize()}">
                           <select class="form-control" [(ngModel)]="sortOption"
                           (ngModelChange)="sortByOption($event, 'contacts')">
                           <ng-container *ngFor="let sort of sortOptions; let i = index">
                              <option *ngIf="i == 0" [ngValue]="sort">{{sort.name}}</option>
                              <option *ngIf="sort.for == 'contacts'" [ngValue]="sort">{{sort.name}}</option>
                           </ng-container>
                           </select>
                        </div>
                        <div class="portlet-input input-inline"
                           [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
                           <div class="input-icon right">
                              <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}"
                              (input)="searchKeyValue('contacts')" class="form-control"
                              placeholder="Search"
                              (keypress)="eventHandler($event.keyCode)">
                              <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey"
                              (click)="searchKey='';search('contacts')"></button>
                              <button type="submit" class="search-box-item-click" (click)="search('contacts')">
                              <i class="fa fa-search" aria-hidden="true"></i>
                              </button>
                           </div>
                        </div>
                  </div>
               </div>
               </ng-template>
            </div>
         </div>
         <div class="tab-pane active"></div>
         <div class="row">
            <div class="col-xs-12">
               <div *ngIf="contactsByType.isLoading" class="alert alert-info flex" style="margin-top: 20px;">
                  <div class="loader"></div>
                  <strong translate>Please wait while we process your request</strong>
               </div>
               <div *ngIf="!contactsByType.isLoading && contactsByType.contacts?.length == 0" class="no-data-alert alert-info">
                  <h4 translate>No results found</h4>
               </div>
               <app-list-loader *ngIf="contactsByType?.isLoading"></app-list-loader>
               <div class="portlet" *ngIf="contactsByType.contacts?.length > 0">
                  <div class="portlet-title" style="border:none; margin-top: 10px;">
                     <div class="caption">
                        <i class="fa fa-edit" style="font-size: 18px" aria-hidden="true"></i>
                        <span class="capitalize" *ngIf="contactsByType.selectedCategory !='non-active' && contactsByType.selectedCategory !='active'
                           && contactsByType.selectedCategory !='invalid'"translate>
                        {{contactsByType.selectedCategory}} 
                        <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}} List</span>
                        <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s List</span>
                        </span>
                        <span class="capitalize" *ngIf="contactsByType.selectedCategory =='non-active'" translate>
                        Unregistered 
                        <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}} List</span>
                        <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s List</span>
                        </span>
                        <span class="capitalize" *ngIf="contactsByType.selectedCategory =='active'" translate>
                        Registered 
                        <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}} List</span>
                        <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s List</span>
                        </span>
                        <span class="capitalize" *ngIf="contactsByType.selectedCategory =='invalid'" translate>
                        Undeliverable 
                        <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}} List</span>
                        <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}s List</span>
                        </span>
                     </div>
                     <div class="btn-group pull-right" style="margin-top: 4px; display: flex;" >
                        <ng-template [ngTemplateOutlet]="filterButton"></ng-template>
                        <div *ngIf="(hasAllAccess || hasContactRole || authenticationService.module.isVendor || authenticationService.module.isPrm  || authenticationService.module.isPrmTeamMember ||authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember ||
                           authenticationService.module.isVendorTier || authenticationService.isVendorPartner() || authenticationService.isPartner() ||
                           authenticationService.isOrgAdminPartner()) && !sharedLeads">
                           <span class="dropdown-toggle white-co" data-toggle="dropdown"
                              style="box-shadow: none; margin-top: 8px; float: right;display: flex;">
                           <i class="fa fa-cog" style="font-size: 20px; margin-right: 5px" aria-hidden="true"></i><i class="fa fa-angle-down"
                              style="font-size: 14px; float: right" aria-hidden="true"></i>
                           </span>
                           <ul class="dropdown-menu pull-right">
                              <li *ngIf="contactsByType.selectedCategory == 'all' && !sharedLeads "><a (click)="saveAs()"
                                 translate> Save As </a></li>
                              <li *ngIf="contactsByType.selectedCategory == 'invalid' && !sharedLeads">
                                 <a id="delete_button" (click)="invalidContactsShowAlert()" translate>
                                 Delete 
                                 </a>
                              </li>
                              <li>
                                 <a id="delete_button" *ngIf="!sharedLeads"
                                 (click)="hasAccessForDownloadUndeliverableContacts()" translate> Export To Excel </a>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="portlet-body">
                     <div class="table-responsive">
                        <app-loader [model]="httpRequestLoader.isHorizontalCss" *ngIf="httpRequestLoader.isLoading">
                        </app-loader>
                        <table class='table tgrid' id="sample_editable_1" style="overflow: hidden;"
                           *ngIf="!httpRequestLoader.isLoading" aria-describedby="">
                           <thead>
                              <tr>
                                 <ng-container *ngIf="!authenticationService?.module?.deletedPartner">
                                    <td  align="center" *ngIf="contactsByType.selectedCategory == 'all'">
                                       <input type="checkbox"
                                       name="all" [(ngModel)]="isHeaderCheckBoxChecked" (change)="checkAll($event)"
                                       id="checkAllExistingContacts" />
                                    </td>
                                    <td align="center" *ngIf="contactsByType.selectedCategory == 'invalid'">
                                       <input type="checkbox" name="all" [(ngModel)]="isInvalidHeaderCheckBoxChecked"
                                       (change)="checkAllInvalidContacts($event)" id="checkAllExistingInvalidContacts" />
                                    </td>
                                 </ng-container>
                                 <th scope="row" style="width: 25%" *ngIf="!isPartner" translate>NAME</th>
                                 <th  scope="row" *ngIf="contactsByType.selectedCategory =='invalid' && !isPartner" class="hidden-xs"
                                    translate>EMAIL CATEGORY</th>
                                 <th  scope="row" style="width: 25%" *ngIf="isPartner" translate>Entity info</th>
                                 <th  scope="row" class="text-center hidden-xs" *ngIf="!isPartner" translate>Job Title</th>
                                 <th  scope="row" class="text-center hidden-xs" *ngIf="!isPartner" translate>ADDRESS</th>
                                 <th  scope="row" class="text-center" *ngIf="isPartner"></th>
                                 <th scope="row" *ngIf="contactsByType.selectedCategory == 'unsubscribe'" class="hidden-xs" translate >
                                    Reason
                                 </th>
                                 <th class="text-center"
                                    *ngIf="((contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'active' ||   contactsByType.selectedCategory == 'all') && isPartner) || contactsByType.selectedCategory == 'unsubscribe'"
                                    translate scope="row"></th>
                                 <th *ngIf="contactsByType.selectedCategory !== 'invalid'" scope="row"></th>
                                 <ng-container
                                    *ngIf="authenticationService.module.isCampaign && ((!authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember) || !isPartner)&& contactsByType.selectedCategory != 'invalid' &&  !assignLeads">
                                    <th scope="col" class="text-center">Total Campaigns</th>
                                    <th scope="col" class="text-center">Active Campaigns</th>
                                    <th scope="col" class="text-center">Email Opened</th>
                                    <th scope="col" class="text-center">Clicked Urls</th>
                                    <th scope="col" class="text-center">Campaign Analytics</th>
                                 </ng-container>
                                 <th *ngIf="contactsByType.selectedCategory == 'non-active'" scope="row"></th>
                                 <th *ngIf="contactsByType.selectedCategory == 'invalid' && !sharedLeads" scope="row">Actions</th>
                                 <th *ngIf="contactsByType.selectedCategory == 'invalid'" scope="row"></th>
                                 <th *ngIf="(checkingContactTypeName=='Contact' && contactsByType.selectedCategory=='all') && (hasAllAccess || authenticationService.isVendorPartner() || authenticationService.module.isOnlyPartner || authenticationService.module.isPartnerSuperVisor
                                    || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmSuperVisor || authenticationService.module.isMarketing || authenticationService.module.isMarektingAndPartner ||authenticationService.module.isMarketingSuperVisor
                                    || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isOrgAdminSuperVisor)" scope="row">Actions
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <ng-container *ngFor="let contact of contactsByType.contacts; let i = index">
                                 <tr class='row_{{i}}'>
                                    <ng-container *ngIf="!authenticationService?.module?.deletedPartner">
                                       <td align="center" *ngIf="contactsByType.selectedCategory == 'all'">
                                          <input type="checkbox"
                                          [checked]="selectedContactListIds.indexOf(contact.id)>-1" class="chk"
                                          [class.contact-list-selected]="selectedContactListIds.indexOf(contact.id)>-1"
                                          lang="{{contact.name}}" name="campaignContact[]" value="{{contact.id}}"
                                          id="{{contact.id}}" (click)="highlightRow(contact.id,contact,$event)" />
                                       </td>
                                       <td align="center" *ngIf="contactsByType.selectedCategory == 'invalid'">
                                          <input type="checkbox" [checked]="selectedInvalidContactIds.indexOf(contact.id)>-1"
                                          class="chk"
                                          [class.contact-list-selected]="selectedInvalidContactIds.indexOf(contact.id)>-1"
                                          lang="{{contact.name}}" name="invalidContact[]" value="{{contact.id}}"
                                          id="{{contact.id}}"
                                          (click)="invalidContactsSelectedUserIds(contact.id,contact.emailId,contact.firstName,contact.lastName,$event)" />
                                       </td>
                                    </ng-container>
                                    <td *ngIf="isPartner">
                                       <app-user-info [isPartnerEntityInfo]="true" [isPartnerInfo]="true" [userInfo]="contact">
                                       </app-user-info>
                                       <!----XNFR-85-->
                                       <ng-container *ngIf="!contact?.multipleTeamMemberGroupsAssigned">
                                          <span [className]="contact?.teamMemberGroupId>0 ?'active-status':'inactive-status'">
                                             <ng-container *ngIf="contact?.teamMemberGroupId>0">
                                                <strong title="{{contact?.selectedTeamMemberGroupName}}">Group Name : {{contact?.selectedTeamMemberGroupName | slice:0:10}}
                                                <span *ngIf="contact?.selectedTeamMemberGroupName?.length>10">..</span>
                                                </strong>
                                                <br>
                                                <strong>Team Members : {{contact?.selectedTeamMembersCount}}</strong>
                                             </ng-container>
                                             <ng-container *ngIf="contact?.teamMemberGroupId==0">
                                                <strong>No Group Selected</strong>
                                             </ng-container>
                                          </span>
                                       </ng-container>
                                       <ng-container *ngIf="contact?.multipleTeamMemberGroupsAssigned">
                                          <span class="inactive-status">
                                          <strong>Please contact admin</strong>
                                          </span>
                                       </ng-container>
                                    </td>
                                    <td *ngIf="!isPartner">
                                       <app-user-info [isContactCompanyInfo]="true" [userInfo]="contact"></app-user-info>
                                    </td>
                                    <td *ngIf="contactsByType.selectedCategory =='invalid' && !isPartner" class="hidden-xs">
                                       {{contact.emailCategory}}
                                       <span *ngIf="!contact.emailCategory"><strong>-</strong></span>
                                    </td>
                                    <td class="text-center hidden-xs" *ngIf="!isPartner">{{contact.jobTitle}}</td>
                                    <td class="text-center hidden-xs" *ngIf="!isPartner">
                                       <h5 *ngIf="contact?.address" title="{{contact.address}}" class='mb0'>{{contact.address |
                                          slice:0:30}}
                                          <span *ngIf="contact.address?.length>30">..</span>
                                       </h5>
                                       <h5 class='mb0' title="{{contact.city}}">
                                          {{contact.city | slice:0:15}}
                                          <span *ngIf="contact.city?.length>15">..</span>
                                          <span *ngIf="contact?.city && contact.state">,&nbsp;</span>{{contact.state |
                                          slice:0:15}}
                                          <span *ngIf="contact.state?.length>15">..</span>
                                       </h5>
                                       <h5 *ngIf="contact?.zipCode || contact.country" class='mt0'>
                                          {{contact.zipCode}}<span
                                             *ngIf="contact?.zipCode && contact.country">,&nbsp;</span>{{contact.country}}
                                       </h5>
                                    </td>
                                    <td *ngIf="contactsByType.selectedCategory == 'unsubscribe'">
                                       {{contact.unsubscribedReason}}
                                    </td>
                                    <td *ngIf="contactsByType.selectedCategory =='invalid' && !sharedLeads && !authenticationService?.module?.deletedPartner">
                                       <span class="markas" (click)="validateUndeliverableContacts(contact.id)">Mark as
                                       valid</span>
                                    </td>
                                    <td *ngIf="isPartner">
                                       <button class="border-btn-small" id='more_less_button_{{i}}'
                                          (click)="contact.isShowDetails = ! contact.isShowDetails">
                                       <span *ngIf="!contact.isShowDetails" translate>More</span> <span
                                          *ngIf="contact.isShowDetails" translate>Less</span>
                                       </button>
                                    </td>
                                    <td  *ngIf="((contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'active' ||   contactsByType.selectedCategory == 'all') && isPartner) || contactsByType.selectedCategory == 'unsubscribe'">
                                       <button class="btn Btn-Green" [disabled] = "assignLeads"
                                       *ngIf="contactsByType.selectedCategory == 'unsubscribe' && (hasAllAccess || referenceService.roles.contactsRole || referenceService.roles.partnersRole || authenticationService.isVendor() || authenticationService.isOrgAdmin() || authenticationService.isVendorPartner() || authenticationService.isOrgAdminPartner() || authenticationService.isPartner() || authenticationService.isOnlyPartner()) && !authenticationService?.module?.deletedPartner"
                                       (click)="activateUnsubscribedUser(contact.id)" translate>
                                       Subscribe
                                       </button>
                                       <div class="actions-block no-float" *ngIf="isPartner && (contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'active' || contactsByType.selectedCategory == 'all')">
                                          <ng-container *ngIf="contact?.validEmail">
                                             <a  (click)="sendMail(contact.id)">
                                             <i class="fa fa-envelope"  aria-hidden="true" data-toggle="tooltip" data-placement="bottom"  title="Send Email Notification"></i>
                                             </a>
                                          </ng-container>
                                          <ng-container *ngIf="!contact?.validEmail">
                                             <a>
                                             <i class="fa fa-envelope gray"  aria-hidden="true" data-toggle="tooltip" data-placement="bottom"  title="Email can't be sent for invalid email Id"></i>
                                             </a>
                                          </ng-container>
                                       </div>
                                    </td>
                                    <ng-container *ngIf="(contactsByType.selectedCategory !== 'invalid') && isPartner">
                                       <td></td>
                                    </ng-container>
                                    <ng-container *ngIf="contactsByType.selectedCategory != 'non-active' && !isPartner">
                                       <td></td>
                                    </ng-container>
                                    <ng-container
                                       *ngIf="authenticationService.module.isCampaign && ((!authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember) || !isPartner) && contactsByType.selectedCategory != 'invalid' &&  !assignLeads">
                                       <td class="text-center">
                                          <div>
                                             <button class="btn btn-default btn-xs re-distributed-high-level">
                                                <div class="portlet-body text-center">
                                                   <h4>
                                                      <strong class="sky-blue">{{contact?.totalCampaignsCount}}</strong>
                                                   </h4>
                                                </div>
                                             </button>
                                          </div>
                                       </td>
                                       <td class="text-center">
                                          <div>
                                             <button class="btn btn-default btn-xs re-distributed-high-level">
                                                <div class="portlet-body text-center">
                                                   <h4>
                                                      <strong class="sky-blue">{{contact?.activeCampaignsCount}}</strong>
                                                   </h4>
                                                </div>
                                             </button>
                                          </div>
                                       </td>
                                       <td class="text-center">
                                          <div>
                                             <button class="btn btn-default btn-xs re-distributed-high-level">
                                                <div class="portlet-body text-center">
                                                   <h4>
                                                      <strong class="sky-blue">{{contact?.emailOpenedCount}}</strong>
                                                   </h4>
                                                </div>
                                             </button>
                                          </div>
                                       </td>
                                       <td class="text-center">
                                          <div>
                                             <button class="btn btn-default btn-xs re-distributed-high-level">
                                                <div class="portlet-body text-center">
                                                   <h4>
                                                      <strong class="sky-blue">{{contact?.clickedUrlsCount}}</strong>
                                                   </h4>
                                                </div>
                                             </button>
                                          </div>
                                       </td>
                                       <td class="text-center">
                                          <div class="actions-block no-float">
                                             <a data-toggle="tooltip" data-placement="bottom" title="Campaign Analytics" (click)="showCampaigns(contact.id)">
                                             <i class="fa fa-line-chart" aria-hidden="true"></i>
                                             </a>
                                          </div>
                                       </td>
                                    </ng-container>
                                    <td *ngIf="(checkingContactTypeName=='Contact' && contactsByType.selectedCategory=='all') && (hasAllAccess || authenticationService.isVendorPartner() || authenticationService.module.isOnlyPartner || authenticationService.module.isPartnerSuperVisor
                                       || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmSuperVisor || authenticationService.module.isMarketing || authenticationService.module.isMarektingAndPartner ||authenticationService.module.isMarketingSuperVisor
                                       || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isOrgAdminSuperVisor)"
                                       class="text-center">
                                       <div class="actions-block no-float">
                                          <a data-toggle="tooltip" data-placement="bottom" title="Delete" (click)="confirmDeleteContact(contact)">
                                          <i class="fa fa-trash-o" aria-hidden="true"></i>
                                          </a>
                                       </div>
                                    </td>
                                    <td *ngIf="contactsByType.selectedCategory == 'non-active'"></td>
                                    <ng-template #NA>N/A</ng-template>
                                 </tr>
                                 <tr [ngClass]="{'hidden': !contact.isShowDetails, 'show-more': contact.isShowDetails}">
                                    <td colspan="12">
                                       <table cellpadding="5" cellspacing="0" class="border" style="border:none !important;" aria-describedby="">
                                          <tbody>
                                             <tr>
                                                <td class='pt10 pb10 bold' translate>Address: </td>
                                                <td align="center" class="hidden-xs">
                                                   <h5 *ngIf="contact?.address" class='mb0'>{{contact.address}}</h5>
                                                   <h5 class='m0'>
                                                      {{contact.city}}<span
                                                         *ngIf="contact.city && contact.state">,&nbsp;</span>{{contact.state}}
                                                   </h5>
                                                   <h5 *ngIf="contact?.zipCode || contact.country" class='mt0'>
                                                      {{contact.zipCode}}<span
                                                         *ngIf="contact.zipCode && contact.country">,&nbsp;</span>{{contact.country}}
                                                   </h5>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td class='pt10 pb10 bold' translate>Vertical: </td>
                                                <td class="hidden-xs" title="{{contact.vertical}}">{{contact.vertical |
                                                   slice:0:14}}
                                                   <span *ngIf="contact.vertical?.length>14">..</span>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td class='pt10 pb10 bold' translate>Region: </td>
                                                <td class="hidden-xs" title="{{contact.region}}">{{contact.region | slice:0:14}}
                                                   <span *ngIf="contact.region?.length>14">..</span>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td class='pt10 pb10 bold' translate>Type: </td>
                                                <td class="hidden-xs" title="{{contact.partnerType}}">{{contact.partnerType |
                                                   slice:0:14}}
                                                   <span *ngIf="contact.partnerType?.length>14">..</span>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td class='pt10 pb10 bold' translate>Category: </td>
                                                <td class="hidden-xs" title="{{contact.category}}">{{contact.category |
                                                   slice:0:14}}
                                                   <span *ngIf="contact.category?.length>14">..</span>
                                                </td>
                                             </tr>
                                          </tbody>
                                       </table>
                                    </td>
                                 </tr>
                              </ng-container>
                           </tbody>
                        </table>
                     </div>
                  </div>
               </div>
               <app-pagination style="position:relative;top:-9px;" [pagination]="contactsByType.pagination"
               *ngIf="!contactsByType.isLoading" [type]="contactsByType.selectedCategory"
               (notifyParent)="setPage($event)" (notifyParentDropDown)="onChangeAllContactUsers($event)">
               </app-pagination>
            </div>
         </div>
         <app-export-csv *ngIf="referenceService.isDownloadCsvFile" [downloadListDetails]="downloadDataList"
         [downloadListName]="logListName"> </app-export-csv>
         <!-- END PAGE CONTENT -->
      </div>
   </div>
</div>
</div>
<app-scroll-top></app-scroll-top>
</div>
<!-- Filter Modal -->
<div id="filterModal" class="modal right fade" role="dialog" data-backdrop="static" data-keyboard="false">
   <div class="modal-dialog modal-css" role="document" style="right: 0 !important">
      <!-- Modal content-->
      <div class="modal-content">
         <div class="modal-header">
            <a class="close-circle" data-dismiss="modal" (click)="cancelSegmentation()"><i class="fa fa-times" aria-hidden="true" ></i></a>
            <h4 class="modal-title" translate>Filter</h4>
         </div>
         <div class="modal-body" style="padding: 28px;">
            <div class="row">
               <div class="col-xs-12 col-sm-12">
                  <div class="row col-sm-11" *ngFor="let addRow of criterias; let i = index" style="padding-bottom: 10px;">
                     <div class="form-group">
                        <div class="form-inline col-sm-12">
                           <div class="form-group col-sm-4">
                              <b>{{i}}</b>
                              <select class="form-control" [(ngModel)]="criterias[i].property">
                              <option *ngFor="let filterOption of filterOptions; let i = index">{{filterOption.name}}</option>
                              </select>
                           </div>
                           <div class="form-group col-sm-3">
                              <select class="form-control" [(ngModel)]="criterias[i].operation">
                              <option *ngFor="let filterCondition of filterConditions; let i = index">{{filterCondition.name}}
                              </option>
                              </select>
                           </div>
                           <div class="form-group col-sm-3">
                              <input type="text" class="form-control" placeholder="value*" [(ngModel)]="criterias[i].value1"
                              (keypress)="eventEnterKeyHandler($event.keyCode)">
                           </div>
                           <div class="form-group col-sm-2" data-toggle="tooltip" data-placement="left"
                              title="Remove a condition"
                              [ngClass]="{'filter-css': !referenceService.isMobileScreenSize(), 'mobile-view-filter':referenceService.isMobileScreenSize()}">
                              <span (click)="cancelRow(i)"> <i class="fa fa-trash-o" aria-hidden="true"
                                 style="color: red; font-size: 26px; margin-top: 6px"></i>
                              </span>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="row col-sm-1" style="margin-left: 32px;">
                     <div data-toggle="tooltip" data-placement="left" title="Add a condition">
                        <span [class.disabled]="criterias.length > 5" (click)="addNewRow()" class="btn btn-default pull-right">
                        <i class="fa fa-plus-square" aria-hidden="true" style="color: #0196da"></i>
                        </span>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-xs-12 m0" *ngIf="isSegmentationErrorMessage">
               <h4 class="m0" style="color: red; text-align: center;">{{filterConditionErrorMessage}}</h4>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn Btn-Green" [disabled]="criterias.length === 0" (click)="contactFilter()"
            translate>Submit</button>
            <button type="button" class="btn Btn-Green" (click)="cancelSegmentation()" data-dismiss="modal"
               translate>Cancel</button>
         </div>
      </div>
   </div>
</div>
<!-- Save As Modal -->
<div class="modal right fade" id="saveAsModal" tabindex="-1" role="dialog" aria-labelledby="saveAsModalLabel"
   aria-hidden="true">
   <div class="modal-dialog modal-copy" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title f-w-600" id="saveAsModalLabel">
               <span *ngIf="checkingContactTypeName=='Partner'">{{authenticationService?.partnerModule?.customName}}</span>
               <span *ngIf="checkingContactTypeName!='Partner'">{{checkingContactTypeName}}</span>
               List Name
            </h4>
            <button type="button" class="close-circle" data-dismiss="modal" style="position: relative; top: -24px;">
            <i class="fa fa-times" aria-hidden="true"></i>
            </button>
         </div>
         <div class="modal-body">
            <div class="form-group">
               <label for="campaignName" translate>Name</label> <input class="form-control" type="text" id="campaignName"
               [(ngModel)]="saveAsListName" placeholder="Name">
               <span style="color: red">{{saveAsError}}</span>
            </div>
            <!-- ------------Legal Basis------------ -->
            <div class="form-group" *ngIf="gdprStatus && saveAsTypeList === 'manage-all-contacts' ">
               <label for="campaignName" translate>Legal Basis Options <span class="danger">*</span></label>
               <div id="multiselect-sample" class="control-section">
                  <div class="col-lg-14">
                     <div class="control-styles">
                        <ejs-multiselect [(ngModel)]='selectedLegalBasisOptions' [ngModelOptions]="{standalone: true}"
                        [allowFiltering]='true' [ignoreAccent]='true' id='multiselectelement' [dataSource]='legalBasisOptions'
                        [fields]='fields' [placeholder]='placeHolder'></ejs-multiselect>
                        <span class="danger" *ngIf="!isValidLegalOptions" translate>Please select at least one option</span>
                     </div>
                  </div>
               </div>
            </div>
            <!-- start   -->
            <div class="form-group" class="col-xs-12"
               *ngIf="saveAsTypeList === 'manage-all-contacts' && !isPartner && !assignLeads">
               <label class="col-xs-4" for="campaignName" translate>Contact List Type <span class="danger">*</span></label>
               <div class="col-xs-8">
                  <switch [status]="model.isPublic" [onText]="'Public'" [offText]="'Private'"
                  [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offPrivateColor"
                  [size]="large" (statusChange)="changeStatus($event)"> </switch>
               </div>
            </div>
            <!-- end  -->
         </div>
         <div class="modal-footer">
            <button type="button" class="btn Btn-Gray btn-hvr-text" data-dismiss="modal" translate>Close</button>
            <button type="button" class="btn btn-primary" (click)="hasSaveAsAccess()" [disabled]="assignLeads && disableSave" translate>Save changes</button>
         </div>
      </div>
   </div>
</div>
<app-share-leads *ngIf="authenticationService.isSharePartnerModal" (notifyParent)="selectedSharePartner($event)">
</app-share-leads>
<!-- END PAGE CONTENT-->
<!---Share Pop Up-->
<app-partner-company-modal-popup  [companyId]="loggedInUserCompanyId" [inputId] = "selectedContactListId"  *ngIf="showShareListPopup" (notifyOtherComponent)="closeShareListPopup()">
</app-partner-company-modal-popup>
<app-send-campaigns #sendCampaignComponent></app-send-campaigns>
<div class="modal right fade" id="listSharedDetailsModal" tabindex="-1" role="dialog"
   aria-labelledby="sharedListModalLabel" data-backdrop="static" data-keyboard="false">
   <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
      <div class="modal-content">
         <div class="modal-header col-xs-12">
            <div class="col-xs-12 col-sm-12 col-lg-12 p0">
               <div class="col-xs-2 col-sm-2 col-lg-2 pull-right p0">
                  <a class="close-circle" data-dismiss="modal" (click)="closeSharedDetailsPopup()"><i class="fa fa-times" aria-hidden="true"></i></a>
               </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px">
               <div class="col-xs-6 col-sm-6 col-lg-6 hidden-xs">
                  <h4 class="modal-title" id="sharedListModalLabel"> <strong>List has shared with the following {{authenticationService?.partnerModule?.customName}}:</strong> </h4>
               </div>
            </div>
         </div>
         <div class="modal-body clearfix">
            <div class="row col-xs-12 col-md-12 col-lg-12 col-sm-12" style="display: inline-block;margin-left: 0px !important;">
               <div class="table-responsive">
                  <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
                  <ng-container *ngIf="!httpRequestLoader.isLoading">
                     <div class="alert alert-info alert-dismissible" *ngIf="sharedDetailsPagination.pagedItems?.length == 0">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        No results found.
                     </div>
                     <div class="table-responsive">
                        <table class="table tgrid" *ngIf="sharedDetailsPagination.pagedItems?.length != 0" aria-describedby="">
                           <thead>
                              <tr>
                                 <th scope="row" style="font-size: 12px; font-weight: 500;text-align: left;width:25%">NAME</th>
                                 <th scope="row" style="font-size: 12px; font-weight: 500;">LIST NAME</th>
                                 <th scope="row" style="font-size: 12px; font-weight: 500;">COMPANY NAME</th>
                                 <th scope="row" style="font-size: 12px; font-weight: 500;" >SHARED DATE</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr *ngFor="let item of sharedDetailsPagination.pagedItems">
                                 <td>
                                    <app-user-info [userInfo]="item"></app-user-info>
                                 </td>
                                 <td>
                                    <h6 title="{{item.name}}">{{item.name | slice:0:30}}
                                       <span *ngIf="item.name?.length>30">...</span>
                                    </h6>
                                    <h4 *ngIf="item.name==null">-</h4>
                                 </td>
                                 <td>
                                    <h6 title="{{item.company}}">{{item.company | slice:0:30}}
                                       <span *ngIf="item.company?.length>30">...</span>
                                    </h6>
                                    <h4 *ngIf="item.company==null">-</h4>
                                 </td>
                                 <td >
                                    <h6>
                                       <app-timestamp [dateAndTime]="item?.sharedDate"> </app-timestamp>
                                    </h6>
                                    <h4 *ngIf="item?.sharedDate==null">-</h4>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </ng-container>
               </div>
               <app-pagination [hidden]="httpRequestLoader.isLoading" [pagination]="sharedDetailsPagination" [type]="'sharedDetails'"
               (notifyParent)="setPage($event)" >
               </app-pagination>
            </div>
         </div>
      </div>
   </div>
</div>
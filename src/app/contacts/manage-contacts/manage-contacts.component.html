
<div id="manageContacts" *ngIf="showManageContactData" class="page-content">
	<!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
	<div class="modal fade" id="portlet-config" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true"></button>
					<h4 class="modal-title">Modal title</h4>
				</div>
				<div class="modal-body">Widget settings form goes here</div>
				<div class="modal-footer">
					<button type="button" class="btn blue">Save changes</button>
					<button type="button" class="btn default" data-dismiss="modal">Close</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<div *ngIf="show" id="showMessage" class="alert alert-success alert-dismissable">
		<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
		<strong>Success!</strong> Contact List has been created successfully.
	</div>
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li><i class="fa fa-home"></i> <a
				[routerLink]="['../../dashboard']">Home</a> <i
				class="fa fa-angle-right"></i></li>
			<li><a (click)="backToManageContactPage()" > Manage contacts</a> 
			</li>
		</ul>

	</div>
	<!-- END PAGE HEADER-->
	<!-- BEGIN PAGE CONTENT-->
	<div *ngIf="showAll">
	<div class="row">
		<div class="col-md-12">
			<div class="tabbable tabbable-custom tabbable-noborder">

				<div class="tab-content">
					<div class="tab-pane active">
						<!-- BEGIN FILTER -->

						<div class="page-bar">
							<ul class="page-breadcrumb">
								<li><i style="font-size: 16px;">List of Contacts</i></li>

							</ul>
							<div class="page-toolbar">
								<div class="btn-group pull-right">
									<div class="inputs" align="right"
										style="display: inline; float: right">
										<div class="portlet-input input-inline input-small">
											<div class="input-icon right">
												<i class="icon-magnifier"></i> <input type="text"
													class="form-control input-circle" placeholder="search...">
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- END DASHBOARD STATS -->
						<div class="clearfix"></div>

						<div class="row">
							<div class="col-lg-3 col-md-2 col-sm-3 col-xs-6">
								<a class="dashboard-stat dashboard-stat-light blue-soft"
									(click)="allContactsDataShowing()">
									<div class="visual">
										<i class="fa fa-users"></i>
									</div>
									<div class="details">
										<div class="number">{{allContacts}}</div>
										<div class="desc">All Contacts</div>
									</div>
								</a>
							</div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
								<a class="dashboard-stat dashboard-stat-light red-soft"
									(click)="activeContactsDataShowing()">
									<div class="visual">
										<i class="fa fa-eye"></i>
									</div>
									<div class="details">
										<div class="number">{{activeUsersCount}}</div>
										<div class="desc">Active Contacts</div>
									</div>
								</a>
							</div>

							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
								<a class="dashboard-stat dashboard-stat-light yellow-gold"
									(click)="invalidContactsDataShowing()">
									<div class="visual">
										<i class="fa fa-user-times"></i>
									</div>
									<div class="details">
										<div class="number">{{invlidContactsCount}}</div>
										<div class="desc">Invalid Contacts</div>
									</div>
								</a>
							</div>
							<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
								<a class="dashboard-stat dashboard-stat-light green-soft"
									(click)="unSubscribedContactsDataShowing()">
									<div class="visual">
										<i class="fa fa-times"></i>
									</div>
									<div class="details">
										<div class="number">{{unsubscribedContacts}}</div>
										<div class="desc">Unsubscribed Contacts</div>
									</div>
								</a>
							</div>
							<div class="col-lg-3 col-md-2 col-sm-3 col-xs-6">
								<a class="dashboard-stat dashboard-stat-light blue-sharp"
									(click)="nonActiveContactsDataShowing()">
									<div class="visual">
										<i class="fa fa-eye-slash"></i>
									</div>
									<div class="details">
										<div class="number">{{inActiveUsersCount}}</div>
										<div class="desc">Non-Active Contacts</div>
									</div>
								</a>
							</div>
						</div>
						<!-- END DASHBOARD STATS -->
						<div class="clearfix"></div>
					</div>
					<!-- END FILTER -->
				</div>
			</div>
		</div>
	</div>
	<div *ngIf="deleteSucessMessage" id="showDeleteMessage" class="alert alert-success alert-dismissable">
		<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
		<strong>Success!</strong> Contact List has been Deleted successfully.
	</div>
	<div class="row mix-grid" style="margin-top: 10px">
		<div *ngFor="let contactList of pagination.pagedItems">
			<div class="col-md-3 col-sm-4 mix category_1 mix_all"
				style="display: block; opacity: 1;"
				id="contactListDiv_{{contactList.id}}">
				<div class="mix-inner">
					<img class="img-responsive" *ngIf="contactList.socialNetwork=='ZOHO'"
						src="{{zohoImage}}" alt="">
						<img class="img-responsive" *ngIf="contactList.socialNetwork=='GOOGLE'"
						src="{{googleImage}}" alt="">
						<img class="img-responsive" *ngIf="contactList.socialNetwork=='SALESFORCE'"
						src="{{salesforceImage}}" alt="">
						<img class="img-responsive" *ngIf="contactList.socialNetwork=='MANUAL'"
						src="{{normalImage}}" alt="">
					<div class="mix-details-fill">
						 <div id="container" *ngIf="contactList.socialNetwork=='ZOHO'">
       						 <h3> ZOHO <span class="arrow"></span> </h3>
   						 </div>
   						 <div id="container" *ngIf="contactList.socialNetwork=='GOOGLE'">
       						 <h3> GOOGLE <span class="arrow"></span> </h3>
   						 </div>
   						 <div id="container" *ngIf="contactList.socialNetwork=='SALESFORCE'">
       						 <h3> SALESFORCE <span class="arrow"></span> </h3>
   						 </div>
   						 <div id="container" *ngIf="contactList.socialNetwork=='MANUAL'">
       						 <h3> MANUAL <span class="arrow"></span> </h3>
   						 </div>
   					<!-- <div class="ribbon" *ngIf="contactList.socialNetwork=='ZOHO'"><span>ZOHO</span></div>
					<div class="ribbon" *ngIf="contactList.socialNetwork=='GOOGLE'"><span>GOOGLE</span></div>
					<div class="ribbon" *ngIf="contactList.socialNetwork=='SALESFORCE'"><span>SALESFORCE</span></div> -->
						<h4>{{contactList.name}}</h4>
						<div style="top: 7%; position: relative;">
							<a class="mix-preview5 fancybox-button"
								href="http://139.59.1.205:9090/xtremand-rest/admin/userlist/{{contactList.id}}/download?access_token={{access_token}}"
								title="Dowload List" data-rel="fancybox-button"> <i
								class="fa fa-cloud-download"></i>
							</a> <a class="mix-preview4 fancybox-button"
								(click)="editContactList(contactList.id)" title="Edit List"
								data-rel="fancybox-button"> <i class="fa fa-pencil-square-o"></i>
							</a> <a class="mix-preview6 fancybox-button"
								(click)="showAlert(contactList.id)" title="Delete List"
								data-rel="fancybox-button" lang="{{contactList.id}}"> <i
								class="fa fa-trash"></i>
							</a>
							<!-- <a class="mix-preview3 fancybox-button"
								title="Edit List"
								data-rel="fancybox-button"> <i class="fa fa-refresh" aria-hidden="true"></i>
							</a> -->
						</div>
						<div style="top: 34%; position: relative;" *ngIf="contactList.socialNetwork=='GOOGLE'">
							<a class="mix-preview2 fancybox-button" title="sychronizeGoogleContactList" (click)="googleContactsSynchronizationAuthentication(contactList.id)"
								data-rel="fancybox-button" style="left: 38%;"> <i class="fa fa-refresh" aria-hidden="true"></i>
							</a>
						</div>
						<div style="top: 34%; position: relative;" *ngIf="contactList.socialNetwork=='ZOHO'">
							<a class="mix-preview2 fancybox-button" title="sychronizeZohoContactList"  data-toggle="modal" data-target="#myModal"
								data-rel="fancybox-button" style="left: 38%;"> <i class="fa fa-refresh" aria-hidden="true"></i>
							</a>
						</div>
						<div style="top: 34%; position: relative;" *ngIf="contactList.socialNetwork=='SALESFORCE'">
							<a class="mix-preview2 fancybox-button" title="sychronizeSalesforceContactList" (click)="salesforceContactsSynchronizationAuthentication(contactList.id)"
								data-rel="fancybox-button" style="left: 38%;"> <i class="fa fa-refresh" aria-hidden="true"></i>
							</a>
						</div>

						<span align="right"
							style="bottom: 10px; float: right; position: absolute; right: 10px;">Created
							Date <br>{{contactList.createdDate}}
						</span> <span align="left"
							style="bottom: 10px; left: 10px; position: absolute;">Contacts
							<br> {{contactList.noOfContacts}}
						</span>
					</div>
				</div>
			</div>
				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-keyboard="false" data-backdrop="static">
  					<div class="modal-dialog" role="document">
    					<div class="modal-content">
      						<div class="modal-header">
        						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        							<div><img src = "assets/images/zoho.png"
        								 alt = "Picture of a happy monkey" style="height:65px" width="90px" />
        							<h4 class="modal-title" id="myModalLabel" align="center"><b>Sign in</b></h4></div>
     						 </div>
     					 <div class="modal-body">
      						<form class="form-horizontal">
  								  <div class="form-group">
    									<label class="control-label col-sm-3" for="email">Email:</label>
    								<div class="col-sm-8">
     									 <input type="email" style="width: 75%" class="form-control" id="email" placeholder="Enter email" [(ngModel)]="userName" [ngModelOptions]="{standalone: true}">
  									</div>
 								  </div>
  								<div class="form-group">
    								<label class="control-label col-sm-3" for="pwd">Password:</label>
   									 <div class="col-sm-8"> 
    									<input type="password" style="width: 75%" class="form-control" id="pwd" placeholder="Enter password" [(ngModel)]="password" [ngModelOptions]="{standalone: true}">
    								 </div>
  								</div>
					 		  <!--   <div class="form-group">
    							  <label class="control-label col-sm-3" for="pwd">Import From:</label>
   									 <div class="col-sm-8"> 
    									<select class="opts form-control" style="width: 75%">
    					    				<option selected value="DEFAULT">Select</option>
    					   	 				<option value="contact"> Contacts </option>
  						    				<option value="lead"> Leads </option>
  					       		 		</select>
  					           		 </div>
  					            </div> -->
  					        </form>
      					</div>
      					<div class="modal-footer">
        					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       						<button type="button" class="btn btn-primary" (click)="zohoContactsSynchronizationAuthentication(contactList.id)">Authorize</button>
     		 			</div>
    				</div>
  				</div>
			</div>
		</div>
	</div>
	</div>
	<div id="pagination">
	<!--pager here  -->
                                          <ul *ngIf="pagination.pager.pages && pagination.pager.pages.length" class="pagination">
                                             <li [ngClass]="{disabled:pagination.pager.currentPage === 1}">
                                                <a (click)="setPage(1)">First</a>
                                             </li>
                                             <li [ngClass]="{disabled:pagination.pager.currentPage === 1}">
                                                 <a (click)="setPage(pagination.pager.currentPage - 1)">Previous</a>
                                              </li>
                                              <li *ngFor="let page of pagination.pager.pages" [ngClass]="{active:pagination.pager.currentPage === page}">
                                                 <a (click)="setPage(page)">{{page}}</a>
                                              </li>
                                              <li [ngClass]="{disabled:pagination.pager.currentPage === pagination.pager.totalPages}">
                                                  <a (click)="setPage(pagination.pager.currentPage + 1)">Next</a>
                                              </li>
                                               <li [ngClass]="{disabled:pagination.pager.currentPage === pagination.pager.totalPages}">
                                                  <a (click)="setPage(pagination.pager.totalPages)">Last</a>
                                              </li>
                                          </ul>
										<!-- pager end here -->
										</div>
	<app-edit-contacts *ngIf="showEdit" [contacts]="users"
		[selectedContactListId]="selectedContactListId"
		[contactListId]="selectedContactListId"></app-edit-contacts>
</div>
<!-- END PAGE CONTENT-->
<div class="page-content" *ngIf="showAllContactData" >
				<!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
				<div class="modal fade" id="portlet-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
								<h4 class="modal-title">Modal title</h4>
							</div>
							<div class="modal-body">
								 Widget settings form goes here
							</div>
							<div class="modal-footer">
								<button type="button" class="btn blue">Save changes</button>
								<button type="button" class="btn default" data-dismiss="modal">Close</button>
							</div>
						</div>
						<!-- /.modal-content -->
					</div>
					<!-- /.modal-dialog -->
				</div>
				<!-- END STYLE CUSTOMIZER -->
				<!-- BEGIN PAGE HEADER-->

				<div class="page-bar">
					<ul class="page-breadcrumb">
						<li>
							<i class="fa fa-home"></i>
							<a [routerLink]="['../../dashboard']">Home</a>
							<i class="fa fa-angle-right"></i>
						</li>
						<li>
							<a (click)="backToManageContactPage();manageContactsDataShowing()">Manage Contacts</a>
							<i class="fa fa-angle-right"></i>
						</li>
						<li *ngIf="allContactData==true">
							All Contacts
						</li>
						<li *ngIf="activeContactsData==true">
							Active Contacts
						</li>
						<li *ngIf="invalidContactData==true">
							Invalid Contacts
						</li>
						<li *ngIf="unsubscribedContactsData==true">
							Unsubscribed Contacts
						</li>
						<li *ngIf="nonActiveContactsData==true">
							Non Active Contacts
						</li>
						
					</ul>
					
				</div>
	<div *ngIf="invalidDeleteSucessMessage" id="showDeleteMessage" class="alert alert-success alert-dismissable">
		<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
		<strong>Success!</strong> Contact List has been Deleted successfully.
	</div>
				<!-- END PAGE HEADER-->
				<!-- BEGIN PAGE CONTENT-->
				<div class="row">
					<div class="col-md-12">
						<div class="tabbable tabbable-custom tabbable-noborder">
							
							<div class="tab-content">
							<!-- BEGIN PAGE HEADER-->
								<div class="page-bar" style="margin-bottom: 6px">
					<ul class="page-breadcrumb">
						<li *ngIf="allContactData==true">
							<i style="font-size: 16px;">All Contacts</i>
						</li>
						<li *ngIf="activeContactsData==true">
							<i style="font-size: 16px;">Active Contacts</i>
						</li>
						<li *ngIf="invalidContactData==true">
							<i style="font-size: 16px;">Invalid Contacts</i>
						</li>
						<li *ngIf="unsubscribedContactsData==true">
							<i style="font-size: 16px;">Unsubscribed Contacts</i>
						</li>
						<li *ngIf="nonActiveContactsData==true">
							<i style="font-size: 16px;">Non Active Contacts</i>
						</li>
						
					</ul>
					<div class="page-toolbar">
						<div class="btn-group pull-right">
							<div class="inputs" align="right"  style="display:inline; float:right">
											<div class="portlet-input input-inline input-small">
												<div class="input-icon right">
													<i class="icon-magnifier"></i>
													<input type="text" class="form-control input-circle" placeholder="search...">
												</div>
											</div>
										</div>
						</div>
					</div>
				</div>
				
				<!-- END PAGE HEADER-->

								<div class="tab-pane active">
									<!-- BEGIN FILTER -->
									
										
										</div>
										<!-- END DASHBOARD STATS -->
				<div class="clearfix">
				</div>
				<!-- END DASHBOARD STATS -->
				<div class="clearfix">
				</div>
										
				<!-- BEGIN PAGE CONTENT-->
				<div class="row">
				<form class="form-inline" *ngIf="allContactData==true">
  <div class="col-xs-0 col-md-6 form-group" style="margin-bottom: 8px">
    <label for="name">ContactListName:</label>
    <input type="text" class="form-control" [(ngModel)]="contactListName" id="contactListName" name="contactListName" placeholder="Contact List Name">
  </div>
  <div class="col-xs-0 col-md-6 form-group" align="right">
  <button>Cancel</button>
  <button style="background-color:#3598dc;color:white" (click)="saveSelectedUsers()">Save</button>
  </div>
  <div *ngIf="contactListNameError"> <p style="color:red">Please Enter Contact List Name</p></div>
  <div *ngIf="contactListUsersError"> <p style="color:red">Please select the Users List Name</p></div>
  </form>
					<div class="col-md-12">
						<!-- BEGIN EXAMPLE TABLE PORTLET-->
						<div class="portlet box blue">
							<div class="portlet-title">
								<div class="caption" *ngIf="allContactData==true">
									<i class="fa fa-edit"></i>List of All Contacts
								</div>
								<div class="caption" *ngIf="activeContactsData==true">
									<i class="fa fa-edit"></i>List of Active Contacts
								</div>
								<div class="caption" *ngIf="invalidContactData==true">
									<i class="fa fa-edit"></i>List of Invalid Contacts
								</div>
								<div class="caption" *ngIf="unsubscribedContactsData==true">
									<i class="fa fa-edit"></i>List of Unsubscribed Contacts
								</div>
								<div class="caption" *ngIf="nonActiveContactsData==true">
									<i class="fa fa-edit"></i>List of Non Active Contacts
								</div>
								<div class="tools">
									<a href="javascript:;" class="collapse">
									</a>
									<a href="#portlet-config" data-toggle="modal" class="config">
									</a>
									<a href="javascript:;" class="reload">
									</a>
									<a href="javascript:;" class="remove">
									</a>
								</div>
							</div>
							<div class="portlet-body">
								<div class="table-toolbar">
									<div class="row">
										<div class="col-md-12" style="align:right">
											<div class="btn-group pull-right">
												<button class="btn dropdown-toggle" data-toggle="dropdown">Tools <i class="fa fa-angle-down"></i>
												</button>
												<ul class="dropdown-menu pull-right">
													<li *ngIf="invalidContactData==true"><a id="delete_button" (click)="invalidContactsShowAlert()"> Delete
													</a></li>
													<li>
														<a href="javascript:;">
														Print </a>
													</li>
													<li>
														<a (click)="convert()">
														Save as PDF </a>
													</li>
													<li>
														<a href="javascript:;">
														Export to Excel </a>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<table class="table table-striped table-hover table-bordered" id="sample_editable_1" *ngIf="allContacts">
								<thead >
								<tr >
								<th *ngIf="allContactData==true"><input type="checkbox" [checked]="isAvailable"
									(change)="checked($event.target.checked)">
									</th>
									<th *ngIf="invalidContactData==true"><input type="checkbox" [checked]="isAvailable"
									(change)="invalidContactsChecked($event.target.checked)">
									</th>
									<th>
										 USERNAME
									</th>
									<th>
										 EMAILID
									</th>
									<th>
										 FIRSTNAME
									</th>
									<th>
										 LASTNAME
									</th>
									<!-- <th>
										 Edit
									</th> -->
									<!-- <th>
										 Delete
									</th> -->
								</tr>
								</thead>
								<tbody>
								<tr *ngFor="let allcontacts of pagination.pagedItems;let i = index">
									<th *ngIf="allContactData==true">
									<input type="checkbox" name="selectedUserIds" id="selectedUserWithIds"
									 id="row_{{allcontacts.id}}" value="{{allcontacts.emailId}},{{allcontacts.firstName}},{{allcontacts.lastName}}" [(ngModel)]="allcontacts.isChecked">
									 </th>
									 <th *ngIf="invalidContactData==true">
									<input type="checkbox" name="selectedUserIds" id="selectedUserWithIds"
									 id="row_{{allcontacts.id}}" value="{{allcontacts.id}}" [(ngModel)]="allcontacts.isChecked">
									 </th>
									<td>
										 {{allcontacts.userName}}
									</td>
									<td>
										 {{allcontacts.emailId}}
									</td>
									<td>
										  {{allcontacts.firstName}}
									</td>
									<td class="center">
										 {{allcontacts.lastName}}
									</td>
									<!-- <td>
										<a class="delete" href="javascript:;">
										Delete </a>
									</td> -->
								</tr>
								</tbody>
								</table>
							</div>
						</div>
						<!--pager here  -->
                                          <ul *ngIf="pagination.pager.pages && pagination.pager.pages.length" class="pagination">
                                             <li [ngClass]="{disabled:pagination.pager.currentPage === 1}">
                                                <a (click)="setPage(1,currentContactType)">First</a>
                                             </li>
                                             <li [ngClass]="{disabled:pagination.pager.currentPage === 1}">
                                                 <a (click)="setPage(pagination.pager.currentPage - 1,currentContactType)">Previous</a>
                                              </li>
                                              <li *ngFor="let page of pagination.pager.pages" [ngClass]="{active:pagination.pager.currentPage === page}">
                                                 <a (click)="setPage(page,currentContactType)">{{page}}</a>
                                              </li>
                                              <li [ngClass]="{disabled:pagination.pager.currentPage === pagination.pager.totalPages}">
                                                  <a (click)="setPage(pagination.pager.currentPage + 1,currentContactType)">Next</a>
                                              </li>
                                               <li [ngClass]="{disabled:pagination.pager.currentPage === pagination.pager.totalPages}">
                                                  <a (click)="setPage(pagination.pager.totalPages,currentContactType)">Last</a>
                                              </li>
                                          </ul>
										<!-- pager end here -->
						<!-- END EXAMPLE TABLE PORTLET-->
					</div>
				</div>
				<!-- END PAGE CONTENT -->
			</div>
		</div>
	  </div>
	</div>
</div>



<div class="page-content"
	[class.ml0]="authenticationService.isSuperAdmin()">
	<!-- page-breadcrumb -->
	<div class="page-bar" *ngIf="!showEdit">
		<ul class="page-breadcrumb">
			<li *ngIf="!authenticationService.isSuperAdmin()"><i
				class="fa fa-home"></i> <a
				[routerLink]="referenceService.homeRouter">Home</a> <i
				class="fa fa-angle-right"></i></li>
			<li *ngIf="authenticationService.isSuperAdmin()"><i
				class="fa fa-home"></i><a
				[routerLink]="['/home/dashboard/admin-report']">Admin Report</a><i
				class="fa fa-angle-right"></i></li>
			<li><a (click)="navigateToManageContacts()">Manage
					{{checkingContactTypeName}}s</a> <i class="fa fa-angle-right"
				*ngIf="! showListOfContactList"></i></li>
			<li
				*ngIf="! showListOfContactList && contactsByType.selectedCategory != 'non-active' && contactsByType.selectedCategory != 'invalid' && contactsByType.selectedCategory != 'unsubscribe'"><span
				class="capitalize">{{contactsByType.selectedCategory}}
					{{checkingContactTypeName}}s</span></li>
			<li
				*ngIf="! showListOfContactList && contactsByType.selectedCategory == 'non-active'"><span
				class="capitalize">Unregistered {{checkingContactTypeName}}s</span></li>
			<li
				*ngIf="! showListOfContactList && contactsByType.selectedCategory == 'unsubscribe'"><span
				class="capitalize">Unsubscribed {{checkingContactTypeName}}s</span></li>
			<li
				*ngIf="! showListOfContactList && contactsByType.selectedCategory == 'invalid'"><span
				class="capitalize">Undeliverable {{checkingContactTypeName}}s</span></li>
		</ul>
	</div>

	<div id="manageContacts" >
		<!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
		<div *ngIf="showAll">
			<!-- END PAGE HEADER-->
			<!-- BEGIN PAGE CONTENT-->
			<div>
				<div class="row">
					<div class="col-md-12">
						<div [ngClass]="{'tabbable tabbable-custom tabbable-noborder': showListOfContactList}">

							<div class="tab-content" [ngStyle]="{'min-height':showListOfContactList? '570px': ''}">
								<div class="tab-pane active">
									<!-- BEGIN FILTER -->

									<!-- 	<div class="page-bar m0">
										<div class="page-toolbar">
											Removed serarch and sort from here
										</div>
									</div> -->
									<!-- END DASHBOARD STATS -->
									<div class="clearfix"></div>
									<div class="row mt5 mb5">
										<div class="col-sm-5ths margin-top-10">
											<button class="btn-block dashboard-stat blue" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'all'"
												(click)="contactsByType.pagination.pageIndex = 1;listContactsByType('all')"
												[disabled]="contactsByType.allContactsCount == 0">
												<div class="visual">
													<!-- <i class="fa fa-users"></i> -->
													<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'all' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'all'" ></i>
												</div>
												<div class="details">
													<div class="number" style="font-weight: 300 !important; color: #FFFFFF;">{{contactsByType.allContactsCount}}</div>
													<div class="desc" style="font-size: 20px; color: #FFFFFF;">
														All
														<!-- {{checkingContactTypeName}}s -->
													</div>
												</div>
												<span class="morePadding"> <a class="more"
													style="text-align: left; background: #3480b5; color: white"> Detailed view <i
														class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
											</button>
										</div>
										<div class="col-sm-5ths margin-top-10">
											<button class="btn-block dashboard-stat green" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'active'"
												(click)="contactsByType.pagination.pageIndex = 1;listContactsByType('active')"
												[disabled]="contactsByType.activeContactsCount == 0">
												<div class="visual">
													<!-- <i class="fa fa-eye"></i> -->
													<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'active' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'active'" ></i>
												</div>
												<div class="details">
													<div class="number numberCss"
														style="font-weight: 300 !important; color: #FFFFFF;">{{contactsByType.activeContactsCount}}</div>
													<div class="desc" style="font-size: 20px; color: #FFFFFF;">
														Active
														<!-- {{checkingContactTypeName}}s -->
													</div>
												</div>
												<span class="morePadding"> <a class="more"
													style="text-align: left;background: #268c83; color:white"> Detailed view <i
														class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
											</button>
										</div>
										<div class="col-sm-5ths margin-top-10">
											<button class="btn-block dashboard-stat purple" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'non-active'"
												(click)="contactsByType.pagination.pageIndex = 1;listContactsByType('non-active')"
												[disabled]="contactsByType.inactiveContactsCount == 0">
												<div class="visual">
													<!-- <i class="fa fa-eye-slash"></i> -->
													<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'non-active' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'non-active'" ></i>
												</div>
												<div class="details">
													<div class="number" style="font-weight: 300 !important;">{{contactsByType.inactiveContactsCount}}</div>
													<div class="desc" style="font-size: 20px">
														Unregistered
														<!-- {{checkingContactTypeName}}s -->
													</div>
												</div>
												<span class="morePadding"> <a class="more"
													style="text-align: left;"> Detailed view <i
														class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
											</button>
										</div>
										<div class="col-sm-5ths margin-top-10">
											<button class="btn-block dashboard-stat yellow-gold" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'invalid'"
												(click)="contactsByType.pagination.pageIndex = 1;listContactsByType('invalid')"
												[disabled]="contactsByType.invalidContactsCount == 0">
												<div class="visual">
													<!-- <i class="fa fa-user-times"></i> -->
													<i class="fa fa-check-circle" style="font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'invalid' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'invalid'" ></i>
												</div>
												<div class="details">
													<div class="number" style="font-weight: 300 !important;">{{contactsByType.invalidContactsCount}}</div>
													<div class="desc" style="font-size: 20px">
														Undeliverable
														<!-- {{checkingContactTypeName}}s -->
														<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': 1===selectedTabIndex ? '#white' : '#ccc' }"
               										 *ngIf="selectedTabIndex == 1" ></i>
													</div>
												</div>
												<span class="morePadding"> <a class="more"
													style="text-align: left;"> Detailed view <i
														class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
											</button>
										</div>
										<div class="col-sm-5ths margin-top-10">
											<button class="btn-block dashboard-stat red" [class.grey]="contactsByType.selectedCategory && contactsByType.selectedCategory != 'unsubscribe'"
												(click)="contactsByType.pagination.pageIndex = 1;listContactsByType('unsubscribe')"
												[disabled]="contactsByType.unsubscribedContactsCount == 0">
												<div class="visual">
													<!-- <i class="fa fa-times"></i> -->
													<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1"  [ngStyle]="{'color': contactsByType.selectedCategory == 'unsubscribe' ? '#white' : '#ccc' }"
               										 *ngIf="contactsByType.selectedCategory == 'unsubscribe'" ></i>
												</div>
												<div class="details">
													<div class="number" style="font-weight: 300 !important;">{{contactsByType.unsubscribedContactsCount}}</div>
													<div class="desc" style="font-size: 20px">
														Unsubscribed
														<!-- {{checkingContactTypeName}}s -->
													</div>
												</div>
												<span class="morePadding"> <a class="more"
													style="text-align: left;"> Detailed view <i
														class="m-icon-swapright m-icon-white"></i>
												</a>
												</span>
											</button>
										</div>
									</div>
									<div class="page-bar m0" *ngIf="showListOfContactList">
										<ul class="page-breadcrumb">
											<li style="font-size: 16px; color: #888888">Your
												{{checkingContactTypeName}} Lists</li>

										</ul>

										<div class="btn-group pull-right">
											<ng-container class='m10'> <span
												class="btn btn-xs hidden-xs" data-toggle="tooltip"
												data-placement="bottom" title="List View"
												[class.disabled]="isListView" (click)="isListView = true"
												style="background-color: #e2e2e2"><i
												class="fa fa-th-list p10" aria-hidden="true"></i></span> <span
												class="btn btn-xs hidden-xs" data-toggle="tooltip"
												data-placement="bottom" title="Grid View"
												[class.disabled]="!isListView" (click)="isListView = false"
												style="background-color: #e2e2e2"><i
												class="fa fa-th-large p10" aria-hidden="true"></i></span> </ng-container>
											<div class="inputs sort-class" align="right"
												style="float: right">
												<div
													[ngClass]="{'search-css': !referenceService.isMobileScreenSize(), 'mobile-css':referenceService.isMobileScreenSize() }">
													<select class="form-control" [(ngModel)]="sortOption"
														(ngModelChange)="sortByOption($event, 'contactList')">
														<ng-container
															*ngFor="let sort of sortOptions; let i = index">
														<option *ngIf="i == 0" [ngValue]="sort">{{sort.name}}</option>
														<option *ngIf="sort.for == 'contactList'" [ngValue]="sort">{{sort.name}}</option>
														</ng-container>
													</select>
												</div>
												<div class="portlet-input input-inline search-class"
													[ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
													<div class="input-icon right">
														<input type="text" [(ngModel)]="searchKey"
															[ngModelOptions]="{standalone: true}"
															(input)="searchKeyValue('contactList')"
															class="form-control" placeholder="Search for a list"
															(keypress)="eventHandler($event.keyCode)">

														<button
															class="glyphicon glyphicon-remove search-box-item-clear"
															*ngIf="searchKey" (click)="searchKey=''"></button>
														<button type="submit" class="search-box-item-click"
															(click)="search('contactList')">
															<i class="fa fa-search"></i>
														</button>
													</div>
												</div>
											</div>
										</div>

									</div>
									<app-response-message [customResponse]="customResponse"
										*ngIf="customResponse.isVisible"></app-response-message>
									<!-- END DASHBOARD STATS -->
									<div class="clearfix"></div>
								</div>
								<!-- END FILTER -->
								<!-- <app-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-loader>
								<app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader> -->
								<section *ngIf="showListOfContactList">
								<div class="clearfix">
									<app-grid-loader
										*ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
									<app-list-loader
										*ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
								</div>

								<section [hidden]="!isListView"
									*ngIf="pagination.pagedItems?.length != 0 && !httpRequestLoader.isLoading">
									<div class="table-responsive" style="margin-top: 7px">
										<table class='table tgrid'>
											<thead>
												<tr>
													<th class="hidden-xs" colspan="2" style="width: 50%">List
														Name</th>
													<th class="visible-xs" colspan="1" style="width: 50%">List
														Info</th>
													<th class="hidden-xs">Created On</th>
													<th class="text-center hidden-xs">Total
														{{checkingContactTypeName}}s</th>
													<th class="text-center" style="width:20%"
														*ngIf="!authenticationService.isSuperAdmin()">Actions</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngFor="let contactList of pagination.pagedItems"
													[class.isProcessing]="!contactList.emailValidationInd">
													<td style="width: 10%;" class="hidden-xs"><img
														*ngIf="contactList.socialNetwork=='ZOHO'"
														src="{{zohoImage}}" alt="zoho" style="height: 70px;">
														<img *ngIf="contactList.socialNetwork=='GOOGLE'"
														src="{{googleImage}}" alt="google" style="height: 70px;">
														<img *ngIf="contactList.socialNetwork=='SALESFORCE'"
														src="{{salesforceImage}}" alt="salesforce"
														style="height: 70px;"> <img
														*ngIf="contactList.socialNetwork=='MANUAL'"
														src="{{normalImage}}" alt="manual" style="height: 70px;">
														<img *ngIf="!contactList.emailValidationInd"
														src="assets/images/Spinner.gif"
														style="width: 55px; margin-top: -88px; margin-left: 17px;">
													</td>
													<td>
														<h4 class="ellipsis" title="{{contactList.name}}">
															{{contactList.name | slice:0:50}} <span
																*ngIf="contactList.name?.length>50">...</span>
														</h4>
														<h5 class='m0 ellipsis' title="{{contactList.uploadedBy}}">
															By <span class='f-w-400'>{{contactList.uploadedBy
																| slice:0:50}} <span
																*ngIf="contactList.uploadedBy?.length>50">...</span>
															</span>
														</h5>
														<h5 class="mb0 ellipsis"
															title="{{contactList.companyName}}">
															<b>{{contactList.companyName | slice:0:50}}</b> <span
																*ngIf="contactList.companyName?.length>50">...</span>
															<h5 class="mb0 ellipsis hidden-sm hidden-md hidden-lg">
																<span class="mb0" *ngIf="contactList.emailValidationInd">Total
																	{{checkingContactTypeName}}s:
																	{{contactList.noOfContacts}}</span>
																	<span *ngIf="!contactList.emailValidationInd"><b>-</b></span>
																	<br> <span class="mb0">Created
																	On:<app-timestamp [isOnlyDate]="true"
																		[dateAndTime]="contactList.createdDate">
																	</app-timestamp>
																</span>
															</h5>
														</h5>
													</td>
													<td class="hidden-xs"><app-timestamp
															[isOnlyDate]="true"
															[dateAndTime]="contactList.createdDate">
														</app-timestamp></td>
													<td class="text-center hidden-xs"><span *ngIf="contactList.emailValidationInd">{{contactList.noOfContacts}}</span>
													<span *ngIf="!contactList.emailValidationInd"><strong>-</strong></span>
													</td>
													<td *ngIf="!authenticationService.isSuperAdmin()">
														<div class="actions-block override-actions" *ngIf="contactList.emailValidationInd">
															<a
																*ngIf="(hasAllAccess || authenticationService.module.isVendor || (hasContactRole && loggedInUserId == contactList.uploadedUserId) || authenticationService.isOnlyPartner()) && !contactList.synchronisedList"
																(click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList,contactList.synchronisedList)"
																data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_edit}}"> <i
																class="fa fa-pencil-square-o"></i>
															</a> <a
																*ngIf="!hasAllAccess && loggedInUserId != contactList.uploadedUserId && !authenticationService.module.isVendor || contactList.synchronisedList"
																(click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList,contactList.synchronisedList)"
																data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_info}}"> <i
																class="fa fa-info"></i>
															</a> <a data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_saveAs}}"
																(click)="saveAsNewList(contactList.id,contactList.name)">
																<i class="fa fa-files-o"></i>
															</a> <a
																(click)="downloadContactList(contactList.id, contactList.name)"
																data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_download}}"
																data-rel="fancybox-button"> <i
																class="fa fa-download"></i>
															</a> <span *ngIf="contactList.synchronisedList == true">
																<a data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_synchronize}}"
																*ngIf="hasAllAccess || authenticationService.module.isVendor|| (hasContactRole && loggedInUserId==contactList.uploadedUserId)"
																(click)="synchronizeContactList(contactList.id,contactList.socialNetwork)">
																	<i class="fa fa-refresh" aria-hidden="true"></i>
															</a>
															</span> <a
																*ngIf="(hasAllAccess || authenticationService.module.isVendor || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || authenticationService.isOnlyPartner()) && !contactList.defaultPartnerList"
																(click)="showAlert(contactList.id)"
																data-toggle="tooltip" data-placement="top"
																title="{{actionsDescription.contact_list_delete}}">
																<i class="fa fa-trash-o"></i>
															</a>
														</div>
														<div class="actions-block override-actions" *ngIf="!contactList.emailValidationInd">
														<a data-toggle="tooltip" data-placement="top"
																title="Force process the list"
																(click)="forceProcessList(contactList.id)">
																<i class="fa fa-repeat"></i>
															</a>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</section>

								<div class="row mix-grid" [hidden]="isListView"
									*ngIf="pagination.pagedItems && !httpRequestLoader.isLoading">
									<div *ngFor="let contactList of pagination.pagedItems"
										class="col-xs-12 col-sm-4 col-lg-3">


										<div class="grid-box" id="contactListDiv_{{contactList.id}}">
											<img class="imageClassCss"
												*ngIf="contactList.socialNetwork=='MANUAL'"
												src="{{normalImage}}"> <img class="imageClassCss"
												*ngIf="contactList.socialNetwork=='ZOHO'"
												src="{{zohoImage}}"> <img class="imageClassCss"
												*ngIf="contactList.socialNetwork=='GOOGLE'"
												src="{{googleImage}}"> <img class="imageClassCss"
												*ngIf="contactList.socialNetwork=='SALESFORCE'"
												src="{{salesforceImage}}">
											<!-- <img src="https://cdn2.iconfinder.com/data/icons/facebook-ads-1/204/1-48.png"> -->

											<div id="container" *ngIf="!contactList.emailValidationInd">
												<h3>
													processing<span class="arrow"> <img
														src="assets/images/Spinner.gif" class="loaderGif"
														style="margin-top: 77px;">
													</span>
												</h3>
											</div>
											<h4 class="ellipsis" title="{{contactList.name}}">
												{{contactList.name | slice:0:25}} <span
													*ngIf="contactList.name?.length>25">...</span>
											</h4>
											<h6 class="mt10 mb0 ellipsis"
												title="{{contactList.uploadedBy}}">
												By {{contactList.uploadedBy | slice:0:30}} <span
													*ngIf="contactList.uploadedBy?.length>30">...</span>
											</h6>
											<h6 class="mt0 ellipsis" title="{{contactList.companyName}}">
												<b>{{contactList.companyName | slice:0:30}}</b> <span
													*ngIf="contactList.companyName?.length>30">...</span>
											</h6>
											<h6 class="mt10 mb0" *ngIf="contactList.emailValidationInd">Total {{checkingContactTypeName}}s
												{{contactList.noOfContacts}}</h6>
											<h6 *ngIf="!contactList.emailValidationInd"> Total {{checkingContactTypeName}}s <b>-</b></h6>
											<h6 class="mt10 mb0">
												Created date
												<app-timestamp [isOnlyDate]="true"
													[dateAndTime]="contactList.createdDate"> </app-timestamp>
											</h6>
											<div class="bar"
												*ngIf="!authenticationService.isSuperAdmin() && contactList.emailValidationInd">
												<a [class.disabled]="!contactList.emailValidationInd"
													*ngIf="(hasAllAccess || authenticationService.module.isVendor || (hasContactRole && loggedInUserId == contactList.uploadedUserId) || authenticationService.isOnlyPartner()) && !contactList.synchronisedList"
													(click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList)"
													data-toggle="tooltip" data-placement="top"
													title="{{actionsDescription.contact_list_edit}}"
													data-rel="fancybox-button"> <i
													class="fa fa-pencil-square-o"></i>
												</a> <a [class.disabled]="!contactList.emailValidationInd"
													*ngIf="(!hasAllAccess && loggedInUserId != contactList.uploadedUserId && !authenticationService.module.isVendor) || contactList.synchronisedList"
													(click)="editContactList(contactList.id,contactList.name,contactList.uploadedUserId,contactList.defaultPartnerList)"
													data-toggle="tooltip" data-placement="top"
													title="{{actionsDescription.contact_list_info}}"
													data-rel="fancybox-button"> <i
													class="fa fa-info" style="color: white;"></i>
												</a> <a data-toggle="tooltip" data-placement="top"
													title="{{actionsDescription.contact_list_saveAs}}"
													(click)="saveAsNewList(contactList.id,contactList.name)"
													[class.disabled]="!contactList.emailValidationInd"
													data-rel="fancybox-button" style="left: 60%;"> <i
													class="fa fa-files-o" aria-hidden="true"
													style="color: white;"></i>
												</a> <a [class.disabled]="!contactList.emailValidationInd"
													(click)="downloadContactList(contactList.id, contactList.name)"
													data-toggle="tooltip" data-placement="top"
													title="{{actionsDescription.contact_list_download}}"
													data-rel="fancybox-button"> <i
													class="fa fa-download"></i>
												</a>
												<ng-container *ngIf="contactList.synchronisedList == true">
												<a data-toggle="tooltip" data-placement="top"
													title="{{actionsDescription.contact_list_synchronize}}"
													[class.disabled]="!contactList.emailValidationInd"
													*ngIf="hasAllAccess || authenticationService.module.isVendor || (hasContactRole && loggedInUserId==contactList.uploadedUserId)"
													(click)="synchronizeContactList(contactList.id,contactList.socialNetwork)"
													data-rel="fancybox-button" style="left: 18%; top: -20px;">
													<i class="fa fa-refresh" aria-hidden="true"
													style="color: white;"></i>
												</a> </ng-container>
												<a [class.disabled]="!contactList.emailValidationInd"
													*ngIf="(hasAllAccess || authenticationService.module.isVendor || (hasContactRole && loggedInUserId==contactList.uploadedUserId) || authenticationService.isOnlyPartner()) && !contactList.defaultPartnerList"
													(click)="showAlert(contactList.id)" data-toggle="tooltip"
													data-placement="top"
													title="{{actionsDescription.contact_list_delete}}"
													data-rel="fancybox-button" lang="{{contactList.id}}"> <i
													class="fa fa-trash-o"></i>
												</a>
											</div>
											<div class="bar" *ngIf="!contactList.emailValidationInd">
											<a data-toggle="tooltip" data-placement="top"
													title="Force process the list"
													data-rel="fancybox-button" 
													(click)="forceProcessList(contactList.id)"> 
													<i class="fa fa-repeat"></i>
												</a>
										   </div>
										</div>
									</div>
								</div>
								<div id="pagination">
									<!--pager here  -->
									<app-pagination style="position:relative;top:-9px;"
										style="position:relative;top:-9px;"
										[hidden]="httpRequestLoader.isLoading"
										[pagination]="pagination" [type]="'contacts'"
										(notifyParent)="setPage($event)"
										(notifyParentDropDown)="loadContactLists($event)"></app-pagination>
								</div>
								</section>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<app-edit-contacts *ngIf="showEdit" [contacts]="users"
			(notifyParent)="update($event)"
			[selectedContactListId]="selectedContactListId"
			[uploadedUserId]="uploadedUserId"
			[contactListId]="selectedContactListId"
			[contactListName]="selectedContactListName"
			[isDefaultPartnerList]="isDefaultPartnerList"
			[isSynchronizationList]="isSynchronizationList"></app-edit-contacts>
	</div>

	<div *ngIf="! showListOfContactList">
		<div style="padding: 0 0 15px 0;">
		<!-- 	<app-response-message [customResponse]="customResponse"
				*ngIf="customResponse.isVisible"></app-response-message> -->
		</div>
		<div class="alert alert-success alert-dismissible"
			*ngIf="invalidDeleteSucessMessage" style="margin-bottom: 20px;">
			<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
			{{checkingContactTypeName}} List has been Deleted successfully.
		</div>
		<div class="alert alert-danger" style="padding: 12px 10px 12px;"
			*ngIf="invalidDeleteErrorMessage">
			<span [innerHTML]="response.responseMessage"></span>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="tabbable tabbable-custom tabbable-noborder">

					<div class="tab-content" style="min-height: 570px;">
						<!-- BEGIN PAGE HEADER-->
						<div class="page-bar" style="margin-bottom: 6px">
							<div class="page-toolbar">
								<div class="btn-group pull-right">
									<div class="inputs" align="right" style="float: right">
										<div *ngIf="!isSegmentation" (click)="modelForSeg()"
											style="float: left; cursor: pointer; margin-right: 10px"
											data-toggle="modal" data-target="#filterModal">
											<i class="fa fa-filter" aria-hidden="true" data-toggle="tooltip"
												data-placement="left" title="Apply a filter"
												style="color: #0095da; font-size: 30px; margin-top: 10px;"></i>
										</div>
										<div *ngIf="isSegmentation" (click)="removeSegmentation()"
											style="float: left; cursor: pointer; margin-right: 10px">
											<i class="fa fa-filter" aria-hidden="true"
											data-toggle="tooltip"
												data-placement="left" title="Remove a filter"
												style="color: red; font-size: 30px; margin-top: 10px;"></i>
											<i class="fa fa-times" aria-hidden="true"
												style="color: red; margin-left: -12px;"></i>
										</div>
										<div
											[ngClass]="{'mobileSorting':referenceService.isMobileScreenSize(), 'sortingContacts':!referenceService.isMobileScreenSize()}">
											<select class="form-control" [(ngModel)]="sortOption"
												(ngModelChange)="sortByOption($event, 'contacts')">
												<ng-container
													*ngFor="let sort of sortOptions; let i = index">
												<option *ngIf="i == 0" [ngValue]="sort">{{sort.name}}</option>
												<option *ngIf="sort.for == 'contacts'" [ngValue]="sort">{{sort.name}}</option>
												</ng-container>
											</select>
										</div>
										<div class="portlet-input input-inline"
											[ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
											<div class="input-icon right">
												<input type="text" [(ngModel)]="searchKey"
													[ngModelOptions]="{standalone: true}"
													(input)="searchKeyValue('contacts')" class="form-control"
													placeholder="Search for a {{checkingContactTypeName}}"
													(keypress)="eventHandler($event.keyCode)">

												<button
													class="glyphicon glyphicon-remove search-box-item-clear"
													*ngIf="searchKey" (click)="searchKey=''"></button>
												<button type="submit" class="search-box-item-click"
													(click)="search('contacts')">
													<i class="fa fa-search"></i>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="tab-pane active"></div>
						<div class="row">
							<div class="col-xs-12">
								<div *ngIf="contactsByType.isLoading"
									class="alert alert-info flex">
									<div class="loader"></div>
									<h4>please wait while we process your request</h4>
								</div>
								<div
									*ngIf="!contactsByType.isLoading && contactsByType.contacts?.length == 0"
									class="alert alert-info">
									<!-- <h4>No {{checkingContactTypeName}}s found..!</h4> -->
									<h4>No results found</h4>
								</div>
								<div class="portlet box blue"
									*ngIf="contactsByType.contacts?.length > 0">
									<div class="portlet-title">
										<div class="caption">
											<i class="fa fa-edit" style="font-size: 18px"></i> <span
												class="capitalize"
												*ngIf="contactsByType.selectedCategory !='non-active' && contactsByType.selectedCategory !='invalid'">{{contactsByType.selectedCategory}}
												{{checkingContactTypeName}}s List</span> <span class="capitalize"
												*ngIf="contactsByType.selectedCategory =='non-active'">Unregistered
												{{checkingContactTypeName}}s List</span> <span class="capitalize"
												*ngIf="contactsByType.selectedCategory =='invalid'">Undeliverable
												{{checkingContactTypeName}}s List</span>
										</div>
										<div class="btn-group pull-right"
											style="margin-top: 4px; color: #000000;"
											*ngIf="(hasAllAccess || hasContactRole || authenticationService.module.isVendor || authenticationService.isVendorPartner() || authenticationService.isPartner() || authenticationService.isOrgAdminPartner())">
											<span class="dropdown-toggle" data-toggle="dropdown"
												style="color: #FFF; box-shadow: none; margin-top: 8px; float: right;">
												<i class="fa fa-cog"
												style="font-size: 20px; margin-right: 5px"></i><i
												class="fa fa-angle-down"
												style="font-size: 14px; float: right"></i>
											</span>
											<ul class="dropdown-menu pull-right">
												<li *ngIf="contactsByType.selectedCategory == 'all'"><a
													(click)="saveAs()"> Save As </a></li>
												<li *ngIf="contactsByType.selectedCategory == 'invalid'"><a
													id="delete_button" (click)="invalidContactsShowAlert()">
														Delete </a></li>
												<li><a id="delete_button"
													(click)="downloadContactTypeList()"> Export To Excel </a></li>
											</ul>
										</div>
									</div>
									<div class="portlet-body">
										<div class="table-responsive">
											<app-loader [model]="httpRequestLoader.isHorizontalCss"
												*ngIf="httpRequestLoader.isLoading"></app-loader>
											<table class='table tgrid' id="sample_editable_1" style="overflow: hidden;"
												*ngIf="!httpRequestLoader.isLoading">
												<thead>
													<tr>
														<td align="center"
															*ngIf="contactsByType.selectedCategory == 'all'"><input
															type="checkbox" name="all"
															[(ngModel)]="isHeaderCheckBoxChecked"
															(change)="checkAll($event)" id="checkAllExistingContacts" /></td>
														<td align="center"
															*ngIf="contactsByType.selectedCategory == 'invalid'">
															<input type="checkbox" name="all"
															[(ngModel)]="isInvalidHeaderCheckBoxChecked"
															(change)="checkAllInvalidContacts($event)"
															id="checkAllExistingInvalidContacts" />
														</td>
														<th style="width: 25%" *ngIf="!isPartner">NAME</th>
														<th style="width: 25%" *ngIf="isPartner">Entity info</th>
														<th *ngIf="isPartner" class="hidden-xs">VERTICAL</th>
														<th *ngIf="isPartner" class="hidden-xs">REGION</th>
														<th *ngIf="isPartner" class="hidden-xs">TYPE</th>
														<th *ngIf="isPartner" class="hidden-xs">CATEGORY</th>
														<th class="hidden-xs" *ngIf="!isPartner">Phone</th>
														<th class="text-center hidden-xs" *ngIf="!isPartner">Job Title</th>
														<th class="text-center hidden-xs"  *ngIf="!isPartner">ADDRESS</th>
														<th class="text-center" *ngIf="isPartner"></th>
														<th class="text-center" *ngIf="contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'unsubscribe'">ACTIONS</th>
														<!-- <th>MORE</th> -->
													</tr>
												</thead>
												<tbody>
													<ng-container
														*ngFor="let contact of contactsByType.contacts; let i = index">
													<tr class='row_{{i}}'>
														<td align="center"
															*ngIf="contactsByType.selectedCategory == 'all'"><input
															type="checkbox"
															[checked]="selectedContactListIds.indexOf(contact.id)>-1"
															class="chk"
															[class.contact-list-selected]="selectedContactListIds.indexOf(contact.id)>-1"
															lang="{{contact.name}}" name="campaignContact[]"
															value="{{contact.id}}" id="{{contact.id}}"
															(click)="highlightRow(contact.id,contact.emailId,contact.firstName,contact.lastName,$event)" />
														</td>
														<td align="center"
															*ngIf="contactsByType.selectedCategory == 'invalid'">
															<input type="checkbox"
															[checked]="selectedInvalidContactIds.indexOf(contact.id)>-1"
															class="chk"
															[class.contact-list-selected]="selectedInvalidContactIds.indexOf(contact.id)>-1"
															lang="{{contact.name}}" name="invalidContact[]"
															value="{{contact.id}}" id="{{contact.id}}"
															(click)="invalidContactsSelectedUserIds(contact.id,contact.emailId,contact.firstName,contact.lastName,$event)" />
														</td>
														<td *ngIf="isPartner"><app-user-info
																[isPartnerEntityInfo]="true" [isPartnerInfo]="true"
																[userInfo]="contact"> </app-user-info></td>
														<td *ngIf="!isPartner"><app-user-info
																[isContactCompanyInfo]="true" [userInfo]="contact"></app-user-info>
														</td>

														<td *ngIf="isPartner" class="hidden-xs" >{{contact.vertical}}</td>
														<td *ngIf="isPartner" class="hidden-xs" >{{contact.region}}</td>
														<td *ngIf="isPartner" class="hidden-xs" >{{contact.partnerType}}</td>
														<td *ngIf="isPartner" class="hidden-xs" >{{contact.category}}</td>
														<td class="hidden-xs" *ngIf="!isPartner">
															<div *ngIf="contact.mobileNumber" [class.disabled]="true"
																style="pointer-events: none !important; cursor: auto;">
																<int-phone-prefix [(ngModel)]="contact.mobileNumber"
																	[ngModelOptions]="{standalone: true}"></int-phone-prefix>
															</div> <!-- <h5>
                                <span *ngIf="contact?.mobileNumber; else NA">{{contact.mobileNumber}}</span>
                              </h5> -->
														</td>
														<td class="text-center hidden-xs" *ngIf="!isPartner">{{contact.jobTitle}}</td>
													<!-- 	<td class="text-center hidden-xs">
															<h5 class='mb0 ellipsis' title="{{contact.jobTitle}}">
																{{contact.jobTitle | slice:0:25}} <span
																	*ngIf="contact.jobTitle?.length>25">...</span>
															</h5> <h6 class='mt0' *ngIf="!isPartner">{{contact.contactCompany}}</h6>
														</td> -->
														<td class="text-center hidden-xs" *ngIf="!isPartner">
															<h5 *ngIf="contact?.address" class='mb0'>{{contact.address}}</h5>
															<h5 class='mb0'>
																{{contact.city}}<span
																	*ngIf="contact?.city && contact.state">,&nbsp;</span>{{contact.state}}
															</h5>
															<h5 *ngIf="contact?.zipCode || contact.country"
																class='mt0'>
																{{contact.zipCode}}<span
																	*ngIf="contact?.zipCode && contact.country">,&nbsp;</span>{{contact.country}}
															</h5>
														</td>
														<td  align="center" *ngIf="isPartner">
															<button id='more_less_button_{{i}}'
																(click)="contact.isShowDetails = ! contact.isShowDetails">
																<span *ngIf="!contact.isShowDetails">More</span> <span
																	*ngIf="contact.isShowDetails">Less</span>
														</button>
													</td>
														<td  align="center" *ngIf="contactsByType.selectedCategory == 'non-active' || contactsByType.selectedCategory == 'unsubscribe'">
															<!-- <button id='more_less_button_{{i}}' *ngIf="isPartner"
																(click)="contact.isShowDetails = ! contact.isShowDetails">
																<span *ngIf="!contact.isShowDetails">More</span> <span
																	*ngIf="contact.isShowDetails">Less</span>
															</button> -->

															<button class="btn green" *ngIf="contactsByType.selectedCategory == 'unsubscribe' && (authenticationService.isVendor() || authenticationService.isOrgAdmin() || authenticationService.isVendorPartner() || authenticationService.isOrgAdminPartner())"
																(click)="activateUnsubscribedUser(contact.id)">
																Subscribe
															</button>

															<div class="actions-block override-actions"
																*ngIf="isPartner && contactsByType.selectedCategory == 'non-active'">
																<a *ngIf="!contact.signedUp" data-toggle="tooltip"
																	data-placement="bottom"
																	title="{{actionsDescription.partner_reSendMail}}"
																	(click)="sendMail(contact.id)"> <i
																	class="fa fa-envelope"></i>
																</a>
															</div>
														</td>
														<!-- <td>
															<button id='more_less_button_{{i}}'
																(click)="contact.isShowDetails = ! contact.isShowDetails">
																<span *ngIf="!contact.isShowDetails">More</span> <span
																	*ngIf="contact.isShowDetails">Less</span>
															</button>
														</td> -->
														<ng-template #NA>N/A</ng-template>
													</tr>
													<tr
												[ngClass]="{'hidden': !contact.isShowDetails, 'show-more': contact.isShowDetails}">
												<td colspan="8">
													<table cellpadding="5" cellspacing="0"
														style="padding-left: 50px; margin-left: 55px;">
														<tbody>
															<tr>
																<td class='pt10 pb10 bold'>Phone:</td>
																<td class='pt10 pb10'>
																	<div *ngIf="contact.mobileNumber"
																		[class.disabled]="true"
																		style="pointer-events: none !important; cursor: auto;">
																		<int-phone-prefix [(ngModel)]="contact.mobileNumber"
																			[ngModelOptions]="{standalone: true}"></int-phone-prefix>
																	</div>
																</td>
															</tr>
															<tr>
																<td class='pt10 pb10 bold'>Address: </td>
																<td align="center" class="hidden-xs">
																	<h5 *ngIf="contact?.address" class='mb0'>{{contact.address}}</h5>
																	<h5 class='mb0'>
																		{{contact.city}}<span
																			*ngIf="contact.city && contact.state">,&nbsp;</span>{{contact.state}}
																	</h5>
																	<h5 *ngIf="contact?.zipCode || contact.country"
																		class='mt0'>
																		{{contact.zipCode}}<span
																			*ngIf="contact.zipCode && contact.country">,&nbsp;</span>{{contact.country}}
																	</h5>
																</td>
															</tr>
														</tbody>
													</table>
												</td>
											</tr>
													</ng-container>
												</tbody>
											</table>
										</div>
									</div>
								</div>

								<app-pagination style="position:relative;top:-9px;"
									[pagination]="contactsByType.pagination"
									[hidden]="contactsByType.isLoading"
									[type]="contactsByType.selectedCategory"
									(notifyParent)="setPage($event)"
									(notifyParentDropDown)="onChangeAllContactUsers($event)"></app-pagination>
							</div>
						</div>
						<app-export-csv *ngIf="referenceService.isDownloadCsvFile"
							[downloadListDetails]="downloadDataList"
							[downloadListName]="logListName"> </app-export-csv>
						<!-- END PAGE CONTENT -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<app-scroll-top></app-scroll-top>
</div>

<div id="filterModal" class="modal right fade" role="dialog"
	data-backdrop="static" data-keyboard="false">
	<!-- <div class="modal-dialog" [ngStyle]="{'width':!referenceService.isMobileScreenSize()? '53%': '95%'}"> -->
	<div class="modal-dialog modal-css" role="document"
		style="right: 0 !important">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="cancelSegmentation()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title">Filter</h4>
			</div>
			<div class="modal-body" style="padding: 28px;">
				<div class="row">
					<div class="col-xs-12 col-sm-12">
						<div class="row col-sm-11"
							*ngFor="let addRow of criterias; let i = index"
							style="padding-bottom: 10px;">
							<div class="form-group">
								<div class="form-inline col-sm-12">
									<div class="form-group col-sm-4">
									<b>{{i}}</b>
										<select class="form-control"
											[(ngModel)]="criterias[i].property">
											<option
												*ngFor="let filterOption of filterOptions; let i = index">{{filterOption.name}}</option>
										</select>
									</div>
									<div class="form-group col-sm-3">
										<select class="form-control"
											[(ngModel)]="criterias[i].operation">
											<option
												*ngFor="let filterCondition of filterConditions; let i = index">{{filterCondition.name}}</option>
										</select>
									</div>
									<div class="form-group col-sm-3">
										<input type="text" class="form-control" placeholder="value*"
											[(ngModel)]="criterias[i].value1">
									</div>
									<div class="form-group col-sm-2" data-toggle="tooltip"
												data-placement="left" title="Remove a condition"
										[ngClass]="{'filter-css': !referenceService.isMobileScreenSize(), 'mobile-view-filter':referenceService.isMobileScreenSize()}">
										<span (click)="cancelRow(i)"> <i class="fa fa-trash-o"
											aria-hidden="true"
											style="color: red; font-size: 26px; margin-top: 6px"></i>
										</span>
									</div>
								</div>
							</div>
						</div>
						<div class="row col-sm-1" style="margin-left: 32px;">
							<div data-toggle="tooltip" data-placement="left" title="Add a condition">
							<span [class.disabled]="criterias.length > 5"  (click)="addNewRow()" class="btn btn-default pull-right">
								<i class="fa fa-plus-square" aria-hidden="true"
									style="color: #0196da"></i>
							</span>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xs-12 m0" *ngIf="isSegmentationErrorMessage">
					<h4 class="m0" style="color: red; text-align: center;">{{filterConditionErrorMessage}}</h4>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn green" [disabled]="criterias.length === 0" (click)="contactFilter()">Submit</button>
				<button type="button" class="btn green"
					(click)="cancelSegmentation()" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

<!-- Save As Modal -->
<div class="modal right fade" id="saveAsModal" tabindex="-1"
	role="dialog" aria-labelledby="saveAsModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-copy" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title f-w-600" id="saveAsModalLabel">{{checkingContactTypeName}}
					List Name</h4>
				<button type="button" class="close-circle" data-dismiss="modal"
					style="position: relative; top: -24px;">
					<i class="fa fa-times"></i>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label for="campaignName">Name</label> <input class="form-control"
						type="text" id="campaignName" [(ngModel)]="saveAsListName">
					<span style="color: red">{{saveAsError}}</span>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary"
					(click)="saveAsInputChecking()">Save changes</button>
			</div>
		</div>
	</div>
</div>


<!-- END PAGE CONTENT-->

<div class="page-content">
  <div class="page-bar">
     <ul class="page-breadcrumb">
        <li>
           <i class="fa fa-home" aria-hidden="true"></i>
           <a routerLink="/home/dashboard/default">Home</a>
           <i class="fa fa-angle-right" aria-hidden="true"></i>
        </li>
        <li><i class="fa fa-rss" aria-hidden="true"></i>RSS</li>
     </ul>
  </div>
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
  <div class="row">
     <div class="col-md-12 col-lg-12">
        <div class="row">
           <app-left-nav></app-left-nav>
           <div class="col-sm-9" >
              <div class="page-bar page-bar-shadow pb-m">
                 <div class="portlet light" style="border-color: #fff !important;">
                  <div style="position: relative; top: -10px">
                     <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
                 </div>
                    <!---Search Bar---->
                    <div class="form-group has-feedback has-search">
                       <span class="glyphicon glyphicon-search"></span>
                       <span class="glyphicon glyphicon-remove" (click)="pagination.searchKey='';searchFeeds();"></span>
                       <input type="text" [(ngModel)]="pagination.searchKey" [ngModelOptions]="{standalone: true}"  class="form-control" placeholder="Search Feeds" 
                          (keyup.enter)="searchFeeds()" style="padding: 22px;padding-left: 49px">
                    </div>
                    <div class="portlet-body pt0">
                       <app-rss-loader *ngIf="loading"></app-rss-loader>
                       <ng-container *ngIf="!hasError">
                                <div>
                                  <div class="table-responsive">
                                    <table class='table tgrid table-hover table-sm' id="manage-feeds" *ngIf="pagination.pagedItems?.length>0">
                                      <thead>
                                          <tr>
                                              <th id="min-width">
                                                  Feed Details
                                              </th>
                                              <th  class="text-center" id="min-width" translate>Actions</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                        <tr *ngFor="let feed of pagination.pagedItems ;let i =index">
                                          <td>
                                             <span  title="{{feed?.statusMessage}}">
                                                <span>{{feed?.statusMessage|slice:0:100}}
                                                   <span *ngIf="feed?.statusMessage?.length>100">..</span>
                                                </span>
                                            </span>
                                            
                                             <div *ngIf="feed?.socialStatusContents.length>0" class="img-wrap img-responsive img-thumbnail rounded-0">
                                                <ng-container *ngFor="let item of feed?.socialStatusContents">
                                                  <img async *ngIf="item.fileType !== 'video'" src="{{authenticationService.MEDIA_URL}}{{item.filePath}}">
                                                  <img async *ngIf="item.fileType === 'video'" src="{{item.filePath}}">
                                                </ng-container>
                                                
                                             </div>
                                             <h6 *ngIf="feed.publishToPartners" class="published-banner" translate>Published</h6>
                                          </td>
                                          <td id="actions-row">
                                            <div class="actions-block override-actions">
                                              <a  data-toggle="tooltip" data-placement="top" title="Edit"
                                                    (click)="editFeed(feed)">
                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                </a>
                                                <a  data-toggle="tooltip" data-placement="top" title="Publish"
                                                    (click)="publishFeed(feed)">
                                                    <i class="fa fa-upload" aria-hidden="true"></i>
                                                </a>
                                                <a  data-toggle="tooltip" data-placement="top" title="Share"
                                                    (click)="shareFeed(feed)">
                                                    <i class="fa fa-share" aria-hidden="true"></i>
                                                </a>
                                                <a  data-toggle="tooltip" data-placement="top" title="Delete"
                                                    (click)="confirmDeleteFeed(feed)">
                                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                </a>
                                              </div>
                                            </td>
                                        </tr>
                                      </tbody>
                                        </table>
                                    </div>
                                </div>
                          <br>
                          <div *ngIf="pagination.pagedItems.length !== 0" class="pg8">
                           <app-pagination [pagination]="pagination" (notifyParent)="setPage($event)" (notifyParentDropDown)="listAllFeeds($event)" [hidden]="loading"></app-pagination>
                        </div>
                       <!-- End of 24 -->
                        <div *ngIf="pagination.totalRecords==0 && !loading" class="alert alert-info">
                           <strong translate>No Feeds Found.</strong>
                       </div>
                       </ng-container>
                       <div *ngIf="hasError">
                          <div>
                             <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
                          </div>
                       </div>
                    </div>
                 </div>
              </div>
           </div>
        </div>
     </div>
  </div>
</div>
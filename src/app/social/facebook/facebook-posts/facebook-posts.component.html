<div class="page-content">
  <div class="page-bar square-box margin-bottom-10px">
    <ul class="page-breadcrumb">
      <li><i class="fa fa-home"></i> <a [routerLink]="referenceService.homeRouter">Home</a> <i
        class="fa fa-angle-right"></i></li>
      <li><a [routerLink]="['../../facebook-accounts']">Facebook
        Accounts</a> <i class="fa fa-angle-right"></i>
      </li>
      <li>Posts</li>
    </ul>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-6" *ngIf="httpRequestLoader.isLoading">
      <app-social-loader ></app-social-loader>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-6" *ngIf="posts?.length > 0">
      <div class="portlet light block fb-post-box" *ngFor="let post of posts">
        <div class="portlet-title">
              <img alt="{{post.from.name}}" src="{{socialConnection.profileImage}}">
                <h4 *ngIf="post.type == 'video' || post.type == 'photo'" class="fb-profile-desc">{{post.story}}</h4>
                <h5 class="fb-profile-name" *ngIf="post.type == 'link' || post.type == 'status'">{{post.from.name}}</h5>
                <h5 class="date">{{post.createdTime | date: 'short'}}</h5>
        </div>
        <div class="portlet-body container-fluid">
          <div *ngIf="post.type == 'video'" class='pt10'>
            <div *ngIf="post.application !== null">
              <div *ngIf="post.application.name == 'youtube'">
                <iframe [src]="post.source"></iframe>
              </div>
            </div>
            <video *ngIf="post.application === null" src="{{post.source}}" controls="controls"></video>
            <h4>{{post.description}}</h4>
          </div>
          <div *ngIf="post.type == 'photo'">
            <h4 [innerHTML]="post.message"></h4>
            <img alt="{{post.description}}" src="{{post.fullPicture}}" class="img-responsive img-post">
          </div>
          <div *ngIf="post.type == 'link'">
            <h4 [innerHTML]="post.message"></h4>
            <a target="_blank" href="{{post.link}}"
              style="text-decoration: none">
              <div class="portlet-body">
                <img alt="{{post.name}}" src="{{post.fullPicture}}" class="img-responsive img-post">
                <h4>{{post.name}}</h4>
                <p>{{post.description}}</p>
                <h5 class="uppercase bold">{{post.caption}}</h5>
              </div>
            </a>
          </div>
          <div *ngIf="post.type == 'status'">
          	<h4 class='m0' [innerHTML]="post.message"></h4>
          </div>
			<div class="flex">
				<section *ngIf="post.likes">
					<app-facebook-reactions [postId]="post.id"
						[totalCount]="post.likes.totalCount"
						[facebookAccessToken]="socialConnection.accessToken">
					</app-facebook-reactions>
				</section>
				<section *ngIf="post.comments">
					<app-facebook-comments [postId]="post.id"
						[totalCount]="post.comments.totalCount"
						[facebookAccessToken]="socialConnection.accessToken">
					</app-facebook-comments>
				</section>
			</div>
		</div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-6" [hidden]="!socialConnection" >
        <!-- <section *ngIf="socialConnection.emailId === null">
          <app-facebook-analytics></app-facebook-analytics>
        </section> -->
        <section *ngIf="socialConnection.emailId !== null">
        	<div class="portlet light block rounded-0">
				<h4 class="text-center" style="padding: 3em;">Blank Space</h4>
			</div>
        </section>
    </div>
  </div>
</div>

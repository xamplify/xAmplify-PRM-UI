<div class="page-content" [class.ml0]="authenticationService.isSuperAdmin()">
    <div class="page-bar breadcrumb-border">
        <ul class="page-breadcrumb">
            <li *ngIf="!authenticationService.isSuperAdmin()">
                <i class="fa fa-home" aria-hidden="true"></i> <a [routerLink]="refService.homeRouter" translate>Home</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li *ngIf="authenticationService.isSuperAdmin()">
                <i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="['/home/dashboard/admin-report']" translate>Admin Report</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li class="breadcrumb-font-color" style="color: #808080">
                <a [routerLink]="['/home/design/add']" translate>Create Design</a>
                 <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li class="breadcrumb-font-color" style="color: #808080">
                <a [routerLink]="['/home/emailtemplates/select']" translate>Design Templates</a>
                 <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li class="breadcrumb-font-color" style="color: #808080" *ngIf="!authenticationService.isOnlyPartner()" translate>Manage Templates</li>
            <li class="breadcrumb-font-color" style="color: #808080" *ngIf="authenticationService.isOnlyPartner()" translate>View Templates</li>
        </ul>
    </div>
    <div class="mTopAlert" style="position: relative; top: -10px">
        <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
    </div>
    <div class="row">
        <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div class="col-md-12">
            <div class="portlet light clearfix mAlertMsg" style="box-shadow: none;">
                <ng-container *ngIf="modulesDisplayType.isFolderGridView || modulesDisplayType.isFolderListView">
                    <app-category-folder-view-util [moduleType]="exportObject" (valueUpdate)="getUpdatedValue($event)"></app-category-folder-view-util>
                </ng-container>

                <div class="portlet-title" style="border-bottom: none">
                    <div class="row">
                        <div class="colxs-12 col-sm-12 col-md-6" style="padding-top: 5px;">
                            <div *ngIf="!isOnlyPartner">
                                <ul class="mix-filter" *ngIf="!modulesDisplayType.isFolderGridView &&!modulesDisplayType.isFolderListView">
                                    <li class="filter" (click)="filterTemplates('NONE',false,0)" [class.emailtemplate-selected]="0 == selectedTemplateTypeIndex" translate>All</li>
                                    <li class="filter" (click)="filterTemplates('EMAIL',false,2)" [class.emailtemplate-selected]="2 == selectedTemplateTypeIndex" translate>Email</li>
                                    <li class="filter" (click)="filterTemplates('VIDEO',true,4)" [class.emailtemplate-selected]="4 == selectedTemplateTypeIndex" *ngIf="campaignAccess.videoCampaign" translate>Video</li>
                                    <li class="filter" (click)="filterTemplates('UPLOADED',false,5)" [class.emailtemplate-selected]="5 == selectedTemplateTypeIndex" translate>Uploaded</li>
                                    <li class="filter" *ngIf="authenticationService?.module?.showPartnerEmailTemplatesFilter && !vanityLoginDto?.vanityUrlFilter" (click)="filterTemplates('PARTNER',false,6)" [class.emailtemplate-selected]="6 == selectedTemplateTypeIndex" translate>{{authenticationService?.partnerModule?.customName}}</li>
                                    <li class="filter" (click)="filterTemplates('REGULAR_CO_BRANDING',false,7)" [class.emailtemplate-selected]="7 == selectedTemplateTypeIndex" *ngIf="campaignAccess.emailCampaign && !authenticationService?.module?.isMarketingCompany" translate>Email Co-Branding
                                    </li>
                                    <li class="filter" (click)="filterTemplates('VIDEO_CO_BRANDING',false,8)" [class.emailtemplate-selected]="8 == selectedTemplateTypeIndex" *ngIf="campaignAccess.videoCampaign && !authenticationService?.module?.isMarketingCompany" translate>Video Co-Branding
                                    </li>
                                    <li class="filter" (click)="filterTemplates('EVENT',false,9)" [class.emailtemplate-selected]="9 == selectedTemplateTypeIndex" *ngIf="refService.eventCampaignTabAccess || campaignAccess.eventCampaign" translate>Event
                                    </li>
                                    <li class="filter" (click)="filterTemplates('EVENT_CO_BRANDING',false,10)" *ngIf="(refService.eventCampaignTabAccess || campaignAccess.eventCampaign) && !authenticationService?.module?.isMarketingCompany" [class.emailtemplate-selected]="10 == selectedTemplateTypeIndex"  translate>Event Co-Branding
                                    </li>
                                    <li class="filter" (click)="filterTemplates('SURVEY',false,11)" [class.emailtemplate-selected]="11 == selectedTemplateTypeIndex" *ngIf="campaignAccess.formBuilder" translate>Survey
                                    </li>
                                    <li class="filter" (click)="filterTemplates('SURVEY_CO_BRANDING',false,12)" *ngIf="campaignAccess.formBuilder && !authenticationService?.module?.isMarketingCompany" [class.emailtemplate-selected]="12 == selectedTemplateTypeIndex"  translate>Survey Co-Branding
                                    </li>
                                    <li class="filter" style="display: none;" translate>Own Template</li>
                                </ul>
                            </div>
                        </div>

                        <div class="page-toolbar col-xs-12 col-sm-12 col-md-6" style="padding-top: 10px;margin-left: -5px;" *ngIf="!modulesDisplayType.isFolderGridView && !modulesDisplayType.isFolderListView">
                            <div class="btn-group pull-right" style="display: flex;">
                                <div class="">
                                <div class="group-dropdown">
                                    <button
                      [ngClass]="modulesDisplayType.isListView ? 'fa fa-th-list btn-xs hidden-xs l-g-view' :modulesDisplayType.isGridView ?'fa fa-th-large btn-xs hidden-xs l-g-view':
                            modulesDisplayType.isFolderListView ? 'fa fa-th btn-xs hidden-xs l-g-view': modulesDisplayType.isFolderGridView ?'fa fa-folder btn-xs hidden-xs l-g-view':'fa fa-th-list btn-xs hidden-xs l-g-view'"
                      style="padding: 10px !important"></button>
                                    <!-- <button class="hidden-xs l-g-view {{viewClass}}" style="float:right;padding: 10px !important"></button> -->
                                <div class="group-dd-content">
                                <ng-container class='m10'>
                                    <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" data-placement="bottom" title="List View" [class.disabled]="modulesDisplayType.isListView" (click)="setViewType('List')">
                                        <i class="fa fa-th-list p10"   aria-hidden="true"></i></span> &nbsp;
                                    <span class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" title="Grid View" [class.disabled]="modulesDisplayType.isGridView" (click)="setViewType('Grid')">
                                        <i class="fa fa-th-large p10" aria-hidden="true"></i>
                                    </span>
                                   <ng-container *ngIf="(pagination.categoryId==0 || pagination.categoryId=='undefined')">
                                    <span  class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" 
                                        title="Folder Grid View" [class.disabled]="modulesDisplayType.isFolderGridView" (click)="setViewType('Folder-Grid')">
                                        <i class="fa fa-folder p10" aria-hidden="true"></i>
                                    </span>
                                    <span  class="btn btn-xs hidden-xs l-g-view margin-space folder-list-span-custom-width" data-toggle="tooltip" data-placement="bottom" 
                                        title="Folder List View" [class.disabled]="modulesDisplayType.isFolderListView" (click)="setViewType('Folder-List')">
                                        <!-- <img src="assets/images/folder-list.png" class="folder-list-image-custom-css" alt=""/> -->
                                        <i class="fa fa-th p10" aria-hidden="true"></i>
                                    </span>
                                </ng-container>
                                    <!-- <span *ngIf="pagination.categoryId>0" class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" 
                                        title="Go back" (click)="setViewType('Folder-Grid')"> 
                                        <i class="fa fa-arrow-up p10" aria-hidden="true"></i>
                                    </span> -->
                                </ng-container>
                                </div>
                                </div>
                                </div>
                                <span *ngIf="pagination.categoryId>0" class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" 
                                    title="Go back" (click)="setViewType('Folder-Grid')"> 
                                    <i class="fa fa-arrow-up p10" aria-hidden="true"></i>
                                </span>
                                <div class="inputs" align="right" style="float: right">
                                    <ng-container>
                                        <div style="float: left;">
                                            <select class="form-control" [(ngModel)]="selectedSortedOption" (ngModelChange)="getSortedResult($event)" style="position: relative;right: -3px;">
                                                <option *ngFor="let sortOption of sortByDropDown"
                                                    [ngValue]="sortOption">
                                                    {{sortOption.name}}</option>
                                            </select>
                                        </div>
                                        <div class="portlet-input input-inline input-small" style="width: 164px !important;">
                                            <div class="input-icon right" style="position: relative;right: -5px;">
                                                <input type="text" class="form-control" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" placeholder="Search for a template" (keypress)="eventHandler($event.keyCode)">
                                                <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey" (click)="searchKey='';searchTemplates()"></button>
                                                <button type="submit" class="search-box-item-click" (click)="searchTemplates()"><i class="fa fa-search" aria-hidden="true"></i></button>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <app-landing-page-loader [maxBoxLength]=4 *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isGridView">
                </app-landing-page-loader>
                <app-list-loader *ngIf=" httpRequestLoader.isLoading && modulesDisplayType.isListView "></app-list-loader>
                <app-grid-loader *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isFolderGridView"></app-grid-loader>
                <app-error-pages *ngIf="httpRequestLoader.isServerError "></app-error-pages>
                <section *ngIf="modulesDisplayType.isListView ">
                    <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
                        <div class="table-responsive">
                            <table class='table tgrid table-hover table-sm' id="manage-email-template-list" *ngIf="pagination.pagedItems?.length>0" aria-describedby="manageTemplates">
                                <thead>
                                    <tr>
                                        <th class="text-center hidden-xs" colspan="2" style="width: 30%" id="border-bottom">
                                            <span class="ui-column-resizer gray" (mousedown)="refService.onMouseDown($event,'manage-email-template-list',2)">
                                            </span>
                                            <span class="gridHeader" translate>Email Template</span>
                                        </th>
                                        <th class="text-center visible-xs" colspan="1" style="width: 10%" id="border-bottom">
                                            <span class="ui-column-resizer gray" (mousedown)="refService.onMouseDown($event,'manage-email-template-list',1)">
                                            </span>
                                            <span class="gridHeader" translate>Email Template</span>
                                        </th>
                                        <th class="hidden-xs text-center" translate scope="row">Type</th>
                                        <th class="hidden-xs text-center" translate scope="row">Created On</th>
                                        <th class="text-center" style="min-width: 200px;" translate scope="row">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let emailTemplate of pagination.pagedItems ;let i =index">
                                        <td class="hidden-xs custom-icon-width">
                                            <img class="email-template-preview" *ngIf="emailTemplate.subject" src="{{emailTemplate.subject}}" alt="Image Not Found" style="border: 1px solid #e0e0e0;">
                                            <img class="email-template-preview" *ngIf="!emailTemplate.subject" src="assets/images/bee-template/rich-simple.jpg" alt="" style="border: 1px solid #e0e0e0;">
                                        </td>
                                        <td>
                                            <h4 class="moreipsis mt5 mb5 f-w-600" data-toggle="tooltip" data-placement="top" title="{{emailTemplate.name}}">
                                                <span><strong>{{emailTemplate.name}}</strong></span>
                                            </h4>
                                            <h6 class="moreipsis">
                                                <span translate>Folder <strong>{{emailTemplate.category}}</strong></span>
                                            </h6>
                                            <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                <h6 class="moreipsis">
                                                    <span translate> Shared By <strong>{{emailTemplate.vendorName}}</strong></span>
                                                </h6>
                                                <h6 class="moreipsis" data-toggle="tooltip" data-placement="top"  title="{{emailTemplate.vendorOrganizationName}}">
                                                    <span translate> From <strong>{{emailTemplate.vendorOrganizationName}}</strong></span>
                                                </h6>
                                            </ng-container>
                                            <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                <h6 class="moreipsis" data-toggle="tooltip" data-placement="top" title="{{emailTemplate.createdBy}}">
                                                    <span translate>Created By <strong>{{emailTemplate.createdBy}}</strong></span>
                                                </h6>
                                            </ng-container>
                                            <h5 class="view-banner-draft mr5" *ngIf="emailTemplate.draft" translate>DRAFT</h5>
                                            <!---XNFR-255-->
                                            <ng-container *ngIf="emailTemplate?.whiteLabeledEmailTemplateReceivedFromVendor">
                                                <h6 class="moreipsis" data-toggle="tooltip" data-placement="top"  title="{{emailTemplate?.whiteLabeledEmailTemplateSharedByVendorCompanyName}}">
                                                    <span translate>Received From <strong>{{emailTemplate?.whiteLabeledEmailTemplateSharedByVendorCompanyName}}</strong></span>
                                                </h6>
                                                <h5 class="view-banner-green">White-Labeled</h5>
                                            </ng-container>
                                             <!---XNFR-255-->
                                            <h5 class="badge badge-secondary m0" style="width: 44px;" *ngIf="emailTemplate.spamScore"
                                             [ngClass]="{'bg-color-red': emailTemplate.spamScore < '5.0/10' && emailTemplate.spamScore != '10/10','bg-color-yellow': emailTemplate.spamScore > '5.0/10' && emailTemplate.spamScore < '8.0/10', 'bg-color-green': emailTemplate.spamScore > '8.0/10' || emailTemplate.spamScore == '10/10'}"
                                                data-toggle="tooltip"  data-placement="top" title="Spam score" >{{emailTemplate.spamScore}}
                                            </h5>
                                            <h5 class="view-banner" *ngIf="emailTemplate.type=='PARTNER'" translate>PARTNER</h5>
                                        </td>
                                        <td class="hidden-xs text-center">
                                            <div class="text-center">
                                                <span class="view-banner display-ib mb5">
                                                    <span *ngIf="emailTemplate.emailTemplateType==='Regular Co-Branding'; else Other" translate>Email Co-Branding
                                                        </span>
                                                    <ng-template #Other>{{emailTemplate.emailTemplateType | translate}}</ng-template>
                                                </span>
                                            </div>
                                        </td>
                                        <td class="hidden-xs text-center">
                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="emailTemplate.createdDate">
                                            </app-timestamp>
                                        </td>
                                        <td style="width: 14%" class="mActionAlign">
                                            <div [ngClass]="loggedInAsSuperAdmin ? 'actions-block override-actions mwttpxmet actionAlignWeb actionAlignWeb mPadAction':'actions-block override-actions actionAlignWeb actionAlignWeb mPadAction'">
                                                <div class="mActionDiv">
                                                <a *ngIf="loggedInAsSuperAdmin" (click)="openDefaultTemplatePopup(emailTemplate)" data-toggle="tooltip" data-placement="top" title="Save As Default Template">
                                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                                </a>
                                                <a (click)="spamCheck(emailTemplate)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_spam_check}}">
                                                    <i class="fa fa-inbox" aria-hidden="true"></i>
                                                </a>
                                                </div>
                                                <div class="mActionDiv">
                                                <a class="mMobileDisable"  (click)="edit(emailTemplate.id)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_edit}}" 
                                                *ngIf="(hasAllAccess||(hasEmailTemplateRole && emailTemplate.userId==loggedInUserId)  || authenticationService.module.isVendor || 
                                                    authenticationService.module.isPrm  || authenticationService.module.isVendorTier || authenticationService.module.isMarketing ) && emailTemplate.type!='PARTNER'">
                                                    <i class="fa fa-pencil-square-o mDisableColor" aria-hidden="true"></i>
                                                </a>
                                                <a *ngIf="!emailTemplate.draft" (click)="getTemplateById(emailTemplate)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_preview}}"> <i class="fa fa-eye" aria-hidden="true"></i>
                                                </a>
                                                </div>
                                                <div class="mActionDiv">
                                                <a id="template-delete" (click)="confirmDeleteEmailTemplate(emailTemplate.id,emailTemplate.name)" 
                                                *ngIf="(hasAllAccess||(hasEmailTemplateRole && emailTemplate.userId==loggedInUserId)  ||authenticationService.module.isVendor || 
                                                    authenticationService.module.isPrm  || authenticationService.module.isVendorTier || authenticationService.module.isMarketing) && emailTemplate.type!='PARTNER' ">
                                                    <i class="fa fa-trash-o" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_delete}}"  aria-hidden="true"></i>
                                                </a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </ng-container>
                </section>
                <!---Grid View---->
                <div class="row" *ngIf="modulesDisplayType.isGridView && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError" style="padding: 0px 3px 0px 3px;">
                    <div class="col-md-3 col-sm-4 col-xs-12" *ngFor="let emailTemplate of pagination.pagedItems ;let i =index" id="emailTemplateListDiv_{{emailTemplate.id}}">
                        <div class="grid-box cardHeight">
                            <span class="ribbon1">
                                <span *ngIf="emailTemplate.emailTemplateType==='Regular Co-Branding'" translate>Email Co-Branding
                                    </span>
                            <span *ngIf="emailTemplate.emailTemplateType !='Regular Co-Branding'" >{{emailTemplate.emailTemplateType | translate}}</span>
                            </span>
                            <img class="email-template-preview" *ngIf="emailTemplate.subject" style="margin: 0 !important; height: 390px !important; width: 100% !important; border-radius: 5px;" src="{{emailTemplate.subject}}" alt="Image Not Found">
                            <img alt="" class="email-template-preview" *ngIf="!emailTemplate.subject" style="margin: 0 !important; height: 390px !important; width: 100% !important; border-radius: 5px;" src="assets/images/bee-template/rich-simple.jpg">
                            <h4 class="ellipsis mt5 mb5 f-w-600" data-toggle="tooltip" data-placement="top" title="{{emailTemplate.name}}">
                                {{emailTemplate.name | slice:0:25}} <span *ngIf="emailTemplate.name?.length>25">...</span><br><br>
                            </h4>
                            <div>
                                <h6>
                                    <span translate>Folder <strong>{{emailTemplate.category | slice:0:20}}</strong>
                                        <span *ngIf="emailTemplate.category?.length>20">...</span>
                                    </span>
                                </h6>
                                <h6 *ngIf="emailTemplate.type=='PARTNER'" translate>
                                    Shared On <strong>
                                        <app-timestamp [isOnlyDate]="true" [dateAndTime]="emailTemplate.createdDate">
                                        </app-timestamp>
                                    </strong>
                                    <span class="badge badge-secondary list-view-spam-score" *ngIf="emailTemplate.spamScore" [ngClass]="{'bg-color-red': emailTemplate.spamScore < '5.0/10' && emailTemplate.spamScore != '10/10','bg-color-yellow': emailTemplate.spamScore > '5.0/10' && emailTemplate.spamScore < '8.0/10', 'bg-color-green': emailTemplate.spamScore > '8.0/10' || emailTemplate.spamScore == '10/10'}"
                                        data-toggle="tooltip"  data-placement="top" title="Spam score" >{{emailTemplate.spamScore}}</span>
                                </h6>
                                <h6 *ngIf="emailTemplate.type!='PARTNER'" translate>
                                    Created On <strong>
                                        <app-timestamp [isOnlyDate]="true" [dateAndTime]="emailTemplate.createdDate">
                                        </app-timestamp>
                                    </strong>
                                    <span class="badge badge-secondary list-view-spam-score" *ngIf="emailTemplate.spamScore" [ngClass]="{'bg-color-red': emailTemplate.spamScore < '5.0/10' && emailTemplate.spamScore != '10/10','bg-color-yellow': emailTemplate.spamScore > '5.0/10' && emailTemplate.spamScore < '8.0/10', 'bg-color-green': emailTemplate.spamScore > '8.0/10' || emailTemplate.spamScore == '10/10'}"
                                        data-toggle="tooltip" data-placement="top" title="Spam score">{{emailTemplate.spamScore}}</span>
                                </h6>
                                <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                    <h6 data-toggle="tooltip" data-placement="top" title="{{emailTemplate.createdBy}}" translate>
                                        By <strong>{{emailTemplate.createdBy | slice:0:17}}</strong>
                                        <span *ngIf="emailTemplate.createdBy?.length>17">..</span>
                                    </h6>
                                    <h6  data-toggle="tooltip" data-placement="top" title="{{emailTemplate.companyName}}" translate>
                                        From <strong>{{emailTemplate.companyName | slice:0:17}}</strong>
                                        <span *ngIf="emailTemplate.companyName?.length>17">..</span>
                                    </h6>
                                </ng-container>
                                <div class="ribbon draft" *ngIf="emailTemplate.draft">
                                    <span  translate>DRAFT</span>
                                </div>
                                <!---XNFR-255-->
                                <ng-container *ngIf="emailTemplate?.whiteLabeledEmailTemplateReceivedFromVendor">
                                    <div class="ribbon active">
                                        <span translate>White-Labeled</span>
                                    </div>
                                    <h6 title="{{emailTemplate?.whiteLabeledEmailTemplateSharedByVendorCompanyName}}" translate>
                                        Received From <strong>{{emailTemplate?.whiteLabeledEmailTemplateSharedByVendorCompanyName | slice:0:20}}</strong>
                                        <span *ngIf="emailTemplate?.whiteLabeledEmailTemplateSharedByVendorCompanyName?.length>20">..</span>
                                    </h6>
                                </ng-container>
                                 <!---XNFR-255-->
                            </div>
                            <div class="bar">
                                <a *ngIf="loggedInAsSuperAdmin" (click)="openDefaultTemplatePopup(emailTemplate)" data-toggle="tooltip" data-placement="top" title="Save As Default Template">
                                    <i class="fa fa-plus" aria-hidden="true"></i>
                                </a>
                                <a (click)="spamCheck(emailTemplate)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_spam_check}}">
                                    <i class="fa fa-inbox" aria-hidden="true"></i>
                                </a>
                                <a (click)="edit(emailTemplate.id)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_edit}}" 
                                    *ngIf="(hasAllAccess||(hasEmailTemplateRole && emailTemplate.userId==loggedInUserId)  || authenticationService.module.isVendor  ||
                                     authenticationService.module.isPrm  || authenticationService.module.isVendorTier || authenticationService.module.isMarketing) && emailTemplate.type!='PARTNER'">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                                <a *ngIf="!emailTemplate.draft" (click)="getTemplateById(emailTemplate)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_preview}}"> <i class="fa fa-eye" aria-hidden="true"></i>
                                </a>
                                <a (click)="confirmDeleteEmailTemplate(emailTemplate.id,emailTemplate.name)" data-toggle="tooltip" data-placement="top" title="{{actionsDescription.template_delete}}"
                                 *ngIf="(hasAllAccess||(hasEmailTemplateRole && emailTemplate.userId==loggedInUserId)||authenticationService.module.isVendor || 
                                 authenticationService.module.isPrm  || authenticationService.module.isVendorTier || authenticationService.module.isMarketing) && emailTemplate.type!='PARTNER' ">
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <ng-container *ngIf="modulesDisplayType.isListView || modulesDisplayType.isGridView">
                    <div *ngIf="pagination.pagedItems.length !== 0" class="pg8">
                        <app-pagination [pagination]="pagination" (notifyParent)="setPage($event)" (notifyParentDropDown)="listEmailTemplates($event)" [hidden]="httpRequestLoader.isLoading">
                        </app-pagination>
                    </div>
                    <!-- End of 24 -->
                    <div *ngIf="pagination.totalRecords==0 && !httpRequestLoader.isLoading" class="alert alert-info">
                        <strong translate>No Templates Found</strong>
                    </div>
                </ng-container>

            </div>
        </div>
    </div>

    <div class="modal fade right" id="show_email_template_preivew" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close-circle" data-dismiss="modal" (click)="emailTemplate = null" aria-hidden="true">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                    <h4 class="modal-title" id="email-template-title" style="text-align: center;"></h4>
                </div>
                <div class="modal-body">
                    <div id="htmlContent"></div>
                </div>
                <div class="modal-footer">
                    <a href="javascript:void(0)" data-dismiss="modal" (click)="emailTemplate = null" class="btn btn-default" style="float: right" translate>Close</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade right" id="email_spam_check" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg modal-template" style="right:0">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close-circle" data-dismiss="modal" (click)="emailTemplate = null" aria-hidden="true">
                        <i class="fa fa-times" aria-hidden="true"></i></button>
                    <h4 class="modal-title" translate>Email Spam Check</h4>
                </div>
                <div class="modal-body">
                    <app-email-spam-check *ngIf="emailTemplate" [emailTemplate]="emailTemplate"></app-email-spam-check>
                </div>
                <div class="modal-footer">
                    <a href="javascript:void(0)" data-dismiss="modal" (click)="emailTemplate = null" class="btn btn-default" style="float: right" translate>Close</a>
                </div>
            </div>
        </div>
    </div>
    <app-scroll-top></app-scroll-top>
</div>
<ng-container *ngIf="saveAsDefaultTemplate">
<app-add-default-template-details [defaultTemplateInput]="defaultTemplateInput"  (notifyChild)="showSuccessMessage()"></app-add-default-template-details>
</ng-container>

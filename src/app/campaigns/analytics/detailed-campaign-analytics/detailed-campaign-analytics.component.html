<style type="text/css">
  .td-new,
  th {
    padding: 2px;
  }

  .disabled {
    pointer-events: none;
    cursor: not-allowed !important;
  }

  .btn-social {
    color: #fff;
  }
</style>
<ngx-loading [show]="ngxloading" [config]="{fullScreenBackdrop:true , backdropBorderRadius: '14px' }"></ngx-loading>
<app-event-send-reminder *ngIf="isOpenNotificationModal" (notifyParent)="emailNotOpenReminderDate($event)"
  [selectedEventCampaignId]="campaign.campaignId" [selectedUserId]="selectedEmailNotOpenUserId">
</app-event-send-reminder>
<app-detail-view *ngIf="showRsvpDetails" [campaignReport]="campaignReport" [detailType]="rsvpResposeType"
  [campaignType]="campaignType" [campaign]="campaign" [details]="rsvpDetailsList">
</app-detail-view>
<ngx-loading [show]="loading" [config]="{fullScreenBackdrop:true , backdropBorderRadius: '14px' }"></ngx-loading>

<!---XNFR-125-->
<ng-container>
  <div [ngClass]="hidePageContent? '':'page-content'" *ngIf="!isTimeLineView && !showRsvpDetails && !isShowPartnerLeads && !showDealForm"
    [class.ml0]="authenticationService.isSuperAdmin()">
    <div class="page-bar square-box" style="margin: 0 0px 15px;border-radius: 0;">
      <ng-template  [ngTemplateOutlet]="campaignAnalyticsBreadCrumb"></ng-template>
      <button routerLink="/home/campaigns/{{campaign.campaignId}}/checkin"
        *ngIf="campaignType=='EVENT' && !campaign.nurtureCampaign && campaign.publicEventCampaign" class="btn btn-primary"
        id="check-in-css">
        <b>Check In</b>
        <img src="assets/images/attendees.png" id="custom-width-button">
      </button>
      <a class="close-circle" *ngIf="campaignType!='EVENT' && campaignType!='SOCIAL' && !isDataShare && !mainLoader"
        id="check-in-css" (click)="downloadReport()">
        <i class="fa fa-download" aria-hidden="true"></i>
      </a>
    </div>

    <div class="portlet light clearfix" *ngIf="!isShowPartnerLeads && !showLeads && !showDeals">
      <div class="portlet-body">
        <div *ngIf="hasClientError && !mainLoader" class="client-error">Something went wrong, Please refresh the page
        </div>
        <div *ngIf="customResponse.responseType === 'ERROR'; else NOERROR" class="m10">
          <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
        </div>
        <ng-template #NOERROR>
          <app-analytics-loader *ngIf="mainLoader"></app-analytics-loader>
          <div class="row" [hidden]="mainLoader || hasClientError">
            <div class="alert alert-danger alert-dismissible" *ngIf="contactListDeleteError">
              <a (click)="contactListDeleteError = false" class="close" data-dismiss="alert"
                aria-label="close">&times;</a>
              The contact list(s) associated with this campaign has been deleted.
            </div>
            <div class="alert alert-danger alert-dismissible cancel-alert-class" *ngIf="isCancelledEvent">
              <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
              The event has been cancelled.
            </div>

            <!-- ****************campaign info**************** -->
            <div class="pl10 pr10 col-xs-12"
              [ngClass]="{'col-sm-3': campaignType === 'VIDEO', 'col-sm-4': (campaignType === 'REGULAR' || campaignType === 'LANDINGPAGE' || campaignType === 'SURVEY'), 'col-sm-6': campaignType === 'SOCIAL'}"
              *ngIf="campaignType === 'REGULAR' || campaignType === 'LANDINGPAGE' || campaignType === 'VIDEO' || campaignType === 'SOCIAL' || campaignType === 'SURVEY' ">
              <a class="dashboard-stat dashboard-stat-lighter yellow-gold forbidden" style="display: flex"
                [class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
                <div class="visual">
                  <i class="fa fa-envelope-open" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title"
                    *ngIf="campaign.channelCampaign && campaignType != 'VIDEO' && campaignType != 'LANDINGPAGE'">
                    {{campaignType}} CAMPAIGN ({{authenticationService?.partnerModule?.customName}})</div>
                  <div class="camp-title" *ngIf="campaign.channelCampaign && campaignType === 'VIDEO'">{{campaignType}}
                    ({{authenticationService?.partnerModule?.customName}})</div>
                  <div class="camp-title" *ngIf="!campaign.channelCampaign && campaignType != 'LANDINGPAGE'">
                    {{campaignType}} CAMPAIGN</div>
                  <div class="camp-title" *ngIf="!campaign.channelCampaign && campaignType == 'LANDINGPAGE'">PAGE CAMPAIGN
                  </div>
                  <div class="camp-title" *ngIf="campaign.channelCampaign && campaignType == 'LANDINGPAGE'">PAGE CAMPAIGN
                    ({{authenticationService?.partnerModule?.customName}})</div>
                  <div class="camp-number">
                    <strong class="m0" title={{campaign.campaignName}}>{{campaign.campaignName | slice: 0: 12}}</strong>
                    <span *ngIf="campaign.campaignName?.length>17">...</span>
                  </div>
                  <div class="camp-desc">
                    <span>{{campaign.launchTime | date: 'fullDate'}}</span>
                  </div>
                </div>
              </a>
            </div>

            <!-- ****************video info**************** -->
            <div class="pl10 pr10 col-xs-12"
              [ngClass]="{'col-sm-3': campaignType === 'VIDEO','forbidden' :!isDataShare ?true:null}"
              *ngIf="campaignType === 'VIDEO' && campaign.selectedVideoId>0">
              <a class="dashboard-stat dashboard-stat-lighter purple-soft" style="display: flex"
                (click)="previewVideo(campaign.campaignVideoFile)" [class.disabled]="!isPartnerEnabledAnalyticsAccess">
                <div class="visual">
                  <i class="fa fa-video-camera" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title ">Video Info</div>
                  <div class="camp-number">
                    <strong class="m0" title={{campaign.campaignVideoFile.title}}>{{campaign.campaignVideoFile.title |
                      slice: 0: 12}}</strong>
                    <span *ngIf="campaign.campaignVideoFile.title?.length>17">...</span>
                  </div>
                  <div class="camp-desc">
                    <span>Click for preview</span>
                  </div>
                </div>
              </a>
            </div>

            <!-- ****************video not found info**************** -->
            <div class="pl10 pr10 col-xs-12 blur" [ngClass]="{'col-sm-4': campaignType === 'VIDEO'}"
              *ngIf="campaignType === 'VIDEO' && campaign.selectedVideoId==0">
              <a class="dashboard-stat dashboard-stat-lighter purple-soft blur" style="display: flex">
                <div class="visual">
                  <i class="fa fa-video-camera" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title ">Video Info</div>
                  <div class="camp-number">
                    <strong class="m0">No video found</strong>
                  </div>
                  <div class="camp-desc">
                    <span>-</span>
                  </div>
                </div>
              </a>
            </div>

            <!-- ****************Event campaign info**************** -->
            <div class="pl10 pr10 col-xs-12" *ngIf="campaignType === 'EVENT'"
              [ngClass]="{'col-sm-4': campaignType === 'EVENT'}">
              <a class="dashboard-stat dashboard-stat-lighter red-soft forbidden" style="display: flex;">
                <div class="visual">
                  <i class="fa fa-bullhorn" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title">{{campaignType}}</div>
                  <div class="camp-number">
                    <strong class="m0" title={{campaign.campaignName}}>{{campaign.campaignName | slice: 0: 25}}</strong>
                    <span *ngIf="campaign.campaignName?.length>25">..</span>
                  </div>
                  <div class="camp-desc">
                    <span>{{campaign.launchTime | date: 'fullDate'}}</span>
                  </div>
                </div>
              </a>
            </div>

            <!-- ****************Email template info**************** -->
            <div class="pl10 pr10 col-xs-12"
              [ngClass]="{'col-sm-3': campaignType === 'VIDEO' ,'col-sm-4': campaignType === 'REGULAR' || campaignType === 'EVENT'  || campaignType === 'SURVEY','forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null }"
              *ngIf="(campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'EVENT'  || campaignType === 'SURVEY') && campaign.selectedEmailTemplateId>0">
              <a class="dashboard-stat dashboard-stat-lighter blue-soft" style="display: flex"
                (click)="showEmailTemplatePreview(campaign.emailTemplate)"
                [class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
                <div class="visual">
                  <i class="fa fa-envelope-open" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title">Email Info</div>
                  <div class="camp-number">
                    <strong class="m0" title={{campaign.emailTemplate.name}}>{{campaign.emailTemplate.name | slice: 0:
                      12}}</strong>
                    <span *ngIf="campaign.emailTemplate.name?.length>12">...</span>
                  </div>
                  <div class="camp-desc">
                    <span>Click for preview</span>
                  </div>
                </div>
                <div class="actions-block override-actions" id="email-icons"  *ngIf="campaignType === 'SURVEY' && campaign.formsCount>0">
                  <a *ngIf="campaignType === 'SURVEY' && campaign.formsCount>0"
                    routerLink="/home/forms/csf/{{campaign.campaignId}}" data-rel="fancybox-button" data-toggle="tooltip"
                    data-placement="top" title="Survey Forms Count">
                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                    <span class="badge" id="notification">{{campaign.formsCount}}</span>
                  </a>
                </div>
              </a>
            </div>

            <!-- ****************Page info**************** -->
            <div class="pl10 pr10 col-xs-12"
              [ngClass]="{'col-sm-4': campaignType === 'LANDINGPAGE','forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null }"
              *ngIf="(campaignType === 'LANDINGPAGE') && campaign.landingPageId>0">
              <a class="dashboard-stat dashboard-stat-lighter blue-soft" style="display: flex"
                [class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
                <div class="visual">
                  <i class="fa fa-envelope-open" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title">Page Info</div>
                  <div class="camp-number">
                    <strong class="m0" title={{campaign.landingPage.name}}>{{campaign.landingPage.name
                      | slice: 0: 12}}</strong> <span *ngIf="campaign.landingPage.name?.length>12">...</span>
                  </div>
                  <div class="camp-desc" *ngIf="isDataShare" (click)="showLandingPagePreview(campaign)">
                    <span>Click for preview</span>
                  </div>
                </div>
                <div class="actions-block override-actions" id="landing-page-icons">
                  <a data-toggle="tooltip" data-placement="top" title="Preview"
                    (click)="showLandingPagePreview(campaign)">
                    <i class="fa fa-eye" aria-hidden="true"></i>
                  </a>
                  <a *ngIf="campaign.formsCount>0" routerLink="/home/forms/clpf/{{campaign.campaignId}}"
                    data-rel="fancybox-button" data-toggle="tooltip" data-placement="top" title="Form Count">
                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                    <span class="badge" id="notification">{{campaign.formsCount}}</span>
                  </a>
                  <a *ngIf="campaign.campaignLandingPageAnalyticsCount>0"
                    (click)="goToCampaignLandingPageAnalytics(campaign.campaignId)" data-rel="fancybox-button"
                    data-toggle="tooltip" data-placement="top" title="Page Analytics">
                    <i class="fa fa-line-chart" aria-hidden="true"></i>
                    <span class="badge" id="notification">{{campaign.campaignLandingPageAnalyticsCount}}</span>
                  </a>
                  <a class="disabled" *ngIf="campaign.campaignLandingPageAnalyticsCount==0" data-rel="fancybox-button"
                    data-toggle="tooltip" data-placement="top" title="Page Analytics">
                    <i class="fa fa-line-chart" aria-hidden="true"></i>
                    <span class="badge" id="notification">{{campaign.campaignLandingPageAnalyticsCount}}</span>
                  </a>
                </div>
              </a>
            </div>

            <!-- ****************Email template not found info**************** -->
            <div [hidden]="campaignType === 'SOCIAL' || campaignType === 'LANDINGPAGE'" class="pl10 pr10 col-xs-12  col-sm-4 blur"
              *ngIf="campaign.selectedEmailTemplateId == 0">
              <a class="dashboard-stat dashboard-stat-lighter blue-soft" style="cursor: default; display: flex">
                <div class="visual">
                  <i class="fa fa-envelope-open" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title">Email Info</div>
                  <div class="camp-number">
                    <strong class="m0">No email template found</strong>
                  </div>
                  <div class="camp-desc">
                    <span>-</span>
                  </div>
                </div>
              </a>
            </div>

            <!-- ****************contact list info**************** -->
            <div class="pl10 pr10 col-xs-12"
              [ngClass]="{'col-sm-3': campaignType === 'VIDEO', 'col-sm-4': (campaignType === 'REGULAR' || campaignType === 'LANDINGPAGE' || campaignType === 'EVENT' || campaignType === 'SURVEY'), 'col-sm-6': campaignType === 'SOCIAL','forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}">
              <a class="dashboard-stat dashboard-stat-lighter green-soft" (click)="showContactListModal()"
                [class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
                <div class="visual">
                  <i class="fa fa-users" aria-hidden="true"></i>
                </div>
                <div class="camp-details">
                  <div class="camp-title" *ngIf="campaign?.oneClickLaunch">Shared List Info</div>
                  <div class="camp-title" *ngIf="!campaign?.oneClickLaunch">List Info</div>
                  <div class="camp-number">
                    <strong class="m0" *ngIf="!campaign?.oneClickLaunch">{{campaingContactLists?.length}} List(s)</strong>
                    <strong class="m0" *ngIf="campaign?.oneClickLaunch">{{campaingContactLists?.length}} Shared List(s)</strong>
                  </div>
                  <div class="camp-desc">
                    <span>Click for details</span>
                  </div>
                </div>
              </a>
            </div>
          </div>

          <section *ngIf="campaignType === 'EVENT'" [hidden]="mainLoader">
            <fieldset class="m10">
              <div class="col-xs-12 caption-subject font-red-sunglo">
                <h4 class="pull-left">Your Campaign Response</h4>
              </div>
              <div class="col-xs-12 emails-info" id="campaignreportvendor" [hidden]="mainLoader">
                <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpInvitiesDetails();searchKey=''"
                    [disabled]="campaignReport.totalInvitiesCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-envelope" aria-hidden="true"></i>
                      <h1>
                        <strong>{{campaignReport.totalInvitiesCount}}</strong>
                        <span>Invites</span>
                      </h1>
                    </div>
                  </button>
                </div>

                <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpEmailOpenDetails();searchKey=''"
                    [disabled]="campaignReport.totalEmailOpenCount < 1 || !isDataShare">
                    <div class="portlet-body text-center">
                      <i class="fa fa-envelope-open"></i>
                      <h1>
                        <b>{{campaignReport.totalEmailOpenCount}}</b>
                        <span>Opened</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpDetails('YES');searchKey=''"
                    [disabled]="campaignReport.totalYesCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-check-circle"></i>
                      <h1>
                        <b>{{campaignReport.totalYesCount}}</b>

                        <span>Yes ({{campaignReport.totalAdditionalCount}})</span>
                      </h1>
                    </div>
                  </button>
                </div>
                <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}" *ngIf="!campaign.publicEventCampaign">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpDetails('NO');searchKey=''"
                    [disabled]="campaignReport.totalNoCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-times-circle"></i>
                      <h1>
                        <b>{{campaignReport.totalNoCount}}</b>
                        <span>No</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  *ngIf="!campaign.publicEventCampaign" [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpDetails('MAYBE');searchKey=''"
                    [disabled]="campaignReport.totalMayBeCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-question-circle"></i>
                      <h1>
                        <b>{{campaignReport.totalMayBeCount}}</b>
                        <span>Maybe</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpDetails('NOTYET');searchKey=''"
                    [disabled]="campaignReport.totalNotYetRespondedCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-exclamation-circle"></i>
                      <h1>
                        <b>{{campaignReport.totalNotYetRespondedCount}}</b>

                        <span>Not yet</span>
                      </h1>
                    </div>
                  </button>
                </div>
                <div *ngIf="campaign.publicEventCampaign" [hidden]="mainLoader"
                  class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb" (click)="getRsvpDetails('TOTAL_LEADS');searchKey=''"
                    [disabled]="campaignReport.totalLeadsCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-user-secret"></i>
                      <h1>
                        <b>{{campaignReport.totalLeadsCount}}</b>
                        <span>Leads</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div *ngIf="campaign.publicEventCampaign" [hidden]="mainLoader"
                  class="col-xs-6 col-lg-2 rsvp_tile_padding"
                  [ngClass]="{'eight-tile-width': campaign.publicEventCampaign}">
                  <button class="portlet light color1-invert crcb"
                    (click)="getRsvpDetails('TOTAL_ATTENDEES');searchKey=''"
                    [disabled]="campaignReport.totalAttendeesCount < 1 || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-user"></i>
                      <h1>
                        <b>{{campaignReport.totalAttendeesCount}}</b>
                        <span>Total</span>
                      </h1>
                    </div>
                  </button>
                </div>
              </div>
            </fieldset>
            <div id="partner-analytics" *ngIf="campaignType === 'EVENT' && isChannelCampaign">
              <div>
                <div class="row" style="margin-left: -6px;">
                  <div class="table-responsive">
                    <ng-container>
                      <table class="table tgrid">
                        <thead>
                          <tr>
                            <th style="font-size: 12px; font-weight: 500;">RESPONSE DETAILS</th>
                            <th style="font-size: 12px; font-weight: 500;">INVITES</th>
                            <th style="font-size: 12px; font-weight: 500;">EMAIL OPENED</th>
                            <th style="font-size: 12px; font-weight: 500;">YES</th>
                            <th style="font-size: 12px; font-weight: 500;" *ngIf="!campaign.publicEventCampaign">NO</th>
                            <th style="font-size: 12px; font-weight: 500;" *ngIf="!campaign.publicEventCampaign">MAYBE
                            </th>
                            <th style="font-size: 12px; font-weight: 500;">NOT YET</th>
                            <th style="font-size: 12px; font-weight: 500;">ATTENDEES <br>
                              <h6 class="m0" style="font-size:9px"><b>(
                                  including guests )</b></h6>
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr (click)="getPartnerCampaingRsvpDetails()">
                            <td>
                              Your {{authenticationService?.partnerModule?.customName}}
                            </td>
                            <td>
                              <h6>{{campaignReport.partnersTotalInvitiesCount}}</h6>
                            </td>
                            <td>
                              <h6>{{campaignReport.partnersEmailOpenedCount}}</h6>
                            </td>
                            <td>
                              <h6>{{campaignReport.partnersYesCount}}</h6>
                            </td>
                            <td *ngIf="!campaign.publicEventCampaign">
                              <h6>{{campaignReport.partnersNoCount}}</h6>
                            </td>
                            <td *ngIf="!campaign.publicEventCampaign">
                              <h6>{{campaignReport.partnersMayBeCount}}</h6>
                            </td>
                            <td class="center">
                              {{campaignReport.partnersNotYetRespondedCount}}
                            </td>
                            <td class="center">
                              {{campaignReport.additionalCount}}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section *ngIf="campaignType !== 'EVENT'">
            <div class="col-xs-12 col-sm-12 p-5x emails-info"
              [hidden]="mainLoader || hasClientError || !campaign.emailNotification">
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SOCIAL' || campaignType === 'LANDINGPAGE' || campaignType === 'SURVEY'">
                <button class="portlet light color1-invert crcb lt-blue-c"
                  (click)="emailActionDetails(campaign.campaignId, 'recipients', emailActionDetailsPagination)"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.totalRecipients < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-user"></i>
                    <h1>
                      <b>{{campaignReport.totalRecipients}}</b>
                    </h1>
                    <h5>Recipients</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'">
                <button class="portlet light color1-invert crcb lt-green-c"
                  (click)="emailActionDetails(campaign.campaignId, 'sent', emailActionDetailsPagination)"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.emailSentCount < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-envelope-o"></i>
                    <h1>
                      <b>{{campaignReport.emailSentCount}}</b>
                    </h1>
                    <h5>Total Emails Sent</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'"
                [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                <button class="portlet light color1-invert crcb tk-blue-c"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  (click)="emailActionDetails(campaign.campaignId, 'deliverability', emailActionDetailsPagination)"
                  [disabled]="campaignReport.deliveredCount < 1  || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-envelope"></i>
                    <h1>
                      <b>{{campaignReport.delivered}}</b>
                    </h1>
                    <h5>Deliverability</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                <button class="portlet light color1-invert crcb vlt-blue-c"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  (click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
                  [disabled]="campaignReport.emailOpenCount < 1  || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-user-circle-o"></i>
                    <h1>
                      <b>{{campaignReport.activeRecipients}}</b>
                    </h1>
                    <h5>Active Recipients</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'"
                [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                <button class="portlet light color1-invert crcb pure-blue-c"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  (click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
                  [disabled]="campaignReport.emailOpenCount < 1  || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-envelope-open-o"></i>
                    <h1>
                      <b>{{campaignReport.openRate}}</b>
                    </h1>
                    <h5>Open Rate</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                [ngClass]="{'hidden': campaignType === 'SOCIAL','forbidden' :!isDataShare ?true:null}">

                <!----This is For Vendor/Partner------->
                <ng-container *ngIf="!isNavigatedThroughAnalytics">
                  <button class="portlet light color1-invert crcb black-blue-c"
                    (click)="emailActionList(campaign.campaignId, 'click', emailActionListPagination)"
                    [ngClass]="{'forbidden' :!isDataShare ?true:null}" [disabled]="campaignReport.emailClickedCount < 1">
                    <div class="portlet-body text-center">
                      <i class="fa fa-globe"></i>
                      <h1>
                        <b>{{campaignReport.emailClickedCount}}</b>
                      </h1>
                      <h5>Clicked URL</h5>
                    </div>
                  </button>
                </ng-container>
                <!----This is For DataShare Vendor Analytics------->
                <ng-container *ngIf="isNavigatedThroughAnalytics">
                  <button class="portlet light color1-invert crcb black-blue-c"
                    (click)="showClickedUrlsForVendor(campaign.campaignId)"
                    [disabled]="campaignReport.dataShareClickedUrlsCountForVendor < 1">
                    <div class="portlet-body text-center">
                      <i class="fa fa-globe"></i>
                      <h1>
                        <b>{{campaignReport.dataShareClickedUrlsCountForVendor}}</b>
                      </h1>
                      <h5>URL's Clicked</h5>
                    </div>
                  </button>
                </ng-container>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'"
                [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}">
                <button class="portlet light color1-invert crcb y-b-c"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  (click)="emailActionList(campaign.campaignId, 'click', emailActionListPagination)"
                  [disabled]="campaignReport.emailClickedCount < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-envelope-open"></i>
                    <h1>
                      <b>{{campaignReport.clickthroughRate}}</b>
                    </h1>
                    <h5>Clickthrough Rate</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2" [hidden]="mainLoader || hasClientError"
                *ngIf="campaignType === 'SOCIAL'">
                <button class="portlet light color1-invert crcb g-b-c" data-toggle="modal" data-target="#scrModal"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="redistributedAccounts.size < 1 || !isDataShare">
                  <div class="portlet-body text-center">
                    <i class="fa fa-share-alt"></i>
                    <h1>
                      <b>{{redistributedAccounts.size}}</b>
                    </h1>
                    <h5>Redistributed</h5>
                  </div>
                </button>
              </div>
              <div [hidden]="mainLoader || hasClientError" class="col-xs-6 col-sm-2 col-md-2 col-lg-2 p-5x"
                *ngIf="campaignType === 'VIDEO'" [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                <button class="portlet light color1-invert crcb b-b-c"
                  (click)="usersWatchList(campaign.campaignId, usersWatchListPagination)"
                  [ngClass]="{'forbidden' :!isDataShare ?true:null}"
                  [disabled]="campaignReport.usersWatchCount < 1 || !isDataShare">
                  <div class="portlet-body text-center">
                    <i class="fa fa-eye"></i>
                    <h1>
                      <b>{{campaignReport.usersWatchCount}}</b>
                    </h1>
                    <h5>Views</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'">
                <button class="portlet light color1-invert crcb r-b-c"
                  (click)="emailActionDetails(campaign.campaignId, 'hardbounce', emailActionDetailsPagination)"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.hardBounce < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-ban"></i>
                    <h1>
                      <b>{{campaignReport.hardBounce}}</b>
                    </h1>
                    <h5>Hard Bounce</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'">
                <button class="portlet light color1-invert crcb h-r-c"
                  (click)="emailActionDetails(campaign.campaignId, 'softbounce', emailActionDetailsPagination)"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.softBounce < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-trash-o"></i>
                    <h1>
                      <b>{{campaignReport.softBounce}}</b>
                    </h1>
                    <h5>Soft Bounce</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'">
                <button class="portlet light color1-invert crcb r-r-c"
                  (click)="emailActionDetails(campaign.campaignId, 'unsubscribe', emailActionDetailsPagination)"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.unsubscribed < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-user-times"></i>
                    <h1>
                      <b>{{campaignReport.unsubscribed}}</b>
                    </h1>
                    <h5>Unsubscribe</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType != 'SOCIAL' && campaignType != 'LANDINGPAGE' && campaignType != 'EVENT' && campaign.showLeadAndDealCounts">
                <button class="portlet light color1-invert crcb vlt-b-c" (click)="showCampaignLeads()"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.leadCount < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-user-circle"></i>
                    <h1>
                      <b>{{campaignReport.leadCount}}</b>
                    </h1>
                    <h5>Leads</h5>
                  </div>
                </button>
              </div>
              <div class="p-5x col-xs-6 col-sm-2 col-md-2 col-lg-2"
                *ngIf="campaignType != 'SOCIAL' && campaignType != 'LANDINGPAGE' && campaignType != 'EVENT' && campaign.showLeadAndDealCounts">
                <button class="portlet light color1-invert crcb lt-g-b-c" (click)="showCampaignDeals()"
                  [ngClass]="{'forbidden' :!isDataShare || !isPartnerEnabledAnalyticsAccess ?true:null}"
                  [disabled]="campaignReport.dealCount < 1 || !isPartnerEnabledAnalyticsAccess">
                  <div class="portlet-body text-center">
                    <i class="fa fa-tags"></i>
                    <h1>
                      <b>{{campaignReport.dealCount}}</b>
                    </h1>
                    <h5>Deals</h5>
                  </div>
                </button>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 p-5x"
              [hidden]="campaignType !== 'VIDEO' || mainLoader || hasClientError || !campaign.emailNotification">
              <div class="p-5x">
                <div class="portlet light">
                  <div class="portlet-title">
                    <div class="caption">
                      <span class="caption-subject font-red-sunglo" style="font-size: 15px !important;">VIEWERSHIP
                        MAP</span>
                    </div>
                    <div><span
                        style="float: right;font-size: 13px;color: #fff;background: #00a6e8;padding: 0px 17px;margin-right: 1px;margin-top:2px;">
                        <ng-container *ngIf="campaignType!='LANDINGPAGE'">
                          {{campaignType}}
                        </ng-container>
                        <ng-container *ngIf="campaignType=='LANDINGPAGE'">
                          PAGE
                        </ng-container>
                        CAMPAIGN {{isPartnerCampaign}}
                      </span>
                    </div>
                  </div>
                  <div class="portlet-body text-center" style="min-height: 300px;"
                    [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                    <app-worldmap *ngIf="renderMapData && isDataShare" [worldMapData]="renderMapData"
                      (notifyParent)="clickWorldMapReports($event)"></app-worldmap>
                    <app-worldmap class="disabled" *ngIf="renderMapData && !isDataShare" [worldMapData]="renderMapData">
                    </app-worldmap>
                  </div>
                </div>
              </div>
            </div>
            <section class='clearfix' [hidden]="mainLoader || hasClientError"
              *ngIf="campaignType === 'SOCIAL' && socialCampaign">
              <div class="col-xs-12">
                <div class="portlet light" style="margin: 10px -5px 5px -5px;">
                  <div class="portlet-title">
                    <div class="caption">
                      <span class="caption-subject font-red-sunglo">Social Status</span>
                    </div>
                  </div>
                  <div class="portlet-body clearfix">
                    <div class="col-sm-4 col-xs-12" *ngFor="let socialStatus of socialCampaign.socialStatusList">
                      <app-social-status [socialStatus]="socialStatus"></app-social-status>
                    </div>
                  </div>
                </div>
              </div>
            </section>
            <div class="col-xs-12 col-sm-6 p-5x"
              [hidden]="campaignType !== 'VIDEO' || mainLoader || hasClientError || !campaign.emailNotification">
              <div class="col-xs-12 p-5x">
                <div class="portlet light" style="padding-bottom: 36px !important;">
                  <div class="portlet-title">
                    <div class="caption">
                      <span class="caption-subject font-red-sunglo uppercase" style="font-size: 15px !important;">Campaign
                        Recipient
                        Participation</span>
                    </div>
                  </div>
                  <div class="portlet-body flex clearfix" style="padding: 1.49em 0;display: unset;"
                    [ngClass]="{'forbidden' :!isDataShare ?true:null}">
                    <div class="col-xs-12 col-sm-4 col-lg-4 text-center" style="padding-top: 36px;"
                      [class.disabled]="(campaignReport.lifetimeViewsCount < 1 || !isDataShare) ? true : null">
                      <section class="percentage-circle" style="cursor: pointer"
                        (click)="campaignViewsDonut('life-time')">
                        <app-donut-chart [percentageValue]="campaignReport.lifetimeViewsCount"
                          [totalValue]="campaignReport.emailSentCount"> </app-donut-chart>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount!==0">
                          {{campaignReport.lifetimeViewsCount*100/campaignReport.emailSentCount
                          | number : '1.0-2'}}%</h2>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount===0">0%
                        </h2>
                        <h6 class="percentage-text">Viewed</h6>
                      </section>
                      <h5 style="text-align: center; color: #00a6e8; margin-top: 3.5em;">Lifetime</h5>
                    </div>
                    <div class="col-xs-12 col-sm-4 col-lg-4 text-center" style="padding-top: 36px;"
                      [class.disabled]="campaignReport.thisMonthViewsCount < 1 || (!isDataShare) ? true : null"
                      (click)="campaignViewsDonut('current-month')">
                      <section class="percentage-circle" style="cursor: pointer">
                        <app-donut-chart [percentageValue]="campaignReport.thisMonthViewsCount"
                          [totalValue]="campaignReport.emailSentCount"> </app-donut-chart>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount!==0">
                          {{campaignReport.thisMonthViewsCount*100/campaignReport.emailSentCount
                          | number : '1.0-2'}}%</h2>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount===0">0%
                        </h2>
                        <h6 class="percentage-text">Viewed</h6>
                      </section>
                      <h5 style="text-align: center; color: #00a6e8; margin-top: 3.5em;">This Month
                      </h5>
                    </div>
                    <div class="col-xs-12 col-sm-4 col-lg-4 text-center" style="padding-top: 36px;"
                      [class.disabled]="(campaignReport.todayViewsCount < 1  || !isDataShare)? true : null">
                      <section class="percentage-circle" style="cursor: pointer" (click)="campaignViewsDonut('today')">
                        <app-donut-chart [percentageValue]="campaignReport.todayViewsCount"
                          [totalValue]="campaignReport.emailSentCount"> </app-donut-chart>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount!==0">
                          {{campaignReport.todayViewsCount*100/campaignReport.emailSentCount
                          | number : '1.0-2'}}%</h2>
                        <h2 class="percentage-value" style="font-size: 23px;" *ngIf="campaignReport.emailSentCount===0">0%
                        </h2>
                        <h6 class="percentage-text">Viewed</h6>
                      </section>
                      <h5 style="text-align: center; color: #00a6e8; margin-top: 3.5em;">Today</h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <div class="row" *ngIf="isPartnerEnabledAnalyticsAccess || isDataShare">
            <div class="col-xs-12 col-sm-12 p-5x">
              <div class="col-xs-12 p-5x">
                <div class="row" *ngIf="!campaignViews || totalCampaignViewsLoader">
                  <div class="porlet light" style="background: white;">
                    <div class="portlet-body clearfix">
                      <app-list-loader></app-list-loader>
                    </div>
                  </div>
                </div>
                <div class="portlet light"
                  [hidden]="mainLoader || hasClientError || !campaignViews || totalCampaignViewsLoader || !campaign.emailNotification ">
                  <div class="portlet-title col-xs-12">
                    <div class="caption col-xs-12 col-sm-7">
                      <span class="caption-subject font-red-sunglo" style="font-size: 13px !important;">
                        <span *ngIf="campaignType==='VIDEO'">TOTAL VIEWS FOR THIS CAMPAIGN</span>
                        <span *ngIf="campaignType==='SOCIAL'">TOTAL REDISTRIBUTED FOR THIS CAMPAIGN</span>
                        <span *ngIf="campaignType==='REGULAR'">TOTAL EMAIL OPENED FOR THIS CAMPAIGN</span>
                        <span
                          *ngIf="campaignType === 'EVENT' && isChannelCampaign">{{authenticationService?.partnerModule?.customName}}
                          REDISTRIBUTED CAMPAIGN
                          ANALYTICS</span>
                        <span *ngIf="campaignType === 'EVENT' && !isChannelCampaign">CAMPAIGN ANALYTICS</span>
                        <span *ngIf="campaignType==='SURVEY'">TOTAL EMAIL OPENED FOR THIS CAMPAIGN</span>
                      </span>
                    </div>
                    <div class="col-xs-5 col-sm-2" style="margin-top: -7px;padding-left:0px;"
                      *ngIf="campaignType==='VIDEO' || campaignType==='REGULAR' || campaignType === 'SURVEY'">
                      <div class="btn-group pull-right" style="cursor:pointer; color: #7d8c98">
                        <div class="">
                          <select class="form-control" [(ngModel)]="selectedCampaignSortedOption"
                            (ngModelChange)="campaignViewSortBy($event)">
                            <option *ngFor="let sortOption of campaignViewsSortByDropDown" [ngValue]="sortOption">
                              {{sortOption.name}}</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-5"
                      [ngClass]="{'col-sm-4': campaignType !== 'VIDEO' && campaignType !== 'REGULAR' && campaignType !== 'SURVEY', 'col-sm-2': campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY' }"
                      style="margin-top: -7px;padding-right: 0px;padding-left:0px;">
                      <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}"
                        class="form-control" placeholder="Search" (keypress)="eventHandler($event.keyCode)">
                      <button class="search-box-item-clear" *ngIf="searchKey" (click)="searchKey='';search()">
                        <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
                      </button>
                      <button type="submit" class="search-box-item-click" style="right: 1px" (click)="search()">
                        <i class="fa fa-search" style="padding: 4px; color: black !important" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div *ngIf="'LANDINGPAGE'!=campaignType"
                      [class.disabled]="campaignViewsPagination.pagedItems?.length == 0"
                      class="btn-group pull-right col-xs-1" style="margin-top: -10px; cursor:pointer; color: #7d8c98">
                      <span class="dropdown-toggle" data-toggle="dropdown"
                        style="box-shadow:none;margin-top: 14px; float:right;display: inline-flex;">
                        <i class="fa fa-cog" style="font-size:20px; margin-right:5px" aria-hidden="true"></i>
                        <i class="fa fa-angle-down" style="font-size:14px; float:right" aria-hidden="true"></i>
                      </span>
                      <ul class="dropdown-menu pull-right" style="right: 20px !important">
                        <li>
                          <a id="delete_button" (click)="downloadTypeName = 'campaignViews'; downloadFunctionality()">
                            Export To Excel </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="portlet-body clearfix">
                    <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
                      <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
                      <h4 class="m5">Please wait while we process your request.</h4>
                    </div>
                    <div *ngIf="campaignViewsPagination.pagedItems?.length === 0" class="alert alert-info">
                      <strong>No Records Found.</strong>
                    </div>
                    <div *ngIf="campaignViewsPagination.pagedItems?.length != 0">
                      <div class="table-responsive set-overflow-none">
                        <div class="row" *ngIf="campaign.channelCampaign">
                          <div class="col-lg-6 p0"></div>
                          <div class="col-lg-6 p0" id="float-right" *ngIf="campaignType==='EVENT'">
                            <div class="col-xs-6 col-lg-3 rsvp_tile_padding" *ngIf="!campaign.publicEventCampaign"></div>
                            <div [hidden]="mainLoader" class="col-xs-6 col-lg-3 rsvp_tile_padding">
                              <button class="portlet light color1-invert crcb" [class.selectedBox]="detailType === 'YES'"
                                (click)="goToAllPartnerRsvpDetails('YES')">
                                <div class="portlet-body text-center">
                                  <i class="fa fa-check-circle fs30"></i>
                                  <h1 class="fs14">
                                    <b>{{this.campaignReport.allPartnersYesCount}}</b>
                                    <span>Yes ( {{this.campaignReport.allPartnersAdditionalCount}} )</span>
                                  </h1>

                                </div>
                              </button>
                            </div>
                            <div [hidden]="mainLoader" class="col-xs-6 col-lg-3 rsvp_tile_padding"
                              *ngIf="!campaign.publicEventCampaign">
                              <button class="portlet light color1-invert crcb" [class.selectedBox]="detailType === 'NO'"
                                disabled="disabled">
                                <div class="portlet-body text-center">
                                  <i class="fa fa-times-circle fs30"></i>
                                  <h1 class="fs14">
                                    <b>{{this.campaignReport.allPartnersNoCount}}</b>
                                    <span>No</span>
                                  </h1>

                                </div>
                              </button>
                            </div>
                            <div [hidden]="mainLoader" class="col-xs-6 col-lg-3 rsvp_tile_padding"
                              *ngIf="!campaign.publicEventCampaign">
                              <button class="portlet light color1-invert crcb"
                                (click)="goToAllPartnerRsvpDetails('MAYBE')" [class.selectedBox]="detailType === 'MAYBE'">
                                <div class="portlet-body text-center">
                                  <i class="fa fa-question-circle fs30"></i>
                                  <h1 class="fs14">
                                    <b>{{this.campaignReport.allPartnersMayBeCount}}</b>
                                    <span>Maybe</span>
                                  </h1>

                                </div>
                              </button>
                            </div>
                            <div *ngIf="campaign.publicEventCampaign" [hidden]="mainLoader"
                              class="col-xs-6 col-lg-3 rsvp_tile_padding">
                              <button class="portlet light color1-invert crcb"
                                [class.selectedBox]="detailType === 'TOTAL_PARTNER_LEADS'"
                                (click)="goToAllPartnerRsvpDetails('TOTAL_PARTNER_LEADS')"
                                [disabled]="campaignReport.totalPartnerLeadsCount < 1 || !isPartnerEnabledAnalyticsAccess">
                                <div class="portlet-body text-center">
                                  <i class="fa fa-user-secret fs30"></i>
                                  <h1 class="fs14">
                                    <b>{{campaignReport.totalPartnerLeadsCount}}</b>
                                    <span>Leads</span>
                                  </h1>

                                </div>
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="table-responsive">
                          <table class="table tgrid">
                            <thead>
                              <tr>
                                <th id="table-header" style="width: 25%;text-align:left">Name</th>
                                <th id="table-header"
                                  *ngIf="campaignType != 'VIDEO' && campaignType != 'REGULAR'  && campaignType !== 'SURVEY'">
                                  Campaign Name</th>
                                <th id="table-header" *ngIf="campaignType==='EVENT' && isChannelCampaign">invites</th>
                                <th id="table-header" *ngIf="campaignType==='EVENT' && isChannelCampaign">Email opened
                                </th>
                                <th id="table-header" *ngIf="campaignType==='EVENT' && isChannelCampaign">Yes</th>
                                <th id="table-header"
                                  *ngIf="campaignType==='EVENT' && isChannelCampaign && !campaign.publicEventCampaign">No
                                </th>
                                <th id="table-header"
                                  *ngIf="campaignType==='EVENT' && isChannelCampaign && !campaign.publicEventCampaign">
                                  MayBe</th>
                                <th id="table-header" *ngIf="campaignType==='EVENT' && isChannelCampaign">Not Yet</th>
                                <th id="table-header" *ngIf="campaignType==='EVENT' && !isChannelCampaign">Response
                                  Type</th>
                                <th id="table-header" *ngIf="campaignType==='EVENT'">ATTENDEES <br>
                                  <h6 class="m0" style="font-size:9px"><strong>( including guests )</strong></h6>
                                </th>
                                <th id="table-header" *ngIf="campaignType==='VIDEO' || campaignType!=='EVENT'">Latest
                                  View</th>
                                <th id="table-header" *ngIf="campaignType!=='EVENT'">
                                  <span *ngIf="campaignType==='VIDEO'">Views</span>
                                  <span
                                    *ngIf="campaignType==='REGULAR' || campaignType==='LANDINGPAGE' || campaignType === 'SURVEY'">Email
                                    Opened</span>
                                  <span *ngIf="campaignType==='SOCIAL'">Redistributed</span>
                                </th>
                                <th id="table-header" *ngIf="campaignType === 'VIDEO'">Email Opened</th>
                                <th id="table-header"
                                  *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR' || campaignType === 'SURVEY'">
                                  URLs Clicked Count</th>
                                <th id="table-header" *ngIf="campaignType === 'VIDEO' || campaignType === 'REGULAR'">
                                  User Level Campaign Analytics</th>
                                <th id="table-header"
                                  *ngIf="campaignType === 'SURVEY' && campaign.formsCount>0 && isChannelCampaign">Survey
                                  Analytics</th>
                                <th id="table-header" *ngIf="campaign.dipCampaign">
                                  Auto Responses
                                </th>
                                <th id="table-header"
                                  *ngIf="campaignType==='EVENT' && isChannelCampaign && campaign.publicEventCampaign">
                                  Leads Info</th>
                                <ng-container *ngIf="campaignType==='LANDINGPAGE'">
                                  <th id="table-header">Page Analytics</th>
                                  <th id="table-header" *ngIf="campaign.formsCount>0">Form Count</th>
                                </ng-container>
                              </tr>
                            </thead>
                            <tbody>
                              <ng-container *ngFor="let item of campaignViewsPagination.pagedItems;let i=index">
                                <tr (click)="userTimeline(item);" title="Click here to see all campaigns analytics">
                                  <td>
                                    <i title="This user is unsubscribed" *ngIf="item?.unsubscribedUser" class="fa fa-flag"
                                      id="unsubscribed-flag" aria-hidden="true"></i>
                                    <app-user-info [isCompanyInfo]="true" [userInfo]="item"> </app-user-info>
                                    <!-- here emailId coming as userMail -->
                                  </td>
                                  <td class="td-chart"
                                    *ngIf="campaignType != 'VIDEO' && campaignType != 'REGULAR' && campaignType != 'SURVEY'">
                                    <h6 title="{{campaign.campaignName}}">{{item.campaignName | slice: 0: 35}}
                                      <span *ngIf="campaign.campaignName?.length>35">...</span>
                                    </h6>
                                    <h4 *ngIf="item.campaignName==null">-</h4>
                                  </td>

                                  <td class="text-center" *ngIf="campaignType==='EVENT' && isChannelCampaign">
                                    {{item.rsvpMap.totalInvities}}</td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && isChannelCampaign">
                                    {{item.rsvpMap.emailOpenedCount}}</td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && isChannelCampaign">
                                    {{item.rsvpMap.YES}}</td>
                                  <td class="text-center"
                                    *ngIf="campaignType==='EVENT' && isChannelCampaign && !campaign.publicEventCampaign">
                                    {{item.rsvpMap.NO}}</td>
                                  <td class="text-center"
                                    *ngIf="campaignType==='EVENT' && isChannelCampaign && !campaign.publicEventCampaign">
                                    {{item.rsvpMap.MAYBE}}</td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && isChannelCampaign">
                                    {{item.rsvpMap.notYetResponded}}</td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && !isChannelCampaign">
                                    {{item.rsvpMap.responseType}}
                                    <span *ngIf="item.rsvpMap.responseType === null"><b>-</b></span>
                                  </td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && !isChannelCampaign">
                                    <span
                                      *ngIf="item.rsvpMap.additionalCount?.length != 0 && item.rsvpMap.responseType === 'YES'">{{item.rsvpMap.additionalCount}}</span>
                                    <span
                                      *ngIf="!item.rsvpMap.additionalCount || item.rsvpMap.additionalCount?.length === 0 || item.rsvpMap.responseType != 'YES'"><b>-</b></span>
                                  </td>
                                  <td class="text-center" *ngIf="campaignType==='EVENT' && isChannelCampaign">
                                    <span
                                      *ngIf="item.rsvpMap.additionalCount != 0 && item.rsvpMap.additionalCount != null">{{item.rsvpMap.additionalCount}}</span>
                                    <span
                                      *ngIf="item.rsvpMap.additionalCount === 0 || item.rsvpMap.additionalCount === null"><b>-</b></span>
                                  </td>
                                  <td class="td-chart" *ngIf="campaignType!=='EVENT'">
                                    <h6>
                                      <app-timestamp *ngIf="item?.latestView" [dateAndTime]="item.latestView">
                                      </app-timestamp>
                                      <span *ngIf="! item?.latestView">-</span>
                                    </h6>
                                  </td>
                                  <td class="text-center" *ngIf="campaignType==='VIDEO'">
                                    {{item.viewsCount}}</td>

                                  <td class="td-chart" *ngIf="campaignType!=='EVENT'">
                                    <div class="progress" *ngIf="campaignType !== 'SOCIAL'">
                                      <div class="progress-bar progress-bar-success"
                                        [ngClass]="{'special-progress-bar' : item.viewsCount === 0 }" role="progressbar"
                                        [style.width.%]="(item.viewsCount/maxViewsValue)*100">
                                        <!-- <span
                                          *ngIf="campaignType !== 'REGULAR' && campaignType !== 'VIDEO' && campaignType !== 'SURVEY'">{{item.viewsCount}}</span> -->
                                        <span *ngIf="campaignType === 'VIDEO'">{{item.emailOpenedCount}}</span>
                                        <span
                                          *ngIf="campaignType === 'REGULAR'|| campaignType === 'SURVEY'||campaignType === 'SOCIAL'|| campaignType === 'LANDINGPAGE'|| campaignType === 'EVENT'">{{item.viewsCount}}</span>
                                      </div>
                                    </div>
                                    <ng-container *ngIf="campaignType == 'SOCIAL'">
                                      <ng-container *ngFor="let socialStatus of socialCampaign.socialStatusList">
                                        <ng-container *ngFor="let socialStatus of socialStatus.socialStatusList">
                                          <ng-container *ngIf="socialStatus.userId === item.userId">




                                            <div class="social-profile"
                                              [ngStyle]="{'background-image': 'url(' + socialStatus.socialStatusProvider.socialConnection.profileImage + ')'}"
                                              data-toggle="tooltip" data-placement="top"
                                              title="{{socialStatus.socialStatusProvider.socialConnection.profileName}}">
                                              <ng-container
                                                *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'TWITTER'">
                                                <img class="img-circle"
                                                  alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                                  src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
                                              </ng-container>
                                              <ng-container
                                                *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'FACEBOOK'">
                                                <img class="img-circle"
                                                  alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                                  src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
                                              </ng-container>
                                              <ng-container
                                                *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'LINKEDIN'">
                                                <img class="img-circle"
                                                  alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                                  src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
                                              </ng-container>
                                              <ng-container
                                                *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'GOOGLE'">
                                                <img class="img-circle"
                                                  alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                                  src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
                                              </ng-container>
                                            </div>
                                          </ng-container>
                                        </ng-container>

                                      </ng-container>
                                    </ng-container>
                                  </td>
                                  <td class="text-center"
                                    *ngIf="campaignType==='VIDEO' || campaignType==='REGULAR'|| campaignType === 'SURVEY'">
                                    {{item.urlsClickedCount}}
                                  </td>
                                  <td (click)="$event.stopPropagation();goToCampaignAnaltyics(item)" class="text-center"
                                    *ngIf="campaignType==='VIDEO' || campaignType==='REGULAR'">
                                    <div class="actions-block override-actions" style="margin-right:100px">
                                      <a [className]="showUserLevelCampaignAnalytics ? '':'inactive'"
                                        data-rel="fancybox-button" data-toggle="tooltip" data-placement="top"
                                        title="User Level Campaign Analytics">
                                        <i class="fa fa-line-chart" aria-hidden="true"></i>
                                      </a>
                                    </div>
                                  </td>
                                  <td class="text-center"
                                    *ngIf="campaignType === 'SURVEY' && campaign.formsCount>0 && isChannelCampaign">
                                    <div class="actions-block override-actions" id="landing-page-icons">
                                      <a routerLink="/home/forms/csf/{{campaign.campaignId}}/{{item.userId}}"
                                        data-rel="fancybox-button" data-toggle="tooltip" data-placement="top"
                                        title="Survey Forms Count">
                                        <i class="fa fa-wpforms" aria-hidden="true"></i>
                                        <span class="badge" id="notification">{{campaign.formsCount}}</span>
                                      </a>
                                    </div>
                                  </td>
                                  <td *ngIf="campaign.dipCampaign">
                                    <div class="actions-block" (click)="$event.stopPropagation()">
                                      <font class="circled-number" *ngIf="item.autoResponsesCount==0"
                                        style="margin-right: 50px;cursor: not-allowed">{{item.autoResponsesCount}}</font>
                                      <font class="circled-number" *ngIf="item.autoResponsesCount>0">
                                        {{item.autoResponsesCount}}</font>
                                      <a *ngIf="item.autoResponsesCount>0"
                                        (click)="$event.stopPropagation();showAutoResponseAnalytics(item,i)"
                                        data-toggle="tooltip" data-placement="top" title="View Auto Response Analytics">
                                        <i class="fa"
                                          [ngClass]="{'fa-plus': !item.expanded, 'fa-minus': item.expanded}"></i>
                                      </a>
                                    </div>
                                  </td>
                                  <td class="text-center"
                                    *ngIf="campaignType==='EVENT' && isChannelCampaign && campaign.publicEventCampaign">
                                    <!-- removed this previous methods viewPartnerLeads(item);$event.stopPropagation(); -->
                                    <span
                                      (click)="getPartnerLeadsCount(item.userId);$event.stopPropagation(); leadsSearchKey=''"><b><i
                                          class="fa fa-user-secret" aria-hidden="true" id="leads-info-font-size"></i>
                                        <span class="badge badge-default"
                                          style="background-color: #00a6e8 !important;margin-top: -36px; margin-left: -8px;">{{item.totalLeadsCount}}</span>
                                      </b></span>
                                  </td>
                                  <!-- ----------Landing Page Forms----------- -->
                                  <ng-container *ngIf="campaignType=='LANDINGPAGE'">
                                    <td class="text-center" (click)="$event.stopPropagation();">
                                      <div class="actions-block override-actions" id="landing-page-icons">
                                        <a *ngIf="item.pageAnalyticsCount>0"
                                          routerLink="/home/pages/{{campaign.campaignId}}/{{item.userId}}/campaign/analytics"
                                          data-rel="fancybox-button" data-toggle="tooltip" data-placement="top"
                                          title="Page Analytics">
                                          <i class="fa fa-line-chart"></i>
                                          <span class="badge" id="notification">{{item.pageAnalyticsCount}}</span>
                                        </a>
                                        <a *ngIf="item.pageAnalyticsCount==0" data-rel="fancybox-button"
                                          data-toggle="tooltip" data-placement="top" title="Page Analytics">
                                          <i class="fa fa-line-chart"></i>
                                          <span class="badge" id="notification">{{item.pageAnalyticsCount}}</span>
                                        </a>
                                      </div>
                                    </td>
                                    <td class="text-center" *ngIf="campaign.formsCount>0">
                                      <div class="actions-block override-actions" id="landing-page-icons">
                                        <a routerLink="/home/forms/clpf/{{campaign.campaignId}}/{{item.userId}}"
                                          data-rel="fancybox-button" data-toggle="tooltip" data-placement="top"
                                          title="Form Count">
                                          <i class="fa fa-wpforms"></i>
                                          <span class="badge" id="notification">{{campaign.formsCount}}</span>
                                        </a>
                                      </div>
                                    </td>
                                  </ng-container>
                                </tr>
                                <tr [ngClass]="{'hidden': !item.expanded}" id="autoresponse-tr">
                                  <td [attr.colspan]="colspanValue">
                                    <!--   <td *ngIf="campaignType == 'EVENT'" colspan="10"> -->
                                    <div class="table-responsive">
                                      <table class="table tgrid table-condensed" id="autoresponse-analytics">
                                        <thead>
                                          <tr>
                                            <th class="center-aligned">Auto Response Type</th>
                                            <th class="center-aligned">Subject</th>
                                            <th class="center-aligned">Reply In X Days</th>
                                            <th class="center-aligned">Reply Time</th>
                                            <th class="center-aligned">Sent Time</th>
                                            <th class="center-aligned">Opened Time</th>
                                            <th class="center-aligned">URLS CLICKED COUNT</th>
                                            <th class="center-aligned">CLICKED URLS</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <app-auto-response-loader *ngIf="autoResponeAnalyticsLoader.isLoading">
                                          </app-auto-response-loader>
                                          <ng-container *ngIf="!autoResponeAnalyticsLoader.isLoading">
                                            <tr
                                              *ngFor="let autoResponseAnalytics of autoResponseAnalyticsPagination.pagedItems;let i=index">
                                              <td class="center-aligned">{{autoResponseAnalytics.autoResponseType}}</td>
                                              <td class="center-aligned">{{autoResponseAnalytics.subject}}</td>
                                              <td class="center-aligned">{{autoResponseAnalytics.replyInDays}}</td>
                                              <td class="center-aligned">{{autoResponseAnalytics.replyTimeString}}</td>
                                              <td class="center-aligned">
                                                <app-timestamp *ngIf="!referenceService.isSafariBrowser()"
                                                  [isOnlyDate]="false" [dateAndTime]="autoResponseAnalytics.displayTime">
                                                </app-timestamp>
                                                <span
                                                  *ngIf="referenceService.isSafariBrowser()">{{autoResponseAnalytics.displayTime}}</span>
                                              </td>
                                              <td class="center-aligned"
                                                *ngIf="autoResponseAnalytics.openedTimeUtcString!='-'">
                                                <app-timestamp *ngIf="!referenceService.isSafariBrowser()"
                                                  [isOnlyDate]="false" [dateAndTime]="autoResponseAnalytics.openedTime">
                                                </app-timestamp>
                                                <span
                                                  *ngIf="referenceService.isSafariBrowser()">{{autoResponseAnalytics.openedTime}}</span>
                                              </td>
                                              <td class="center-aligned"
                                                *ngIf="autoResponseAnalytics.openedTimeUtcString=='-'">
                                                -
                                              </td>
                                              <td class="center-aligned">{{autoResponseAnalytics.urlClickCount}}</td>
                                              <td class="center-aligned">
                                                <table>
                                                  <tr
                                                    *ngFor="let clickedUrls of autoResponseAnalytics.clickedUrls?.split(',')">
                                                    <td style="padding:5px">{{clickedUrls}}</td>
                                                  </tr>
                                                </table>
                                              </td>
                                            </tr>
                                          </ng-container>
                                        </tbody>
                                      </table>
                                    </div>
                                    <div *ngIf="autoResponseAnalyticsPagination.pagedItems.length !== 0">
                                      <app-pagination [pagination]="autoResponseAnalyticsPagination"
                                        (notifyParent)="setAutoResponsesPage($event,item)"
                                        (notifyParentDropDown)="listAutoResponseAnalytics($event,item)"
                                        [hidden]="autoResponeAnalyticsLoader.isLoading"></app-pagination>
                                    </div>
                                  </td>
                                </tr>
                              </ng-container>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <app-pagination class="pg8" [pagination]="campaignViewsPagination" [type]="'campaignViews'"
                        (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropdown($event)">
                      </app-pagination>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </ng-template>
      </div>
    </div>

    <div style="color: #31bdf2; background: white;padding: 0px;"
      *ngIf="campaign.publicEventCampaign && !isShowPartnerLeads">
      <div class="col-xs-12 p0">
        <div class="portlet-title col-xs-12"
          style="padding: 10px 0px 4px 0px; border-bottom: 1px solid #c5c5c5;    background-color: #3598dc;">
          <div class="caption col-xs-12 col-sm-8">
            <span class="caption-subject font-red-sunglo" style="font-size: 15px !important;">
              <span style="color:#fff!important">
                <i aria-hidden="true" class="fa fa-user-secret" style="font-size:20px!important"
                  id="leads-info-font-size"></i>
                &nbsp;YOUR LEAD DETAILS
                <span><b>( Total Lead count # {{campaignReport.yesLeadCount}}
                    <ng-container *ngIf="campaignReport.yesLeadCount!=campaignReport.leadAdditionalCount">
                      ({{campaignReport.leadAdditionalCount}})
                    </ng-container>
                    )
                  </b></span>
              </span>
            </span>
          </div>


          <div class="col-xs-10 col-sm-3" style="margin-top: 0px;padding-right: 0px;">
            <input type="text" [(ngModel)]="leadsSearchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search" (keypress)="leadEventHandler($event.keyCode)">
            <button class="search-box-item-clear" *ngIf="leadsSearchKey" (click)="leadsSearchKey=''; leadDetailsSearch()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" style="right: 1px" (click)="leadDetailsSearch()">
              <i class="fa fa-search" style="padding: 4px; color: black !important"></i>
            </button>
          </div>

          <div [class.disabled]="leadsFormHeaders?.length == 0 || isLeadListDownloadProcessing"
            class="btn-group pull-right col-xs-1" style="margin-top: -10px; cursor:pointer; color: #7d8c98">
            <span class="dropdown-toggle" data-toggle="dropdown"
              style="box-shadow:none;margin-top: 14px;margin-right: 21px; float:right;display: inline-flex;">
              <i class="fa fa-cog" style="color:#fff;font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                style="color:#fff;font-size:14px; float:right"></i>
            </span>
            <ul class="dropdown-menu pull-right" style="right:20px !important">
              <li><a (click)="downloadLeadList()"> Export To Excel </a>
                <!-- <a id="delete_button" (click)="downloadTypeName = 'campaignViews'; downloadFunctionality()"> Export To Excel </a> -->
              </li>
            </ul>
          </div>
        </div>
        <hr>
        <!-- 		<div class="col-xs-8"></div>
        <div class="col-xs-4 p0">
                          <div [hidden]="mainLoader" class="col-xs-4 rsvp_tile_padding">
                  <button class="portlet light color1-invert crcb" (click)="clearLeadValues();leadsDetailPagination.pageIndex = 1;getEventLeadsDetails('YES')" [class.selectedBox]="leadDetailType === 'YES'" [disabled]="leadDetailType === 'YES' || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-envelope fs30"></i>
                      <h1 class="fs14">
                        <b>{{campaignReport.yesLeadCount}}</b>
                        <span>Yes ( {{campaignReport.leadAdditionalCount}} )</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div [hidden]="mainLoader" class="col-xs-4 rsvp_tile_padding">
                  <button class="portlet light color1-invert crcb" (click)="clearLeadValues();leadsDetailPagination.pageIndex = 1;getEventLeadsDetails('NO')"  [class.selectedBox]="leadDetailType === 'NO'" [disabled]="leadDetailType === 'NO' || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-times-circle fs30"></i>
                      <h1 class="fs14">
                        <b>{{campaignReport.noLeadCount}}</b>
                        <span>No</span>
                      </h1>

                    </div>
                  </button>
                </div>
                <div [hidden]="mainLoader" class="col-xs-4 rsvp_tile_padding">
                  <button class="portlet light color1-invert crcb" (click)="clearLeadValues();leadsDetailPagination.pageIndex = 1;getEventLeadsDetails('MAYBE')"  [class.selectedBox]="leadDetailType === 'MAYBE'" [disabled]="leadDetailType === 'MAYBE' || !isPartnerEnabledAnalyticsAccess">
                    <div class="portlet-body text-center">
                      <i class="fa fa-question-circle fs30"></i>
                      <h1 class="fs14">
                        <b>{{campaignReport.maybeLeadCount}}</b>
                        <span>Maybe</span>
                      </h1>

                    </div>
                  </button>
                </div>
    </div> -->
      </div>


      <div class="row" id="responsive">
        <div class="col-xs-12 p0">
          <div class="portlet light">
            <div *ngIf="!httpRequestLoader.isLoading && leadsFormDetails?.length == 0" class="alert alert-info">
              <strong>No Records Found.</strong>
            </div>
            <div class="alert alert-info flex" *ngIf="isLeadListDownloadProcessing">
              <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
              <h4 class="m5">Please wait while we process your request.</h4>
            </div>
            <!-- <h4 style="font-weight: 500;">Your lead <b style="color:black">{{leadDetailType}}</b> details</h4> -->
            <div class="table-responsive">
              <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
              <div class="portlet-body" *ngIf="!httpRequestLoader.isLoading && leadsFormDetails?.length != 0">
                <div class="table-responsive">
                  <table class="table tgrid">
                    <thead>
                      <tr>
                        <ng-container *ngFor="let column of leadsFormHeaders;let i  = index">
                          <ng-container *ngIf="i<=3">
                            <th id="th-width" style="text-align:left">{{column}}
                              <!-- <span class="required" *ngIf="column.required">*</span> -->
                            </th>
                          </ng-container>
                        </ng-container>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <ng-container *ngFor="let formDataRow of leadsFormDetails;let rowIndex = index">
                        <tr id="form-data-row-{{rowIndex}}" class="form-data-row">
                          <ng-container *ngFor="let columnValue of leadsFormHeaders;let columnIndex = index">

                            <!-- <td *ngIf="columnIndex<=3">{{formDataRow[columnValue]}}</td> -->
                            <td *ngIf="columnIndex<=3">
                              <ng-container *ngIf="columnValue=='RSVP Time'">
                                <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [isOnlyDate]="false"
                                  [dateAndTime]="formDataRow[columnValue]"> </app-timestamp>
                                <span *ngIf="referenceService.isSafariBrowser()">{{formDataRow[columnValue]}}</span>
                              </ng-container>
                              <ng-container *ngIf="columnValue!='RSVP Time'">
                                <div [innerHtml]="formDataRow[columnValue]"></div>
                              </ng-container>
                            </td>

                          </ng-container>
                          <td>
                            <a class="close-circle" (click)="expandColumns(formDataRow,rowIndex)" data-toggle="tooltip"
                              title="View More Columns" *ngIf="leadsFormHeaders.length>4">
                              <i class="fa"
                                [ngClass]="{'fa-plus': !formDataRow.expanded, 'fa-minus': formDataRow.expanded}"></i>
                            </a>
                          </td>
                        </tr>
                        <tr [ngClass]="{'hidden': !formDataRow.expanded}" id="child-table">
                          <td colspan="5">
                            <div class="table-responsive">
                              <table id="expanded-table" class="table tgrid table-bordered">
                                <tr *ngFor="let column of leadsFormHeaders;let i  = index;">
                                  <th *ngIf="i>=4">
                                    {{column}}<span class="required" *ngIf="column.required">*</span>
                                  </th>
                                  <td *ngIf="i>=4">
                                    <ng-container *ngIf="column=='RSVP Time'">
                                      <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [isOnlyDate]="false"
                                        [dateAndTime]="formDataRow[column]"> </app-timestamp>
                                      <span *ngIf="referenceService.isSafariBrowser()">{{formDataRow[column]}}</span>
                                    </ng-container>
                                    <ng-container *ngIf="column!='RSVP Time'">
                                      <div [innerHtml]="formDataRow[column]"></div>
                                    </ng-container>
                                  </td>
                                </tr>
                              </table>
                            </div>
                          </td>
                        </tr>
                      </ng-container>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div *ngIf="leadsDetailPagination.pagedItems.length !== 0" class="pg8">
              <app-pagination [pagination]="leadsDetailPagination" (notifyParent)="eventLeadsDetailsSetPage($event)"
                (notifyParentDropDown)="eventLeadsDetailsSetPageDropdown($event)" [hidden]="httpRequestLoader.isLoading">
              </app-pagination>
            </div>
            <!-- End of 24 -->
            <div *ngIf="pagination.totalRecords==0 && !httpRequestLoader.isLoading" class="alert alert-info">
              <strong>No Data Found.</strong>
            </div>
          </div>
        </div>

        <div class="col-xs-12 p5" *ngIf="statusCode==404">
          <div class="alert alert-danger">
            <strong>
              <h4>Form does not exists</h4>
            </strong>
          </div>
        </div>


        <div class="col-xs-12 p5" *ngIf="statusCode==403">
          <div class="alert alert-danger">
            <strong>
              <h4>Access Denied</h4>
            </strong>
          </div>
        </div>

        <app-scroll-top></app-scroll-top>
      </div>

      <!-- <app-form-analytics-util [importedObject]="exportingObject" *ngIf="exportingObject.formAlias?.length>0"></app-form-analytics-util> -->
    </div>

    <div class="portlet light clearfix" *ngIf="showLeads">
      <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
      <div class="portlet-body">
        <a (click)="closeCampaignLeads()" class="pull-right close-circle"
          style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
          <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
        <app-manage-campaign-leads [campaignId]="campaignId" [fromAnalytics]="!isNavigatedThroughAnalytics" 
          [showTeamMemberFilter] = "campaign.channelCampaign"
          (viewCampaignLeadForm)="viewCampaignLeadForm($event)" (editCampaignLeadForm)="editCampaignLeadForm($event)"
          (registerDealForm)="registerDealForm($event)" (refreshCounts)="refreshCounts()"
          (showCommentsPopUp)="showComments($event)" [refreshCampaignLeadsSubject]="refreshCampaignLeadsSubject.asObservable()">
        </app-manage-campaign-leads>
      </div>
    </div>

    <div class="portlet light clearfix" *ngIf="showDeals">
      <div class="portlet-body">
        <a (click)="closeCampaignDeals()" class="pull-right close-circle"
          style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
          <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
        <app-manage-campaign-deals [campaignId]="campaignId" [fromAnalytics]="!isNavigatedThroughAnalytics"
          [showTeamMemberFilter] = "campaign.channelCampaign"
          (viewCampaignDealForm)="viewCampaignDealForm($event)" (editCampaignDealForm)="editCampaignDealForm($event)"
          (refreshCounts)="refreshCounts()" (showCommentsPopUp)="showDealComments($event)"> </app-manage-campaign-deals>
      </div>
    </div>
  </div>
</ng-container>


<!-- Deal Form-->
<section *ngIf="showDealForm">
  <div [ngClass]="hidePageContent? '':'page-content'">
    <a (click)="closeDealForm()" class="pull-right close-circle"
      style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
      <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
    <app-add-deal [leadId]="leadId" [dealId]="dealId" [actionType]="dealActionType"
      (notifySubmitSuccess)="showSubmitDealSuccess()">
    </app-add-deal>
  </div>
</section>

<section *ngIf="campaignType === 'EVENT' && isChannelCampaign">
  <div id="timeline-view" [ngClass]="hidePageContent? '':'page-content'" *ngIf="isTimeLineView">
    <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
    <div class="page-bar" style="min-height: 572px;">
      <a (click)="resetTopNavBarValue(); rsvpDetailType = ''" class="pull-right close-circle"
        style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
        <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
      <div class="col-xs-12 p-5x">
        <div class="p-5x">
          <div class="portlet light">
            <!--  here removed style="position: relative;top: 42px;" -->
            <div class="portlet-body clearfix">
              <div class="col-xs-12" *ngIf="rsvpDetailType !== 'partnerRsvp'">
                <span class="btn btn-sm btn-primary pull-right" style="cursor:default;"
                  title="{{campaign.campaignName}}">{{campaign.campaignName
                  | slice:0:20}} <span *ngIf="campaign.campaignName?.length>20">...</span></span>
                <h4 class="m0" title="{{campaignReport.selectedPartnerFirstName}}">
                  {{campaignReport.selectedPartnerFirstName | slice:0:20}}
                  <span *ngIf="campaignReport.selectedPartnerFirstName?.length>20">...</span>
                </h4>
                <!-- <h4 class="m0" title="{{campaignReport.selectedPartnerLastName}}">{{campaignReport.selectedPartnerLastName | slice:0:20}} <span *ngIf="campaignReport.selectedPartnerLastName?.length>20">...</span></h4> -->
                <h4 class="m0" title="{{campaignReport.selectedPartnerEmailId}}">
                  {{campaignReport.selectedPartnerEmailId | slice:0:24}}
                  <span *ngIf="campaignReport.selectedPartnerEmailId?.length>24">...</span>
                </h4>
                <h5 class="text-info" style="margin-bottom: 0;">{{campaign.launchTime | date: 'fullDate'}}</h5>
              </div>
              <div class="col-xs-12" *ngIf="rsvpDetailType === 'partnerRsvp'">
                <span class="btn btn-sm btn-primary pull-right" style="cursor:default;"
                  title="{{campaign.campaignName}}">{{campaign.campaignName
                  | slice:0:40}} <span *ngIf="campaign.campaignName?.length>40">...</span></span>
                <h4 class="m0">Your Campaign Response</h4>
                <!-- <h4>Response</h4> -->
                <h5 class="text-info" style="margin-bottom: 0;">{{campaign.launchTime | date: 'fullDate'}}</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 emails-info" id='values' [hidden]="mainLoader">

        <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
          *ngIf="rsvpDetailType !== 'allPartnerRedistributionRsvp'">
          <button class="portlet light color1-invert crcb" (click)="resetRsvpPagination();getRsvpInvitiesDetails()"
            [class.selectedBox]="rsvpResposeType === 'invities'"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.redistributionTotalInvitiesCount < 1 || !isPartnerEnabledAnalyticsAccess || rsvpDetailType === 'reDistribution'">
            <div class="portlet-body text-center">
              <i class="fa fa-envelope"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalInvitiesCount}}</b>
                <span>Invites</span>
              </h1>

            </div>
          </button>
        </div>

        <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
          *ngIf="rsvpDetailType !== 'allPartnerRedistributionRsvp'">
          <button class="portlet light color1-invert crcb" (click)="resetRsvpPagination();getRsvpEmailOpenDetails()"
            [class.selectedBox]="rsvpResposeType === 'email open'"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="!isPartnerEnabledAnalyticsAccess || rsvpDetailType === 'reDistribution'">
            <div class="portlet-body text-center">
              <i class="fa fa-envelope-open"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalEmailOpenCount}}</b>
                <span>Opened</span>
              </h1>

            </div>
          </button>
        </div>
        <div class="p-5x" class="col-xs-6 col-lg-2 rsvp_tile_padding">
          <button class="portlet light color1-invert crcb" [class.selectedBox]="rsvpResposeType === 'YES'"
            (click)="resetRsvpPagination();getRsvpDetails('YES')"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.redistributionTotalYesCount < 1 ||  !isPartnerEnabledAnalyticsAccess">
            <div class="portlet-body text-center">
              <i class="fa fa-check-circle"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalYesCount}}</b>
              </h1>
              <h5>Yes ( {{campaignReport.redistributionTotalAdditionalCount}} )</h5>
            </div>
          </button>
        </div>
        <div class="p-5x" [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
          *ngIf="!campaign.publicEventCampaign">
          <button class="portlet light color1-invert crcb" [class.selectedBox]="rsvpResposeType === 'NO'"
            (click)="resetRsvpPagination();getRsvpDetails('NO')"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.redistributionTotalNoCount < 1 || !isPartnerEnabledAnalyticsAccess || rsvpDetailType === 'reDistribution' || rsvpDetailType === 'allPartnerRedistributionRsvp'">
            <div class="portlet-body text-center">
              <i class="fa fa-times-circle"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalNoCount}}</b>
              </h1>
              <h5>No</h5>
            </div>
          </button>
        </div>
        <div class="p-5x" [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
          *ngIf="!campaign.publicEventCampaign">
          <button class="portlet light color1-invert crcb" [class.selectedBox]="rsvpResposeType === 'MAYBE'"
            (click)="resetRsvpPagination();getRsvpDetails('MAYBE')"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.redistributionTotalMayBeCount < 1 || !isPartnerEnabledAnalyticsAccess">
            <div class="portlet-body text-center">
              <i class="fa fa-question-circle"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalMayBeCount}}</b>
              </h1>
              <h5>Maybe</h5>
            </div>
          </button>
        </div>
        <div [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding"
          *ngIf="rsvpDetailType !== 'allPartnerRedistributionRsvp'">
          <button class="portlet light color1-invert crcb" [class.selectedBox]="rsvpResposeType === 'NOTYET'"
            (click)="resetRsvpPagination();getRsvpDetails('NOTYET')"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.redistributionTotalNotYetRespondedCount < 1 || !isPartnerEnabledAnalyticsAccess || rsvpDetailType === 'reDistribution'">
            <div class="portlet-body text-center">
              <i class="fa fa-exclamation-circle"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalNotYetRespondedCount}}</b>
              </h1>
              <h5>Not yet</h5>
            </div>
          </button>
        </div>
        <div *ngIf="campaign.publicEventCampaign" [hidden]="mainLoader" class="col-xs-6 col-lg-2 rsvp_tile_padding">
          <button class="portlet light color1-invert crcb"
            [class.selectedBox]="rsvpResposeType === 'TOTAL_PARTNER_LEADS'" (click)="setCondition()"
            [ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
            [disabled]="campaignReport.totalPartnerLeadsCount < 1 || !isPartnerEnabledAnalyticsAccess">
            <div class="portlet-body text-center">
              <i class="fa fa-user-secret"></i>
              <h1>
                <b>{{campaignReport.redistributionTotalLeadsCount}}</b>
              </h1>
              <h5>Total Leads</h5>
            </div>
          </button>
        </div>
      </div>
      <ng-container *ngIf="rsvpResposeType==='TOTAL_PARTNER_LEADS'">
        <div class="col-xs-12" style="padding: 10px 0px 5px 16px;">
          <app-form-analytics-util [importedObject]="exportingObject" *ngIf="exportingObject.formAlias?.length>0">
          </app-form-analytics-util>
        </div>
      </ng-container>
      <ng-container *ngIf="rsvpResposeType!='TOTAL_PARTNER_LEADS'">
        <div class="col-xs-12" style="padding: 10px 0px 5px 16px;">
          <h4 class="pull-left" *ngIf="rsvpResposeType === 'invities'">Invitees</h4>
          <!-- <h4 class="pull-left" *ngIf="rsvpResposeType === 'email open'">People who <b class="highlet">OPENED YOUR EMAIL</b></h4> -->
          <div class="pull-left mt10" *ngIf="rsvpResposeType === 'email open' || rsvpResposeType === 'email not open'">
            <ul class="mix-filter m0">
              <li class="filter" [class.selectedBox]="rsvpResposeType === 'email open'"
                (click)="resetRsvpPagination();getRsvpEmailOpenDetails()">People
                who have opened your email</li>
              <li class="filter" [class.selectedBox]="rsvpResposeType === 'email not open'"
                (click)="resetRsvpPagination();getRsvpEmailNotOpenDetails()">
                People who haven't opened your email</li>
            </ul>
          </div>
          <h4 class="pull-left" *ngIf="rsvpResposeType === 'YES'">People who have responded <b class="highlet">YES</b>
          </h4>
          <h4 class="pull-left" *ngIf="rsvpResposeType === 'NO'">People who have responded <b class="highlet">NO</b>
          </h4>
          <h4 class="pull-left" *ngIf="rsvpResposeType === 'MAYBE'">People who have responded <b
              class="highlet">MAYBE</b></h4>
          <h4 class="pull-left" *ngIf="rsvpResposeType === 'NOTYET'">People who have<b class="highlet">NOT YET RESPONDED
            </b></h4>

          <div class="pull-right col-xs-4">
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>

        </div>

        <div class="col-xs-12">
          <div class="table-responsive">
            <!--  <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader> -->
            <div class="alert alert-info alert-dismissible" *ngIf="rsvpDetailsList?.length == 0">
              <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
              No results found.
            </div>
            <ng-container *ngIf="rsvpDetailsList?.length != 0">
              <div class="table-responsive">
                <table class="table tgrid">
                  <thead>
                    <tr>
                      <th style="font-size: 12px; font-weight: 500;" style="width:50%">NAME</th>
                      <th style="font-size: 12px; font-weight: 500;"
                        *ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
                          [hidden]="rsvpResposeType === 'email not open'">MESSAGE</span></th>
                      <th style="font-size: 12px; font-weight: 500;"
                        *ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">CAMPAIGN
                        NAME</th>
                      <th style="font-size: 12px; font-weight: 500;"
                        *ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">SUBJECT</th>
                      <th style="font-size: 12px; font-weight: 500;" *ngIf="rsvpResposeType != 'invities'"><span
                          [hidden]="rsvpResposeType === 'email not open'">RSVP
                          Date</span></th>
                      <th style="font-size: 12px; font-weight: 500;"
                        *ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
                          [hidden]="rsvpResposeType === 'email not open'">GUESTS
                          <!-- <br><h6 class="m0" style="font-size:9px">( including you )</h6> -->
                        </span></th>
                      <th class="text-center-css" *ngIf="!isCancelledEvent && rsvpResposeType === 'email not open'">
                        Reminder</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of rsvpDetailsList">
                      <td>
                        <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                      </td>
                      <td *ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
                        <span [hidden]="rsvpResposeType === 'email not open'">
                          <h6>{{item.message}}</h6>
                          <h6 *ngIf="!item.message" style="text-align:center"><b>-</b></h6>
                        </span>
                      </td>
                      <td *ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
                        {{item.campaignName}}
                      </td>
                      <td class="text-center" *ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
                        {{item.subject}}</td>
                      <td *ngIf="rsvpResposeType != 'invities'">
                        <h6 *ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
                          {{item.responseTime | date: 'short'}}</h6>
                        <h6 *ngIf="rsvpResposeType === 'email open'">{{item.time | date: 'short'}}</h6>
                      </td>
                      <td class="center" *ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
                        {{item.additionalCount}}</td>
                      <td class="text-center" *ngIf="rsvpResposeType === 'email not open' && isCancelledEvent === false"
                        style="text-align:center"> <a (click)="sendEmailNotOpenReminder(item)">
                          <i class="fa fa-bell-o" aria-hidden="true"></i>
                        </a> </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-container>
            <app-pagination *ngIf="rsvpDetailAnalyticsPagination.pagedItems.length !== 0"
              [pagination]="rsvpDetailAnalyticsPagination" class="pg8" [type]="rsvpResposeType"
              (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</section>

<section *ngIf="!isChannelCampaign || campaignType != 'EVENT'">
  <div [ngClass]="hidePageContent? '':'page-content'" id="timeline-view"  *ngIf="isTimeLineView"
    [class.ml0]="authenticationService.isSuperAdmin()">
    <div class="page-bar" style="border: 1px solid #CCC;">
      <a (click)="resetTopNavBarValue()" class="pull-right close-circle"
        style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
        <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>

      <div data-animation-name="slideInUp">
        <div class="col-xs-12">
          <ng-container *ngIf="campaignType == 'SOCIAL'">
            <div class="f-w-600 p10">Redistributed Accounts</div>
            <div class="col-sm-4 col-xs-12" *ngFor="let socialStatus of redistributedAccountsBySelectedUserId">
              <app-social-status [socialStatus]="socialStatus"></app-social-status>
            </div>
          </ng-container>
        </div>
        <div class="col-xs-12 col-sm-6 p10">
          <ng-container *ngIf="campaignType !== 'SOCIAL'">
            <div class="text-center f-w-600">Most Active Recipients for this Campaign</div>
            <app-bubble-chart [campaignId]="campaignId"></app-bubble-chart>
          </ng-container>
          <div class="text-center f-w-600">
            <span *ngIf="campaignType==='VIDEO'">View Count By Recipient</span>
            <span *ngIf="campaignType!=='VIDEO'">Email Opened Count By Recipient </span>
          </div>
          <div id="campaign-views-barchart" style="width: 100%; max-width: 100%; height: 260px; margin: 0 auto"></div>
          <div>
            <app-pagination class="pg8" *ngIf="pagination.pagedItems?.length > 0" [pagination]="pagination"
              [type]="'viewsBarChart'" (notifyParent)="setPage($event)" [isDropdown]="true"></app-pagination>
            <!-- 		 This code is for pagination dropdown
					 (notifyParentDropDown)="paginationDropdown($event)" -->
          </div>
        </div>
        <div class="col-xs-12 col-sm-6">
          <div data-animation="slideInUp">
            <div class="row mb10">
              <img src="/assets/images/user.png" width="48px" class="user-profile-image" alt="No image found">
              <ng-container *ngIf="!disabled">
                <span
                  *ngIf="showUserLevelCampaignAnalytics && showRegisterLeadButton && campaignType!='LANDINGPAGE' && campaignType!='SOCIAL'">
                  <button style="position: absolute; left: 350px; margin-top: 7px;" (click)="showDealRegistrationForm()"
                    class="btn btn-success">{{dealButtonText}}</button>
                </span>
              </ng-container>
              <ng-container *ngIf="disabled">
                <button title="This campaign has been deleted by your vendor.You can't register a lead"
                  style="position: absolute; left: 350px; margin-top: 7px;cursor: not-allowed;background: darkgray;"
                  class="btn btn-success">{{dealButtonText}}</button>
              </ng-container>

              <h5 class="f-w-600 mt10 mb0"><span *ngIf="selectedRow?.firstName">{{selectedRow.firstName |
                  slice:0:20}}</span>
                <span *ngIf="selectedRow.firstName?.length>20">..</span>
                &nbsp;
                <span *ngIf="selectedRow?.lastName">{{selectedRow.lastName | slice:0:20}}</span>
                <span *ngIf="selectedRow.lastName?.length>20">..</span>
              </h5>
              <h6 class="m0">{{selectedRow.emailId | slice:0:35}}
                <span *ngIf="selectedRow.emailId?.length>35">...</span>
              </h6>
            </div>
            <div class="row mb10">
              <div class="col-sm-3 col-xs-6">
                <a class="text-center">
                  <div><img src="assets/images/email-opened.png" style="margin: 0px 5px;width: 52px;"></div>
                  <div>Email Opened</div>
                  <div class="number">
                    <span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.emailOpenCount}}</span>
                  </div>
                </a>
              </div>
              <ng-container *ngIf="campaignType != 'EVENT'">
                <div class="col-sm-3 col-xs-6">
                  <a class="text-center">
                    <div><img src="assets/images/clicked-new.png" style="margin: 0px 10px;width: 52px;"></div>
                    <div>Clicked URL</div>
                    <div class="number">
                      <span data-counter="counterup"
                        style="margin: 0 25px;">{{userCampaignReport.emailClickedCount}}</span>
                    </div>
                  </a>
                </div>
                <div class="col-sm-3 col-xs-6"
                  [hidden]="campaignType==='REGULAR' || campaignType==='SOCIAL' ||  campaignType==='LANDINGPAGE' || campaignType === 'SURVEY'">
                  <a class="text-center">
                    <div><img src="assets/images/video-watched.png" style="margin: 0px 11px;width: 52px;"></div>
                    <div>Views</div>
                    <div class="number">
                      <span data-counter="counterup"
                        style="margin: 0 33px;">{{userCampaignReport.totalUniqueWatchCount}}</span>
                    </div>
                  </a>
                </div>
                <div class="col-sm-3 col-xs-6"
                  [hidden]="campaignType==='REGULAR' || campaignType==='SOCIAL' ||  campaignType==='LANDINGPAGE'|| campaignType === 'SURVEY'">
                  <a class="text-center">
                    <div><img src="assets/images/total-time-spent.png" style="margin: 4px 15px;width: 45px;"></div>
                    <div>Time Spent</div>
                    <div class="number">
                      <span data-counter="counterup"
                        style="margin: 0 33px;">{{videoUtilService.truncateHourZeros(totalTimeSpent)}}</span>
                    </div>
                  </a>
                </div>
              </ng-container>

              <div class="col-sm-3 col-xs-6" *ngIf="campaignType==='SOCIAL'">
                <a class="text-center">
                  <div><img src="assets/images/social-icons.jpg" style="margin: 0px 15px;width: auto;height: 52px;">
                  </div>
                  <div>Social Accounts</div>
                  <div class="number">
                    <span>{{redistributedAccountsBySelectedUserId.length}}</span>
                  </div>
                </a>
              </div>
            </div>
          </div>

          <ul class="timeline custom-padding" data-animation="slideInUp" *ngIf="selectedRow">
            <li class="timeline-inverted">
              <div class="timeline-badge warning"><img src="assets/images/closed-env.png"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <span class="timeline-title">
                    <!-- {{campaign.launchTime | date: 'fullDate'}} -->
                    <app-timestamp [dateAndTime]="campaign.launchTime"> </app-timestamp>
                  </span>
                </div>
                <div class="timeline-body">
                  <h5><span class="f-w-600" title="{{campaign.campaignName}}">
                      {{campaign.campaignName | slice: 0: 30}}
                      <span *ngIf="campaign.campaignName?.length>30">...</span>
                    </span> campaign Launched at {{campaign.launchTime | date: 'shortTime'}}</h5>
                  <h5>Email sent to <b>{{selectedRow.emailId}}</b></h5>
                </div>
              </div>
            </li>
          </ul>
          <ul class="timeline custom-padding" *ngFor="let emailLog of emailLogs">
            <li class="timeline-inverted">
              <div class="timeline-badge">
                <img *ngIf="emailLog.actionId == 13" alt="opened" src="assets/images/opened.png">
                <img *ngIf="emailLog.actionId == 14" alt="clicked" src="assets/images/clicked.png">
                <img *ngIf="emailLog.actionId == 15" alt="clicked" src="assets/images/clicked.png">
                <img *ngIf="emailLog.actionId == 1 || emailLog.actionId == 10" alt="watched"
                  src="assets/images/video.png">
                <img *ngIf="emailLog.autoResponseType" src="assets/images/closed-env.png">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <span class="timeline-title">
                    <!-- {{emailLog.time | date: 'fullDate'}} -->
                    <app-timestamp [dateAndTime]="emailLog.time"> </app-timestamp>
                  </span>
                </div>
                <div class="timeline-body">
                  <h5>
                    <span *ngIf="emailLog.actionId == 13">
                      Campaign <span class="f-w-600" *ngIf="emailLog.subject" title="{{emailLog.subject}}">
                        {{emailLog.subject | slice:0:30}} <span *ngIf="emailLog.subject?.length>30">...</span>
                      </span> email opened
                    </span>
                    <span *ngIf="emailLog.actionId == 14 && campaign.campaignVideoFile">Clicked <span class="f-w-600"
                        title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title
                        | slice:0:30}} <span *ngIf="campaign.campaignVideoFile.title?.length>30">...</span></span> video
                      GIF</span>
                    <span
                      *ngIf="emailLog.actionId == 15 && emailLog.url?.length>0 && emailLog.url!='Clicked on View in browser'">
                      Clicked on the URL
                      <span class="f-w-600">
                        <a href="{{emailLog.url}}" target="_blank" title="{{emailLog.url}}">{{emailLog.url |
                          slice:0:30}}
                          <span *ngIf="emailLog.url?.length>30">...</span></a>
                      </span>
                    </span>
                    <span
                      *ngIf="emailLog.actionId == 15 && emailLog.url?.length>0 && emailLog.url=='Clicked on View in browser'">
                      <span class="f-w-600">
                        <a href="javascript:void(0);" title="{{emailLog.url}}">{{emailLog.url}}
                        </a>
                      </span>
                    </span>
                    <span *ngIf="campaign.campaignVideoFile && (emailLog.actionId == 1 || emailLog.actionId == 10)">
                      <span class="f-w-600"
                        title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title | slice:0:30}}
                        <span *ngIf="campaign.campaignVideoFile.title?.length>30">...</span>
                      </span> <span *ngIf="emailLog.actionId == 10">re-</span>played
                    </span>
                    <span *ngIf="emailLog.autoResponseType">
                      <h5>Email sent for the auto response: <b>{{emailLog.autoResponseType}}</b></h5>
                      <h6>Subject Line: <b>{{emailLog.subject}}</b></h6>
                    </span>
                  </h5>
                  <span *ngIf="emailLog.countryCode">
                    <h6>
                      <img *ngIf="emailLog.countryCode"
                        src="https://lipis.github.io/flag-icon-css/flags/4x3/{{emailLog.countryCode | lowercase}}.svg"
                        width="20px" class="mr10" alt="">{{emailLog.country}}, {{emailLog.city}}
                    </h6>
                    <h6 class="mb0">{{emailLog.isp}} ( <strong>{{emailLog?.ipAddress}}</strong> )</h6>
                  </span>
                  <div *ngIf="emailLog.actionId == 1">
                    <app-heat-map [sessionId]="emailLog.sessionId"></app-heat-map>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Users Watch List Modal -->
<div class="modal right fade" id="usersWatchListModal" tabindex="-1" role="dialog"
  aria-labelledby="usersWatchListModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-11 col-sm-10 col-lg-10 visible-xs p0">
            <h4 class="modal-title" id="usersWatchListModalLabel">Recipients who have watched the campaign</h4>
          </div>
          <div class="col-xs-1 col-sm-2 col-lg-2 pull-right p0">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>
        <div class='col-xs-12 col-sm-12 col-lg-12' style="padding: 10px 0px 0px 0px;">
          <div class="col-xs-6 col-sm-8 col-lg-8 p0 hidden-xs">
            <h4 class="modal-title" id="usersWatchListModalLabel">Recipients who have watched the campaign</h4>
          </div>
          <div class='col-xs-10 col-sm-3 col-lg-3'>
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>
          <div class='col-xs-2 col-sm-1 col-lg-1 p0'>
            <div class="btn-group pull-right" style="margin-top: 20px; cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none;margin-top: -15px;padding-right: 10px;margin-right: 21px; float:right;display: inline-flex;">
                <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                  style="font-size:14px; float:right"></i>
              </span>
              <ul class="dropdown-menu pull-right" style="right: 15px!important;">
                <li><a id="delete_button"
                    (click)="downloadCampaignDetailsByActionType(campaignReport.emailActionType )"> Export To Excel </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <div class="row">
          <div class="table-responsive">
            <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
            <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError">
              <div class="alert alert-info alert-dismissible" *ngIf="campaignReport.usersWatchList?.length == 0">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                No results found.
              </div>
              <div class="table-responsive">
                <table class="table tgrid" *ngIf="campaignReport.usersWatchList?.length != 0">
                  <thead>
                    <tr>
                      <th style="font-size: 12px; font-weight: 500;">NAME</th>
                      <th style="font-size: 12px; font-weight: 500;">START DURATION</th>
                      <th style="font-size: 12px; font-weight: 500;">STOP DURATION</th>
                      <!-- 	<th style="font-size: 12px; font-weight: 500;">IP ADDRESS</th> -->
                      <th style="font-size: 12px; font-weight: 500;">LOCATION</th>
                      <th style="font-size: 12px; font-weight: 500;">PLATFORM</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of campaignReport.usersWatchList">
                      <td>
                        <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                      </td>
                      <td>
                        <h6>
                          <!-- {{item.startTime | date: 'short'}} -->
                          <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [dateAndTime]="item.startTime">
                          </app-timestamp>
                          <span *ngIf="referenceService.isSafariBrowser()">{{item.startTime}}</span>
                        </h6>
                      </td>
                      <td>
                        <h6>
                          <!-- {{item.endTime | date: 'short'}} -->
                          <app-timestamp [dateAndTime]="item.endTime"> </app-timestamp>
                        </h6>
                      </td>
                      <!-- <td>
										<h6>{{item.ipAddress}}</h6>
									</td> -->
                      <td class="center">
                        <app-location [userLocation]="item"> </app-location>
                      </td>
                      <!-- <td><h6>{{item.deviceType}}, {{item.os}}</h6></td> -->
                      <td class="center">
                        <app-platform [deviceTypeOs]="true" [userPlatform]="item"> </app-platform>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-container>
          </div>
          <!--pager here  -->
          <div>
            <app-pagination class="pg8" *ngIf="usersWatchListPagination.pagedItems?.length > 0"
              [pagination]="usersWatchListPagination" [type]="'usersWatch'" (notifyParent)="setPage($event)"
              (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Email Opened/ Clicked List Modal -->
<div class="modal right fade" id="emailActionListModal" tabindex="-1" role="dialog"
  aria-labelledby="emailActionListModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-10 col-sm-10 col-lg-10 p0 visible-xs">
            <h4 class="modal-title" id="emailActionListModalLabel" *ngIf="campaignReport.emailActionType === 'open'">
              Emails opened
              by recipients</h4>
            <h4 class="modal-title" id="emailActionListModalLabel" *ngIf="campaignReport.emailActionType === 'click'">
              Recipients
              who clicked a URL</h4>
          </div>
          <div class="col-xs-2 col-sm-2 col-lg-2 pull-right p0">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px;">
          <div class="col-xs-4 col-sm-4 col-lg-4 hidden-xs">
            <!-- <div class="col-xs-10 col-sm-10 col-lg-10"> -->
            <h4 class="modal-title" id="emailActionListModalLabel" *ngIf="campaignReport.emailActionType === 'open'">
              Emails opened
              by recipients</h4>
            <h4 class="modal-title" id="emailActionListModalLabel" *ngIf="campaignReport.emailActionType === 'click'">
              Recipients
              who clicked a URL</h4>
            <!-- </div> -->
          </div>
          <div class='col-xs-6 col-sm-4 col-lg-4' style="padding: 0px 15px 0px 0px;">
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>
          <div class="col-xs-4 col-sm-2 col-lg-2 p0">
            <div class="btn-group pull-right" style="cursor:pointer; color: #7d8c98">
              <div class="">
                <select class="form-control" [(ngModel)]="selectedSortedOption"
                  (ngModelChange)="getSortedResult(campaign.campaignId,$event)">
                  <option *ngFor="let sortOption of sortByDropDown" [ngValue]="sortOption">{{sortOption.name}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-xs-2 col-sm-2 col-lg-2">
            <span class="dropdown-toggle" data-toggle="dropdown"
              style="box-shadow:none;margin-top: 8px;padding-right: 10px;margin-right: 21px; float:right;display: inline-flex;">
              <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                style="font-size:14px; float:right"></i>
            </span>
            <ul class="dropdown-menu pull-right">
              <li><a id="delete_button" (click)="downloadCampaignDetailsByActionType(campaignReport.emailActionType )">
                  Export To Excel </a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <div class="row">
          <div class="table-responsive">
            <div *ngIf="campaignReport.emailActionType" class="inputs" align="right"
              style="float: right;margin-bottom: 10px;">
            </div>
            <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
            <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError">
              <div class="alert alert-info alert-dismissible" *ngIf="campaignReport.emailLogs?.length == 0">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                No results found.
              </div>
              <div class="table-responsive">
                <table class="table tgrid" *ngIf="campaignReport.emailLogs?.length != 0">
                  <thead>
                    <tr>
                      <th style="width:40%">NAME</th>
                      <th style="width:33%" *ngIf="campaignReport.emailActionType === 'open'">Email Subject</th>
                      <th style="width:33%" *ngIf="campaignReport.emailActionType === 'click'">Most Recent URL</th>
                      <th style="width:27%;">Latest Time</th>
                      <th></th>

                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngFor="let item of campaignReport.emailLogs">
                      <tr>
                        <td>
                          <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                        </td>
                        <td *ngIf="campaignReport.emailActionType === 'open'">
                          <h6 title="{{item.subject}}">
                            {{item.subject | slice:0:40}}
                            <span *ngIf="item.subject?.length > 40">...</span>
                          </h6>
                        </td>
                        <td *ngIf="campaignReport.emailActionType === 'click' && item.url != null">
                          <h6>{{item.url | slice:0:40}} <span *ngIf="item.url?.length > 40">...</span></h6>
                        </td>
                        <td *ngIf="campaignReport.emailActionType === 'click' && item.url == null">
                          <h6>Clicked on the video thumbnail</h6>
                        </td>
                        <td>
                          <span>
                            <h6 style="text-align: center;">
                              <!-- {{item.time | date: 'short'}} -->
                              <app-timestamp [dateAndTime]="item.time">
                              </app-timestamp>

                            </h6>
                          </span>

                        </td>
                        <td>
                          <span data-toggle="tooltip" data-placement="left" title="View History"
                            style="text-align: center;position: relative;" class="actions-block"
                            *ngIf="item.emailActionCount > 1">
                            <a
                              (click)="listEmailLogsByCampaignIdUserIdActionType(item, campaignReport.emailActionType)">
                              <i class="fa" [ngClass]="{'fa-plus': !item.isExpand, 'fa-minus': item.isExpand}"></i>
                            </a>
                          </span>
                        </td>
                      </tr>
                      <tr [ngClass]="{'hidden': !item.isExpand}">
                        <td colspan="4">
                          <table class="table tgrid table-condensed" *ngIf="item.emailLogHistory">
                            <thead>
                              <tr>
                                <th *ngIf="campaignReport.emailActionType === 'open'">Email Subject</th>
                                <th *ngIf="campaignReport.emailActionType === 'click'">URL</th>
                                <th colspan="2">Opened At</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let emailLog of item.emailLogHistory">
                                <td *ngIf="campaignReport.emailActionType === 'open'" [title]="emailLog.subject">
                                  <h6>{{emailLog.subject | slice:0:40}}
                                    <span *ngIf="emailLog.subject?.length > 40">...</span>
                                  </h6>

                                </td>
                                <td *ngIf="campaignReport.emailActionType === 'click' && emailLog.url != null">
                                  <h6>{{emailLog.url}} <span *ngIf="emailLog.url?.length > 40">...</span></h6>
                                </td>
                                <td *ngIf="campaignReport.emailActionType === 'click' && emailLog.url == null">
                                  <h6>Clicked on the video thumbnail</h6>
                                </td>
                                <td style="text-align: center;">
                                  <app-timestamp [dateAndTime]="emailLog.time"> </app-timestamp>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>

                    </ng-container>
                  </tbody>
                </table>
              </div>
            </ng-container>
          </div>
          <div>
            <app-pagination class="pg8" *ngIf="emailActionListPagination.pagedItems?.length > 0"
              [pagination]="emailActionListPagination" [type]="'emailAction'" (notifyParent)="setPage($event)"
              (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Email Sent List Modal -->
<div class="modal right fade" id="emailSentListModal" tabindex="-1" role="dialog"
  aria-labelledby="emailSentListModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-10 col-sm-10  col-lg-10 p0 visible-xs">
            <h4 class="modal-title" id="emailSentListModalLabel">Sent Email Details</h4>
          </div>
          <div class="col-xs-2 col-sm-2 col-lg-2 pull-right p0">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px">
          <div class="col-xs-6 col-sm-6 col-lg-6 hidden-xs">
            <h4 class="modal-title" id="emailSentListModalLabel">Sent Email Details</h4>
          </div>
          <div class='col-xs-10 col-sm-5 col-lg-5'>
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>
          <div class="col-xs-2 col-sm-1 col-lg-1 p0">
            <div class="btn-group" style="cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none; position: absolute; display: inline-flex;">
                <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                  style="font-size:14px;"></i>
              </span>
              <ul class="dropdown-menu pull-right" style="margin-top:30px; right: -38px !important;">
                <li><a id="delete_button" (click)="downloadFunctionality()"> Export To Excel </a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body">

        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <div class="row" style="display: inline-block; padding-top:10px">
          <div class="table-responsive">
            <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
            <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
              <div class="alert alert-info alert-dismissible" *ngIf="sentEmailOpenPagination.pagedItems?.length == 0">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                No results found.
              </div>
              <div class="table-responsive">
                <table class="table tgrid" *ngIf="sentEmailOpenPagination.pagedItems?.length != 0">
                  <thead>
                    <tr>
                      <th style="font-size: 12px; font-weight: 500;text-align: left;width:25%">NAME</th>
                      <th style="font-size: 12px; font-weight: 500;">CAMPAIGN NAME</th>
                      <th style="font-size: 12px; font-weight: 500;">SENT TIME</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of sentEmailOpenPagination.pagedItems">
                      <td>
                        <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                      </td>
                      <td>
                        <h6 title="{{item.campaignName}}">{{item.campaignName | slice:0:30}}
                          <span *ngIf="campaign.campaignName?.length>30">...</span>
                        </h6>
                        <h4 *ngIf="item.campaignName==null">-</h4>
                      </td>
                      <td>
                        <h6>
                          <app-timestamp [dateAndTime]="campaign.launchTime"> </app-timestamp>
                        </h6>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-container>
            <div>
              <app-pagination class="pg8" [pagination]="sentEmailOpenPagination"
                *ngIf="sentEmailOpenPagination.pagedItems?.length > 0" [type]="'sentEmailData'"
                (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--  model popup for donuts analytics page  -->
<div class="modal right fade" id="donutModelPopup" tabindex="-1" role="dialog" data-backdrop="static"
  data-keyboard="false">
  <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-10 col-sm-10 col-lg-10 p0 visible-xs">
            <h4 class="modal-title" style="text-align: left">
              <span *ngIf="donultModelpopupTitle ==='current-month'">This Month's</span>
              <span *ngIf="donultModelpopupTitle ==='life-time'">Lifetime</span>
              <span
                *ngIf="donultModelpopupTitle !=='life-time' && donultModelpopupTitle !=='current-month'">Today's</span>
              Views
            </h4>
          </div>
          <div class="col-xs-2 col-sm-2 col-lg-2 pull-right p0">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>

        <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px;">
          <div class="col-xs-10 col-sm-8 col-lg-8 p0 hidden-xs">
            <h4 class="modal-title" style="text-align: left">
              <span *ngIf="donultModelpopupTitle ==='current-month'">This Month's</span>
              <span *ngIf="donultModelpopupTitle ==='life-time'">Lifetime</span>
              <span
                *ngIf="donultModelpopupTitle !=='life-time' && donultModelpopupTitle !=='current-month'">Today's</span>
              Views
            </h4>
          </div>
          <div class='col-xs-8 col-sm-3 col-lg-3'>
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>

          <div class="col-xs-2 col-sm-1 col-lg-1 p0">
            <div class="btn-group pull-right" style="margin-top: 20px; cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none;margin-top: -15px;padding-right: 10px;margin-right: 21px; float:right;display: inline-flex;">
                <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                  style="font-size:14px; float:right"></i>
              </span>
              <ul class="dropdown-menu pull-right" style="right: 15px !important">
                <li><a id="delete_button" (click)="downloadFunctionality()"> Export To Excel </a></li>
              </ul>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-body clearfix">
        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <!-- <div class="row"> -->
        <div class="table-responsive">
          <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
          <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
            <div class="alert alert-info alert-dismissible" *ngIf="donutCampaignViews?.length == 0">
              <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
              No results found.
            </div>
            <div class="table-responsive">
              <table class="table tgrid" *ngIf="donutCampaignViews?.length != 0">
                <thead>
                  <tr>
                    <th style="font-size: 12px; font-weight: 500;">NAME</th>
                    <!-- <th style="font-size: 12px; font-weight: 500;">CAMPAIGN NAME</th> -->
                    <th style="font-size: 12px; font-weight: 500;">LOCATION</th>
                    <th style="font-size: 12px; font-weight: 500;">DATE</th>
                    <th style="font-size: 12px; font-weight: 500;">PLATFORM</th>
                    <th style="font-size: 12px; font-weight: 500;">VIEWS</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of donutCampaignViews">
                    <td>
                      <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                    </td>
                    <td style="text-align: center">
                      <app-location [userLocation]="item"> </app-location>
                    </td>
                    <td>
                      <h6>
                        <app-timestamp [dateAndTime]="item.time"> </app-timestamp>
                      </h6>
                    </td>
                    <td class="center">
                      <app-platform [deviceTypeOs]="true" [userPlatform]="item"> </app-platform>
                    </td>
                    <td>
                      <h6>{{item.viewsCount }}</h6>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ng-container>
          <div>
            <app-pagination class="pg8" *ngIf="pagination.pagedItems?.length > 0" [pagination]="pagination"
              [type]="'donutCampaign'" (notifyParent)="setPage($event)"
              (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- watched campaign world user info  -->
<div class="modal right fade" id="worldMapModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-11 col-sm-2 col-lg-2 p0 visible-xs">
            <h4 class="m0">People Who Have Watched Your Video</h4>
          </div>
          <div class="col-xs-1 col-sm-2 col-lg-2 p0 pull-right">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px">
          <div class="col-xs-6 col-sm-8 col-lg-8 p0 hidden-xs">
            <h4>People Who Have Watched Your Video</h4>
          </div>
          <div class='col-xs-8 col-sm-3 col-lg-3'>
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>

          <div class="col-xs-2 col-sm-1 col-lg-1 p0">
            <div class="btn-group" style="cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none; position: absolute;display: inline-flex;">
                <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                  style="font-size:14px;"></i>
              </span>
              <ul class="dropdown-menu pull-right" style="margin-top:30px; right: -38px;">
                <li><a id="delete_button" (click)="downloadFunctionality()"> Export To Excel </a></li>
              </ul>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-body clearfix">
        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <div class="table-responsive">
          <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
          <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
            <div class="alert alert-info alert-dismissible" *ngIf="worldMapUserData?.length == 0">
              <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
              No results found.
            </div>
            <div class="table-responsive">
              <table class="table tgrid" *ngIf="worldMapUserData?.length != 0">
                <thead>
                  <tr>
                    <th class="headerCss center">NAME</th>
                    <th class="headerCss center">DATE & TIME</th>
                    <th class="headerCss center">DEVICE</th>
                    <th class="headerCss center">LOCATION</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let emailClicked of worldMapUserData;let i = index">
                    <td>
                      <app-user-info [userInfo]="emailClicked" [isCompanyInfo]="true"> </app-user-info>
                    </td>
                    <td style="text-align: center">
                      <h5>
                        <app-timestamp [dateAndTime]="emailClicked.time"> </app-timestamp>
                      </h5>
                    </td>
                    <td style="text-align: center">
                      <app-platform [deviceTypeOs]="false" [userPlatform]="emailClicked"> </app-platform>
                    </td>
                    <td style="text-align: center">
                      <app-location [userLocation]="emailClicked"> </app-location>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ng-container>
          <div>
            <app-pagination class="pg8" *ngIf="pagination.pagedItems?.length > 0" [pagination]="pagination"
              [type]="'coutrywiseUsers'" (notifyParent)="setPage($event)"
              (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal"
          (click)="clearPaginationValues()">Close</button>
      </div>
    </div>
  </div>
</div>

<!--Preview Email Template-->
<div class="modal right fade" id="email_template_preivew">
  <div class="modal-dialog modal-lg modal-css" style="right:0">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true"><i
            class="fa fa-times"></i></button>
        <h4 class="modal-title" id="email-template-title"></h4>
      </div>
      <div class="modal-body">
        <div id="email-template-content"></div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
      </div>
    </div>
  </div>
</div>
<app-preview-video *ngIf="videoFile" [videoFile]="videoFile" (notifyParent)="closeModal($event)"></app-preview-video>

<app-export-csv *ngIf="referenceService.isDownloadCsvFile" [downloadListDetails]="downloadDataList"
  [downloadListName]="logListName">
</app-export-csv>

<div class="modal right fade" id="show_contact-list-info">
  <div class="modal-dialog modal-lg modal-css" style="right:0">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true"
          (click)="clearPaginationValues()"><i class="fa fa-times"></i></button>
        <h4 class="modal-title" id="show_contact-list-info">
          <span *ngIf="campaign?.oneClickLaunch">Shared List Info</span>
          <span *ngIf="!campaign?.oneClickLaunch">List Info</span>
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <div class="table-responsive">
              <table class="table tgrid">
                <thead>
                  <th class="center">List name</th>
                </thead>
                <tbody>
                  <tr *ngFor="let item of campaingContactLists">
                    <td class="center" (click)="getSelectedListOfContacts(item.id)" [title]="item.name"
                      [ngStyle]="{'background-color':contactListId === item.id ? 'lightblue' : '' }">{{item.name
                      | slice:0:26}} <span *ngIf="item.name?.length>26 ">...</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-8">
            <div class="table-responsive">
              <table class="table tgrid">
                <thead>
                  <th class="center">Email Id</th>
                  <th class="center">First Name</th>
                  <th class="center">Last Name</th>
                </thead>
                <tbody>
                  <tr *ngFor="let item of campaingContactListValues">
                    <td class="center">{{item.emailId}}</td>
                    <td class="center">
                      <span *ngIf="item.firstName; else empty"> {{item.firstName}} </span>
                      <ng-template #empty>-</ng-template>
                    </td>
                    <td class="center">
                      <span *ngIf="item.lastName; else lastName"> {{item.lastName}} </span>
                      <ng-template #lastName>-</ng-template>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div>
              <app-pagination class="pg8" *ngIf="contactListInfoPagination.pagedItems?.length>0"
                [pagination]="contactListInfoPagination" [type]="'contactListInfo'" (notifyParent)="setPage($event)"
                (notifyParentDropDown)="paginationContacts($event)"></app-pagination>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <a data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
      </div>
    </div>
  </div>
</div>

<!-- Social Campaign Redistribute Modal -->
<div class="modal fade right" id="scrModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Redistributed</h4>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table tgrid">
            <thead>
              <tr>
                <th>User</th>
                <th>Social Accounts</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let socialStatus of socialCampaign.socialStatusList">
                <ng-container *ngFor="let socialStatus of socialStatus.socialStatusList">
                  <tr>
                    <ng-container *ngFor="let item of campaignViews">
                      <ng-container *ngIf="socialStatus.userId === item.userId">
                        <td>
                          <app-user-info [userInfo]="item"> </app-user-info>
                        </td>
                        <td>
                          <div class="social-profile"
                            [ngStyle]="{'background-image': 'url(' + socialStatus.socialStatusProvider.socialConnection.profileImage + ')'}"
                            data-toggle="tooltip" data-placement="top"
                            title="{{socialStatus.socialStatusProvider.socialConnection.profileName}}">
                            <ng-container
                              *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'TWITTER'">
                              <img class="img-circle"
                                alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
                            </ng-container>
                            <ng-container
                              *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'FACEBOOK'">
                              <img class="img-circle"
                                alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
                            </ng-container>
                            <ng-container
                              *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'LINKEDIN'">
                              <img class="img-circle"
                                alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
                            </ng-container>
                            <ng-container
                              *ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'GOOGLE'">
                              <img class="img-circle"
                                alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
                                src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
                            </ng-container>
                          </div>
                        </td>
                      </ng-container>
                    </ng-container>
                  </tr>
                </ng-container>
              </ng-container>




              <!--<ng-container *ngFor="let socialStatus of socialStatus.socialStatusList">
					<tr>
					<ng-container *ngFor="let item of campaignViews">
					<ng-container *ngIf="socialStatus.userId === item.userId">
						<td>
							<app-user-info  [userInfo]="item"> </app-user-info>
						</td>
						<td>
						<ng-container *ngFor="let socialStatusProvider of socialStatus.socialStatusProviders">
							<div class="social-profile" [ngStyle]="{'background-image': 'url(' + socialStatusProvider.socialConnection.profileImage + ')'}"
								data-toggle="tooltip" data-placement="top" title="{{socialStatusProvider.socialConnection.profileName}}">
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'TWITTER'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'FACEBOOK'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'LINKEDIN'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'GOOGLE'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
								</ng-container>
							</div>
						</ng-container>
						</td>
					</ng-container>
					</ng-container>
					</tr>
				</ng-container>-->
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Email contacts & hard bounce & soft bounce & unsubscribed List Modal -->
<div class="modal right fade" id="emailActionDetailsModal" tabindex="-1" role="dialog"
  aria-labelledby="emailSentListModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg modal-css" role="document" style="right:0">
    <div class="modal-content">
      <div class="modal-header col-xs-12">
        <div class="col-xs-12 col-sm-12 col-lg-12 p0">
          <div class="col-xs-10 col-sm-10  col-lg-10 p0 visible-xs">
            <h4 class="modal-title" id="emailSentListModalLabel"> Email contacts Details</h4>
          </div>
          <div class="col-xs-2 col-sm-2 col-lg-2 pull-right p0">
            <a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i
                class="fa fa-times"></i></a>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-lg-12" style="padding: 10px 0px 0px 0px">
          <div class="col-xs-6 col-sm-6 col-lg-6 hidden-xs">
            <h4 class="modal-title" id="emailSentListModalLabel"
              *ngIf="campaignReport.emailActionType === 'recipients'">Total Recipients</h4>
            <h4 class="modal-title" id="emailSentListModalLabel"
              *ngIf="campaignReport.emailActionType === 'hardbounce'">Hard-Bounce Emails Details</h4>
            <h4 class="modal-title" id="emailSentListModalLabel"
              *ngIf="campaignReport.emailActionType === 'softbounce'"> Soft-Bounce Emails Details</h4>
            <h4 class="modal-title" id="emailSentListModalLabel"
              *ngIf="campaignReport.emailActionType === 'unsubscribe'">Unsubscribed Users Details</h4>
            <h4 class="modal-title" id="emailSentListModalLabel" *ngIf="campaignReport.emailActionType === 'sent'">Sent
              Emails Details</h4>
            <h4 class="modal-title" id="emailSentListModalLabel"
              *ngIf="campaignReport.emailActionType === 'deliverability'">Delivered Emails Details</h4>
          </div>
          <div class='col-xs-10 col-sm-5 col-lg-5'>
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
              placeholder="Search " (keypress)="eventHandler($event.keyCode)">
            <button class="clear-search" *ngIf="searchKey" (click)="searchKey='';search()">
              <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
            </button>
            <button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"
                style="color:black !important"></i></button>
          </div>
          <div class="col-xs-2 col-sm-1 col-lg-1 p0">
            <div class="btn-group" style="cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none; position: absolute; display: inline-flex;">
                <i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down"
                  style="font-size:14px;"></i>
              </span>
              <ul class="dropdown-menu pull-right" style="margin-top:30px; right: -38px !important;">
                <li><a id="delete_button"
                    (click)="downloadCampaignDetailsByActionType(campaignReport.emailActionType )"> Export To Excel </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body clearfix">

        <div class="alert alert-info flex" *ngIf="isLoadingDownloadList">
          <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
          <h4 class="m5">Please wait while we process your request.</h4>
        </div>
        <div class="row col-xs-12 col-md-12 col-lg-12 col-sm-12" style="display: inline-block;">
          <div class="table-responsive">
            <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
            <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
              <div class="alert alert-info alert-dismissible"
                *ngIf="emailActionDetailsPagination.pagedItems?.length == 0">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                No results found.
              </div>
              <div class="table-responsive">
                <table class="table tgrid" *ngIf="emailActionDetailsPagination.pagedItems?.length != 0">
                  <thead>
                    <tr>
                      <th style="font-size: 12px; font-weight: 500;text-align: left;width:25%">NAME</th>
                      <th style="font-size: 12px; font-weight: 500;">CAMPAIGN NAME</th>
                      <th style="font-size: 12px; font-weight: 500;" *ngIf="campaignReport.emailActionType === 'sent'">
                        SENT TIME</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of emailActionDetailsPagination.pagedItems">
                      <td>
                        <app-user-info [userInfo]="item" [isCompanyInfo]="true"> </app-user-info>
                      </td>
                      <td>
                        <h6 title="{{item.campaignName}}">{{item.campaignName | slice:0:30}}
                          <span *ngIf="campaign.campaignName?.length>30">...</span>
                        </h6>
                        <h4 *ngIf="item.campaignName==null">-</h4>
                      </td>
                      <td *ngIf="campaignReport.emailActionType === 'sent'">
                        <h6>
                          <app-timestamp [dateAndTime]="item.time"> </app-timestamp>
                        </h6>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </ng-container>
          </div>
          <div>
            <app-pagination class="pg8" [pagination]="emailActionDetailsPagination"
              *ngIf="emailActionDetailsPagination.pagedItems?.length > 0" [type]="'emailActionDetails'"
              (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<ng-container *ngIf="isDealRegistration && !isDealPreview">
  <app-add-lead [selectedContact]="selectedRow" [leadId]="leadId" [campaignId]="campaign.campaignId"
    [campaignName]="campaign.campaignName" [actionType]="leadActionType" (notifyOtherComponent)="showTimeLineView()">
  </app-add-lead>
</ng-container>

<ng-container *ngIf="showLeadForm">
  <app-add-lead [selectedContact]="selectedRow" [leadId]="leadId" [campaignId]="campaign.campaignId"
    [campaignName]="campaign.campaignName" [actionType]="leadActionType"
    (notifyAnalyticsComponentToHidePopup)="closeLeadsForm()" (notifySubmitSuccess)="showSubmitLeadSuccess()">
  </app-add-lead>
</ng-container>

<app-deal-chat-popup *ngIf="isCommentSection" [lead]="selectedLead" [deal]="selectedDeal"
  (isCommentSection)="addCommentModalClose($event)"></app-deal-chat-popup>

<!-- --Lead Registration -->
<div class="modal right" id="leadFormModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  data-keyboard="false" data-backdrop="static" *ngIf="isDealPreview" style="display: block">

  <div class="modal-dialog modal-css" role="document" style="float: right; position: relative">
    <div class="modal-content">
      <div class="modal-body">
        <a (click)="showTimeLineView()" class="pull-right close-circle"
          style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
          <span class="glyphicon glyphicon-remove" style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
        </a>
        <app-deal-registration [campaign]="campaign" [lead]="selectedRow" [dealId]="dealId" [isPreview]="true">
        </app-deal-registration>

      </div>
    </div>
  </div>
</div>
<!-- ---------------Partner Lead Analytics -->
<div [ngClass]="hidePageContent? '':'page-content'" id="timeline-view"  *ngIf="isShowPartnerLeads">
  <div class="page-bar" style="min-height: 572px;border: 1px solid #CCC;">
    <div class="col-xs-12 caption-subject font-red-sunglo p0">
      <div id="partner-lead-info-content">
        <div class="col-xs-12 p0">
          <div class="portlet-title col-xs-12"
            style="padding: 10px 0px 4px 0px; border-bottom: 1px solid #c5c5c5;    background-color: #3598dc;">
            <div class="caption col-xs-8">
              <span class="caption-subject font-red-sunglo" style="font-size: 15px !important;">
                <span style="color:#fff!important;"><i aria-hidden="true" class="fa fa-user-secret"
                    style="font-size:20px!important" id="leads-info-font-size"></i>&nbsp;
                  YOUR {{authenticationService?.partnerModule?.customName}} LEAD DETAILS
                  <span><b>( Total Lead count # {{campaignReport.yesPartnerLeadCount}}
                      <ng-container
                        *ngIf="campaignReport.yesPartnerLeadCount!=campaignReport.partnerLeadAdditionalCount">
                        ({{campaignReport.partnerLeadAdditionalCount}})
                      </ng-container>
                      )
                    </b></span>
                </span>
              </span>
            </div>


            <div class="col-xs-3" style="margin-top: -7px;padding-right: 0px;">
              <input type="text" [(ngModel)]="leadsSearchKey" [ngModelOptions]="{standalone: true}" class="form-control"
                placeholder="Search" (keypress)="leadEventHandler($event.keyCode)">
              <button class="search-box-item-clear" *ngIf="leadsSearchKey"
                (click)="leadsSearchKey=''; leadDetailsSearch()">
                <span class="glyphicon glyphicon-remove" style="font-size: 1em"></span>
              </button>
              <button type="submit" class="search-box-item-click" style="right: 1px"
                (click)="leadType = 'partnerLeads' ;leadDetailsSearch()">
                <i class="fa fa-search" style="padding: 4px; color: black !important"></i>
              </button>
            </div>

            <div [class.disabled]="partnerLeadsFormHeaders?.length == 0 || isLeadListDownloadProcessing"
              class="btn-group pull-right col-xs-1" style="margin-top: -10px; cursor:pointer; color: #7d8c98">
              <span class="dropdown-toggle" data-toggle="dropdown"
                style="box-shadow:none;margin-top: 14px;margin-right: 21px; float:right;display: inline-flex;">
                <i class="fa fa-cog" style="color:#fff!important;font-size:20px; margin-right:5px"></i><i
                  class="fa fa-angle-down" style="color:#fff!important;font-size:14px; float:right"></i>
              </span>
              <ul class="dropdown-menu pull-right">
                <li><a (click)="downloadPartnerLeadList()"> Export To Excel </a>
                </li>
              </ul>
            </div>
            <a (click)="closePartnerLeadPage()" class="pull-right close-circle"
              style="background-color: #abbdfb;color:#fff!important;margin: -26px 8px;padding-top: 3px;padding-left: 5px;">
              <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;"
                aria-hidden="true"></span></a>
          </div>
          <!-- <hr> -->
          <div class="col-xs-8"></div>

        </div>



        <div class="row" id="responsive">
          <div class="col-xs-12 p0">
            <div class="portlet light">
              <div *ngIf="!httpRequestLoader.isLoading && partnerLeadsFormHeaders?.length == 0"
                class="alert alert-info">
                <strong>No Records Found.</strong>
              </div>
              <div class="alert alert-info flex" *ngIf="isLeadListDownloadProcessing">
                <div class="loader" style="margin-right: 10px; width: 25px; height: 25px;"></div>
                <h4 class="m5">Please wait while we process your request.</h4>
              </div>
              <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
              <div class="portlet-body" *ngIf="!httpRequestLoader.isLoading && partnerLeadsFormHeaders?.length != 0">
                <div class="table-responsive">
                  <table class="table tgrid" aria-describedby="">
                    <thead>
                      <tr>
                        <ng-container *ngFor="let column of partnerLeadsFormHeaders;let i  = index">
                          <ng-container *ngIf="i<=3">
                            <th id="th-width" style="text-align:left">{{column}}
                            </th>
                          </ng-container>
                        </ng-container>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody *ngIf="partnerLeadsFormDetails?.length !== 0">
                      <ng-container *ngFor="let formDataRow of partnerLeadsFormDetails;let rowIndex = index">
                        <tr id="form-data-row-{{rowIndex}}" class="form-data-row">
                          <ng-container *ngFor="let columnValue of partnerLeadsFormHeaders;let columnIndex = index">
                            <td *ngIf="columnIndex<=3">
                              <ng-container *ngIf="columnValue=='RSVP Time'">
                                <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [isOnlyDate]="false"
                                  [dateAndTime]="formDataRow[columnValue]"> </app-timestamp>
                                <span *ngIf="referenceService.isSafariBrowser()">{{formDataRow[columnValue]}}</span>
                              </ng-container>
                              <ng-container *ngIf="columnValue!='RSVP Time'">
                                <div [innerHtml]="formDataRow[columnValue]"></div>
                              </ng-container>
                            </td>
                          </ng-container>
                          <td>
                            <a class="close-circle" (click)="expandColumns(formDataRow,rowIndex)" data-toggle="tooltip"
                              title="View More Columns" *ngIf="partnerLeadsFormHeaders.length>4">
                              <i class="fa"
                                [ngClass]="{'fa-plus': !formDataRow.expanded, 'fa-minus': formDataRow.expanded}"
                                aria-hidden="true"></i>
                            </a>
                          </td>
                        </tr>
                        <tr [ngClass]="{'hidden': !formDataRow.expanded}" id="child-table">
                          <td colspan="5">
                            <div class="table-responsive">

                              <table id="expanded-table" class="table tgrid table-bordered" aria-describedby="">
                                <tr *ngFor="let column of partnerLeadsFormHeaders;let i  = index;">
                                  <th *ngIf="i>=4" scope="col">
                                    {{column}}<span class="required" *ngIf="column.required">*</span>
                                  </th>
                                  <td *ngIf="i>=4">
                                    <ng-container *ngIf="column=='RSVP Time'">
                                      <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [isOnlyDate]="false"
                                        [dateAndTime]="formDataRow[column]"> </app-timestamp>
                                      <span *ngIf="referenceService.isSafariBrowser()">{{formDataRow[column]}}</span>
                                    </ng-container>
                                    <ng-container *ngIf="column!='RSVP Time'">
                                      <div [innerHtml]="formDataRow[column]"></div>
                                    </ng-container>
                                  </td>
                                </tr>
                              </table>
                            </div>
                          </td>
                        </tr>
                      </ng-container>
                    </tbody>
                  </table>
                </div>
              </div>
              <div *ngIf="partnerLeadsDetailPagination.pagedItems.length !== 0" class="pg8">
                <app-pagination [pagination]="partnerLeadsDetailPagination"
                  (notifyParent)="partnerEventLeadsDetailsSetPage($event)"
                  (notifyParentDropDown)="partnerEventLeadsDetailsSetPageDropdown($event)"
                  [hidden]="httpRequestLoader.isLoading"></app-pagination>
              </div>
              <!-- End of 24 -->

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-scroll-top></app-scroll-top>
</div>

<app-preview-landing-page #previewLandingPageComponent></app-preview-landing-page>
<app-clicked-urls-vendor-analytics #clickedUrlsVendorAnalyticsComponent></app-clicked-urls-vendor-analytics>

<ng-template #campaignAnalyticsBreadCrumb>
  <ul class="page-breadcrumb">
    <ng-container *ngIf="!hidePageContent">
      <li *ngIf="!authenticationService.isSuperAdmin()">
        <i class="fa fa-home" aria-hidden="true"></i> <a [routerLink]="referenceService.homeRouter">Home</a>
        <i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li *ngIf="authenticationService.isSuperAdmin()">
        <i class="fa fa-home" aria-hidden="true"></i><a [routerLink]="['/home/dashboard/admin-report']">Admin
          Report</a><i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li *ngIf="campaignRouter==='managecampaigns'">
        <a [routerLink]="['/home/campaigns/manage']">Manage Campaigns</a><i class="fa fa-angle-right"
          aria-hidden="true"></i>
      </li>
      <li *ngIf="campaignRouter==='notification'"><a [routerLink]="['/home/dashboard/notifications']">Notifications</a>
        <i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li *ngIf="campaignRouter==='partnerAnalytics'"><a
          [routerLink]="['/home/partners/analytics']">{{authenticationService?.partnerModule?.customName}}
          Analytics</a>
        <i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li style="color: #888;" *ngIf="isDataShare" title="{{campaign.campaignName}}">
        {{campaign.campaignName | slice: 0: 35}}<span *ngIf="campaign.campaignName?.length>35">...</span>
        <strong *ngIf="!isPartnerEnabledAnalyticsAccess" style="color:#0195da">(Interactive Data)</strong>
        <strong *ngIf="!campaign.emailNotification" style="color:#ed1d24">(Notify
          {{authenticationService?.partnerModule?.customName}} is OFF)</strong>
      </li>
    </ng-container>
    <li [ngClass]="hidePageContent ? 'caption-subject font-red-sunglo':''" style="color: #888;" *ngIf="!isDataShare || hidePageContent" title="{{campaign.campaignName}}">
      {{campaign.campaignName | slice: 0: 35}}<span *ngIf="campaign.campaignName?.length>35">...</span>
    </li>
  </ul>
</ng-template>
<style type="text/css">
.td-new, th {
	padding: 2px;
}

.disabled {
	pointer-events: none;
	cursor: not-allowed !important;
}

.btn-social {
	color: #fff;
}
</style>
<ngx-loading [show]="ngxloading"
	[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<app-event-send-reminder *ngIf="isOpenNotificationModal"
	(notifyParent)="emailNotOpenReminderDate($event)"
	[selectedEventCampaignId]="campaign.campaignId"
	[selectedUserId]="selectedEmailNotOpenUserId">
</app-event-send-reminder>
<app-detail-view *ngIf="showRsvpDetails"
	[campaignReport]="campaignReport" [detailType]="rsvpResposeType"
	[campaignType]="campaignType" [campaign]="campaign"
	[details]="rsvpDetailsList"></app-detail-view>
<ngx-loading [show]="loading"
	[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div class="page-content"
	*ngIf="!isTimeLineView && !showRsvpDetails && !isDealRegistration"
	[class.ml0]="authenticationService.isSuperAdmin()">
	<div class="page-bar square-box"
		style="margin: 0 0px 15px; border-radius: 0;">
		<ul class="page-breadcrumb">
			<li *ngIf="!authenticationService.isSuperAdmin()"><i
				class="fa fa-home"></i> <a
				[routerLink]="referenceService.homeRouter">Home</a> <i
				class="fa fa-angle-right"></i></li>
			<li *ngIf="authenticationService.isSuperAdmin()"><i
				class="fa fa-home"></i><a
				[routerLink]="['/home/dashboard/admin-report']">Admin Report</a><i
				class="fa fa-angle-right"></i></li>
			<li *ngIf="campaignRouter==='managecampaigns'"><a
				[routerLink]="['/home/campaigns/manage']">Manage Campaigns</a><i
				class="fa fa-angle-right"></i></li>
			<li *ngIf="campaignRouter==='notification'"><a
				[routerLink]="['/home/dashboard/notifications']">Notifications</a><i
				class="fa fa-angle-right"></i></li>
			<li *ngIf="campaignRouter==='partnerAnalytics'"><a
				[routerLink]="['/home/partners/analytics']">Partner Analytics</a><i
				class="fa fa-angle-right"></i></li>
			<li style="color: #888;" *ngIf="isDataShare"
				title="{{campaign.campaignName}}">{{campaign.campaignName |
				slice: 0: 35}}<span *ngIf="campaign.campaignName?.length>35">...</span>
				<b *ngIf="isNavigatedThroughAnalytics" style="color: #0195da">(Data
					Sharing Enabled)</b><b *ngIf="!isPartnerEnabledAnalyticsAccess"
				style="color: #0195da">(Interactive Data)</b>
			</li>
			<li style="color: #888;" *ngIf="!isDataShare"
				title="{{campaign.campaignName}}">{{campaign.campaignName |
				slice: 0: 35}}<span *ngIf="campaign.campaignName?.length>35">...</span>
				<b *ngIf="isNavigatedThroughAnalytics" style="color: #ed1d24">(Data
					Sharing Disabled)</b>
			</li>
		</ul>
		<!--<app-analytics-loader [campaignType]="campaignType" *ngIf="loading"></app-analytics-loader>-->
	</div>
	<div class="portlet light clearfix">
		<div class="portlet-body">
			<div *ngIf="hasClientError && !mainLoader" class="client-error">Something
				went wrong, Please refresh the page</div>
			<div *ngIf="customResponse.responseType === 'ERROR'; else NOERROR"
				class="m10">
				<app-response-message [customResponse]="customResponse"
					*ngIf="customResponse.isVisible"> </app-response-message>
			</div>
			<ng-template #NOERROR> <app-analytics-loader
				*ngIf="mainLoader"></app-analytics-loader>
			<div class="row" [hidden]="mainLoader || hasClientError">
				<div class="alert alert-danger alert-dismissible"
					*ngIf="contactListDeleteError">
					<a (click)="contactListDeleteError = false" class="close"
						data-dismiss="alert" aria-label="close">&times;</a> The contact
					list(s) associated with this campaign has been deleted.
				</div>
				<div class="pl10 pr10 col-xs-12"
					[ngClass]="{'col-sm-4': campaignType === 'VIDEO','forbidden' :!isDataShare ?true:null}"
					*ngIf="campaignType === 'VIDEO' && campaign.selectedVideoId>0">
					<a class="dashboard-stat dashboard-stat-lighter purple-soft"
						(click)="previewVideo(campaign.campaignVideoFile)"
						[class.disabled]="!isPartnerEnabledAnalyticsAccess">
						<div class="visual">
							<i class="fa fa-video-camera"></i>
						</div>
						<div class="camp-details">
							<div class="camp-title ">Video Info</div>
							<div class="camp-number">
								<b class="m0" title={{campaign.campaignVideoFile.title}}>{{campaign.campaignVideoFile.title
									| slice: 0: 25}}</b> <span
									*ngIf="campaign.campaignVideoFile.title?.length>25">...</span>
							</div>
							<div class="camp-desc" *ngIf="isDataShare">
								<span>Click for preview</span>
							</div>
						</div>
					</a>
				</div>

				<div class="pl10 pr10 col-xs-12 blur"
					[ngClass]="{'col-sm-4': campaignType === 'VIDEO'}"
					*ngIf="campaignType === 'VIDEO' && campaign.selectedVideoId==0">
					<a class="dashboard-stat dashboard-stat-lighter purple-soft blur">
						<div class="visual">
							<i class="fa fa-video-camera"></i>
						</div>
						<div class="camp-details">
							<div class="camp-title ">Video Info</div>
							<div class="camp-number">
								<b class="m0">No video found</b>
							</div>
							<div class="camp-desc">
								<span>-</span>
							</div>
						</div>
					</a>
				</div>

				<div class="pl10 pr10 col-xs-12"
					[ngClass]="{'col-sm-4': campaignType === 'VIDEO','col-xs-6': campaignType === 'EVENT', 'col-sm-6': campaignType === 'EMAIL','forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null }"
					*ngIf="(campaignType === 'VIDEO' || campaignType === 'EMAIL' || campaignType === 'EVENT') && campaign.selectedEmailTemplateId>0">
					<a class="dashboard-stat dashboard-stat-lighter blue-soft"
						(click)="showEmailTemplatePreview(campaign.emailTemplate)"
						[class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
						<div class="visual">
							<i class="fa fa-envelope-open"></i>
						</div>
						<div class="camp-details">
							<div class="camp-title">Email Info</div>
							<div class="camp-number">
								<b class="m0" title={{campaign.emailTemplate.name}}>{{campaign.emailTemplate.name
									| slice: 0: 25}}</b> <span
									*ngIf="campaign.emailTemplate.name?.length>25">...</span>
							</div>
							<div class="camp-desc" *ngIf="isDataShare">
								<span>Click for preview</span>
							</div>
						</div>
					</a>
				</div>
				<div [hidden]="campaignType === 'SOCIAL'"
					class="pl10 pr10 col-xs-12 blur"
					[ngClass]="{'col-sm-4': campaignType === 'VIDEO', 'col-sm-6': campaignType === 'EMAIL'}"
					*ngIf="campaign.selectedEmailTemplateId==0">
					<a class="dashboard-stat dashboard-stat-lighter blue-soft"
						style="cursor: default;">
						<div class="visual">
							<i class="fa fa-envelope-open"></i>
						</div>
						<div class="camp-details">
							<div class="camp-title">Email Info</div>
							<div class="camp-number">
								<b class="m0">No email template found</b>
							</div>
							<div class="camp-desc">
								<span>-</span>
							</div>
						</div>
					</a>
				</div>

				<div class="pl10 pr10 col-xs-12"
					[ngClass]="{'col-sm-4': campaignType === 'VIDEO','col-xs-6': campaignType === 'EVENT', 'col-sm-6': campaignType === 'EMAIL', 'col-sm-12': campaignType === 'SOCIAL','forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}">
					<a class="dashboard-stat dashboard-stat-lighter green-soft"
						(click)="showContactListModal()"
						[class.disabled]="!isPartnerEnabledAnalyticsAccess ?true:null">
						<div class="visual">
							<i class="fa fa-users"></i>
						</div>
						<div class="camp-details">
							<div class="camp-title"
								*ngIf="isNavigatedThroughAnalytics || (!authenticationService.isVendor() && !isChannelCampaign); else other">
								Contact List Info</div>
							<ng-template #other>
							<div class="camp-title">Partners List Info</div>
							</ng-template>
							<div class="camp-number">
								<b class="m0">{{campaingContactLists?.length}} <span
									*ngIf="isNavigatedThroughAnalytics || (!authenticationService.isVendor()  && !isChannelCampaign); else partnerlist">Contact
										Lists</span> <ng-template #partnerlist>
									<span>Partner Lists</span></ng-template>
								</b>
							</div>
							<div class="camp-desc" *ngIf="isDataShare">
								<span>Click for details</span>
							</div>
						</div>
					</a>
				</div>
			</div>
			<section *ngIf="campaignType === 'EVENT'" [hidden]="mainLoader">
				<fieldset class="m10">
					<div class="col-xs-12 caption-subject font-red-sunglo">
						<h4 class="pull-left">Your Total Campaign Response</h4>
					</div>
					<div class="col-xs-12 col-sm-4 p-5x">
						<div class="p-5x">
							<div class="portlet light">
								<div class="portlet-body clearfix">
									<div class="col-xs-12 p0">
										<span class="btn btn-sm btn-primary pull-right"
											style="font-size: 10px; cursor: default">{{campaignType}}
											CAMPAIGN <br>
										<span *ngIf="isPartnerCampaign === '(PARTNER)'">(THROUGH
												PARTNER)</span>
										</span>
										<h4 title="{{campaign.campaignName}}">
											{{campaign.campaignName | slice:0:15}} <span
												*ngIf="campaign.campaignName?.length>15">..</span>
										</h4>
										<h5 class="text-info mb10">{{campaign.launchTime | date:
											'fullDate'}}</h5>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-8 emails-info"
						id="campaignreportvendor" [hidden]="mainLoader">

						<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpInvitiesDetails()"
								[disabled]="campaignReport.totalInvitiesCount < 1 || !isPartnerEnabledAnalyticsAccess">
								<div class="portlet-body text-center">
									<i class="fa fa-envelope"></i>
									<h1>
										<b>{{campaignReport.totalInvitiesCount}}</b> <span>Invites</span>
									</h1>

								</div>
							</button>
						</div>

						<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpEmailOpenDetails()"
								[disabled]="campaignReport.totalEmailOpenCount < 1 || !isDataShare ">
								<div class="portlet-body text-center">
									<i class="fa fa-envelope-open"></i>
									<h1>
										<b>{{campaignReport.totalEmailOpenCount}}</b> <span>Opened</span>
									</h1>

								</div>
							</button>
						</div>
						<div class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpDetails('YES')"
								[disabled]="campaignReport.totalYesCount < 1">
								<div class="portlet-body text-center">
									<i class="fa fa-check-circle"></i>
									<h1>
										<b>{{campaignReport.totalYesCount}}</b> <span>Yes
											({{campaignReport.totalAdditionalCount}})</span>
									</h1>
								</div>
							</button>
						</div>
						<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpDetails('NO')"
								[disabled]="campaignReport.totalNoCount < 1">
								<div class="portlet-body text-center">
									<i class="fa fa-times-circle"></i>
									<h1>
										<b>{{campaignReport.totalNoCount}}</b> <span>No</span>
									</h1>

								</div>
							</button>
						</div>
						<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpDetails('MAYBE')"
								[disabled]="campaignReport.totalMayBeCount < 1">
								<div class="portlet-body text-center">
									<i class="fa fa-question-circle"></i>
									<h1>
										<b>{{campaignReport.totalMayBeCount}}</b> <span>Maybe</span>
									</h1>

								</div>
							</button>
						</div>
						<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
							<button class="portlet light color1-invert crcb"
								(click)="getRsvpDetails('NOTYET')"
								[disabled]="campaignReport.totalNotYetRespondedCount < 1 || !isPartnerEnabledAnalyticsAccess">
								<div class="portlet-body text-center">
									<i class="fa fa-exclamation-circle"></i>
									<h1>
										<b>{{campaignReport.totalNotYetRespondedCount}}</b> <span>Not
											yet</span>
									</h1>
								</div>
							</button>
						</div>
					</div>

					<div class="col-xs-12"
						*ngIf="campaignType === 'EVENT' && isChannelCampaign">
						<div class="row" style="margin-left: -6px;">
							<div class="table-responsive">
								<ng-container>
								<table class="table tgrid">
									<thead>
										<tr>
											<th style="font-size: 12px; font-weight: 500;">RESPONSE
												DETAILS</th>
											<th style="font-size: 12px; font-weight: 500;">TOTAL
												INVITES</th>
											<th style="font-size: 12px; font-weight: 500;">EMAIL
												OPENED</th>
											<th style="font-size: 12px; font-weight: 500;">YES</th>
											<th style="font-size: 12px; font-weight: 500;">NO</th>
											<th style="font-size: 12px; font-weight: 500;">MAYBE</th>
											<th style="font-size: 12px; font-weight: 500;">NOT YET</th>
											<th style="font-size: 12px; font-weight: 500;">TOTAL
												ATTENDEES <br>
												<h6 class="m0" style="font-size: 9px">
													<b>( including guests )</b>
												</h6>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr (click)="getPartnerCampaingRsvpDetails()">
											<td>Your Partners</td>
											<td>
												<h6>{{campaignReport.partnersTotalInvitiesCount}}</h6>
											</td>
											<td>
												<h6>{{campaignReport.partnersEmailOpenedCount}}</h6>
											</td>
											<td>
												<h6>{{campaignReport.partnersYesCount}}</h6>
											</td>
											<td>
												<h6>{{campaignReport.partnersNoCount}}</h6>
											</td>
											<td>
												<h6>{{campaignReport.partnersMayBeCount}}</h6>
											</td>
											<td class="center">
												{{campaignReport.partnersNotYetRespondedCount}}</td>
											<td class="center">{{campaignReport.additionalCount}}</td>
										</tr>
									</tbody>
								</table>
								</ng-container>
							</div>
						</div>
					</div>

				</fieldset>
			</section>


			<!-- <section *ngIf="campaignType === 'EVENT' && isChannelCampaign" [hidden]="mainLoader">
	<fieldset class="m10">
		<div class="col-xs-12 caption-subject font-red-sunglo">
		<h4 class="pull-left">Your Partners Response</h4>
		</div>

	</fieldset>
	</section> -->



			<section *ngIf="campaignType !== 'EVENT'">
				<div class="col-xs-12 col-sm-6 p-5x"
					[hidden]="campaignType !== 'VIDEO' || mainLoader || hasClientError">
					<div class="p-5x">
						<div class="portlet light">
							<div class="portlet-title">
								<div class="caption">
									<span class="caption-subject font-red-sunglo"
										style="font-size: 15px !important;">VIEWERSHIP MAP</span>
								</div>
								<div>
									<span
										style="float: right; font-size: 14px; color: #fff; background: #00a6e8; padding: 0px 17px; margin-right: 1px; margin-top: 2px;">{{campaignType}}
										CAMPAIGN {{isPartnerCampaign}}</span>
								</div>
							</div>
							<div class="portlet-body text-center" style="min-height: 300px;"
								[ngClass]="{'forbidden' :!isDataShare ?true:null}">
								<app-worldmap *ngIf="renderMapData && isDataShare"
									[worldMapData]="renderMapData"
									(notifyParent)="clickWorldMapReports($event)"></app-worldmap>
								<app-worldmap class="disabled"
									*ngIf="renderMapData && !isDataShare"
									[worldMapData]="renderMapData"></app-worldmap>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6 p-5x"
					[hidden]="mainLoader || hasClientError"
					*ngIf="campaignType !== 'VIDEO'">
					<div class="p-5x">
						<div class="portlet light">
							<div class="portlet-body clearfix">
								<div class="col-xs-12">
									<span class="btn btn-sm btn-primary pull-right"
										style="cursor: default;">{{campaignType}} CAMPAIGN
										{{isPartnerCampaign}}</span>
									<h4>{{campaign.campaignName}}</h4>
									<h5 class="text-info mb10">
										<!-- {{campaign.launchTime | date: 'fullDate'}} -->
										<app-timestamp [dateAndTime]="campaign.launchTime">
										</app-timestamp>
									</h5>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6 p-5x emails-info"
					[hidden]="mainLoader || hasClientError"
					*ngIf="campaignType !== 'SMS'">
					<div class="p-5x"
						[ngClass]="{'col-xs-4': campaignType !== 'VIDEO', 'col-xs-6 col-sm-3': campaignType === 'VIDEO'}">
						<button class="portlet light color1-invert crcb"
							(click)="sentEmailModal()"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailSentCount < 1 || !isPartnerEnabledAnalyticsAccess">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope"></i>
								<h1>
									<b>{{campaignReport.emailSentCount}}</b>
								</h1>
								<h5>Total Recipients</h5>
							</div>
						</button>
					</div>
					<div class="p-5x" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'col-xs-4': campaignType !== 'VIDEO', 'col-xs-6 col-sm-3': campaignType === 'VIDEO','forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailOpenCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope-open"></i>
								<h1>
									<b>{{campaignReport.emailOpenCount}}</b>
								</h1>
								<h5>Active Recipients</h5>
							</div>
						</button>
					</div>
					<div class="p-5x" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'hidden': campaignType === 'SOCIAL', 'col-xs-4': campaignType !== 'VIDEO', 'col-xs-6 col-sm-3': campaignType === 'VIDEO','forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'click', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailClickedCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-globe"></i>
								<h1>
									<b>{{campaignReport.emailClickedCount}}</b>
								</h1>
								<h5>Clicked URL</h5>
							</div>
						</button>
					</div>
					<div class="p-5x" [hidden]="mainLoader || hasClientError"
						*ngIf="campaignType === 'SOCIAL'"
						[ngClass]="{'hidden': campaignType !== 'SOCIAL', 'col-xs-4': campaignType === 'SOCIAL'}">
						<button class="portlet light color1-invert crcb"
							data-toggle="modal" data-target="#scrModal"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="redistributedAccounts.size < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-share-alt"></i>
								<h1>
									<b>{{redistributedAccounts.size}}</b>
								</h1>
								<h5>Redistributed</h5>
							</div>
						</button>
					</div>
					<div [hidden]="mainLoader || hasClientError"
						class="col-xs-6 col-sm-3 p-5x" *ngIf="campaignType === 'VIDEO'"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="usersWatchList(campaign.campaignId, usersWatchListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.usersWatchCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-eye"></i>
								<h1>
									<b>{{campaignReport.usersWatchCount}}</b>
								</h1>
								<h5>Views</h5>
							</div>
						</button>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6 p-5x emails-info"
					[hidden]="mainLoader || hasClientError"
					*ngIf="campaignType === 'SMS'">
					<div class="p-5x col-sm-2"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="sentEmailModal()"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.smsSentCount < 1 || !isPartnerEnabledAnalyticsAccess">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope"></i>
								<h1>
									<b>{{campaignReport.smsSentCount}}</b>
								</h1>
								<h5>Total Recipients</h5>
							</div>
						</button>
					</div>


					<div class="p-5x col-sm-2" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailOpenCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope-open"></i>
								<h1>
									<b>{{campaignReport.smsSentSuccessCount}}</b>
								</h1>
								<h5>Success Recipients</h5>
							</div>
						</button>
					</div>
					<div class="p-5x col-sm-2" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailOpenCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope-open"></i>
								<h1>
									<b>{{campaignReport.smsSentFailureCount}}</b>
								</h1>
								<h5>Failed Recipients</h5>
							</div>
						</button>
					</div>
					<div class="p-5x col-sm-2" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'open', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailOpenCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-envelope-open"></i>
								<h1>
									<b>{{campaignReport.smsOpenCount}}</b>
								</h1>
								<h5>Active Recipients</h5>
							</div>
						</button>
					</div>
					<div class="p-5x col-sm-2" [hidden]="mainLoader || hasClientError"
						[ngClass]="{'forbidden' :!isDataShare ?true:null}">
						<button class="portlet light color1-invert crcb"
							(click)="emailActionList(campaign.campaignId, 'click', emailActionListPagination)"
							[ngClass]="{'forbidden' :!isDataShare ?true:null}"
							[disabled]="campaignReport.emailClickedCount < 1 || !isDataShare">
							<div class="portlet-body text-center">
								<i class="fa fa-globe"></i>
								<h1>
									<b>{{campaignReport.smsClickedCount}}</b>
								</h1>
								<h5>Clicked URL</h5>
							</div>
						</button>
					</div>
				</div>
				<section class='clearfix' [hidden]="mainLoader || hasClientError"
					*ngIf="campaignType === 'SOCIAL' && socialCampaign">
					<div class="col-xs-12">
						<div class="portlet light" style="margin: -5px -5px 5px -5px;">
							<div class="portlet-title">
								<div class="caption">
									<span class="caption-subject font-red-sunglo">Social
										Status</span>
								</div>
							</div>
							<div class="portlet-body clearfix">
								<div class="col-sm-4 col-xs-12"
									*ngFor="let socialStatus of socialCampaign.socialStatusList">
									<app-social-status [socialStatus]="socialStatus"></app-social-status>
								</div>
							</div>
						</div>
					</div>
				</section>
				<div class="col-xs-12 col-sm-6 p-5x"
					[hidden]="campaignType !== 'VIDEO' || mainLoader || hasClientError">
					<div class="col-xs-12 p-5x">
						<div class="portlet light"
							style="padding-bottom: 36px !important;">
							<div class="portlet-title">
								<div class="caption">
									<span class="caption-subject font-red-sunglo uppercase"
										style="font-size: 15px !important;">Campaign Recipient
										Participation</span>
								</div>
							</div>
							<div class="portlet-body flex clearfix"
								style="padding: 1.49em 0;"
								[ngClass]="{'forbidden' :!isDataShare ?true:null}">
								<div class="col-xs-4 text-center"
									[class.disabled]="(campaignReport.lifetimeViewsCount < 1 || !isDataShare) ? true : null">
									<section class="percentage-circle" style="cursor: pointer"
										(click)="campaignViewsDonut('life-time')">
										<app-donut-chart
											[percentageValue]="campaignReport.lifetimeViewsCount"
											[totalValue]="campaignReport.emailSentCount">
										</app-donut-chart>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount!==0">{{campaignReport.lifetimeViewsCount*100/campaignReport.emailSentCount
											| number : '1.0-2'}}%</h2>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount===0">0%</h2>
										<h6 class="percentage-text">Viewed</h6>
									</section>
									<h5
										style="text-align: center; color: #00a6e8; margin-top: 3.5em;">Lifetime</h5>
								</div>
								<div class="col-xs-4 text-center"
									[class.disabled]="(campaignReport.thisMonthViewsCount < 1 || !isDataShare) ? true : null"
									(click)="campaignViewsDonut('current-month')">
									<section class="percentage-circle" style="cursor: pointer">
										<app-donut-chart
											[percentageValue]="campaignReport.thisMonthViewsCount"
											[totalValue]="campaignReport.emailSentCount">
										</app-donut-chart>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount!==0">{{campaignReport.thisMonthViewsCount*100/campaignReport.emailSentCount
											| number : '1.0-2'}}%</h2>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount===0">0%</h2>
										<h6 class="percentage-text">Viewed</h6>
									</section>
									<h5
										style="text-align: center; color: #00a6e8; margin-top: 3.5em;">This
										Month</h5>
								</div>
								<div class="col-xs-4 text-center"
									[class.disabled]="(campaignReport.todayViewsCount < 1  || !isDataShare)? true : null">
									<section class="percentage-circle" style="cursor: pointer"
										(click)="campaignViewsDonut('today')">
										<app-donut-chart
											[percentageValue]="campaignReport.todayViewsCount"
											[totalValue]="campaignReport.emailSentCount">
										</app-donut-chart>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount!==0">{{campaignReport.todayViewsCount*100/campaignReport.emailSentCount
											| number : '1.0-2'}}%</h2>
										<h2 class="percentage-value" style="font-size: 23px;"
											*ngIf="campaignReport.emailSentCount===0">0%</h2>
										<h6 class="percentage-text">Viewed</h6>
									</section>
									<h5
										style="text-align: center; color: #00a6e8; margin-top: 3.5em;">Today</h5>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<div class="row"
				*ngIf="isPartnerEnabledAnalyticsAccess || isDataShare">
				<div class="col-xs-12 col-sm-12 p-5x">
					<div class="col-xs-12 p-5x">
						<div class="row"
							*ngIf="!campaignViews || totalCampaignViewsLoader">
							<div class="porlet light" style="background: white;">
								<div class="portlet-body clearfix">
									<app-list-loader style="background: white"></app-list-loader>
								</div>
							</div>
						</div>
						<div class="portlet light"
							[hidden]="mainLoader || hasClientError || !campaignViews || totalCampaignViewsLoader">
							<div class="portlet-title col-xs-12">
								<div class="caption col-xs-8">
									<span class="caption-subject font-red-sunglo"
										style="font-size: 15px !important;"> <span
										*ngIf="campaignType==='VIDEO'">TOTAL VIEWS FOR THIS
											CAMPAIGN</span> <span *ngIf="campaignType==='SOCIAL'">TOTAL
											REDISTRIBUTED FOR THIS CAMPAIGN</span> <span
										*ngIf="campaignType==='EMAIL'">TOTAL EMAIL OPENED FOR
											THIS CAMPAIGN</span> <span
										*ngIf="campaignType === 'EVENT' && isChannelCampaign">PARTNER
											REDISTRIBUTED CAMPAIGN ANALYTICS</span> <span
										*ngIf="campaignType === 'EVENT' && !isChannelCampaign">CAMPAIGN
											ANALYTICS</span> <span *ngIf="campaignType ==='SMS'">TOTAL
											SMS OPENED FOR THIS CAMPAIGN</span>
									</span>
								</div>


								<div class="col-xs-3"
									style="margin-top: -7px; padding-right: 0px;">
									<input type="text" [(ngModel)]="searchKey"
										[ngModelOptions]="{standalone: true}" class="form-control"
										placeholder="Search" (keypress)="eventHandler($event.keyCode)">
									<button class="search-box-item-clear" *ngIf="searchKey"
										(click)="searchKey=''">
										<span class="glyphicon glyphicon-remove"
											style="font-size: 1em"></span>
									</button>
									<button type="submit" class="search-box-item-click"
										(click)="search()">
										<i class="fa fa-search"
											style="padding: 4px; color: black !important"></i>
									</button>
								</div>

								<div class="btn-group pull-right col-xs-1"
									style="margin-top: -10px; cursor: pointer; color: #7d8c98">
									<span class="dropdown-toggle" data-toggle="dropdown"
										style="box-shadow: none; margin-top: 14px; margin-right: 21px; float: right;">
										<i class="fa fa-cog"
										style="font-size: 20px; margin-right: 5px"></i><i
										class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
									</span>
									<ul class="dropdown-menu pull-right">
										<li><a id="delete_button"
											(click)="downloadTypeName = 'campaignViews'; downloadEmailLogs()">
												Export To Excel </a></li>
									</ul>
								</div>
							</div>
							<div class="portlet-body clearfix">
								<div *ngIf="campaignViewsPagination.pagedItems?.length === 0"
									class="alert alert-info">
									<strong>No Records Found.</strong>
								</div>
								<div *ngIf="campaignViewsPagination.pagedItems?.length != 0">
									<div class="table-responsive">
										<table class="table tgrid">
											<thead>
												<tr>
													<th style="font-size: 12px; font-weight: 500; width: 25%;">Name
													</th>
													<th style="font-size: 12px; font-weight: 500;">Campaign
														Name</th>
													<!-- 	<th style="font-size: 12px;font-weight: 500;" *ngIf="campaignType==='EVENT'">Redistribution Time</th> -->
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														Total invites</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														Email opened</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">Yes</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">No</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">MayBe
													</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">Not
														Yet</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT' && !isChannelCampaign">
														Response Type</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='EVENT'">TOTAL ATTENDEES <br>
														<h6 class="m0" style="font-size: 9px">
															<b>( including guests )</b>
														</h6>
													</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType==='VIDEO' || campaignType!=='EVENT'">
														Latest View</th>
													<th style="font-size: 12px; font-weight: 500;"
														*ngIf="campaignType!=='EVENT'"><span
														*ngIf="campaignType==='VIDEO'">Total Views</span> <span
														*ngIf="campaignType==='EMAIL'">Total Email Opened</span> <span
														*ngIf="campaignType==='SMS'">Total SMS Opened</span> <span
														*ngIf="campaignType==='SOCIAL'">Total Redistributed</span>
													</th>
												</tr>
											</thead>
											<tbody>
												<ng-container
													*ngFor="let item of campaignViewsPagination.pagedItems">
												<tr (click)="userTimeline(item);">
													<td><app-user-info [isCompanyInfo]="true"
															[userInfo]="item"> </app-user-info> <!-- here emailId coming as userMail -->
													</td>
													<td class="td-chart">
														<h6 title="{{campaign.campaignName}}">
															{{item.campaignName | slice: 0: 35}} <span
																*ngIf="campaign.campaignName?.length>35">...</span>
														</h6>
														<h4 *ngIf="item.campaignName==null">-</h4>
													</td>
													<!-- 	<td class="text-center" *ngIf="campaignType==='EVENT'">20 August</td> -->
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.totalInvities}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.emailOpenedCount}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.YES}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.NO}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.MAYBE}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														{{item.rsvpMap.notYetResponded}}</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && !isChannelCampaign">
														{{item.rsvpMap.responseType}} <span
														*ngIf="item.rsvpMap.responseType === null"><b>-</b></span>
													</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && !isChannelCampaign">
														<span
														*ngIf="item.rsvpMap.additionalCount?.length != 0 && item.rsvpMap.responseType === 'YES'">{{item.rsvpMap.additionalCount}}</span>
														<span
														*ngIf="!item.rsvpMap.additionalCount || item.rsvpMap.additionalCount?.length === 0 || item.rsvpMap.responseType != 'YES'"><b>-</b></span>
													</td>
													<td class="text-center"
														*ngIf="campaignType==='EVENT' && isChannelCampaign">
														<span
														*ngIf="item.rsvpMap.additionalCount != 0 && item.rsvpMap.additionalCount != null">{{item.rsvpMap.additionalCount}}</span>
														<span
														*ngIf="item.rsvpMap.additionalCount === 0 || item.rsvpMap.additionalCount === null"><b>-</b></span>
													</td>
													<!-- <td class="td-chart"><h6>{{item.userEmail}}</h6></td> -->
													<td class="td-chart" *ngIf="campaignType!=='EVENT'">
														<h6>
															<app-timestamp *ngIf="item?.latestView"
																[dateAndTime]="item.latestView"> </app-timestamp>
															<span *ngIf="! item?.latestView">-</span>
														</h6>
													</td>
													<td class="td-chart" *ngIf="campaignType!=='EVENT'">
														<div class="progress" *ngIf="campaignType !== 'SOCIAL'">
															<div class="progress-bar progress-bar-success"
																[ngClass]="{'special-progress-bar' : item.viewsCount === 0 }"
																role="progressbar"
																[style.width.%]="(item.viewsCount/maxViewsValue)*100">
																<span>{{item.viewsCount}}</span>
															</div>
														</div> <ng-container *ngIf="campaignType == 'SOCIAL'">
														<ng-container
															*ngFor="let socialStatus of socialCampaign.socialStatusList">
														<ng-container
															*ngFor="let socialStatus of socialStatus.socialStatusList">
														<ng-container *ngIf="socialStatus.userId === item.userId">
														<div class="social-profile"
															[ngStyle]="{'background-image': 'url(' + socialStatus.socialStatusProvider.socialConnection.profileImage + ')'}"
															data-toggle="tooltip" data-placement="top"
															title="{{socialStatus.socialStatusProvider.socialConnection.profileName}}">
															<ng-container
																*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'TWITTER'">
															<img class="img-circle"
																alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
																src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
															</ng-container>
															<ng-container
																*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'FACEBOOK'">
															<img class="img-circle"
																alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
																src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
															</ng-container>
															<ng-container
																*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'LINKEDIN'">
															<img class="img-circle"
																alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
																src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
															</ng-container>
															<ng-container
																*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'GOOGLE'">
															<img class="img-circle"
																alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
																src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
															</ng-container>
														</div>
														</ng-container> </ng-container> </ng-container> </ng-container>
													</td>
												</tr>
												</ng-container>
											</tbody>
										</table>
									</div>
									<app-pagination class="pg8"
										[pagination]="campaignViewsPagination"
										[type]="'campaignViews'" (notifyParent)="setPage($event)"
										(notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


			</ng-template>
		</div>
	</div>
</div>



<section *ngIf="campaignType === 'EVENT' && isChannelCampaign">
	<div id="timeline-view" class="page-content"
		*ngIf="isTimeLineView && !isSmsServiceAnalytics && !isDealRegistration">
		<app-response-message [customResponse]="customResponse"
			*ngIf="customResponse.isVisible"></app-response-message>
		<div class="page-bar" style="min-height: 572px;">
			<a (click)="resetTopNavBarValue(); rsvpDetailType = ''"
				class="pull-right close-circle"
				style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
				<span class="glyphicon glyphicon-remove"
				style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
			</a>
			<div class="col-xs-12 col-sm-4 p-5x">
				<div class="p-5x">
					<div class="portlet light" style="position: relative; top: 42px;">
						<div class="portlet-body clearfix">
							<div class="col-xs-12" *ngIf="rsvpDetailType !== 'partnerRsvp'">
								<span class="btn btn-sm btn-primary pull-right"
									style="cursor: default;" title="{{campaign.campaignName}}">{{campaign.campaignName
									| slice:0:20}} <span *ngIf="campaign.campaignName?.length>20">...</span>
								</span>
								<h4 class="m0"
									title="{{campaignReport.selectedPartnerFirstName}}">
									{{campaignReport.selectedPartnerFirstName | slice:0:20}} <span
										*ngIf="campaignReport.selectedPartnerFirstName?.length>20">...</span>
								</h4>
								<!-- <h4 class="m0" title="{{campaignReport.selectedPartnerLastName}}">{{campaignReport.selectedPartnerLastName | slice:0:20}} <span *ngIf="campaignReport.selectedPartnerLastName?.length>20">...</span></h4> -->
								<h4 class="m0" title="{{campaignReport.selectedPartnerEmailId}}">
									{{campaignReport.selectedPartnerEmailId | slice:0:24}} <span
										*ngIf="campaignReport.selectedPartnerEmailId?.length>24">...</span>
								</h4>
								<h5 class="text-info" style="margin-bottom: 0;">
									{{campaign.launchTime | date: 'fullDate'}}</h5>
							</div>
							<div class="col-xs-12" *ngIf="rsvpDetailType === 'partnerRsvp'">
								<span class="btn btn-sm btn-primary pull-right"
									style="cursor: default;" title="{{campaign.campaignName}}">{{campaign.campaignName
									| slice:0:20}} <span *ngIf="campaign.campaignName?.length>20">...</span>
								</span>
								<h4 class="m0">Your Campaign</h4>
								<h4>Response</h4>
								<h5 class="text-info" style="margin-bottom: 0;">
									{{campaign.launchTime | date: 'fullDate'}}</h5>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-8 emails-info" id='values'
				[hidden]="mainLoader">

				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						(click)="resetRsvpPagination();getRsvpInvitiesDetails()"
						[class.selectedBox]="rsvpResposeType === 'invities'"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalInvitiesCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-envelope"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalInvitiesCount}}</b> <span>Invites</span>
							</h1>

						</div>
					</button>
				</div>

				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						(click)="resetRsvpPagination();getRsvpEmailOpenDetails()"
						[class.selectedBox]="rsvpResposeType === 'email open'"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="!isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-envelope-open"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalEmailOpenCount}}</b> <span>Opened</span>
							</h1>

						</div>
					</button>
				</div>
				<div class="p-5x" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'YES'"
						(click)="resetRsvpPagination();getRsvpDetails('YES')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalYesCount < 1 ||  !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-check-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalYesCount}}</b>
							</h1>
							<h5>Yes (
								{{campaignReport.redistributionTotalAdditionalCount}} )</h5>
						</div>
					</button>
				</div>
				<div class="p-5x" [hidden]="mainLoader"
					class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'NO'"
						(click)="resetRsvpPagination();getRsvpDetails('NO')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalNoCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-times-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalNoCount}}</b>
							</h1>
							<h5>No</h5>
						</div>
					</button>
				</div>
				<div class="p-5x" [hidden]="mainLoader"
					class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'MAYBE'"
						(click)="resetRsvpPagination();getRsvpDetails('MAYBE')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalMayBeCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-question-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalMayBeCount}}</b>
							</h1>
							<h5>Maybe</h5>
						</div>
					</button>
				</div>
				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'NOTYET'"
						(click)="resetRsvpPagination();getRsvpDetails('NOTYET')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalNotYetRespondedCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-exclamation-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalNotYetRespondedCount}}</b>
							</h1>
							<h5>Not yet</h5>
						</div>
					</button>
				</div>
			</div>



			<div class="col-xs-12" style="padding: 10px 0px 5px 16px;">
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'invities'">Total
					invitees</h4>
				<!-- <h4 class="pull-left" *ngIf="rsvpResposeType === 'email open'">People who <b class="highlet">OPENED YOUR EMAIL</b></h4> -->
				<div class="pull-left mt10"
					*ngIf="rsvpResposeType === 'email open' || rsvpResposeType === 'email not open'">
					<ul class="mix-filter m0">
						<li class="filter"
							[class.selectedBox]="rsvpResposeType === 'email open'"
							(click)="resetRsvpPagination();getRsvpEmailOpenDetails()">People
							who have opened your email</li>
						<li class="filter"
							[class.selectedBox]="rsvpResposeType === 'email not open'"
							(click)="resetRsvpPagination();getRsvpEmailNotOpenDetails()">
							People who haven't opened your email</li>
					</ul>
				</div>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'YES'">
					People who have responded <b class="highlet">YES</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'NO'">
					People who have responded <b class="highlet">NO</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'MAYBE'">
					People who have responded <b class="highlet">MAYBE</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'NOTYET'">
					People who have<b class="highlet">NOT YET RESPONDED </b>
				</h4>
			</div>

			<div class="col-xs-12">
				<div class="table-responsive">
					<!--  <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader> -->
					<ng-container>
					<table class="table tgrid">
						<thead>
							<tr>
								<th style="font-size: 12px; font-weight: 500;" style="width:50%">NAME</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">MESSAGE</span></th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									CAMPAIGN NAME</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									SUBJECT</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">RSVP
										Date</span></th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">GUESTS <!-- <br><h6 class="m0" style="font-size:9px">( including you )</h6> --></span>
								</th>
								<th class="text-center-css"
									*ngIf="rsvpResposeType === 'email not open'">Reminder</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of rsvpDetailsList">
								<td><app-user-info [userInfo]="item" [isCompanyInfo]="true">
									</app-user-info></td>
								<td
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
									<span [hidden]="rsvpResposeType === 'email not open'">
										<h6>{{item.message}}</h6>
										<h6 *ngIf="!item.message" style="text-align: center">
											<b>-</b>
										</h6>
								</span>
								</td>
								<td
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									{{item.campaignName}}</td>
								<td class="text-center"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									{{item.subject}}</td>
								<td *ngIf="rsvpResposeType != 'invities'">
									<h6
										*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
										{{item.responseTime | date: 'short'}}</h6>
									<h6 *ngIf="rsvpResposeType === 'email open'">{{item.time |
										date: 'short'}}</h6>
								</td>
								<td class="center"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
									{{item.additionalCount}}</td>
								<td class="text-center"
									*ngIf="rsvpResposeType === 'email not open'"
									style="text-align: center"><a
									(click)="sendEmailNotOpenReminder(item)"> <i
										class="fa fa-bell-o" aria-hidden="true"></i>
								</a></td>
							</tr>
						</tbody>
					</table>
					</ng-container>
					<app-pagination
						*ngIf="rsvpDetailAnalyticsPagination.pagedItems.length !== 0"
						[pagination]="rsvpDetailAnalyticsPagination" class="pg8"
						[type]="rsvpResposeType" (notifyParent)="setPage($event)"
						(notifyParentDropDown)="paginationDropdown($event)">
					</app-pagination>
				</div>
			</div>
		</div>
	</div>

	<div id="timeline-view" class="page-content"
		*ngIf="isTimeLineView && isSmsServiceAnalytics && !isDealRegistration">
		<app-response-message [customResponse]="customResponse"
			*ngIf="customResponse.isVisible"></app-response-message>
		<div class="page-bar" style="min-height: 572px;">
			<a (click)="resetTopNavBarValue(); rsvpDetailType = ''"
				class="pull-right close-circle"
				style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
				<span class="glyphicon glyphicon-remove"
				style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
			</a>
			<div class="col-xs-12 col-sm-4 p-5x">
				<div class="p-5x">
					<div class="portlet light" style="position: relative; top: 42px;">
						<div class="portlet-body clearfix">
							<div class="col-xs-12" *ngIf="rsvpDetailType !== 'partnerRsvp'">
								<span class="btn btn-sm btn-primary pull-right"
									style="cursor: default;" title="{{campaign.campaignName}}">{{campaign.campaignName
									| slice:0:20}} <span *ngIf="campaign.campaignName?.length>20">...</span>
								</span>
								<h4 class="m0"
									title="{{campaignReport.selectedPartnerFirstName}}">
									{{campaignReport.selectedPartnerFirstName | slice:0:20}} <span
										*ngIf="campaignReport.selectedPartnerFirstName?.length>20">...</span>
								</h4>
								<!-- <h4 class="m0" title="{{campaignReport.selectedPartnerLastName}}">{{campaignReport.selectedPartnerLastName | slice:0:20}} <span *ngIf="campaignReport.selectedPartnerLastName?.length>20">...</span></h4> -->
								<h4 class="m0" title="{{campaignReport.selectedPartnerEmailId}}">
									{{campaignReport.selectedPartnerEmailId | slice:0:24}} <span
										*ngIf="campaignReport.selectedPartnerEmailId?.length>24">...</span>
								</h4>
								<h5 class="text-info" style="margin-bottom: 0;">
									{{campaign.launchTime | date: 'fullDate'}}</h5>
							</div>
							<div class="col-xs-12" *ngIf="rsvpDetailType === 'partnerRsvp'">
								<span class="btn btn-sm btn-primary pull-right"
									style="cursor: default;" title="{{campaign.campaignName}}">{{campaign.campaignName
									| slice:0:20}} <span *ngIf="campaign.campaignName?.length>20">...</span>
								</span>
								<h4 class="m0">Your Campaign</h4>
								<h4>Response</h4>
								<h5 class="text-info" style="margin-bottom: 0;">
									{{campaign.launchTime | date: 'fullDate'}}</h5>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-8 emails-info" id='values'
				[hidden]="mainLoader">

				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						(click)="resetRsvpPagination();getRsvpInvitiesDetails()"
						[class.selectedBox]="rsvpResposeType === 'invities'"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalInvitiesCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-envelope"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalInvitiesCount}}</b> <span>Invites</span>
							</h1>

						</div>
					</button>
				</div>

				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						(click)="resetRsvpPagination();getRsvpEmailOpenDetails()"
						[class.selectedBox]="rsvpResposeType === 'email open'"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="!isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-envelope-open"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalEmailOpenCount}}</b> <span>Opened</span>
							</h1>

						</div>
					</button>
				</div>
				<div class="p-5x" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'YES'"
						(click)="resetRsvpPagination();getRsvpDetails('YES')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalYesCount < 1 ||  !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-check-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalYesCount}}</b>
							</h1>
							<h5>Yes (
								{{campaignReport.redistributionTotalAdditionalCount}} )</h5>
						</div>
					</button>
				</div>
				<div class="p-5x" [hidden]="mainLoader"
					class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'NO'"
						(click)="resetRsvpPagination();getRsvpDetails('NO')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalNoCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-times-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalNoCount}}</b>
							</h1>
							<h5>No</h5>
						</div>
					</button>
				</div>
				<div class="p-5x" [hidden]="mainLoader"
					class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'MAYBE'"
						(click)="resetRsvpPagination();getRsvpDetails('MAYBE')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalMayBeCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-question-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalMayBeCount}}</b>
							</h1>
							<h5>Maybe</h5>
						</div>
					</button>
				</div>
				<div [hidden]="mainLoader" class="col-xs-2 rsvp_tile_padding">
					<button class="portlet light color1-invert crcb"
						[class.selectedBox]="rsvpResposeType === 'NOTYET'"
						(click)="resetRsvpPagination();getRsvpDetails('NOTYET')"
						[ngClass]="{'forbidden' :!isPartnerEnabledAnalyticsAccess ?true:null}"
						[disabled]="campaignReport.redistributionTotalNotYetRespondedCount < 1 || !isPartnerEnabledAnalyticsAccess">
						<div class="portlet-body text-center">
							<i class="fa fa-exclamation-circle"></i>
							<h1>
								<b>{{campaignReport.redistributionTotalNotYetRespondedCount}}</b>
							</h1>
							<h5>Not yet</h5>
						</div>
					</button>
				</div>
			</div>



			<div class="col-xs-12" style="padding: 10px 0px 5px 16px;">
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'invities'">Total
					invitees</h4>
				<!-- <h4 class="pull-left" *ngIf="rsvpResposeType === 'email open'">People who <b class="highlet">OPENED YOUR EMAIL</b></h4> -->
				<div class="pull-left mt10"
					*ngIf="rsvpResposeType === 'email open' || rsvpResposeType === 'email not open'">
					<ul class="mix-filter m0">
						<li class="filter"
							[class.selectedBox]="rsvpResposeType === 'email open'"
							(click)="resetRsvpPagination();getRsvpEmailOpenDetails()">People
							who have opened your email</li>
						<li class="filter"
							[class.selectedBox]="rsvpResposeType === 'email not open'"
							(click)="resetRsvpPagination();getRsvpEmailNotOpenDetails()">
							People who haven't opened your email</li>
					</ul>
				</div>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'YES'">
					People who have responded <b class="highlet">YES</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'NO'">
					People who have responded <b class="highlet">NO</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'MAYBE'">
					People who have responded <b class="highlet">MAYBE</b>
				</h4>
				<h4 class="pull-left" *ngIf="rsvpResposeType === 'NOTYET'">
					People who have<b class="highlet">NOT YET RESPONDED </b>
				</h4>
			</div>

			<div class="col-xs-12">
				<div class="table-responsive">
					<!--  <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader> -->
					<ng-container>
					<table class="table tgrid">
						<thead>
							<tr>
								<th style="font-size: 12px; font-weight: 500;" style="width:50%">NAME</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">MESSAGE</span></th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									CAMPAIGN NAME</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									SUBJECT</th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">RSVP
										Date</span></th>
								<th style="font-size: 12px; font-weight: 500;"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'"><span
									[hidden]="rsvpResposeType === 'email not open'">GUESTS <!-- <br><h6 class="m0" style="font-size:9px">( including you )</h6> --></span>
								</th>
								<th class="text-center-css"
									*ngIf="rsvpResposeType === 'email not open'">Reminder</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of rsvpDetailsList">
								<td><app-user-info [userInfo]="item" [isCompanyInfo]="true">
									</app-user-info></td>
								<td
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
									<span [hidden]="rsvpResposeType === 'email not open'">
										<h6>{{item.message}}</h6>
										<h6 *ngIf="!item.message" style="text-align: center">
											<b>-</b>
										</h6>
								</span>
								</td>
								<td
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									{{item.campaignName}}</td>
								<td class="text-center"
									*ngIf="rsvpResposeType === 'email open' && rsvpResposeType != 'invities'">
									{{item.subject}}</td>
								<td *ngIf="rsvpResposeType != 'invities'">
									<h6
										*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
										{{item.responseTime | date: 'short'}}</h6>
									<h6 *ngIf="rsvpResposeType === 'email open'">{{item.time |
										date: 'short'}}</h6>
								</td>
								<td class="center"
									*ngIf="rsvpResposeType !== 'email open' && rsvpResposeType != 'invities'">
									{{item.additionalCount}}</td>
								<td class="text-center"
									*ngIf="rsvpResposeType === 'email not open'"
									style="text-align: center"><a
									(click)="sendEmailNotOpenReminder(item)"> <i
										class="fa fa-bell-o" aria-hidden="true"></i>
								</a></td>
							</tr>
						</tbody>
					</table>
					</ng-container>
					<app-pagination
						*ngIf="rsvpDetailAnalyticsPagination.pagedItems.length !== 0"
						[pagination]="rsvpDetailAnalyticsPagination" class="pg8"
						[type]="rsvpResposeType" (notifyParent)="setPage($event)"
						(notifyParentDropDown)="paginationDropdown($event)">
					</app-pagination>
				</div>
			</div>
		</div>
	</div>
</section>
<section *ngIf="!isChannelCampaign || campaignType != 'EVENT'">
	<div id="timeline-view" class="page-content"
		*ngIf="isTimeLineView && !isSmsServiceAnalytics && !isDealRegistration"
		[class.ml0]="authenticationService.isSuperAdmin()">
		<div class="page-bar" style="border: 1px solid #CCC;">
			<a (click)="resetTopNavBarValue()" class="pull-right close-circle"
				style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
				<span class="glyphicon glyphicon-remove"
				style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
			</a>

			<div data-animation-name="slideInUp">
				<div class="col-xs-12">
					<ng-container *ngIf="campaignType == 'SOCIAL'">
					<div class="f-w-600 p10">Redistributed Accounts</div>
					<div class="col-sm-4 col-xs-12"
						*ngFor="let socialStatus of redistributedAccountsBySelectedUserId">
						<app-social-status [socialStatus]="socialStatus"></app-social-status>
					</div>
					</ng-container>
				</div>
				<div class="col-xs-12 col-sm-6 p10">
					<ng-container *ngIf="campaignType !== 'SOCIAL'">
					<div class="text-center f-w-600">Most Active Recipients for
						this Campaign</div>
					<app-bubble-chart [campaignId]="campaignId"></app-bubble-chart> </ng-container>
					<div class="text-center f-w-600">
						<span *ngIf="campaignType==='VIDEO'">View Count By
							Recipient</span> <span
							*ngIf="campaignType!=='VIDEO' && campaignType!=='SMS'">Email
							Opened Count By Recipient </span> <span *ngIf="campaignType==='SMS'">SMS
							Opened Count By Recipient </span>
					</div>
					<div id="campaign-views-barchart"
						style="width: 100%; max-width: 100%; height: 260px; margin: 0 auto"></div>
					<div>
						<app-pagination class="pg8"
							*ngIf="pagination.pagedItems?.length > 0"
							[pagination]="pagination" [type]="'viewsBarChart'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div data-animation="slideInUp">
						<div class="row mb10">
							<img src="/assets/images/user.png" width="48px"
								class="user-profile-image"> <span
								*ngIf="(campaign.nurtureCampaign || !channelCampaign) &&  authenticationService.module.isCompanyPartner  && enableLeads && !createdBySelf">
								<button
									style="position: absolute; left: 350px; margin-top: 7px;"
									(click)="showDealRegistrationForm()" class="btn btn-success">{{dealButtonText}}</button>
							</span>
							<h5 class="f-w-600 mt10 mb0">
								<span *ngIf="selectedRow?.firstName">{{selectedRow.firstName}}</span>&nbsp;<span
									*ngIf="selectedRow?.lastName">{{selectedRow.lastName}}</span>
							</h5>
							<h6 class="m0">{{selectedRow.emailId}}</h6>
						</div>
						<div class="row mb10">
							<ul class="mix-filter" *ngIf="smsService && campaignType != 'SMS'">
									<li class="filter" (click)="toggleSmsAnalyticsView('EMAIL')" style="background-color:#5b9bd1">EMAIL</li>
									<li class="filter" (click)="toggleSmsAnalyticsView('SMS')" >SMS</li>
							</ul>
							<div class="col-sm-3 col-xs-6" *ngIf="campaignType != 'SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/email-opened.png"
											style="margin: 0px 5px; width: 52px;">
									</div>
									<div>Email Opened</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.emailOpenCount}}</span>
									</div>
								</a>
							</div>
							<div class="col-sm-3 col-xs-6" *ngIf="campaignType == 'SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/email-opened.png"
											style="margin: 0px 5px; width: 52px;">
									</div>
									<div>SMS Opened</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.emailOpenCount}}</span>
									</div>
								</a>
							</div>
							<ng-container *ngIf="campaignType != 'EVENT' ">
							<div class="col-sm-3 col-xs-6">
								<a class="text-center">
									<div>
										<img src="assets/images/clicked-new.png"
											style="margin: 0px 10px; width: 52px;">
									</div>
									<div>Clicked URL</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.emailClickedCount}}</span>
									</div>
								</a>
							</div>

							<div class="col-sm-3 col-xs-6"
								[hidden]="campaignType==='EMAIL' || campaignType==='SOCIAL' || campaignType==='SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/video-watched.png"
											style="margin: 0px 11px; width: 52px;">
									</div>
									<div>Views</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 33px;">{{userCampaignReport.totalUniqueWatchCount}}</span>
									</div>
								</a>
							</div>
							<div class="col-sm-3 col-xs-6"
								[hidden]="campaignType==='EMAIL' || campaignType==='SOCIAL' || campaignType==='SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/total-time-spent.png"
											style="margin: 4px 15px; width: 45px;">
									</div>
									<div>Time Spent</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 33px;">{{videoUtilService.truncateHourZeros(totalTimeSpent)}}</span>
									</div>
								</a>
							</div>
							</ng-container>

							<div class="col-sm-3 col-xs-6" *ngIf="campaignType==='SOCIAL'">
								<a class="text-center">
									<div>
										<img src="assets/images/social-icons.jpg"
											style="margin: 0px 15px; width: auto; height: 52px;">
									</div>
									<div>Social Accounts</div>
									<div class="number">
										<span>{{redistributedAccountsBySelectedUserId.length}}</span>
									</div>
								</a>
							</div>
						</div>
					</div>

					<ul class="timeline" data-animation="slideInUp" *ngIf="selectedRow">
						<li class="timeline-inverted">
							<div class="timeline-badge warning">
								<img src="assets/images/closed-env.png">
							</div>
							<div class="timeline-panel">
								<div class="timeline-heading">
									<span class="timeline-title"> <!-- {{campaign.launchTime | date: 'fullDate'}} -->
										<app-timestamp [dateAndTime]="campaign.launchTime">
										</app-timestamp>
									</span>
								</div>
								<div class="timeline-body">
									<h5>
										<span class="f-w-600" title="{{campaign.campaignName}}">
											{{campaign.campaignName | slice: 0: 30}} <span
											*ngIf="campaign.campaignName?.length>30">...</span>
										</span> campaign Launched at {{campaign.launchTime | date:
										'shortTime'}}
									</h5>
									<div *ngIf="campaign.campaignType != 'SMS'">
										<h5>
											Email sent to <b>{{selectedRow.emailId}}</b>
										</h5>
									</div>
									<div *ngIf="campaign.campaignType == 'SMS'">
										<h5>
											SMS sent to <b>{{selectedRow.mobile_number}}</b>
										</h5>
									</div>
								</div>
							</div>
						</li>
					</ul>
					<ul class="timeline" *ngFor="let emailLog of emailLogs">
						<li class="timeline-inverted">
							<div class="timeline-badge">
								<img *ngIf="emailLog.actionId == 13" alt="opened"
									src="assets/images/opened.png"> <img
									*ngIf="emailLog.actionId == 14" alt="clicked"
									src="assets/images/clicked.png"> <img
									*ngIf="emailLog.actionId == 15" alt="clicked"
									src="assets/images/clicked.png"> <img
									*ngIf="emailLog.actionId == 1 || emailLog.actionId == 10"
									alt="watched" src="assets/images/video.png">
							</div>
							<div class="timeline-panel">
								<div class="timeline-heading">
									<span class="timeline-title"> <!-- {{emailLog.time | date: 'fullDate'}} -->
										<app-timestamp [dateAndTime]="emailLog.time">
										</app-timestamp>
									</span>
								</div>
								<div class="timeline-body">
									<h5>
										<span *ngIf="emailLog.actionId == 13"> Campaign <span
											class="f-w-600" *ngIf="emailLog.subject"
											title="{{emailLog.subject}}"> {{emailLog.subject |
												slice:0:30}} <span *ngIf="emailLog.subject?.length>30">...</span>
										</span> <span *ngIf="campaign.campaignType != 'SMS'">email
												opened</span> <span *ngIf="campaign.campaignType == 'SMS'">SMS
												opened</span>
										</span> <span *ngIf="emailLog.actionId == 14">Clicked <span
											class="f-w-600" title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title
												| slice:0:30}} <span
												*ngIf="campaign.campaignVideoFile.title?.length>30">...</span>
										</span> video GIF
										</span> <span *ngIf="emailLog.actionId == 15"> Clicked on the
											URL <span class="f-w-600" *ngIf="emailLog.url"><a
												href="{{emailLog.url}}" target="_blank"
												title="{{emailLog.url}}">{{emailLog.url | slice:0:30}}<span
													*ngIf="emailLog.url?.length>30">...</span></a></span>
										</span> <span
											*ngIf="emailLog.actionId == 1 || emailLog.actionId == 10">
											<span class="f-w-600"
											title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title
												| slice:0:30}} <span
												*ngIf="campaign.campaignVideoFile.title?.length>30">...</span>
										</span> <span *ngIf="emailLog.actionId == 10">re-</span>played
										</span>
										<app-timestamp [dateAndTime]="emailLog.time">
										</app-timestamp>
									</h5>
									<span *ngIf="emailLog.countryCode">
										<h6>
											<img *ngIf="emailLog.countryCode"
												src="https://lipis.github.io/flag-icon-css/flags/4x3/{{emailLog.countryCode | lowercase}}.svg"
												width="20px" class="mr10">{{emailLog.country}},
											{{emailLog.city}}
										</h6>
										<h6 class="mb0">{{emailLog.isp}}</h6>
									</span>
									<div *ngIf="emailLog.actionId == 1">
										<app-heat-map [sessionId]="emailLog.sessionId"></app-heat-map>
									</div>
								</div>
							</div>
						</li>
					</ul>

					
				</div>
			</div>
		</div>
	</div>
	<div id="timeline-view" class="page-content"
		*ngIf="isTimeLineView && isSmsServiceAnalytics && !isDealRegistration"
		[class.ml0]="authenticationService.isSuperAdmin()">
		<div class="page-bar" style="border: 1px solid #CCC;">
			<a (click)="resetTopNavBarValue()" class="pull-right close-circle"
				style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
				<span class="glyphicon glyphicon-remove"
				style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
			</a>

			<div data-animation-name="slideInUp">
				<div class="col-xs-12">
					<ng-container *ngIf="campaignType == 'SOCIAL'">
					<div class="f-w-600 p10">Redistributed Accounts</div>
					<div class="col-sm-4 col-xs-12"
						*ngFor="let socialStatus of redistributedAccountsBySelectedUserId">
						<app-social-status [socialStatus]="socialStatus"></app-social-status>
					</div>
					</ng-container>
				</div>
				<div class="col-xs-12 col-sm-6 p10">
					<ng-container *ngIf="campaignType !== 'SOCIAL'">
					<div class="text-center f-w-600">Most Active Recipients for
						this Campaign</div>
					<app-bubble-chart [campaignId]="campaignId"></app-bubble-chart> </ng-container>
					<div class="text-center f-w-600">
						<span *ngIf="campaignType==='VIDEO'">View Count By
							Recipient</span> <span
							*ngIf="campaignType!=='VIDEO' && campaignType!=='SMS'">SMS
							Opened Count By Recipient </span> 
					</div>
					<div id="campaign-views-barchart"
						style="width: 100%; max-width: 100%; height: 260px; margin: 0 auto"></div>
					<div>
						<app-pagination class="pg8"
							*ngIf="pagination.pagedItems?.length > 0"
							[pagination]="pagination" [type]="'viewsBarChart'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div data-animation="slideInUp">
						<div class="row mb10">
							<img src="/assets/images/user.png" width="48px"
								class="user-profile-image"> <span
								*ngIf="(campaign.nurtureCampaign || !channelCampaign) &&  authenticationService.module.isCompanyPartner  && enableLeads && !createdBySelf">
								<button
									style="position: absolute; left: 350px; margin-top: 7px;"
									(click)="showDealRegistrationForm()" class="btn btn-success">{{dealButtonText}}</button>
							</span>
							<h5 class="f-w-600 mt10 mb0">
								<span *ngIf="selectedRow?.firstName">{{selectedRow.firstName}}</span>&nbsp;<span
									*ngIf="selectedRow?.lastName">{{selectedRow.lastName}}</span>
							</h5>
							<h6 class="m0">{{selectedRow.emailId}}</h6>
						</div>
						<div class="row mb10">
								<ul class="mix-filter" *ngIf="smsService && campaignType != 'SMS'">
										<li class="filter" (click)="toggleSmsAnalyticsView('EMAIL')" >EMAIL</li>
										<li class="filter" (click)="toggleSmsAnalyticsView('SMS')" style="background-color:#5b9bd1">SMS</li>
								</ul>
							<div class="col-sm-3 col-xs-6" *ngIf="campaignType != 'SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/email-opened.png"
											style="margin: 0px 5px; width: 52px;">
									</div>
									<div>SMS Opened</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.smsOpenCount}}</span>
									</div>
								</a>
							</div>
							
							<ng-container *ngIf="campaignType != 'EVENT' ">
							<div class="col-sm-3 col-xs-6">
								<a class="text-center">
									<div>
										<img src="assets/images/clicked-new.png"
											style="margin: 0px 10px; width: 52px;">
									</div>
									<div>Clicked URL</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 25px;">{{userCampaignReport.smsClickedCount}}</span>
									</div>
								</a>
							</div>

							<div class="col-sm-3 col-xs-6"
								[hidden]="campaignType==='EMAIL' || campaignType==='SOCIAL' || campaignType==='SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/video-watched.png"
											style="margin: 0px 11px; width: 52px;">
									</div>
									<div>Views</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 33px;">{{userCampaignReport.totalUniqueWatchCount}}</span>
									</div>
								</a>
							</div>
							<div class="col-sm-3 col-xs-6"
								[hidden]="campaignType==='EMAIL' || campaignType==='SOCIAL' || campaignType==='SMS'">
								<a class="text-center">
									<div>
										<img src="assets/images/total-time-spent.png"
											style="margin: 4px 15px; width: 45px;">
									</div>
									<div>Time Spent</div>
									<div class="number">
										<span data-counter="counterup" style="margin: 0 33px;">{{videoUtilService.truncateHourZeros(totalTimeSpent)}}</span>
									</div>
								</a>
							</div>
							</ng-container>

							<div class="col-sm-3 col-xs-6" *ngIf="campaignType==='SOCIAL'">
								<a class="text-center">
									<div>
										<img src="assets/images/social-icons.jpg"
											style="margin: 0px 15px; width: auto; height: 52px;">
									</div>
									<div>Social Accounts</div>
									<div class="number">
										<span>{{redistributedAccountsBySelectedUserId.length}}</span>
									</div>
								</a>
							</div>
						</div>
					</div>

					<ul class="timeline" data-animation="slideInUp" *ngIf="selectedRow">
						<li class="timeline-inverted">
							<div class="timeline-badge warning">
								<img src="assets/images/closed-env.png">
							</div>
							<div class="timeline-panel">
								<div class="timeline-heading">
									<span class="timeline-title"> <!-- {{campaign.launchTime | date: 'fullDate'}} -->
										<app-timestamp [dateAndTime]="campaign.launchTime">
										</app-timestamp>
									</span>
								</div>
								<div class="timeline-body">
									<h5>
										<span class="f-w-600" title="{{campaign.campaignName}}">
											{{campaign.campaignName | slice: 0: 30}} <span
											*ngIf="campaign.campaignName?.length>30">...</span>
										</span> campaign Launched at {{campaign.launchTime | date:
										'shortTime'}}
									</h5>
									<div *ngIf="campaign.campaignType != 'SMS'">
										<h5>
											SMS sent to <b>{{selectedRow.mobile_number}}</b>
										</h5>
									</div>
									
								</div>
							</div>
						</li>
					</ul>
					<ul class="timeline" *ngFor="let smsLog of smsLogs">
						<li class="timeline-inverted">
							<div class="timeline-badge">
								<img *ngIf="smsLog.actionId == 13" alt="opened"
									src="assets/images/opened.png"> <img
									*ngIf="smsLog.actionId == 14" alt="clicked"
									src="assets/images/clicked.png"> <img
									*ngIf="smsLog.actionId == 15" alt="clicked"
									src="assets/images/clicked.png"> <img
									*ngIf="smsLog.actionId == 1 || smsLog.actionId == 10"
									alt="watched" src="assets/images/video.png">
							</div>
							<div class="timeline-panel">
								<div class="timeline-heading">
									<span class="timeline-title"> <!-- {{emailLog.time | date: 'fullDate'}} -->
										<app-timestamp [dateAndTime]="smsLog.time">
										</app-timestamp>
									</span>
								</div>
								<div class="timeline-body">
									<h5>
										<span *ngIf="smsLog.actionId == 13"> Campaign <span
											class="f-w-600" *ngIf="smsLog.subject"
											title="{{smsLog.subject}}"> {{smsLog.subject |
												slice:0:30}} <span *ngIf="smsLog.subject?.length>30">...</span>
										</span> <span *ngIf="campaign.campaignType != 'SMS'">Sms
												opened</span> 
										</span> <span *ngIf="smsLog.actionId == 14">Clicked <span
											class="f-w-600" title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title
												| slice:0:30}} <span
												*ngIf="campaign.campaignVideoFile.title?.length>30">...</span>
										</span> video GIF
										</span> <span *ngIf="smsLog.actionId == 15"> Clicked on the
											URL <span class="f-w-600" *ngIf="smsLog.url"><a
												href="{{smsLog.url}}" target="_blank"
												title="{{smsLog.url}}">{{smsLog.url | slice:0:30}}<span
													*ngIf="smsLog.url?.length>30">...</span></a></span>
										</span> <span
											*ngIf="smsLog.actionId == 1 || smsLog.actionId == 10">
											<span class="f-w-600"
											title="{{campaign.campaignVideoFile.title}}">{{campaign.campaignVideoFile.title
												| slice:0:30}} <span
												*ngIf="campaign.campaignVideoFile.title?.length>30">...</span>
										</span> <span *ngIf="smsLog.actionId == 10">re-</span>played
										</span>
										<app-timestamp [dateAndTime]="smsLog.time">
										</app-timestamp>
									</h5>
									<span *ngIf="smsLog.countryCode">
										<h6>
											<img *ngIf="smsLog.countryCode"
												src="https://lipis.github.io/flag-icon-css/flags/4x3/{{smsLog.countryCode | lowercase}}.svg"
												width="20px" class="mr10">{{smsLog.country}},
											{{smsLog.city}}
										</h6>
										<h6 class="mb0">{{smsLog.isp}}</h6>
									</span>
									<div *ngIf="smsLog.actionId == 1">
										<app-heat-map [sessionId]="smsLog.sessionId"></app-heat-map>
									</div>
								</div>
							</div>
						</li>
					</ul>

				</div>
			</div>
		</div>
	</div>

</section>

<!-- Users Watch List Modal -->
<div class="modal right fade" id="usersWatchListModal" tabindex="-1"
	role="dialog" aria-labelledby="usersWatchListModalLabel"
	data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-lg modal-css" role="document"
		style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title" id="usersWatchListModalLabel">Recipients
					who have watched the campaign</h4>
				<div class="btn-group pull-right"
					style="margin-top: -4px; cursor: pointer; color: #7d8c98">
					<span class="dropdown-toggle" data-toggle="dropdown"
						style="box-shadow: none; margin-top: -15px; padding-right: 10px; margin-right: 21px; float: right;">
						<i class="fa fa-cog" style="font-size: 20px; margin-right: 5px"></i><i
						class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
					</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()">
								Export To Excel </a></li>
					</ul>
				</div>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="table-responsive">
						<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
						<ng-container
							*ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError">
						<table class="table tgrid">
							<thead>
								<tr>
									<th style="font-size: 12px; font-weight: 500;">NAME</th>
									<th style="font-size: 12px; font-weight: 500;">START
										DURATION</th>
									<th style="font-size: 12px; font-weight: 500;">STOP
										DURATION</th>
									<!-- 	<th style="font-size: 12px; font-weight: 500;">IP ADDRESS</th> -->
									<th style="font-size: 12px; font-weight: 500;">LOCATION</th>
									<th style="font-size: 12px; font-weight: 500;">PLATFORM</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of campaignReport.usersWatchList">
									<td><app-user-info [userInfo]="item"
											[isCompanyInfo]="true"> </app-user-info></td>
									<td>
										<h6>
											<!-- {{item.startTime | date: 'short'}} -->
											<app-timestamp *ngIf="!referenceService.isSafariBrowser()"
												[dateAndTime]="item.startTime"> </app-timestamp>
											<span *ngIf="referenceService.isSafariBrowser()">{{item.startTime}}</span>
										</h6>
									</td>
									<td>
										<h6>
											<!-- {{item.endTime | date: 'short'}} -->
											<app-timestamp [dateAndTime]="item.endTime">
											</app-timestamp>
										</h6>
									</td>
									<!-- <td>
										<h6>{{item.ipAddress}}</h6>
									</td> -->
									<td class="center"><app-location [userLocation]="item">
										</app-location></td>
									<!-- <td><h6>{{item.deviceType}}, {{item.os}}</h6></td> -->
									<td class="center"><app-platform [deviceTypeOs]="true"
											[userPlatform]="item"> </app-platform></td>
								</tr>
							</tbody>
						</table>
						</ng-container>
					</div>
					<!--pager here  -->
					<div>
						<app-pagination class="pg8"
							*ngIf="usersWatchListPagination.pagedItems?.length > 0"
							[pagination]="usersWatchListPagination" [type]="'usersWatch'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)">
						</app-pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Email Opened/ Clicked List Modal -->
<div class="modal right fade" id="emailActionListModal" tabindex="-1"
	role="dialog" aria-labelledby="emailActionListModalLabel"
	data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-lg modal-css" role="document"
		style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title" id="emailActionListModalLabel"
					*ngIf="campaignReport.emailActionType === 'open'">Emails
					opened by recipients</h4>
				<h4 class="modal-title" id="emailActionListModalLabel"
					*ngIf="campaignReport.emailActionType === 'click'">Recipients
					who clicked a URL</h4>
				<div class="btn-group pull-right"
					style="margin-top: -4px; cursor: pointer; color: #7d8c98">
					<div class="sort-dropdown">
						<select class="form-control" [(ngModel)]="selectedSortedOption"
							(ngModelChange)="getSortedResult(campaign.campaignId,$event)">
							<option *ngFor="let sortOption of sortByDropDown"
								[ngValue]="sortOption">{{sortOption.name}}</option>
						</select>
					</div>
					<span class="dropdown-toggle" data-toggle="dropdown"
						style="box-shadow: none; margin-top: -15px; padding-right: 10px; margin-right: 21px; float: right;">
						<i class="fa fa-cog" style="font-size: 20px; margin-right: 5px"></i><i
						class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
					</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()">
								Export To Excel </a></li>
					</ul>
				</div>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="table-responsive">
						<div *ngIf="campaignReport.emailActionType" class="inputs"
							align="right" style="float: right; margin-bottom: 10px;"></div>
						<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
						<ng-container
							*ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError">
						<table class="table tgrid">
							<thead>
								<tr>
									<th style="width: 40%">NAME</th>
									<th style="width: 33%"
										*ngIf="campaignReport.emailActionType === 'open'">Email
										Subject</th>
									<th style="width: 33%"
										*ngIf="campaignReport.emailActionType === 'click'">Most
										Recent URL</th>
									<th style="width: 27%;">Latest Time</th>
								</tr>
							</thead>
							<tbody>
								<ng-container *ngFor="let item of campaignReport.emailLogs">
								<tr>
									<td><app-user-info [userInfo]="item"
											[isCompanyInfo]="true"> </app-user-info></td>
									<td *ngIf="campaignReport.emailActionType === 'open'">
										<h6 title="{{item.subject}}">
											{{item.subject | slice:0:40}} <span
												*ngIf="item.subject?.length > 40">...</span>
										</h6>
									</td>
									<td
										*ngIf="campaignReport.emailActionType === 'click' && item.url != null">
										<h6>
											{{item.url | slice:0:40}} <span *ngIf="item.url?.length > 40">...</span>
										</h6>
									</td>
									<td
										*ngIf="campaignReport.emailActionType === 'click' && item.url == null">
										<h6>Clicked on the video thumbnail</h6>
									</td>
									<td><span>
											<h6>
												<!-- {{item.time | date: 'short'}} -->
												<app-timestamp [dateAndTime]="item.time"
													style="right: -69px;position: relative;"> </app-timestamp>
												<span data-toggle="tooltip" data-placement="left"
													title="View History"
													style="text-align: center; position: relative; top: -17px;"
													class="actions-block" *ngIf="item.emailActionCount > 1">
													<a
													(click)="listEmailLogsByCampaignIdUserIdActionType(item, campaignReport.emailActionType)">
														<i class="fa"
														[ngClass]="{'fa-plus': !item.isExpand, 'fa-minus': item.isExpand}"></i>
												</a>
												</span>
											</h6>
									</span></td>
									<!-- <td>
                      <div class="actions-block" *ngIf="item.emailActionCount > 1">
                        <a title="View History" (click)="listEmailLogsByCampaignIdUserIdActionType(item, campaignReport.emailActionType)">
                          <i class="fa" [ngClass]="{'fa-plus': !item.isExpand, 'fa-minus': item.isExpand}"></i>
                        </a>
                      </div>
                    </td> -->
								</tr>
								<tr [ngClass]="{'hidden': !item.isExpand}">
									<td colspan="4">
										<table class="table tgrid table-condensed"
											*ngIf="item.emailLogHistory">
											<thead>
												<tr>
													<th *ngIf="campaignReport.emailActionType === 'open'">Email
														Subject</th>
													<th *ngIf="campaignReport.emailActionType === 'click'">URL
													</th>
													<th colspan="2">Opened At</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngFor="let emailLog of item.emailLogHistory">
													<td *ngIf="campaignReport.emailActionType === 'open'"
														[title]="emailLog.subject">
														<h6>
															{{emailLog.subject | slice:0:40}} <span
																*ngIf="emailLog.subject?.length > 40">...</span>
														</h6>

													</td>
													<td
														*ngIf="campaignReport.emailActionType === 'click' && emailLog.url != null">
														<h6>
															{{emailLog.url}} <span *ngIf="emailLog.url?.length > 40">...</span>
														</h6>
													</td>
													<td
														*ngIf="campaignReport.emailActionType === 'click' && emailLog.url == null">
														<h6>Clicked on the video thumbnail</h6>
													</td>
													<td style="text-align: center;"><app-timestamp
															[dateAndTime]="emailLog.time"> </app-timestamp></td>
												</tr>
											</tbody>
										</table>
									</td>
								</tr>

								</ng-container>
							</tbody>
						</table>
						</ng-container>
					</div>
					<div>
						<app-pagination class="pg8"
							*ngIf="emailActionListPagination.pagedItems?.length > 0"
							[pagination]="emailActionListPagination" [type]="'emailAction'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)">
						</app-pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>



<!-- RSVP showing details modal -->
<!-- <div class="modal fade" id="rsvpDetailsModal" tabindex="-1" role="dialog" aria-labelledby="emailSentListModalLabel" data-backdrop="static"
 data-keyboard="false">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal" (click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title" *ngIf="rsvpResposeType === 'YES'">People who have says YES</h4>
				<h4 class="modal-title" *ngIf="rsvpResposeType === 'NO'">People who have says NO</h4>
				<h4 class="modal-title" *ngIf="rsvpResposeType === 'MAYBE'">People who have says MAYBE</h4>
				<h4 class="modal-title" *ngIf="rsvpResposeType === 'NOTYET'">People who have says NOTYETRESPONDED</h4>
				<div class="btn-group pull-right" style="margin-top: -4px; cursor:pointer; color: #7d8c98">
					<span class="dropdown-toggle" data-toggle="dropdown" style="box-shadow:none;margin-top: -15px;padding-right: 10px;margin-right: 21px; float:right;">
					<i class="fa fa-cog" style="font-size:20px; margin-right:5px"></i><i class="fa fa-angle-down" style="font-size:14px; float:right"></i>
				</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()"> Export To Excel </a></li>
					</ul>
				</div>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="table-responsive">
					 <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
				 	<ng-container>
						<table class="table tgrid">
							<thead>
								<tr>
									<th style="font-size: 12px; font-weight: 500;" style="width:35%">NAME</th>
									<th style="font-size: 12px; font-weight: 500;">MESSAGE</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of rsvpDetailsList">
									<td>
										<app-user-info  [userInfo]="item"> </app-user-info>
									</td>
									<td>
										<h6>{{item.message}}</h6>
										<h6 *ngIf="!item.message" style="text-align:center"><b>-</b></h6>
									</td>
								</tr>
							</tbody>
						</table>
						</ng-container>
						<app-pagination [pagination]="campaignViewsPagination"
						 [type]="'campaignViews'" (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
 -->

<!-- Email Sent List Modal -->
<div class="modal right fade" id="emailSentListModal" tabindex="-1"
	role="dialog" aria-labelledby="emailSentListModalLabel"
	data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-lg modal-css" role="document"
		style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title" id="emailSentListModalLabel">Sent Email
					Details</h4>
				<div class="btn-group pull-right"
					style="margin-top: -4px; cursor: pointer; color: #7d8c98">
					<span class="dropdown-toggle" data-toggle="dropdown"
						style="box-shadow: none; margin-top: -15px; padding-right: 10px; margin-right: 21px; float: right;">
						<i class="fa fa-cog" style="font-size: 20px; margin-right: 5px"></i><i
						class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
					</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()">
								Export To Excel </a></li>
					</ul>
				</div>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="table-responsive">
						<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
						<ng-container
							*ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
						<table class="table tgrid">
							<thead>
								<tr>
									<th
										style="font-size: 12px; font-weight: 500; text-align: left; width: 25%">NAME
									</th>
									<th style="font-size: 12px; font-weight: 500;">CAMPAIGN
										NAME</th>
									<th style="font-size: 12px; font-weight: 500;">SENT TIME</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of sentEmailOpenPagination.pagedItems">
									<td><app-user-info [userInfo]="item"
											[isCompanyInfo]="true"> </app-user-info></td>
									<td>
										<h6 title="{{item.campaignName}}">
											{{item.campaignName | slice:0:30}} <span
												*ngIf="campaign.campaignName?.length>30">...</span>
										</h6>
										<h4 *ngIf="item.campaignName==null">-</h4>
									</td>
									<td>
										<h6>
											<app-timestamp [dateAndTime]="campaign.launchTime">
											</app-timestamp>
										</h6>
									</td>
								</tr>
							</tbody>
						</table>
						</ng-container>
						<div>
							<app-pagination class="pg8"
								[pagination]="sentEmailOpenPagination"
								*ngIf="sentEmailOpenPagination.pagedItems?.length > 0"
								[type]="'sentEmailData'" (notifyParent)="setPage($event)"
								(notifyParentDropDown)="paginationDropdown($event)">
							</app-pagination>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--  model popup for donuts analytics page  -->
<div class="modal right fade" id="donutModelPopup" tabindex="-1"
	role="dialog" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-lg modal-css" role="document"
		style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="modal-title" style="text-align: center">
					<span *ngIf="donultModelpopupTitle ==='current-month'">This
						Month's</span> <span *ngIf="donultModelpopupTitle ==='life-time'">Lifetime</span>
					<span
						*ngIf="donultModelpopupTitle !=='life-time' && donultModelpopupTitle !=='current-month'">Today's</span>
					Views
				</h4>
				<div class="btn-group pull-right"
					style="margin-top: -4px; cursor: pointer; color: #7d8c98">
					<span class="dropdown-toggle" data-toggle="dropdown"
						style="box-shadow: none; margin-top: -15px; padding-right: 10px; margin-right: 21px; float: right;">
						<i class="fa fa-cog" style="font-size: 20px; margin-right: 5px"></i><i
						class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
					</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()">
								Export To Excel </a></li>
					</ul>
				</div>

			</div>
			<div class="modal-body clearfix">
				<!-- <div class="row"> -->
				<div class="table-responsive">
					<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
					<ng-container
						*ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
					<table class="table tgrid">
						<thead>
							<tr>
								<th style="font-size: 12px; font-weight: 500;">NAME</th>
								<!-- <th style="font-size: 12px; font-weight: 500;">CAMPAIGN NAME</th> -->
								<th style="font-size: 12px; font-weight: 500;">LOCATION</th>
								<th style="font-size: 12px; font-weight: 500;">DATE</th>
								<th style="font-size: 12px; font-weight: 500;">PLATFORM</th>
								<th style="font-size: 12px; font-weight: 500;">VIEWS</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let item of donutCampaignViews">
								<td><app-user-info [userInfo]="item" [isCompanyInfo]="true">
									</app-user-info></td>
								<td style="text-align: center"><app-location
										[userLocation]="item"> </app-location></td>
								<td>
									<h6>
										<app-timestamp [dateAndTime]="item.time"> </app-timestamp>
									</h6>
								</td>
								<td class="center"><app-platform [deviceTypeOs]="true"
										[userPlatform]="item"> </app-platform></td>
								<td>
									<h6>{{item.viewsCount }}</h6>
								</td>
							</tr>
						</tbody>
					</table>
					</ng-container>
					<div>
						<app-pagination class="pg8"
							*ngIf="pagination.pagedItems?.length > 0"
							[pagination]="pagination" [type]="'donutCampaign'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- watched campaign world user info  -->
<div class="modal right fade" id="worldMapModal" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" data-keyboard="false"
	data-backdrop="static">
	<div class="modal-dialog modal-css" role="document" style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal"
					(click)="clearPaginationValues()"><i class="fa fa-times"></i></a>
				<h4 class="m0" style="text-align: center">People Who Have
					Watched Your Video</h4>
				<div class="btn-group pull-right"
					style="margin-top: -4px; cursor: pointer; color: #7d8c98">
					<span class="dropdown-toggle" data-toggle="dropdown"
						style="box-shadow: none; margin-top: -10px; padding-right: 0px; margin-right: 15px; float: right;">
						<i class="fa fa-cog" style="font-size: 20px; margin-right: 5px"></i><i
						class="fa fa-angle-down" style="font-size: 14px; float: right"></i>
					</span>
					<ul class="dropdown-menu pull-right">
						<li><a id="delete_button" (click)="downloadEmailLogs()">
								Export To Excel </a></li>
					</ul>
				</div>
			</div>
			<div class="modal-body clearfix">
				<div class="table-responsive">
					<app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
					<ng-container
						*ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
					<table class="table tgrid">
						<thead>
							<tr>
								<th class="headerCss center">NAME</th>
								<th class="headerCss center">DATE & TIME</th>
								<th class="headerCss center">DEVICE</th>
								<th class="headerCss center">LOCATION</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let emailClicked of worldMapUserData;let i = index">
								<td><app-user-info [userInfo]="emailClicked"
										[isCompanyInfo]="true"> </app-user-info></td>
								<td style="text-align: center">
									<h5>
										<app-timestamp [dateAndTime]="emailClicked.time">
										</app-timestamp>
									</h5>
								</td>
								<td style="text-align: center"><app-platform
										[deviceTypeOs]="false" [userPlatform]="emailClicked">
									</app-platform></td>
								<td style="text-align: center"><app-location
										[userLocation]="emailClicked"> </app-location></td>
							</tr>
						</tbody>
					</table>
					</ng-container>
					<div>
						<app-pagination class="pg8"
							*ngIf="pagination.pagedItems?.length > 0"
							[pagination]="pagination" [type]="'coutrywiseUsers'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="paginationDropdown($event)"></app-pagination>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal"
					(click)="clearPaginationValues()">Close</button>
			</div>
		</div>
	</div>
</div>

<!--Preview Email Template-->
<div class="modal right fade" id="email_template_preivew">
	<div class="modal-dialog modal-lg modal-css" style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close-circle" data-dismiss="modal"
					aria-hidden="true">
					<i class="fa fa-times"></i>
				</button>
				<h4 class="modal-title" id="email-template-title"></h4>
			</div>
			<div class="modal-body">
				<div id="email-template-content"></div>
			</div>
			<div class="modal-footer">
				<a href="javascript:void(0)" data-dismiss="modal"
					class="btn btn-default" style="float: right">Close</a>
			</div>
		</div>
	</div>
</div>
<app-preview-video *ngIf="videoFile" [videoFile]="videoFile"
	(notifyParent)="closeModal($event)"></app-preview-video>

<app-export-csv *ngIf="referenceService.isDownloadCsvFile"
	[downloadListDetails]="downloadDataList"
	[downloadListName]="logListName"> </app-export-csv>

<div class="modal right fade" id="show_contact-list-info">
	<div class="modal-dialog modal-lg modal-css" style="right: 0">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close-circle" data-dismiss="modal"
					aria-hidden="true" (click)="clearPaginationValues()">
					<i class="fa fa-times"></i>
				</button>
				<h4 class="modal-title" id="show_contact-list-info">
					<span
						*ngIf="isNavigatedThroughAnalytics || (!authenticationService.isVendor()  && !isChannelCampaign); else other">Contact
						List Info</span>
					<ng-template #other>
					<span>Partners List Info</span></ng-template>
				</h4>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-md-4">
						<table class="table tgrid">
							<thead>
								<th class="center">List name</th>
							</thead>
							<tbody>
								<tr *ngFor="let item of campaingContactLists">
									<td class="center" (click)="getListOfContacts(item.id)"
										[title]="item.name"
										[ngStyle]="{'background-color':contactListId === item.id ? 'lightblue' : '' }">{{item.name
										| slice:0:26}} <span *ngIf="item.name?.length>26 ">...</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-md-8">
						<table class="table tgrid">
							<thead>
								<th class="center">Email Id</th>
								<th class="center">First Name</th>
								<th class="center">Last Name</th>
							</thead>
							<tbody>
								<tr *ngFor="let item of campaingContactListValues">
									<td class="center">{{item.emailId}}</td>
									<td class="center"><span
										*ngIf="item.firstName; else empty"> {{item.firstName}}
									</span> <ng-template #empty>-</ng-template></td>
									<td class="center"><span
										*ngIf="item.lastName; else lastName"> {{item.lastName}}
									</span> <ng-template #lastName>-</ng-template></td>
								</tr>
							</tbody>
						</table>
						<div>
							<app-pagination class="pg8"
								*ngIf="contactListInfoPagination.pagedItems?.length>0"
								[pagination]="contactListInfoPagination"
								[type]="'contactListInfo'" (notifyParent)="setPage($event)"
								(notifyParentDropDown)="paginationContacts($event)">
							</app-pagination>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<a data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
			</div>
		</div>
	</div>
</div>
<!-- Social Campaign Redistribute Modal -->
<div class="modal fade right" id="scrModal" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="myModalLabel">Redistributed</h4>
			</div>
			<div class="modal-body">
				<table class="table tgrid">
					<thead>
						<tr>
							<th>User</th>
							<th>Social Accounts</th>
						</tr>
					</thead>
					<tbody>
						<ng-container
							*ngFor="let socialStatus of socialCampaign.socialStatusList">
						<ng-container
							*ngFor="let socialStatus of socialStatus.socialStatusList">
						<tr>
							<ng-container *ngFor="let item of campaignViews">
							<ng-container *ngIf="socialStatus.userId === item.userId">
							<td><app-user-info [userInfo]="item"> </app-user-info></td>
							<td>
								<div class="social-profile"
									[ngStyle]="{'background-image': 'url(' + socialStatus.socialStatusProvider.socialConnection.profileImage + ')'}"
									data-toggle="tooltip" data-placement="top"
									title="{{socialStatus.socialStatusProvider.socialConnection.profileName}}">
									<ng-container
										*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'TWITTER'">
									<img class="img-circle"
										alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
										src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
									</ng-container>
									<ng-container
										*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'FACEBOOK'">
									<img class="img-circle"
										alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
										src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
									</ng-container>
									<ng-container
										*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'LINKEDIN'">
									<img class="img-circle"
										alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
										src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
									</ng-container>
									<ng-container
										*ngIf="socialStatus.socialStatusProvider.socialConnection.source === 'GOOGLE'">
									<img class="img-circle"
										alt="{{socialStatus.socialStatusProvider.socialConnection.profileName}}"
										src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
									</ng-container>
								</div>
							</td>
							</ng-container> </ng-container>
						</tr>
						</ng-container> </ng-container>




						<!--<ng-container *ngFor="let socialStatus of socialStatus.socialStatusList">
					<tr>
					<ng-container *ngFor="let item of campaignViews">
					<ng-container *ngIf="socialStatus.userId === item.userId">
						<td>
							<app-user-info  [userInfo]="item"> </app-user-info>
						</td>
						<td>
						<ng-container *ngFor="let socialStatusProvider of socialStatus.socialStatusProviders">
							<div class="social-profile" [ngStyle]="{'background-image': 'url(' + socialStatusProvider.socialConnection.profileImage + ')'}"
								data-toggle="tooltip" data-placement="top" title="{{socialStatusProvider.socialConnection.profileName}}">
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'TWITTER'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/twitter_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'FACEBOOK'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'LINKEDIN'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/linkedin_circle-20.png">
								</ng-container>
								<ng-container *ngIf="socialStatusProvider.socialConnection.source === 'GOOGLE'">
									<img class="img-circle" alt="{{socialStatusProvider.socialConnection.profileName}}" src="https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/google_circle-20.png">
								</ng-container>
							</div>
						</ng-container>
						</td>
					</ng-container>
					</ng-container>
					</tr>
				</ng-container>-->
					</tbody>
				</table>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>


<!-- --_Deal Registration -->
<div class="modal right" id="leadFormModel" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" data-keyboard="false"
	data-backdrop="static" *ngIf="isDealRegistration"
	style="display: block">

	<div class="modal-dialog modal-css" role="document"
		style="float: right; position: relative">
		<div class="modal-content">

			<div class="modal-body">


				<a (click)="showTimeLineView()" class="pull-right close-circle"
					style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
					<span class="glyphicon glyphicon-remove"
					style="z-index: 1; font-size: 13px;" aria-hidden="true"></span>
				</a>
				<app-add-leads [campaign]="campaign" [lead]="selectedRow"
					[dealId]="dealId"></app-add-leads>

			</div>
		</div>
	</div>
</div>
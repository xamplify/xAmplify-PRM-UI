<div class="page-content">
  <app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
  <app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
  <div [hidden]="httpRequestLoader.isLoading">
    <div class="page-bar">
      <ul class="page-breadcrumb">
        <li>
          <i class="fa fa-home"></i>
          <a [routerLink]="referenceService.homeRouter">Home</a>
          <i class="fa fa-angle-right"></i>
        </li>
        <li>
          <a *ngIf="referenceService.isRedistributionCampaignPage" [routerLink]="'/home/campaigns/partner/all'" (click)="referenceService.isRedistributionCampaignPage = false">Campaigns
            shared by Vendors</a>
          <a *ngIf="!referenceService.isRedistributionCampaignPage" [routerLink]="referenceService.manageCampaignsRouter">Manage
            Campaigns</a>
          <i class="fa fa-angle-right"></i>
        </li>
        <li>
          <a style="cursor: default;">Campaign Review</a>
        </li>
      </ul>
    </div>

    <div class="portlet light shadow">
      <div class="portlet-title">
        <a *ngIf="!referenceService.isRedistributionCampaignPage" class="close-circle pull-right" data-dismiss="modal" [routerLink]="referenceService.manageCampaignsRouter">
          <i class="fa fa-times"></i>
        </a>
        <a *ngIf="referenceService.isRedistributionCampaignPage" class="close-circle pull-right" data-dismiss="modal" [routerLink]="'/home/campaigns/partner/all'"
          (click)="referenceService.isRedistributionCampaignPage = false">
          <i class="fa fa-times"></i>
        </a>
      </div>
      <div class="portlet-body clearfix">
        <form role="form">
          <div class="col-xs-12 col-sm-6">
            <fieldset>
              <legend>Campaign details</legend>
              <form>
                <div class="form-group">
                  <label for="exampleInputEmail1">Publish as (save as)</label>
                  <font style="color: red">
                    <b> * </b>
                  </font>
                  <input disabled="disabled" type="text" id="campaignName" placeholder="Campaign Name" class="form-control" [(ngModel)]="campaign.campaignName"
                    name="campaignName" />
                </div>
                <ng-container *ngIf="!campaign.nurtureCampaign">
                  <div class="form-group">
                    <label class="control-label col-sm-4" *ngIf="campaign.channelCampaign">
                      <b>Through Partner</b>
                    </label>
                    <label class="control-label col-sm-4" *ngIf="!campaign.channelCampaign">Through Partner</label>
                    <div class="col-sm-8">
                      <div class="email-options-checkbox-group email-options-notify">
                        <div class="email-options-checkbox clearfix">
                          <div class="col-sm-4 ui-switch-custom-div">
                            <switch [disabled]="callActionSwitch.disabled" [status]="campaign.channelCampaign" [onText]="callActionSwitch.onTextValue"
                              [offText]="callActionSwitch.onTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onGreenColorSwitch"
                              [size]="callActionSwitch.size">
                            </switch>
                          </div>
                          <div class="col-sm-8" style="margin-bottom: 10px;">
                            <label *ngIf="!campaign.channelCampaign" style="margin: 5px 0;">
                              <b>{{channelCampaignFieldName}}</b>
                            </label>
                            <label *ngIf="campaign.channelCampaign" style="margin: 5px 0;">{{channelCampaignFieldName}}</label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group" *ngIf="campaign.channelCampaign">
                    <label class="control-label col-sm-4">Co-Branding Logo</label>
                    <div class="col-sm-8">
                      <div class="email-options-checkbox-group email-options-notify">
                        <div class="email-options-checkbox clearfix">
                          <div class="col-sm-4 ui-switch-custom-div">
                            <switch [disabled]="callActionSwitch.disabled" [status]="campaign.enableCoBrandingLogo" [onText]="callActionSwitch.onTextValue"
                              [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                              [size]="callActionSwitch.size">
                            </switch>
                          </div>
                          <div class="col-sm-8" style="margin-bottom: 10px;">
                            <label style="margin: 5px 0;">
                              <span style="cursor: pointer;color: #54a7e9;" title="Logo for co branding">
                                <i class="fa fa-question-circle" style="font-size: 20px;float: left;"></i>
                              </span>
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
                <div class="form-group">
                  <label for="exampleInputPassword1">Subject line</label>
                  <font style="color: red">
                    <b> * </b>
                  </font>
                  <input disabled="disabled" type="text" id="subjectLine" placeholder="Subject Line" class="form-control" [(ngModel)]="campaign.subjectLine"
                    name="subjectLine" />
                </div>
                <div class="form-group col-xs-6 p0">
                  <label for="exampleInputPassword1">From name</label>
                  <font style="color: red">
                    <b> * </b>
                  </font>
                  <input disabled="disabled" type="text" id="fromName" placeholder="From Name" class="form-control" [(ngModel)]="campaign.fromName"
                    name="fromName" />
                </div>
                <div class="form-group col-xs-6 pr0">
                  <label for="exampleInputPassword1">From email</label>
                  <font style="color: red">
                    <b> * </b>
                  </font>
                  <select disabled="disabled" class="form-control" name="campaign.email" [(ngModel)]="campaign.email">
                    <option selected="selected" [ngValue]="campaign.email">
                      {{campaign.email}}
                    </option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Pre header</label>
                  <font style="color: red">
                    <b> * </b>
                  </font>
                  <input disabled="disabled" type="text" id="preHeader" placeholder="Preheader" class="form-control" [(ngModel)]="campaign.preHeader"
                    name="preHeader" />
                </div>
                <div class="form-group" *ngIf="campaign.nurtureCampaign">
                  <label class="control-label col-sm-3 p0">Data Sharing</label>
                  <div class="col-sm-9" style="margin-bottom: 10px;">
                    <div class="email-options-checkbox-group email-options-notify">
                      <div class="email-options-checkbox clearfix">
                        <div class="col-sm-4 ui-switch-custom-div">
                          <switch [disabled]="callActionSwitch.disabled" [status]="campaign.dataShare" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
                            [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                            [size]="callActionSwitch.size" (statusChange)="shareAnalytics($event)">
                          </switch>
                        </div>
                        <div class="col-sm-8">
                          <label style="margin: 5px 0;">
                            <span style="cursor: pointer;color: #54a7e9;" title="Enable/disable analytics access to vendor">
                              <i class="fa fa-question-circle" style="font-size: 20px;float: left;"></i>
                            </span>
                          </label>
                        </div>
                      </div>

                      <section *ngIf="campaign.dataShare" style="margin:14px 0 0 14px">
                        <label class="control-label" style="cursor:pointer">
                          <input name="options" type="radio" [checked]="!campaign.detailedAnalyticsShared" style="cursor:pointer">
                          <strong>Active participants</strong>
                        </label>
                        <label class="radio-inline" style="cursor:pointer; padding-left:30px; top: -2px;">
                          <input name="options" type="radio" [checked]="campaign.detailedAnalyticsShared" style="cursor:pointer">
                          <strong>All participants</strong>
                        </label>
                        <label>
                          <span style="cursor: pointer;color: #54a7e9;position: relative; top: 1px;left: 6px;" title="Active participants - share only the recipients that have interacted with your campaign &#013;All participants - share all campaign recipient data">
                            <i class="fa fa-question-circle" style="font-size: 18px;"></i>
                          </span>
                        </label>
                      </section>

                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-sm-3 p0">Notify Me When</label>
                  <div class="col-sm-9">
                    <div class="email-options-checkbox-group email-options-notify">
                      <div class="email-options-checkbox clearfix">
                        <div class="col-sm-4 ui-switch-custom-div">
                          <switch [disabled]="callActionSwitch.disabled" [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
                            [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                            [size]="callActionSwitch.size">
                          </switch>
                        </div>
                        <div class="col-sm-8" style="margin-bottom: 10px;">
                          <label style="margin: 5px 0;">Email is opened</label>
                        </div>
                      </div>
                      <div class="email-options-checkbox clearfix" *ngIf="campaignType=='VIDEO'">
                        <div class="col-sm-4 ui-switch-custom-div">
                          <switch [disabled]="callActionSwitch.disabled" [status]="campaign.videoPlayed" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
                            [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                            [size]="callActionSwitch.size">
                          </switch>
                        </div>
                        <div class="col-sm-8">
                          <label style="margin: 5px 0;">Video is played</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </fieldset>
          </div>
          <div class="col-xs-12 col-sm-6">
            <fieldset *ngIf="campaignType=='VIDEO'">
              <legend>Selected video</legend>
              <h4 style="text-align: center;" *ngIf="campaign.selectedVideoId==0">No video is selected</h4>
              <app-video-thumbnail *ngIf="campaign.selectedVideoId!==0" [videoFile]="campaign.campaignVideoFile" (notifyParent)="previewVideo($event)"></app-video-thumbnail>
            </fieldset>
            <fieldset>
              <legend>Selected email template</legend>
              <h4 style="text-align: center;" *ngIf="selectedEmailTemplateId==0">No email template is selected</h4>
              <div class="row m0" (click)="previewEmailTemplate(campaign.emailTemplate)" style="cursor: pointer;" *ngIf="selectedEmailTemplateId>0">
                <div class="col-xs-3">
                  <img src="{{campaign.emailTemplate.subject}}" height="100">
                </div>
                <div class="col-xs-9">
                  <a>
                    <h4 class="ellipsis mt5 mb5 f-w-600" title="{{campaign.emailTemplate.name}}">{{campaign.emailTemplate.name
                      | slice:0:25}}
                      <span *ngIf="campaign.emailTemplate.name?.length>25">...</span>
                    </h4>
                    <h5 class="m0" *ngIf="campaign.emailTemplate.type.toLocaleString()=='PARTNER'" title="{{campaign.emailTemplate.vendorName}}">
                      Shared By {{campaign.emailTemplate.vendorName | slice:0:15}}
                      <span *ngIf="campaign.emailTemplate.vendorName?.length>15">...</span>
                    </h5>
                    <h5 class="m0" *ngIf="campaign.emailTemplate.type.toLocaleString() !='PARTNER'" title="{{campaign.emailTemplate.createdBy}}">
                      Created By {{campaign.emailTemplate.createdBy | slice:0:15}}
                      <span *ngIf="campaign.emailTemplate.createdBy?.length>15">...</span>
                    </h5>
                  </a>
                </div>
              </div>
            </fieldset>
            <fieldset [style.border-color]="contactListBorderColor">
              <legend>Selected {{contactType}} list</legend>
              <div class="row m0">
                <div class="col-xs-4 p0" style="font-size:12px;">
                  <i class="fa fa-users" style="margin:0" [ngClass]="{'disabled': selectedUserlistIds.length < 1}"></i>
                </div>
                <div class="col-xs-8" style="top: 1em;">
                  <h4 class="pull-left" *ngIf="selectedUserlistIds.length==0">No {{contactType}} list is selected</h4>
                  <h4 class="pull-left" *ngIf="selectedUserlistIds.length==1">{{selectedUserlistIds.length}} {{contactType}}
                    list is selected</h4>
                  <h4 class="pull-left" *ngIf="selectedUserlistIds.length>1">{{selectedUserlistIds.length}} {{contactType}}
                    lists are selected</h4>
                </div>
              </div>
              <div id="campaign-contact-list" *ngIf="selectedUserlistIds.length>0 && !referenceService.isRedistributionCampaignPage">
                <div>
                  <div class="row pb10" id="user_list_table_view">
                    <!-- <app-loader [model]="campaignContact.httpRequestLoader.isHorizontalCss" *ngIf="campaignContact.httpRequestLoader.isLoading"></app-loader> -->
                    <app-list-loader *ngIf="campaignContact.httpRequestLoader.isLoading" [rowsCount]="3"></app-list-loader>
                    <app-error-pages *ngIf="campaignContact.httpRequestLoader.isServerError"></app-error-pages>
                    <ng-container *ngIf="!campaignContact.httpRequestLoader.isLoading && !campaignContact.httpRequestLoader.isServerError">
                      <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer">
                        <div class="inputs" align="right" style="float: right;padding: 5px 5px 12px 0px;">
                          <div class="portlet-input input-inline input-large" style="position: relative;top: -6px;right: -5px;">
                            <div class="input-icon right">
                              <i class="icon-magnifier" (click)="searchContactList()" style="cursor: pointer;"></i>
                              <input type="text" class="form-control" placeholder="search..." [(ngModel)]="contactSearchInput" [ngModelOptions]="{standalone: true}">
                            </div>
                          </div>
                        </div>
                        <div class="row-fluid">
                          <table class="table table-filter" *ngIf="contactListPagination.totalRecords==0">
                            <tr>
                              <td colspan="5">
                                <div class="alert alert-info">
                                  <strong>No {{contactType}} found</strong>
                                </div>
                              </td>
                            </tr>
                          </table>
                          <table class="table table-bordered no-more-tables dataTable no-footer" id="user_list_tb" role="grid" aria-describedby="user_list_tb_info"
                            *ngIf="contactListPagination.totalRecords > 0">
                            <thead>
                              <tr>
                                <th class="text-center">List Name</th>
                                <th style="text-align: center;" *ngIf="showContactType">Type</th>
                                <th class="text-center">Date Uploaded</th>
                                <th class="text-center">Preview</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr role="row" *ngFor="let contacts of contactListPagination.pagedItems;let i = index" id="campaignContactListTable_{{contacts.id}}"
                                (mouseover)='showContactsAlert(contacts.noOfContacts)' [attr.title]="emptyContactsMessage">
                                <td class="text-center" *ngIf="contacts.name?.length>50" title="{{contacts.name}}">
                                  {{contacts.name | slice:0:50}}...
                                </td>
                                <td class="text-center" *ngIf="contacts.name?.length<=50" title="{{contacts.name}}">
                                  {{contacts.name}}
                                </td>
                                <td *ngIf="showContactType">
                                  <ng-container *ngIf="contacts.partnerUserList">
                                    Partners
                                  </ng-container>
                                  <ng-container *ngIf="!contacts.partnerUserList">
                                    Contacts
                                  </ng-container>
                                </td>
                                <td class="text-center sorting_1">
                                  <app-timestamp [isOnlyDate]="true" [dateAndTime]="contacts.createdDate"> </app-timestamp>

                                </td>
                                <td class="text-center">
                                  <!-- btn btn-warning -->
                                  <a (click)="$event.stopPropagation();loadUsers(contactListPagination.pagedItems[i].id,contactsUsersPagination,contacts.name)">
                                    <i class="fa fa-eye" style="color: #008fd5;padding-top: 3px; font-size: 20px;" title="" data-original-title="Preview"></i>
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </ng-container>
                    <div *ngIf="contactListPagination.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError" style="background:white">
                      <div *ngIf="contactListPagination.pagedItems.length !== 0">
                        <app-pagination [pagination]="contactListPagination" [type]="'contacts'" (notifyParent)="setContactPage($event)" (notifyParentDropDown)="loadContactList($event)"
                          style="margin-left: -10px;"></app-pagination>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="col-xs-12" id="campaign-options-div">
            <div>
              <div class="row">
                <div class="col-xs-6"></div>
                <div class="col-xs-6 text-right pb10" style="margin-top: 10px;">
                  <h5 class="control-label font-purple-intense pr10" style="display: inline-block;" *ngIf="campaign.nurtureCampaign">Enable
                    work flow</h5>
                  <switch *ngIf="campaign.nurtureCampaign" [disabled]="callActionSwitch.disabled" [status]="enableWorkFlow" [onText]="callActionSwitch.onTextValue"
                    [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                    [size]="callActionSwitch.size" (statusChange)="enableWorkFlow = !enableWorkFlow">
                  </switch>
                </div>
                <div [hidden]="!enableWorkFlow">
                  <div class="col-xs-6">
                    <a class="dashboard-stat yellow-gold blur" style="background-color: #f76c1a;cursor: default;">
                      <i class="fa fa-ban p0" style="margin: 0 5px;"></i>{{properties.ADD_AUTO_RESPONSE_WEBSITE}}
                    </a>
                  </div>
                  <div class="col-xs-6">
                    <a class="dashboard-stat yellow-gold blur" style="background-color: #f4555c;cursor: default;">
                      <i class="fa fa-ban p0" style="margin: 0 5px;"></i> {{properties.ADD_AUTO_RESPONSE_EMAIL}}
                    </a>
                  </div>
                  <!-- -------------------------------------Add Reply----------------------------- -->
                  <div class="col-xs-12" id="reply-onclick-div" style="position: relative; bottom: -7px;">
                    <!-- Content Should Come here ------------ -->
                    <fieldset *ngIf="replies?.length>0">
                      <legend>{{properties.ADD_AUTO_RESPONSE_EMAIL}}</legend>
                      <div *ngFor="let reply of replies;let i=index">
                        <div class="portlet light dashboard-stat2" id="{{reply.divId}}">
                          <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue':isEven(i+1), 'colorRed':!isEven(i+1)}">
                            <div class="col-xs-7 ">
                              <h4 class="text-left" style="color:#fff">
                                Add an Auto-response to your e-mail-{{i+1}}
                              </h4>
                            </div>
                            <div class="col-xs-5" style="text-align:right">
                              <label class="switch-choose" style="color:#fff">Choose Template</label>
                              <switch class="switch-choose" [disabled]="callActionSwitch.disabled" [status]="reply.defaultTemplate" [onText]="callActionSwitch.onTextValue"
                                [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                                [size]="callActionSwitch.size" (statusChange)="selectReplyEmailBody($event,i,reply)">
                              </switch>
                              <button type="button" class="btn btn-danger blur button-blue">
                                <span class="glyphicon glyphicon-trash"></span>
                              </button>
                              <button type="button" class="btn btn-primary blur button-blue">
                                <span class="glyphicon glyphicon-plus"></span>
                              </button>
                            </div>
                          </div>
                          <div class="row">
                            <form class="role add-reply" id="form-{{reply.divId}}">
                              <div class="col-xs-12" style="padding:0">
                                <div class="col-xs-4" style="padding:0">
                                  <div class="col-xs-12">
                                    <label for="reason">Reason</label>
                                    <select class="form-control" name="actionId" [(ngModel)]="reply.actionId" disabled="disabled">
                                      <option [value]="0" [selected]="reply.actionId ==0">Email is not opened</option>
                                      <option [value]="13" [selected]="reply.actionId==13">Email is opened</option>
                                      <option [value]="16" [selected]="reply.actionId ==16">Send immediately after email
                                        is opened</option>
                                      <option [value]="22" [selected]="reply.actionId ==22">Send if partner email is not
                                        used</option>
                                      <ng-container *ngIf="campaignType=='VIDEO'">
                                        <option [value]="1" [selected]="reply.actionId==1"> Video is played</option>
                                        <option [value]="17" [selected]="reply.actionId==17"> Send immediately after video
                                          is played</option>
                                        <option [value]="18" [selected]="reply.actionId==18">Video is not played</option>
                                        <option [value]="23" [selected]="reply.actionId ==23"> Video is not redistributed</option>
                                      </ng-container>
                                    </select>
                                  </div>
                                  <div *ngIf="reply.actionId!=16 && reply.actionId!=17 && reply.actionId!=18">
                                    <div class="col-xs-12" style="margin-top:6px;">
                                      <label for="days" *ngIf="reply.actionId==22 || reply.actionId==23 " id="reply-days-{{reply.divId}}">Reply
                                        In X Days
                                        <b style="color: red">*</b>
                                        <font>
                                          <b>(Minimum 1 Day)</b>
                                        </font>
                                      </label>
                                      <label for="days" *ngIf="reply.actionId!=22 && reply.actionId!=23" id="reply-days-{{reply.divId}}">Reply
                                        In X Days
                                        <b style="color: red">*</b>
                                      </label>
                                      <input disabled="disabled" type="number" class="form-control" name="days" placeholder="Days" [(ngModel)]="reply.replyInDays"
                                        min="0" oninput="validity.valid||(value='');">
                                    </div>
                                    <div class="col-xs-12 time-col" *ngIf="reply.actionId!=22 && reply.actionId!=23 ">
                                      <div class="col-xs-2" style="margin-top: 26px;">
                                        <label for="time" id="send-time-{{reply.divId}}">At
                                          <b style="color: red">*</b>
                                        </label>
                                      </div>
                                      <div class="col-xs-10" style="margin-top: 20px;">
                                        <timepicker disabled="disabled" [(ngModel)]="reply.replyTime" name="time"></timepicker>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-xs-12" style="margin-top:6px;">
                                    <label for="time" id="reply-subject-{{reply.divId}}">Subject
                                      <b style="color: red">*</b>
                                    </label>
                                    <input disabled="disabled" type="text" class="form-control" name="subject" [(ngModel)]="reply.subject" placeholder="Subject"
                                      maxlength="50">
                                  </div>
                                </div>
                                <div class="col-xs-8">
                                  <div id="ck-editor-{{i}}" *ngIf="!reply.defaultTemplate">
                                    <div class="form-group">
                                      <label for="days" id="reply-message-{{reply.divId}}">Message
                                        <b style="color: red">*</b>
                                      </label>
                                    </div>
                                    <div style="margin-top: -17px;">
                                      <ckeditor disabled="disabled" [(ngModel)]="reply.body" name="body"></ckeditor>
                                    </div>
                                  </div>
                                  <div id="reply-email-template-{{i}}" *ngIf="reply.defaultTemplate">
                                    <div class="form-group" style="margin-left: 1px;">
                                      <label for="days" id="email-template-{{reply.divId}}">Select Email Template
                                        <b style="color: red">*</b>
                                      </label>
                                    </div>
                                    <div class="portlet-title">
                                      <div class="caption">
                                      </div>
                                    </div>
                                    <app-loader [model]="campaignEmailTemplate.httpRequestLoader.isHorizontalCss" *ngIf="campaignEmailTemplate.httpRequestLoader.isLoading"></app-loader>
                                    <app-error-pages *ngIf="campaignEmailTemplate.httpRequestLoader.isServerError"></app-error-pages>
                                    <ng-container *ngIf="!campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
                                      <table class="table tgrid">
                                        <thead>
                                          <tr>
                                            <th class="text-center"></th>
                                            <th class="text-center">Name</th>
                                            <th class="text-center">Uploaded By</th>
                                            <th class="text-center">Preview</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <ng-container *ngIf="reply.emailTemplatesPagination.totalRecords>0 && reply.emailTemplatesPagination.pageIndex==1 && reply.selectedEmailTemplateIdForEdit>0 && reply.showSelectedEmailTemplate ">
                                            <tr [class.active]="reply.emailTemplate.id==reply.selectedEmailTemplateId">
                                              <td>
                                                <input disabled="disabled" type="radio" name="reply-email-template" [value]="reply.emailTemplate.id" id="reply-{{i}}-{{reply.emailTemplate.id}}"
                                                  [checked]="reply.emailTemplate.id == reply.selectedEmailTemplateId">
                                              </td>
                                              <td *ngIf="reply.emailTemplate.name?.length>20" title="{{reply.emailTemplate.name}}">{{reply.emailTemplate.name|slice:0:20}}....</td>
                                              <td *ngIf="reply.emailTemplate.name?.length<=20" title="{{reply.emailTemplate.name}}">{{reply.emailTemplate.name}}</td>
                                              <td *ngIf="reply.emailTemplate.createdBy?.length>20" title="{{reply.emailTemplate.createdBy}}">{{reply.emailTemplate.createdBy|slice:0:20}}....</td>
                                              <td *ngIf="reply.emailTemplate.createdBy?.length<=20" title="{{reply.emailTemplate.createdBy}}">{{reply.emailTemplate.createdBy}}</td>
                                              <td>
                                                <div class="actions-block">
                                                  <a class="mr5" (click)="getEmailTemplatePreview(reply.emailTemplate)">
                                                    <i class="fa fa-eye" title="Preview" data-original-title="Preview"></i>
                                                  </a>
                                                  <a class="hidden">
                                                    <i class="fa fa-trash"></i>
                                                  </a>
                                                </div>
                                              </td>
                                            </tr>
                                          </ng-container>
                                        </tbody>
                                      </table>
                                      <div *ngIf="reply.emailTemplatesPagination.totalRecords==0" class="alert alert-info">
                                        <strong>No email templates found</strong>
                                      </div>
                                    </ng-container>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                    <!-- ------------ADD ON CLICK------------------------ -->
                    <fieldset *ngIf="urls?.length>0">
                      <legend> {{properties.ADD_AUTO_RESPONSE_WEBSITE}}</legend>
                      <div *ngFor="let url of urls;let i=index">
                        <div class="portlet light dashboard-stat2" id="{{url.divId}}">
                          <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue':isEven(i+1), 'colorRed':!isEven(i+1)}">
                            <div class="col-xs-7">
                              <h4 class="text-left" style="color:#fff">
                                Add an Auto-response to a website visit - {{i+1}}
                              </h4>
                            </div>
                            <div class="col-xs-5" style="text-align:right">
                              <label class="switch-choose" style="color:#fff">Choose Template</label>
                              <switch class="switch-choose" [disabled]="callActionSwitch.disabled" [status]="url.defaultTemplate" [onText]="callActionSwitch.onTextValue"
                                [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch"
                                [size]="callActionSwitch.size" (statusChange)="selectClickEmailBody($event,i,url)">
                              </switch>
                              <button type="button" class="btn btn-danger blur button-blue">
                                <span class="glyphicon glyphicon-trash"></span>
                              </button>
                              <button type="button" class="btn btn-primary blur button-blue">
                                <span class="glyphicon glyphicon-plus"></span>
                              </button>

                            </div>
                          </div>
                          <div class="row">
                            <form class="role" id="form-{{url.divId}}" class="add-click">
                              <div class="col-xs-12" style="padding:0">
                                <div class="col-xs-4" style="padding:0">
                                  <div class="col-xs-12">
                                    <label for="reason">When To Send Email</label>
                                    <select disabled="disabled" class="form-control" id="url-schedule-type" name="scheduleEmail" [(ngModel)]="url.actionId" (change)="setUrlScheduleType($event,url)">
                                      <option [value]="19" [selected]="url.actionId ==19">Send if not clicked</option>
                                      <option [value]="20" [selected]="url.actionId ==20">Send immediately after clicked</option>
                                      <option [value]="21" [selected]="url.actionId ==21">Schedule</option>
                                    </select>
                                  </div>
                                  <div *ngIf="url.actionId==21">
                                    <div class="form-group col-xs-12" style="margin-top: 8px;">
                                      <label for="days" id="click-days-{{url.divId}}">Wait X Days After Click
                                        <b style="color: red">*</b>
                                      </label>
                                      <input disabled="disabled" type="number" class="form-control" name="days" [(ngModel)]="url.replyInDays" placeholder="Days">
                                    </div>
                                    <div class="form-group col-xs-12">
                                      <div class="col-xs-2" style="margin-top: 15px;">
                                        <label for="time" id="send-time-{{url.divId}}">At
                                          <b style="color: red">*</b>
                                        </label>
                                      </div>
                                      <div class="col-xs-10" style="margin-top: 10px;">
                                        <timepicker disabled="disabled" [(ngModel)]="url.replyTime" name="time"></timepicker>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-xs-12">
                                    <label for="time" id="click-subject-{{url.divId}}">Subject
                                      <b style="color: red">*</b>
                                    </label>
                                    <input disabled="disabled" type="text" class="form-control" name="subject" [(ngModel)]="url.subject" placeholder="Subject"
                                      maxlength="50">
                                  </div>
                                  <div class="col-xs-12" style="margin-top:6px">
                                    <label for="reason">Available URLs</label>
                                    <select disabled="disabled" class="form-control" name="url" [(ngModel)]="url.url" style="width: 100%">
                                      <option>
                                        {{url.url}}
                                      </option>
                                    </select>
                                  </div>
                                </div>
                                <div class="col-xs-8">
                                  <div id="ck-editor-{{i}}" *ngIf="!url.defaultTemplate">
                                    <label for="days" id="click-message-{{url.divId}}">Message
                                      <b style="color: red">*</b>
                                    </label>
                                    <div>
                                      <ckeditor [(ngModel)]="url.body" name="body"></ckeditor>
                                    </div>
                                  </div>
                                  <div id="url-email-template-{{i}}" *ngIf="url.defaultTemplate">
                                    <div class="form-group" style="margin-left: 1px;margin-top: 8px;">
                                      <label for="days" id="click-email-template-{{url.divId}}">Select Email Template
                                        <b style="color: red">*</b>
                                      </label>
                                    </div>
                                    <app-loader [model]="campaignEmailTemplate.httpRequestLoader.isHorizontalCss" *ngIf="campaignEmailTemplate.httpRequestLoader.isLoading"></app-loader>
                                    <app-error-pages *ngIf="campaignEmailTemplate.httpRequestLoader.isServerError"></app-error-pages>
                                    <ng-container *ngIf="!campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
                                      <table class="table tgrid">
                                        <thead>
                                          <tr>
                                            <th class="text-center"></th>
                                            <th class="text-center">Name</th>
                                            <th class="text-center">Uploaded By</th>
                                            <th class="text-center">Preview</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <ng-container *ngIf="url.emailTemplatesPagination.totalRecords>0 && url.emailTemplatesPagination.pageIndex==1 && url.selectedEmailTemplateIdForEdit>0 && url.showSelectedEmailTemplate ">
                                            <tr (click)="setClickEmailTemplate(url.emailTemplate.id,url,i)" [class.active]="url.emailTemplate.id==url.selectedEmailTemplateId">
                                              <td>
                                                <input disabled="disabled" type="radio" name="url-email-template" [value]="url.emailTemplate.id" id="url-{{i}}-{{url.emailTemplate.id}}"
                                                  (click)="setClickEmailTemplate(url.emailTemplate.id,url,i)" [checked]="url.emailTemplate.id == url.selectedEmailTemplateId">
                                              </td>
                                              <td *ngIf="url.emailTemplate.name?.length>20" title="{{url.emailTemplate.name}}">{{url.emailTemplate.name|slice:0:20}}....</td>
                                              <td *ngIf="url.emailTemplate.name?.length<=20" title="{{url.emailTemplate.name}}">{{url.emailTemplate.name}}</td>
                                              <td *ngIf="url.emailTemplate.createdBy?.length>20" title="{{url.emailTemplate.createdBy}}">{{url.emailTemplate.createdBy|slice:0:20}}....</td>
                                              <td *ngIf="url.emailTemplate.createdBy?.length<=20" title="{{url.emailTemplate.createdBy}}">{{url.emailTemplate.createdBy}}</td>
                                              <td>
                                                <div class="actions-block">
                                                  <a class="mr5" (click)="getEmailTemplatePreview(url.emailTemplate)">
                                                    <i class="fa fa-eye" title="Preview" data-original-title="Preview"></i>
                                                  </a>
                                                  <a class="hidden">
                                                    <i class="fa fa-trash"></i>
                                                  </a>
                                                </div>
                                              </td>
                                            </tr>
                                          </ng-container>
                                        </tbody>
                                      </table>
                                      <div *ngIf="url.emailTemplatesPagination.totalRecords==0" class="alert alert-info">
                                        <strong>No email templates found</strong>
                                      </div>
                                    </ng-container>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                    <!-- Add on Click end -->
                  </div>
                </div>
              </div>
            </div>
            <!-- </fieldset> -->
          </div>
          <div class="col-xs-12" style="margin-top: 8px;">
            <fieldset>
              <legend>Launch option</legend>
              <div>
                <div class="btn-group btn-group-justified">
                  <label class="btn btn-primary" style="border: 1px solid #fff;">
                    <input disabled="disabled" checked="checked" type="radio" class="text-center" style=" margin-right:1.5em; " />                    {{campaign.campaignScheduleType}}
                  </label>
                </div>
                <div class="col-md-12" style="margin-left: -17px;margin-top: 12px;" *ngIf="campaign.campaignScheduleType=='SCHEDULE'">
                  <div class="col-md-4">
                    <label style="float: left;">Date</label>
                    <br>
                    <input disabled="disabled" type="text" class="form-control flatpickr square-box" placeholder="Select" value="{{campaign.scheduleTime}}"
                    />
                  </div>
                  <div class="col-md-4">
                    <label style="float: left;">Country</label>
                    <br>
                    <select disabled="disabled" class="form-control" style="width: 100%" id="countryName">
                      <option> {{campaign.country}}</option>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <label style="float: left;">TimeZone </label>
                    <br>
                    <select class="form-control" style="width: 100%" id="timezoneId" disabled="disabled">
                      <option *ngFor="let timeZone of timezones">
                        {{timeZone.cityName}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<app-preview-video *ngIf="videoFile" [videoFile]="videoFile" (notifyParent)="closePreviewVideoModal($event)"></app-preview-video>
<!--email template preview-->
<div class="modal" id="email_template_preivew">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
          <i class="fa fa-times"></i>
        </button>
        <h4 class="modal-title" id="email-template-title"></h4>
      </div>
      <div class="modal-body">
        <div id="email-template-content"></div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
      </div>
    </div>
  </div>
</div>

<!--contact list preview-->
<div class="modal" id="contactlist-preivew">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
          <i class="fa fa-times"></i>
        </button>
        <h4 class="modal-title" id="contactlist-title" *ngIf="!campaign.channelCampaign">select contact list</h4>
        <h4 class="modal-title" id="contactlist-title" *ngIf="!campaign.channelCampaign">select partner list</h4>
      </div>
      <div class="modal-body">
        <div id="contactlist-body">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>#</th>
                <th>User list</th>
                <th>Uploaded by</th>
                <th>Created date</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let userList of userLists">
                <th scope="row">
                  <input type="checkbox" [disabled]="!userList.emailValidationInd" id='{{userList.id}}'>
                </th>
                <td>{{userList.name}}</td>
                <td>{{userList.uploadedBy}}
                  <br>{{userList.companyName}}</td>
                <td>{{userList.createdDate | date: 'longDate'}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
      </div>
    </div>
  </div>
</div>
<div id="emailTemplateContent" style="display: none;"></div>
<!-- ----------------------------------Contact Lists--------------------------------- -->
<div class="modal fade" id="usersModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-label="Close">
          <i class="fa fa-times"></i>
        </button>
        <div>
          <h4 class="modal-title" id="user-list-name" align="center">
            <b>{{listName}}</b>
          </h4>
        </div>
      </div>
      <div class="modal-body" id="users-modal-body">
      </div>
      <div class="modal-footer">
        <app-pagination style="margin-left: -9px;float: left;" [pagination]="contactsUsersPagination" [type]="'previewcampaign'"
          [isDropdown]="true" (notifyParent)="setPage($event)"></app-pagination>
        <button type="button" (click)="closeModelPopup()" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

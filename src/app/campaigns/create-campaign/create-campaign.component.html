<style type="text/css">
    a.disabled {
        pointer-events: none;
        cursor: not-allowed;
    }
</style>
<div class="page-content" [style.background-color]="refService.pageContnetBgColor">
    <app-preview-video *ngIf="createVideoFile" [videoFile]="createVideoFile" (notifyParent)="closeCreateModal($event)">
    </app-preview-video>
    <app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
    <app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
    <div [hidden]="httpRequestLoader.isLoading">
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-home" aria-hidden="true"></i>
                    <a [routerLink]="refService.homeRouter" translate>Home</a>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </li>
                <li>
                    <a *ngIf="refService.isCampaignFromVideoRouter==true|| !isAdd" [routerLink]="['../../campaigns/manage']" translate>Manage Campaigns</a>
                    <a *ngIf="refService.isCampaignFromVideoRouter==false && isAdd" [routerLink]="['../../campaigns/select']" translate>Select Campaign</a>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </li>
                <li *ngIf="refService.isCampaignFromVideoRouter==true|| !isAdd">
                    <a translate>Edit Campaign</a>
                </li>
                <li *ngIf="refService.isCampaignFromVideoRouter==false && isAdd">
                    <a translate>Create Campaign</a>
                </li>
            </ul>
            <div id="folder-margin-xamp">
                <button class="btn btn custom btn-bt-aln" id="right"  (click)="openCreateFolderPopup()" translate>Create a Folder</button>
            </div>
        </div>
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div [ngClass]="folderCustomResponse.isVisible?'page-bar':'' " style="background: none !important;border: none !important" *ngIf="folderCustomResponse.isVisible">
            <app-response-message  [customResponse]="folderCustomResponse" *ngIf="folderCustomResponse.isVisible">
            </app-response-message>
        </div>
        <!-- End of Line 2 -->
        <div id="campaign-tabs">
            <div class="container" style="width: 100%;">
                <div class="portlet light row steps-view">
                    <div id="s.2" class="width" [attr.class]="campaignDetailsTabClass" (click)="resetActive($event, 0, 'step-2');" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-1">
                            <!-- <span>
                                <i class="fa fa-th-list" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/campaignDetails.svg">
                            <h5 class="hidden-xs text-clr" translate>Campaign Details</h5>
                        </div>
                    </div>

                    <div *ngIf="!isCampaignDetailsFormValid && campaignType=='video'" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-1">
                            <!-- <span>
                                <i class="fa fa-video-camera" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/video.svg">
                            <h5 class="hidden-xs text-clr" translate>Select a Video</h5>
                        </div>
                    </div>
                    <div *ngIf="isCampaignDetailsFormValid && campaignType=='video'" id="step3" [attr.class]="videoTabClass" (click)="resetActive($event, 40, 'step-3');" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-1">
                            <!-- <span>
                                <i class="fa fa-video-camera" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/video.svg">
                            <h5 class="hidden-xs text-clr" translate>Select a Video</h5>
                        </div>
                    </div>
                    <div *ngIf="!isCampaignDetailsFormValid ||!isVideo" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-2">
                            <!-- <span>
                                <i class="fa fa-users" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/Partner.svg">
                            <h5 class="hidden-xs text-clr">
                                <!--XNFR-125-->
                                <!--Partners & Share Leads-->
                                <ng-container *ngIf="campaign.oneClickLaunch">
                                    {{authenticationService?.partnerModule?.customName}} & Share Leads
                                </ng-container>
                                <!--Partners & Recipients-->
                                <ng-container *ngIf="!campaign.oneClickLaunch">
                                    <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                        <ng-container *ngIf="contactListTabName=='Partners'">
                                            {{authenticationService?.partnerModule?.customName | translate}}
                                        </ng-container>
                                        <ng-container *ngIf="contactListTabName!='Partners'">
                                            {{authenticationService?.partnerModule?.customName}} & Recipients 
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="authenticationService?.module?.isMarketingCompany">
                                        Recipients
                                    </ng-container>
                                </ng-container>
                            </h5>
                        </div>
                    </div>

                    <div id="step4" *ngIf="isCampaignDetailsFormValid  && isVideo" [attr.class]="contactListTabClass" [ngStyle]="{ 'width': width }"  (click)="resetActive($event, 60, 'step-4');">
                        <div class="cenetered-block colorbox-2">
                            <!-- <span>
                                <i class="fa fa-users" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/Partner.svg">
                            <h5 class="hidden-xs text-clr">
                                <!--XNFR-125-->
                                <!--Partners & Share Leads-->
                                <ng-container *ngIf="campaign.oneClickLaunch">
                                    {{authenticationService?.partnerModule?.customName}} & Share Leads
                                </ng-container>
                                <!--Partners & Recipients-->
                                <ng-container *ngIf="!campaign.oneClickLaunch">
                                    <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                        <ng-container *ngIf="contactListTabName=='Partners'">
                                            {{authenticationService?.partnerModule?.customName | translate}}
                                        </ng-container>
                                        <ng-container *ngIf="contactListTabName!='Partners'">
                                            {{authenticationService?.partnerModule?.customName}} & Recipients 
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="authenticationService?.module?.isMarketingCompany">
                                        Recipients
                                    </ng-container>
                                </ng-container>
                            </h5>
                        </div>
                    </div>
                    <div *ngIf="!isCampaignDetailsFormValid||!isVideo||!isContactList" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-3">
                            <ng-container *ngIf="campaignType=='landingPage'">
                                <!-- <span>
                                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                                </span> -->
                                <img  class="newicons" alt="" src="assets/images/campaignnew-icon/page.svg">
                                <h5 class="hidden-xs text-clr" translate>Page</h5>
                            </ng-container>

                            <ng-container *ngIf="campaignType!='landingPage'">
                                <!-- <span>
                                    <i class="fa fa-envelope" aria-hidden="true"></i>
                                </span> -->
                                <img  class="newicons" alt="" src="assets/images/campaignnew-icon/emailtemplate.svg">
                                <h5 class="hidden-xs text-clr" translate>Email Template</h5>
                            </ng-container>
                        </div>
                    </div>

                    <div id="step5" *ngIf="isCampaignDetailsFormValid  && isVideo  && isContactList" [attr.class]="emailTemplateTabClass" [ngStyle]="{ 'width': width }" (click)="resetActive($event, 80, 'step-5');">
                        <div class="cenetered-block colorbox-3">
                            <ng-container *ngIf="campaignType=='landingPage'">
                                <!-- <span>
                                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                                </span> -->
                                <img  class="newicons" alt="" src="assets/images/campaignnew-icon/page.svg">
                                <h5 class="hidden-xs text-clr" translate>Page</h5>
                            </ng-container>

                            <ng-container *ngIf="campaignType!='landingPage'">
                                <!-- <span>
                                    <i class="fa fa-envelope" aria-hidden="true"></i>
                                </span> -->
                                <img  class="newicons" alt="" src="assets/images/campaignnew-icon/emailtemplate.svg">
                                <h5 class="hidden-xs text-clr" translate>Email Template</h5>
                            </ng-container>
                        </div>
                    </div>

                    <div *ngIf="!isCampaignDetailsFormValid  || !isVideo || !isContactList  || !isEmailTemplate || !isLandingPage" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block colorbox-4">
                            <!-- <span>
                                <i class="fa fa-flag" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/launch.svg">
                            <h5 class="hidden-xs text-clr" translate>Launch</h5>
                        </div>
                    </div>

                    <div id="step6" *ngIf="isCampaignDetailsFormValid  && isVideo && isContactList  &&isEmailTemplate && isLandingPage" [attr.class]="launchCampaignTabClass" [ngStyle]="{ 'width': width }" (click)="resetActive($event, 100, 'step-6');addUserEmailIds();">
                        <div class="cenetered-block colorbox-4">
                            <!-- <span>
                                <i class="fa fa-flag" aria-hidden="true"></i>
                            </span> -->
                            <img  class="newicons" alt="" src="assets/images/campaignnew-icon/launch.svg">
                            <h5 class="hidden-xs text-clr" translate>Launch</h5>
                        </div>
                    </div>
                </div>
                <!-- -------------------------------------Campaign Details--------------------------------------------------------- -->
                <div class="row setup-content step activeStepInfo" id="step-2">
                    <div >
                        <form role="form" class="form-horizontal form-bordered form-label-stripped" id="campaignDetailsForm" aria-labelledby="form-label">
                            <div class="portlet light">
                                <div class="portlet box" style="border: none !important;">
                                    <div class="portlet-body form">
                                        <!-- BEGIN FORM-->
                                        <div class="form-body col-sm-6 col-sm-offset-3">
                                            <!---Campaign Name-->
                                            <div class="form-group" [attr.class]="campaignNameDivClass">
                                                <label class="control-label col-sm-4 mName" translate>Campaign name
                                                    <br><small class="mNameSave" translate>(Save as)</small>
                                                    <span style="color: red">*</span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="campaignName" placeholder="Campaign Name" class="form-control" [(ngModel)]="campaign.campaignName" name="campaignName" (input)="validateCampaignName(campaign.campaignName);validateForm();validateField('campaignName');" maxlength="200" autocomplete="off"/>
                                                    <span class="pull-left" *ngIf="!isValidCampaignName &&campaign.campaignName?.length>0" style="color: red" translate>Already Exists</span>
                                                </div>
                                            </div>
                                            <!--Folder-->    
                                            <div class="form-group" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Folder
                                                    <span style="color: red"><strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="campaign.categoryId" [(ngModel)]="campaign.categoryId" style="width: 100%">
                                                        <option *ngFor="let category of categoryNames"
                                                            [ngValue]="category.id">
                                                             {{category.name}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                            
                                            <!--Through Partner / To Partner / To Recipients-->
                                            <div class="form-group" *ngIf="!isOnlyPartner &&  !authenticationService?.module?.isMarketingCompany">
                                                 <!--Through Partner-->
                                                <label class="control-label col-sm-4 mThroughLabel" data-toggle="tooltip" 
                                                data-placement="top" title="{{THROUGH_PARTNER_MESSAGE}}">
                                                    <strong *ngIf="campaign.channelCampaign" translate>Through {{authenticationService?.partnerModule?.customName}} </strong>
                                                    <ng-container *ngIf="!campaign.channelCampaign">Through {{authenticationService?.partnerModule?.customName}}</ng-container>
                                                </label>
                                                <!--Through Partner-->
                                                <div class="col-sm-8 col-xs-6">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 col-xs-6 ui-switch-custom-div mSwitch">
                                                                <switch  [status]="campaign.channelCampaign" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.onTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onGreenColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setChannelCampaign($event)">
                                                                </switch>
                                                            </div>
                                                            <!--To Partner-->
                                                            <div class="col-sm-11 col-xs-12 mToPartner" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label *ngIf="!campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{TO_PARTNER_MESSAGE}}">
                                                                    <strong>
                                                                        <ng-container *ngIf="channelCampaignFieldName=='tp'">
                                                                           To {{authenticationService?.partnerModule?.customName}}
                                                                        </ng-container>
                                                                        <ng-container *ngIf="channelCampaignFieldName=='tr'">
                                                                            To Recipients
                                                                        </ng-container>
                                                                    </strong>
                                                                </label>
                                                                <label *ngIf="campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{TO_PARTNER_MESSAGE}}">
                                                                    <ng-container *ngIf="channelCampaignFieldName=='tp'">
                                                                        To {{authenticationService?.partnerModule?.customName}}
                                                                     </ng-container>
                                                                     <ng-container *ngIf="channelCampaignFieldName=='tr'">
                                                                         To Recipients
                                                                     </ng-container>
                                                                </label>
                                                                <!--To Partner-->
                                                                <span class="info-color-xampc">
                                                                    <i class="fa fa-question-circle toggle-info-xampc" data-html="true"
                                                                        data-toggle="tooltip" data-placement="bottom"
                                                                        title="{{TO_PARTNER_MESSAGE}} <br> {{THROUGH_PARTNER_MESSAGE}}"
                                                                         aria-hidden="true"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--White Labeled XNFR-255-->
                                                <div class="form-group" *ngIf="(campaignType=='landingPage' && shareWhiteLabeledContent) || (campaign.channelCampaign && shareWhiteLabeledContent && (campaignType=='regular' || campaignType=='video'))">
                                                <label class="control-label col-sm-4" translate>White Labeled</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.whiteLabeled" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setWhiteLabeled($event)">
                                                    </switch>
                                                    <span class="info-color-xampc">
                                                        <i class="fa fa-question-circle toggle-info-xampc" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Share As White Labeled Content"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            
                                            <!--View In Browser-->
                                            <ng-container *ngIf="campaignType=='regular' && !campaign.channelCampaign && salesEnablement">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" translate>View In Browser</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.viewInBrowserTag" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setViewInBrowser($event)">
                                                    </switch>
                                                    <span class="info-color-xampc">
                                                        <i class="fa fa-question-circle toggle-info-xampc" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Show / Hide View In Browser Tag"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="form-group" *ngIf="isGdprEnabled">
                                                <label class="control-label col-sm-4" translate>Unsubscribe Link</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.unsubscribeLink" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setUnsubscribeLink($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Show / Hide Unsubscribe Link"
                                                            style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            </ng-container>

                                            <!--One Click Launch-->
                                            <div class="form-group" *ngIf="!isOnlyPartner && campaign.channelCampaign && oneClickLaunch && campaignType!='landingPage'">
                                                <label class="control-label col-sm-4" translate>One-Click Launch</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.oneClickLaunch" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setOneClickLaunch($event)">
                                                    </switch>
                                                    <span class="info-color-xampc">
                                                        <i class="fa fa-question-circle toggle-info-xampc" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="{{oneClickLaunchToolTip}}"></i>
                                                    </span>
                                                </div>
                                            </div>

                                            <!--Co Branding Logo-->
                                            <div class="form-group" *ngIf="!isOnlyPartner && campaign.channelCampaign">
                                                <label class="control-label col-sm-4" translate>Co-Branding Logo</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign.enableCoBrandingLogo" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setCoBrandingLogo($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Enable logo of your {{authenticationService?.partnerModule?.customName}} to be displayed in redistributed campaigns"
                                                            style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>
                                                </div>
                                            </div>

                                            <!--Notify Partners-->
                                            <div class="form-group" *ngIf="!authenticationService?.module?.isMarketingCompany && !isOnlyPartner && campaignType!='sms' && (campaign.channelCampaign || (campaignType=='landingPage'  && channelCampaignFieldName != 'To Recipient')) ">
                                                <label class="control-label col-sm-4" translate>Notify {{authenticationService?.partnerModule?.customName}} ?</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign.emailNotification" [onText]="callActionSwitch.yesTextValue" [offText]="callActionSwitch.noTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setPartnerEmailNotification($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="Send email notifications to your {{authenticationService?.partnerModule?.customName}} about your campaign" style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>

                                                </div>
                                            </div>

                                            <!--From Name-->
                                            <div class="form-group" [attr.class]="fromNameDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>From Name
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="fromName" placeholder="From Name" class="form-control" [(ngModel)]="campaign.fromName" name="fromName" (input)="validateForm();validateField('fromName');" maxlength="200" autocomplete="off" />
                                                </div>
                                            </div>

                                            <!--Subject Line-->
                                            <div class="form-group" [attr.class]="subjectLineDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Subject Line
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8 col-xs-12">
                                                    <div class="input-group merge-tag-input-border">
                                                        <input type="text" id="subjectLineId" placeholder="{merge tag} + Subject line" class="form-control" [(ngModel)]="campaign.subjectLine" name="subjectLine" maxlength="1000" (input)="validateForm();validateField('subjectLine');" autocomplete="off" />
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-default button-color" type="button" title="Insert Merge Tags" (click)="openMergeTagsPopup('campaignSubjectLine',0)">
                                                                <i class="fa fa-plus-circle npcfs plus-color" aria-hidden="true"></i>
                                                            </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--From Email-->
                                            <div class="form-group" [attr.class]="fromEmaiDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>From Email
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="campaign.email" [(ngModel)]="campaign.email" style="width: 100%" (change)="setFromName()">
                                                        <option *ngFor="let teamMember of teamMemberEmailIds"
                                                            [ngValue]="teamMember.emailId">
                                                            {{teamMember.emailId}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!--Pre Header-->
                                            <div class="form-group" [attr.class]="preHeaderDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Pre Header<span
                                                        style="color: red"><strong>*</strong></span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="preHeader" placeholder="Preheader" class="form-control" [(ngModel)]="campaign.preHeader" name="preHeader" (input)="validateForm();validateField('preHeader');" maxlength="200" autocomplete="off" />
                                                </div>
                                            </div>

                                            <!--Notify Me When-->
                                            <div class="form-group" *ngIf="campaign.emailNotification &&!campaign?.oneClickLaunch">
                                                <label class="control-label col-sm-4" translate>Notify Me When</label>
                                                <div class="col-sm-8">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Email is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.linkOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setLinkOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Link is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='sms'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>SMS is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='sms'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>SMS is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='video'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.videoPlayed" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setVideoPlayed($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Video is played</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Push To Marketing Automation-->
                                            <!-- <div class="form-group" *ngIf="(!isOnlyPartner && campaign.channelCampaign && enableLeads && campaignType!='landingPage') || (enableLeads && campaignType!='landingPage' && showMarketingAutomationOption)">
                                                <label class="control-label col-sm-4" translate>Push To Marketing Automation
                                                    </label>
                                                <div class="col-sm-3">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.pushToMarketingAutomation" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="pushToCrm()">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Push your leads into marketing automation">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;" aria-hidden="true"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-5 " *ngIf="isPushToCrm" style="display: table-caption;">
                                                    <div class="row ">
                                                        <div div class="col-md-4" *ngIf="enableLeads">
                                                            <div class="  cenetered-block1">
                                                                <div class="">
                                                                    <label class="customcheck">
                                                                        <input type="checkbox" [checked]="campaign.pushToMarketo"
                                                                            (click)="pushToCrmRequest('marketo', $event)">
                                                                        <span class="checkmark"></span>
                                                                    </label>
                                                                    <img class="image-size" src="assets/images/crm/marketo-crm.png" alt="">
                                                                    <div>
                                                                        <h5 class="hidden-xs mr-2" translate>Marketo</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div div class="col-md-4" *ngIf="enableLeads">
                                                            <div class="cenetered-block1">
                                                                <div class="">
                                                                    <label class="customcheck">
                                                                        <input type="checkbox" [checked]="campaign.pushToHubspot"
                                                                            (click)="pushToCrmRequest('hubspot', $event)">
                                                                        <span class="checkmark"></span>
                                                                    </label>
                                                                    <img class="image-size" src="assets/images/crm/hubspot-crm.png" alt="">
                                                                    <div>
                                                                        <h5 class="hidden-xs mr-2" translate>Hubspot</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div div class="col-md-4" *ngIf="enableLeads">
                                                            <div class="cenetered-block1">
                                                                <div class="">
                                                                    <label class="customcheck">
                                                                        <input type="checkbox" [checked]="campaign.pushToMicrosoft"
                                                                            (click)="pushToCrmRequest('microsoft', $event)">
                                                                        <span class="checkmark"></span>
                                                                    </label>
                                                                    <img class="image-size" src="assets/images/crm/microsoft-crm.png" alt="">
                                                                    <div>
                                                                        <h5 class="hidden-xs mr-2" translate>Microsoft Dynamics</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div> -->

                                            <!--Configure Pipelines-->
                                            <div class="form-group" *ngIf="showConfigurePipelines && ((!isOnlyPartner && campaign.channelCampaign && enableLeads && campaignType!='landingPage') || (enableLeads && campaignType!='landingPage' && showMarketingAutomationOption))">
                                                <label class="control-label col-sm-4" translate>Configure Pipelines
                                                    </label>
                                                <div class="col-sm-3">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.configurePipelines" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="configurePipelines()">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Configure Pipelines for this Campaign">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;" aria-hidden="true"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Lead Pipeline-->
                                            <div class="form-group" [attr.class]="leadPipelineClass" style="margin-bottom: 20px"
                                            *ngIf="campaign.configurePipelines">
                                                <label class="control-label col-sm-4">Lead Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" [(ngModel)]="campaign.leadPipelineId" [ngModelOptions]="{standalone: true}"
                                                        placeholder="leadPipelineId" id="leadPipelineId" (change)="validateForm();">
                                                        <option [value]="0">Select Pipeline</option>
                                                        <option *ngFor="let pipeline of leadPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
                                                    </select>
                                                </div>
                                                
                                            </div>

                                            <!--Deal Pipeline-->  
                                            <div class="form-group" [attr.class]="dealPipelineClass" style="margin-bottom: 20px"
                                            *ngIf="campaign.configurePipelines">
                                                <label class="control-label col-sm-4">Deal Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" [(ngModel)]="campaign.dealPipelineId" [ngModelOptions]="{standalone: true}"
                                                        placeholder="dealPipelineId" id="dealPipelineId" (change)="validateForm();">
                                                        <option [value]="0">Select Pipeline</option>
                                                        <option *ngFor="let pipeline of dealPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!--SMS-->  
                                            <div class="form-group" *ngIf="!isOnlyPartner && refService.smsCampaign && enableSMS  && campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>SMS service</label>
                                                <div class="col-sm-8">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)"
                                                                    id="falseAction" *ngIf="!smsService">
                                                                </switch>
                                                                <switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)"
                                                                    id="trueAction" *ngIf="smsService">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" title="Enable SMS services for this campaign">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;" aria-hidden="true"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--SMS-->  
                                            <div class="form-group" [attr.class]="smsTextDivClass" *ngIf="enableSmsText || campaignType=='sms'">
                                                <label class="control-label col-sm-4" translate>Sms Text
                                                    <font style="color: red">
                                                        <b>*</b>
                                                    </font>
                                                </label>
                                                <div class="col-sm-8">
                                                    <textarea id="smsText" placeholder="Sms Text" class="form-control" [(ngModel)]="smsText" name="smsText" (input)="validateForm();validateField('smsText');" maxlength="200"></textarea>
                                                </div>
                                            </div>
                                            
                                            <!-- End Date -->
                                            <div class="form-group" [attr.class]="endDateDivClass" [hidden]="!campaign.channelCampaign || campaignType == 'landingPage' || campaignType=='sms'">
                                                <label class="control-label col-sm-4" translate>End Date</label>
                                                <!-- <div class="col-sm-8">
                                                    <input type="text" id="endDate" placeholder="YYYY-MM-DD" class="form-control flatpickr"
                                                        [(ngModel)]="campaign.endDate" name="endDate" [value]="campaign.endDate" />
                                                </div> -->
                                                <div class="col-sm-8" style="display:flex">
                                                    <div class="input-group">
                                                        <input type="text" id="endDate1" placeholder="YYYY-MM-DD" class="form-control flatpickr"
                                                            [(ngModel)]="campaign.endDate" name="endDate" [value]="campaign.endDate" />
                                                        <span class="input-group-btn" data-toggle="tooltip" data-placement="top" title="Clear">
                                                            <button class="btn btn-default" type="button"><i class="fa fa-refresh npcfs" aria-hidden="true"
                                                                    (click)="clearEndDate()"></i></button>
                                                        </span>
                                                    </div>
                                                    <div style="padding: 0; margin-left: 15px;margin-top: 6px">
                                                        <span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top"
                                                            title="A setting that specifies how long you want your campaign to run. When the campaign's end date arrives, your partners will be unable to redistribute it further. Each campaign's default setting is to have no end date, allowing partners to redistribute indefinitely.">
                                                            <i class="fa fa-question-circle" style="font-size: 20px;float: left;margin: -18px 0 0 0px;" aria-hidden="true"></i>
                                                        </span>
                                                    </div>
                                                                                                                                                                                                     
                                                </div>
                                            </div>

                                        </div>
                                        <!-- END FORM-->
                                    </div>
                                </div>
                                <div class="page-bar" style="padding-right: 21px;box-shadow: none !important;border: none !important;">
                                <button *ngIf="campaignType=='video'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-3');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>
                                <button *ngIf="campaignType=='regular' || campaignType=='landingPage' || campaignType=='survey'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-4');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>
                                <button *ngIf="campaignType=='sms'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-4');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>
                            </div>
                            </div>
                        </form>
                    </div>
                    <div id="emailTemplateContent" style="display: none;"></div>
                </div>
                <!-- -------------------------------------Video Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo portlet light" id="step-3" >
                    <!-- <br> -->
                    <div class="col-xs-12">
                        <div class="text-center">
                            <div class="row" id="user_list_table_view">
                                <div class="">
                                    <!-- <div class="note-vid pull-left m10">
                                        <div class="">Select the video for your
                                            campaign
                                        </div>
                                    </div> -->
                                    <div id="home" class="tab-pane fade in active">
                                        <div class="tab" *ngIf="!campaign.createdFromVideos">
                                            <div class="note-vid pull-left" style="padding-top: 8px;">
                                                <div class="">Select the video for your
                                                    campaign
                                                </div>
                                            </div>
                                            <!-- <button [class]="myVideosClass"
                                                (click)="showTab($event,'my-videos')" id="my-videos-tab"
                                                *ngIf="!isOnlyPartner" translate>My Videos</button> -->
                                            <ng-container *ngIf="!campaign.createdFromVideos">
                                            <!-- <div class="input-icon right pull-right m10 col-xs-7"
                                                *ngIf="isMyVideosActive">
                                                <input type="text" [(ngModel)]="videoSearchInput"
                                                    [ngModelOptions]="{standalone: true}" class="form-control"
                                                    placeholder="Search for a Video"
                                                    (keypress)="eventHandler($event.keyCode, 'myvideos')">
                                                <button
                                                    class="glyphicon glyphicon-remove search-box-item-clear"
                                                    style="padding: 5px;" *ngIf="videoSearchInput"
                                                    (click)="videoSearchInput=''"></button>
                                                <button type="submit" class="search-box-item-click"
                                                    style="padding: 4px !important; margin-left: 55px;"
                                                    (click)="searchVideo()">
                                                    <i class="fa fa-search"
                                                        style="font-size: 16px !important; padding: 5px !important;"></i>
                                                </button>
                                            </div>
                                            <div class="input-icon right pull-right m10 "
                                                *ngIf="!isMyVideosActive">
                                                <input type="text" [(ngModel)]="channelVideoSearchInput"
                                                    [ngModelOptions]="{standalone: true}" class="form-control"
                                                    placeholder="Search for a Video"
                                                    (keypress)="eventHandler($event.keyCode, 'channel')">
                                                <button
                                                    class="glyphicon glyphicon-remove search-box-item-clear"
                                                    style="padding: 5px;" *ngIf="channelVideoSearchInput"
                                                    (click)="channelVideoSearchInput=''"></button>
                                                <button type="submit" class="search-box-item-click"
                                                    style="padding: 4px !important;"
                                                    (click)="searchChannelVideo()">
                                                    <i class="fa fa-search"
                                                        style="font-size: 16px !important; padding: 5px !important;"></i>
                                                </button>
                                            </div> -->
                                            <div class="">
                                                <div class="btn-group pull-right" style="margin: -7px;padding:10px">
                                                    <div class="inputs sort-class" style="display: flex;">
                                                        <div style="padding-right: 14px;">
                                                            <select class="select_filter form-control"
                                                                data-live-search="true"
                                                                (change)="filterCategoryVideos($event)">
                                                                <option value="" class="search_init" translate>
                                                                    Category</option>
                                                                <option *ngFor="let category of categories"
                                                                    class="colorSelect" value="{{category.id}}"
                                                                    [selected]="category.id==videosPagination.videoCategoryId">
                                                                    {{category.name}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="portlet-input input-inline search-class">
                                                            <div class="input-icon right pull-right"
                                                                *ngIf="isMyVideosActive">
                                                                <input type="text" [(ngModel)]="videoSearchInput"
                                                                    [ngModelOptions]="{standalone: true}" class="form-control"
                                                                    placeholder="Search for a Video"
                                                                    (keypress)="eventHandler($event.keyCode, 'myvideos')">
                                                                <button
                                                                    class="glyphicon glyphicon-remove search-box-item-clear"
                                                                    style="padding: 5px;" *ngIf="videoSearchInput"
                                                                    (click)="videoSearchInput=''"></button>
                                                                <button type="submit" class="search-box-item-click"
                                                                    style="padding: 4px !important; margin-left: 55px;"
                                                                    (click)="searchVideo()">
                                                                    <i class="fa fa-search"
                                                                        style="font-size: 16px !important; padding: 5px !important;"></i>
                                                                </button>
                                                            </div>
                                                            <div class="input-icon right pull-right"
                                                                *ngIf="!isMyVideosActive">
                                                                <input type="text" [(ngModel)]="channelVideoSearchInput"
                                                                    [ngModelOptions]="{standalone: true}" class="form-control"
                                                                    placeholder="Search for a Video"
                                                                    (keypress)="eventHandler($event.keyCode, 'channel')">
                                                                <button
                                                                    class="glyphicon glyphicon-remove search-box-item-clear"
                                                                    style="padding: 5px;" *ngIf="channelVideoSearchInput"
                                                                    (click)="channelVideoSearchInput=''"></button>
                                                                <button type="submit" class="search-box-item-click"
                                                                    style="padding: 4px !important;"
                                                                    (click)="searchChannelVideo()">
                                                                    <i class="fa fa-search"
                                                                        style="font-size: 16px !important; padding: 5px !important;"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            </ng-container>
                                        </div>

                                        <div id="my-videos" class="tab-content"
                                            [style.display]="myVideosStyle">
                                            <div id="videos_table_new_wrapper"
                                                class="dataTables_wrapper form-inline no-footer">
                                                <div class="table-responsive pt">
                                                    <table class="table tgrid" cellspacing="0"
                                                        width="100%" role="grid" id="videoTable">
                                                        <thead>
                                                            <tr role="row">
                                                                <th class="sorting_disabled" rowspan="1" colspan="1"
                                                                    aria-label="Thumbnail" style="width: 45%;" translate>Videos
                                                                </th>
                                                                <!-- <th style="text-align: center; width: 24%;"
                                                                    class="sorting_disabled" rowspan="1" colspan="1"
                                                                    *ngIf="!campaign.createdFromVideos"><span
                                                                    class="filter_column filter_select"> <select
                                                                        class="select_filter form-control"
                                                                        data-live-search="true"
                                                                        (change)="filterCategoryVideos($event)">
                                                                            <option value="" class="search_init" translate>
                                                                                Category</option>
                                                                            <option *ngFor="let category of categories"
                                                                                class="colorSelect" value="{{category.id}}"
                                                                                [selected]="category.id==videosPagination.videoCategoryId">
                                                                                {{category.name}}</option>
                                                                    </select>
                                                                </span></th> -->
                                                                <th style="text-align: center; width: 24%;"
                                                                class="sorting_disabled" rowspan="1" colspan="1"
                                                                *ngIf="!campaign.createdFromVideos">Category</th>
                                                                <th style="text-align: center; width: 24%;"
                                                                    *ngIf="campaign.createdFromVideos" translate>Category</th>
                                                                <th style="text-align: center; width: 18%;"
                                                                    *ngIf="!campaign.createdFromVideos" translate>Upload
                                                                    Date <span class="filter_column filter_select"
                                                                    *ngIf="false"> <select class="form-control"
                                                                        (change)="filterVideosByType($event)">
                                                                            <option value="" class="search_init" translate>Type
                                                                            </option>
                                                                            <option value="PRIVATE" translate>PRIVATE</option>
                                                                            <option value="PUBLIC" translate>PUBLIC</option>
                                                                            <option value="UNLISTED" translate>UNLISTED</option>
                                                                    </select>
                                                                </span>
                                                                </th>
                                                                <!-- <th style="text-align: center;width: 18%;" *ngIf="campaign.createdFromVideos">Type</th> -->
                                                                <th style="text-align: center; width: 18%;"
                                                                    *ngIf="campaign.createdFromVideos" translate>Upload
                                                                    Date</th>
                                                                <th style="text-align: center; width: 13%;" translate>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="row_selected">
                                                            <tr
                                                                *ngIf="campaignVideo.httpRequestLoader.isServerError || campaignVideo.httpRequestLoader.isLoading">
                                                                <td colspan="5"><app-loader
                                                                        [model]="campaignVideo.httpRequestLoader.isHorizontalCss"
                                                                        *ngIf="campaignVideo.httpRequestLoader.isLoading">
                                                                    </app-loader> <app-error-pages
                                                                        *ngIf="campaignVideo.httpRequestLoader.isServerError">
                                                                    </app-error-pages></td>
                                                            </tr>
                                                            <tr *ngIf="videosPagination.totalRecords==0">
                                                                <td colspan="5">
                                                                    <div class="alert alert-info">
                                                                        <strong translate>No videos found </strong>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <ng-container
                                                                *ngIf="videosPagination.totalRecords > 0 && !campaignVideo.httpRequestLoader.isLoading && !campaignVideo.httpRequestLoader.isServerError">
                                                            <!-- ------------------Selected Video Row--> <ng-container
                                                                *ngIf="showSelectedVideo==true && !partnerVideoSelected">
                                                            <tr
                                                                *ngIf="(!isAdd && isCampaignDraftVideo)|| (refService.campaignVideoFile!=undefined)"
                                                                [class.active]="selectedRow==savedVideoFile.id"
                                                                id="selectedVideoRow"
                                                                (click)="setClickedRow(savedVideoFile,'my-videos')">
                                                                <!-- --------------Thumbnail--------------------------- -->
                                                                <td style="text-align: center;"><input
                                                                    class="radio-button-css" type="radio"
                                                                    [checked]="selectedRow==savedVideoFile.id"
                                                                    (click)="setClickedRow(savedVideoFile,'my-videos')"
                                                                    name="videoFileId" [value]="savedVideoFile.id"
                                                                    id="campaign_video_id_{{savedVideoFile.id}}"> <app-video-thumbnail
                                                                        [videoFile]="savedVideoFile"
                                                                        (notifyParent)="showPreview($event)">
                                                                    </app-video-thumbnail></td>
                                                                <!-- --------------Category--------------------------- -->
                                                                <td class="text-center">
                                                                    {{savedVideoFile.categoryName}}</td>
                                                                <!-- --------------Published To--------------------------- -->
                                                                <td class="text-center">
                                                                    <!-- <span class="view-by-banner">{{savedVideoFile.viewBy}}</span> -->
                                                                    <app-timestamp [isOnlyDate]="true"
                                                                        [dateAndTime]="savedVideoFile.uploadedDate">
                                                                    </app-timestamp>
                                                                </td>
                                                                <!-- --------------Status--------------------------- -->
                                                                <td class="text-center"><img
                                                                    src="assets/images/draft.png"
                                                                    *ngIf="savedVideoFile.viewBy=='DRAFT'"> <img
                                                                    src="assets/images/success.png"
                                                                    *ngIf="savedVideoFile.viewBy!='DRAFT'"></td>
                                                            </tr>
                                                            </ng-container> <!-- --------------------Avalilable Campaign Videos------------ -->
                                                            <ng-container *ngIf="!campaign.createdFromVideos">
                                                            <tr role="row" class="odd"
                                                                *ngFor="let videoFile of videosPagination.pagedItems;let i =  index"
                                                                (click)="setClickedRow(videoFile,'my-videos')"
                                                                [class.active]="(videoFile.id == selectedRow && videoFile.viewBy!=='DRAFT')"
                                                                [attr.title]="draftMessage"
                                                                (mouseover)='showToolTip(videoFile.viewBy)'>
                                                                <!-- --------------Thumbnail--------------------------- -->
                                                                <!-- --------------Title--------------------------- -->
                                                                <td *ngIf="videoFile.id!==videoId"><input
                                                                    class="radio-button-css"
                                                                    *ngIf="videoFile.viewBy!='DRAFT' && videoFile.id!==videoId"
                                                                    type="radio" name="videoFileId" [value]="videoFile.id"
                                                                    (click)="setClickedRow(videoFile,'my-videos')"
                                                                    id="campaign_video_id_{{videoFile.id}}"
                                                                    [checked]="videoFile.id == selectedRow"> <input
                                                                    class="radio-button-css"
                                                                    *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId"
                                                                    type="radio" name="videoFileId" [value]="videoFile.id"
                                                                    disabled="disabled"
                                                                    title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                    <app-video-thumbnail
                                                                        [ngClass]="{'not-active':videoFile.viewBy=='DRAFT'}"
                                                                        [videoFile]="videoFile"
                                                                        (notifyParent)="showPreview($event)">
                                                                    </app-video-thumbnail></td>
                                                                <!-- --------------Category--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    {{videoFile.categoryName}}</td>
                                                                <!-- --------------Published To--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    <!-- <span class="view-by-banner">{{videoFile.viewBy}}</span> -->
                                                                    <app-timestamp [isOnlyDate]="true"
                                                                        [dateAndTime]="videoFile.uploadedDate">
                                                                    </app-timestamp>

                                                                </td>
                                                                <!-- --------------Status--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    <img src="assets/images/draft.png"
                                                                    *ngIf="videoFile.viewBy=='DRAFT'"> <img
                                                                    src="assets/images/success.png"
                                                                    *ngIf="videoFile.viewBy!='DRAFT'">
                                                                </td>
                                                            </tr>
                                                            </ng-container> </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="mPag mt10" style="text-align: left;"
                                                    [hidden]="isvideoThere && campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError && campaign.createdFromVideos">
                                                    <app-pagination
                                                        [hidden]="campaignVideo.httpRequestLoader.isLoading || campaignVideo.httpRequestLoader.isServerError"
                                                        [pagination]="videosPagination" [type]="'videos'"
                                                        (notifyParent)="setPagePagination($event)"
                                                        (notifyParentDropDown)="loadCampaignVideos($event)">
                                                    </app-pagination>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- ----Partner Videos Start Here -->
                                        <div id="channel-videos" class="tab-content"
                                            [style.display]="partnerVideosStyle">
                                            <div id="videos_table_new_wrapper"
                                                class="dataTables_wrapper form-inline no-footer">
                                                <div class="inputs" align="right"
                                                    style="display: inline; padding: 5px 5px 12px 0px;">
                                                    <div class="portlet-input input-inline input-large"></div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table tgrid" cellspacing="0"
                                                        width="100%" role="grid" id="videoTable"
                                                        style="margin-top: -18px;">
                                                        <thead>
                                                            <tr role="row">
                                                                <th style="text-align: left; width: 45%" translate>Videos</th>
                                                                <!-- <th style="text-align: center;" class="sorting" tabindex="0" aria-controls="videos_table_new" rowspan="1" colspan="1" aria-label="Title: activate to sort column ascending">Title</th> -->
                                                                <th style="width: 24%;" class="text-center"
                                                                    *ngIf="!campaign.createdFromVideos"><span
                                                                    class="filter_column filter_select"> <select
                                                                        class="select_filter form-control"
                                                                        data-live-search="true"
                                                                        (change)="filterPartnerCategoryVideos($event)">
                                                                            <option value="" class="search_init" translate>
                                                                                Category</option>
                                                                            <option *ngFor="let category of partnerCategories"
                                                                                class="colorSelect" value="{{category.id}}"
                                                                                [selected]="category.id==channelVideosPagination.videoCategoryId">
                                                                                {{category.name}}</option>
                                                                    </select>
                                                                </span></th>
                                                                <th style="width: 24%;" class="text-center"
                                                                    *ngIf="campaign.createdFromVideos" translate>Category</th>
                                                                <th style="width: 18%" class="text-center"
                                                                    *ngIf="!campaign.createdFromVideos" translate>Upload
                                                                    Date <span class="filter_column filter_select"
                                                                    *ngIf="false"> <select class="form-control"
                                                                        (change)="filterPartnerVideosByType($event)">
                                                                            <option value="" class="search_init" translate>Type
                                                                            </option>
                                                                            <option value="PRIVATE" translate>PRIVATE</option>
                                                                            <option value="PUBLIC" translate>PUBLIC</option>
                                                                            <option value="UNLISTED" translate>UNLISTED</option>
                                                                    </select>
                                                                </span>
                                                                </th>
                                                                <th style="width: 18%;" class="text-center"
                                                                    *ngIf="campaign.createdFromVideos" translate>Upload
                                                                    Date</th>
                                                                <th style="width: 13%;" class="text-center" translate>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="row_selected">
                                                            <tr
                                                                *ngIf="campaignVideo.httpRequestLoader.isLoading || campaignVideo.httpRequestLoader.isServerError">
                                                                <td colspan="5"><app-loader
                                                                        [model]="campaignVideo.httpRequestLoader.isHorizontalCss"
                                                                        *ngIf="campaignVideo.httpRequestLoader.isLoading">
                                                                    </app-loader> <app-error-pages
                                                                        *ngIf="campaignVideo.httpRequestLoader.isServerError">
                                                                    </app-error-pages></td>
                                                            </tr>
                                                            <tr *ngIf="channelVideosPagination.totalRecords==0">
                                                                <td colspan="5">
                                                                    <div class="alert alert-info">
                                                                        <strong translate>No videos found</strong>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <ng-container
                                                                *ngIf="channelVideosPagination.totalRecords > 0 && !campaignVideo.httpRequestLoader.isLoading && !campaignVideo.httpRequestLoader.isServerError">
                                                            <ng-container
                                                                *ngIf="showSelectedVideo==true && partnerVideoSelected">
                                                            <tr
                                                                *ngIf="(!isAdd && isCampaignDraftVideo)|| (refService.campaignVideoFile!=undefined)"
                                                                [class.active]="selectedRow==savedVideoFile.id"
                                                                id="selectedVideoRow"
                                                                (click)="setClickedRow(savedVideoFile,'partner-videos')">
                                                                <td class="text-center"><input
                                                                    class="radio-button-css" type="radio"
                                                                    [checked]="selectedRow==savedVideoFile.id"
                                                                    (click)="setClickedRow(savedVideoFile,'partner-videos')"
                                                                    name="videoFileId" [value]="savedVideoFile.id"
                                                                    id="campaign_video_id_{{savedVideoFile.id}}"> <app-video-thumbnail
                                                                        [videoFile]="savedVideoFile"
                                                                        (notifyParent)="showPreview($event)">
                                                                    </app-video-thumbnail></td>
                                                                <td class="text-center">
                                                                    {{savedVideoFile.categoryName}}</td>
                                                                <td class="text-center">
                                                                    <!-- <span class="view-by-banner">{{savedVideoFile.viewBy}}</span> -->
                                                                    <app-timestamp [isOnlyDate]="true"
                                                                        [dateAndTime]="savedVideoFile.uploadedDate">
                                                                    </app-timestamp>
                                                                </td>
                                                                <td class="text-center"><img
                                                                    src="assets/images/draft.png"
                                                                    *ngIf="savedVideoFile.viewBy=='DRAFT'"> <img
                                                                    src="assets/images/success.png"
                                                                    *ngIf="savedVideoFile.viewBy!='DRAFT'"></td>
                                                            </tr>
                                                            </ng-container> <!-- --------------------Avalilable Campaign Videos------------ -->
                                                            <ng-container *ngIf="!campaign.createdFromVideos">
                                                            <tr role="row" class="odd"
                                                                *ngFor="let videoFile of channelVideosPagination.pagedItems;let i =  index"
                                                                (click)="setClickedRow(videoFile,'partner-videos')"
                                                                [class.active]="(videoFile.id == selectedRow && videoFile.viewBy!=='DRAFT')"
                                                                [attr.title]="draftMessage"
                                                                (mouseover)='showToolTip(videoFile.viewBy)'>
                                                                <!-- --------------Thumbnail--------------------------- -->
                                                                <td class="text-center"
                                                                    *ngIf="videoFile.viewBy!='DRAFT' && videoFile.id!==videoId">
                                                                    <input class="radio-button-css" type="radio"
                                                                    name="videoFileId" [value]="videoFile.id"
                                                                    (click)="setClickedRow(videoFile,'partner-videos')"
                                                                    id="campaign_video_id_{{videoFile.id}}"
                                                                    [checked]="videoFile.id == selectedRow"> <input
                                                                    *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId"
                                                                    class="radio-button-css" type="radio"
                                                                    name="videoFileId" [value]="videoFile.id"
                                                                    disabled="disabled"
                                                                    title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                    <app-video-thumbnail [videoFile]="videoFile"
                                                                        (notifyParent)="showPreview($event)">
                                                                    </app-video-thumbnail>

                                                                </td>
                                                                <td class="text-center"
                                                                    *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId">
                                                                    <input type="radio" name="videoFileId"
                                                                    [value]="videoFile.id" disabled="disabled"
                                                                    title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                    <app-video-thumbnail
                                                                        [ngClass]="{'not-active':videoFile.viewBy=='DRAFT'}"
                                                                        [videoFile]="videoFile"
                                                                        (notifyParent)="showPreview($event)">
                                                                    </app-video-thumbnail>
                                                                </td>
                                                                <!-- --------------Category--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    {{videoFile.categoryName}}</td>
                                                                <!-- --------------Published To--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    <!-- <span class="view-by-banner">{{videoFile.viewBy}}</span> -->
                                                                    <app-timestamp [isOnlyDate]="true"
                                                                        [dateAndTime]="videoFile.uploadedDate">
                                                                    </app-timestamp>
                                                                </td>
                                                                <!-- --------------Status--------------------------- -->
                                                                <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                    <img src="assets/images/draft.png"
                                                                    *ngIf="videoFile.viewBy=='DRAFT'"> <img
                                                                    src="assets/images/success.png"
                                                                    *ngIf="videoFile.viewBy!='DRAFT'">
                                                                </td>
                                                            </tr>
                                                            </ng-container> </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div style="text-align: left;"
                                                    [hidden]="isPartnerVideoExists && campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError && campaign.createdFromVideos">
                                                    <app-pagination
                                                        [hidden]="campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError"
                                                        [pagination]="channelVideosPagination"
                                                        [type]="'partner-videos'"
                                                        (notifyParent)="setPagePagination($event)"
                                                        (notifyParentDropDown)="loadPartnerVideos($event)">
                                                    </app-pagination>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" style="float: left;"
                                class="btn btn-default m10"
                                (click)="resetActive($event, 40, 'step-2');" translate>Previous</button>
                            <button type="button" style="float: right;"
                                class="btn btn-default btn green m10"
                                (click)="resetActive($event, 40, 'step-4');"
                                [disabled]="!isVideo" title="Please Select Video" translate>Next</button>
                        </div>
                    </div>
                </div>
                <!-- End Of 197(Video Tab) -->
                <!-- -------------------------------------Contact List Tab--------------------------------------------------------- -->
                <div class="row setup-content hiddenStepInfo" id="step-4">
                    <div [ngClass]="campaign?.oneClickLaunch?'col-xs-12':'col-xs-12 portlet light'">
                        <div class="mt10">
                            <!---Partners/Contacts List For Through/To Campaign-->
                            <div id="user_list_table_view" *ngIf="!campaign?.oneClickLaunch">
                                <app-loader [model]="campaignContact.httpRequestLoader.isHorizontalCss" *ngIf="campaignContact.httpRequestLoader.isLoading"></app-loader>
                                <app-error-pages *ngIf="campaignContact.httpRequestLoader.isServerError">
                                </app-error-pages>
                                <div [hidden]="campaignContact.httpRequestLoader.isLoading || campaignContact.httpRequestLoader.isServerError">
                                    <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer">
                                        <div class="note-vid pull-left" style="padding-bottom: 4px;">
                                            <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                                <ng-container *ngIf="contactListTabName=='Partners'">
                                                    Select List of {{authenticationService?.partnerModule?.customName}} to be used in this campaign
                                                </ng-container>
                                                <ng-container *ngIf="contactListTabName!='Partners'">
                                                    Select {{authenticationService?.partnerModule?.customName}} / Recipients to be used in this campaign
                                                </ng-container>
                                            </ng-container>
                                            <ng-container *ngIf="authenticationService?.module?.isMarketingCompany">
                                                Select Recipients to be used in this campaign
                                            </ng-container>
                                        </div>
                                        <div class="inputs search-align" style="float: right;">
                                            <div style="float: left;">
                                                 <select class="form-control cc mTopSort" [(ngModel)]="recipientsSortOption.selectedCampaignRecipientsDropDownOption"
                                                    (ngModelChange)="sortRecipientsList($event)">                                                    
                                                    <option  *ngFor="let option of recipientsSortOption.campaignRecipientsDropDownOptions"
                                                        [ngValue]="option">{{option.name}}</option>
                                                </select> 
                                            </div>
                                            <div class="portlet-input input-inline mAlign pr" style="position: relative;top: -6px;">
                                                <div class="input-icon right">
                                                    <input type="text" [(ngModel)]="recipientsSortOption.searchKey" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search for a list" (keypress)="eventHandler($event.keyCode, 'contact')">
                                                    <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:5px;" *ngIf="recipientsSortOption.searchKey" (click)="recipientsSortOption.searchKey='';searchContactList()"></button>
                                                    <button type="submit" class="search-box-item-click" style="padding:4px !important;right: 0px !important;" (click)="searchContactList()">
                                                        <i class="fa fa-search" style="font-size: 16px !important;padding:5px !important;" aria-hidden="true"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-lg-12 row-fluid p0">
                                                <div class="alert alert-success text-center" *ngIf="selectedContactListIds?.length>0">
                                                    Selected Rows : {{selectedContactListIds?.length}}
                                                </div>
                                            <table class="table table-filter" *ngIf="contactsPagination.totalRecords==0" aria-describedby="contactandpartnerstable">
                                                <tr>
                                                    <th colspan="5" scope="row">
                                                        <div class="alert alert-info text-center">
                                                            <strong>{{emptyContactListMessage}}</strong>
                                                        </div>
                                                    </th>
                                                </tr>
                                            </table>
                                            <div class="table-responsive pt">
                                                <table class="table tgrid table-hover table-sm" id="user_list_tb" role="grid" aria-describedby="user_list_tb_info" *ngIf="contactsPagination.totalRecords > 0">
                                                    <thead>
                                                        <tr>
                                                            <th scope="row" class="text-center">
                                                                <input type="checkbox" name="all" [(ngModel)]="isHeaderCheckBoxChecked" (change)="checkAll($event)" id="checkAllExistingContacts" />
                                                            </th>
                                                            <th class="hidden-xs" *ngIf="showExpandButton" scope="col"></th>
                                                            <th class="hidden-xs" scope="row" colspan="2" style="width: 35%">
                                                                <span class="ui-column-resizer" (mousedown)="refService.onMouseDown($event,'user_list_tb',2)"></span>
                                                                <span class="gridHeader" translate>List Name</span>
                                                            </th>
                                                            <th class="visible-xs" scope="row" colspan="1" style="width: 35%" translate>
                                                                List Info
                                                            </th>
                                                            <th scope="row" style="text-align: center;" *ngIf="showContactType" translate>Type
                                                            </th>
                                                            <th scope="row" style="text-align: center;" translate>Created On</th>
                                                            <th scope="row" style="text-align: center;" translate>Count</th>
                                                            <th scope="row" style="text-align: center;" translate>Preview </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="pointer">   
                                                        <ng-container *ngFor="let contacts of contactsPagination.pagedItems;let i = index">
                                                            <tr role="row" id="campaignContactListTable_{{contacts.id}}" (click)="highlightContactRow(contacts,$event,contacts.count,contacts.emailValidationInd)" [class.contact-list-selected]="(selectedContactListIds.indexOf(contacts.id)>-1 && contacts.count>0)"
                                                                (mouseover)='showContactsAlert(contacts.count)' [attr.title]="emptyContactsMessage">
                                                                <td class="text-center">
                                                                    <div class="form-group">
                                                                        <input type="checkbox" class="chk" lang="{{contacts.name}}" id="{{contacts.id}}" [checked]="selectedContactListIds.indexOf(contacts.id)>-1" 
                                                                        name="campaignContact[]" value="{{contacts.id}}" (click)="highlightRow(contacts,$event)"
                                                                         [disabled]="(contacts.name==properties.activeMasterPartnerList  || contacts.name==properties.inActiveMasterPartnerList) && contacts.count==0">
                                                                    </div>
                                                                </td>
                                                                <td class="cw" *ngIf="showExpandButton">
                                                                    <div class="actions-block left-float">
                                                                      <a (click)="$event.stopPropagation();viewMatchedContacts(contacts)" title="Matched Results">
                                                                        <i class="fa" [ngClass]="{'fa-angle-right': !contacts.expand, 'fa-angle-down': contacts.expand}"
                                                                          aria-hidden="true" style=" padding-top: 0px;"></i>
                                                                      </a>
                                                                    </div>
                                                                </td>
                                                                <td style="width: 10%;text-align: left;" class="hidden-xs">
                                                                    <img  *ngIf="contacts?.socialNetwork=='ZOHO'" src="{{properties?.zohoImage}}" alt="Zoho" class="img-class-list">
                                                                    <img *ngIf="contacts?.socialNetwork=='GOOGLE'" src="{{properties?.googleImage}}" alt="Google" class="img-class-list">
                                                                    <img *ngIf="contacts?.socialNetwork=='SALESFORCE'" src="{{properties?.salesforceImage}}" alt="Salesforce" class="img-class-list"> 
                                                                    <img *ngIf="contacts?.socialNetwork=='MANUAL'" src="{{properties?.manualImage}}" alt="Manual" class="img-class-list list-icons-sm">
                                                                    <img *ngIf="contacts?.socialNetwork=='HUBSPOT'" src="{{properties?.hubspotImage}}" alt="Hubspot" class="img-class-list">
                                                                    <img *ngIf="contacts?.socialNetwork=='MARKETO'" src="{{properties?.marketoImage}}" alt="Marketo" class="img-class-list">
                                                                    <img *ngIf="contacts?.socialNetwork=='MICROSOFT'" src="{{properties?.microsoftImage}}" alt="Microsoft" class="img-class-list">
                                                                    <img *ngIf="contacts?.socialNetwork=='PIPEDRIVE'" src="{{properties?.pipedriveImage}}" alt="Pipedrive" class="img-class-list">

                                                                  </td>
                                                                  <td style="text-align: left;">
                                                                    <h4 class="moreipsis mt5 mb5 f-w-600" title="{{contacts?.name}}">
                                                                        <span><strong>{{contacts?.name}}</strong></span>
                                                                    </h4>
                                                                    <h6 class="moreipsis" title="{{contacts?.createdName}}">
                                                                        <span translate> Created By <strong>{{contacts?.creatorName}}</strong></span>
                                                                    </h6>
                                                                    <ng-container *ngIf="!contacts?.partnerList">
                                                                        <div style="display: inline-flex;">
                                                                            <h6 class="view-banner" translate>
                                                                                <span *ngIf="contacts?.publicList" data-toggle="tooltip" data-placement="top"
                                                                                    title="{{actionsDescription?.contact_list_public}}" translate>Public
                                                                                </span>
                                                                                <span *ngIf="!contacts?.publicList" data-toggle="tooltip" data-placement="top"
                                                                                    title="{{actionsDescription?.contact_list_private}}" translate>Private
                                                                                </span>
                                                                            </h6> 
                                                                            <h6 *ngIf="contacts?.formList" class="view-banner view-banner-green" translate>
                                                                                <span data-toggle="tooltip" data-placement="top"
                                                                                    title="This list is associated with a form." translate>Form Contact List
                                                                                </span>
                                                                            </h6>                                                                           
                                                                        </div>                                                                        
                                                                    </ng-container>
                                                                </td>
                                                                <td class="text-center" *ngIf="showContactType">
                                                                    <ng-container *ngIf="contacts?.listType=='Partners'">
                                                                        {{authenticationService?.partnerModule?.customName}}
                                                                    </ng-container>    
                                                                    <ng-container *ngIf="contacts?.listType!='Partners'">
                                                                        {{contacts?.listType}}
                                                                    </ng-container>                                                                                                                                       
                                                                </td>
                                                                <td class="text-center sorting_1">
                                                                    <app-timestamp  [dateAndTime]="contacts?.displayTime">
                                                                    </app-timestamp>
                                                                </td>
                                                                <td class="text-center">
                                                                    {{contacts?.count}}
                                                                </td>
                                                                <td class="text-center">
                                                                    <a (click)="$event.stopPropagation();previewUsers(contacts)">
                                                                        <i class="fa fa-eye" aria-hidden="true"style="color: #008fd5;padding-top: 3px; font-size: 20px;" title="" data-original-title="Preview"></i>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                            <tr role="row" *ngIf="contacts?.expand">
                                                                <td colspan="12">
                                                                  <app-userlist-users [searchKey]="contactsPagination.searchKey" [userListId]="contacts.id"></app-userlist-users>
                                                                </td>
                                                            </tr>
                                                        </ng-container>                                                     
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="text-align:left" [hidden]="contactsPagination.totalRecords ==0  || campaignContact.httpRequestLoader.isLoading || campaignContact.httpRequestLoader.isServerError">
                                    <app-pagination [pagination]="contactsPagination" [type]="'contacts'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadCampaignContacts($event)">
                                    </app-pagination>
                                </div>
                            </div>

                            <!--Partner Companies & Unshared Share Lists-->
                            <div class="row pb10 portlet light" id="one-click-launch-list-selection" *ngIf="campaign.oneClickLaunch">
                                <div class="alert alert-danger" *ngIf="invalidShareLeadsSelection">
                                    <strong>{{invalidShareLeadsSelectionErrorMessage}}</strong>
                                </div>
                                <app-select-partners-and-share-leads [campaignId]="campaign.campaignId" [selectedShareLeadsListIds]="selectedContactListIds" [selectedPartnershipId]="selectedPartnershipId" (selectPartnersAndShareLeadsEmitter)="getSelectedPartnerCompanyIdAndShareLeads($event)"></app-select-partners-and-share-leads>
                                <ng-template *ngIf="campaign?.oneClickLaunch" [ngTemplateOutlet]="previousButton"></ng-template>
                             </div> 
                             <ng-template *ngIf="!campaign?.oneClickLaunch" [ngTemplateOutlet]="previousButton"></ng-template>
                             <ng-template #previousButton>
                             <div class="page-bar" style="padding-left: 26px;padding-top: 6px;border: none !important;box-shadow: none !important; padding-right: 23px;"> 
                            <button *ngIf="campaignType=='video'" type="button"  class="btn btn-default margin-left-negative-fifteen-px" (click)="resetActive($event, 40, 'step-3');" translate>Previous</button>
                            <button *ngIf="campaignType!='video'" type="button"  class="btn btn-default margin-left-negative-fifteen-px" (click)="resetActive($event, 40, 'step-2')" translate>Previous</button>
                            <button type="submit"  class="btn btn-default btn green float-right mrm-15" (click)="resetActive($event, 40, 'step-5');" [disabled]="!isContactList" title="Please Select Contact List" translate>Next</button>
                        </div>
                    </ng-template>
                        </div>
                    </div>
                </div>
                <!-- -------------------------------------Email Template Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-5" *ngIf="campaignType!='landingPage'">
                    <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <div class="text-center">
                        <div class="col-xs-12 portlet light">
                            <div class="input-icon right pull-right cebp" style="padding-right: 8px;">
                                <input type="text" [(ngModel)]="emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search here" (keypress)="eventHandler($event.keyCode, 'emailTemplate')">
                                <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px 10px 0px 0px;" *ngIf="emailTemplateSearchInput" (click)="emailTemplateSearchInput='';searchEmailTemplate()"></button>
                                <button type="submit" class="search-box-item-click email-search" (click)="searchEmailTemplate()" style="right: 9px !important;">
                                    <i class="fa fa-search cesf-xamp" aria-hidden="true"></i></button>
                            </div>
                            <button type="submit" class="campaign-email-template-filter-icon" (click)="showFolderFilterPopup()">
                                <i class="fa fa-filter cesf-xamp requried" *ngIf="selectedFolderIds?.length>0" aria-hidden="true"></i>
                                <i class="fa fa-filter cesf-xamp" *ngIf="selectedFolderIds?.length==0" aria-hidden="true"></i>
                            </button>
                            <h4 class="pull-left f-w-600 note-vid" style="padding-left: 21px;padding-top: 3px;">Select<span *ngIf="isPreviewEvent">ed</span> an Email Template</h4>
                            <div class="portlet-body">
                                <div class="row">
                                    <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-label="">
                                        <div class="col-xs-12">
                                            <app-loader *ngIf="campaignEmailTemplate.httpRequestLoader.isLoading">
                                            </app-loader>
                                            <app-error-pages *ngIf="campaignEmailTemplate.httpRequestLoader.isServerError">
                                            </app-error-pages>
                                            <ng-container *ngIf=" emailTemplatesPagination.totalRecords > 0 && !campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
                                                <div class="row pb10" id="user_list_table_view">
                                                    <div class="portlet-body">
                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                            <div class="mix-grid th-1">
                                                                <ng-container *ngIf="showSelectedEmailTemplate">
                                                                    <!-- !hideCoBrandedEmailTemplate   edit email template-->
                                                                    <div *ngIf="!isAdd && isCampaignDraftEmailTemplate && emailTemplatesPagination.totalRecords>0 && emailTemplatesPagination.pageIndex==1 ">
                                                                      
                                                                <ul class="content__list" >
                                                                    <li>
                                                                        <div class="flex-row mHeight" >
                                                                            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                        <div  class="row">
                                                                                            <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                    <div class="grid-box imgage-paddings"  [ngClass]="emailTemplate.id === selectedEmailTemplateRow ? 'template-selected-border' :'' "    (click)="setEmailTemplate(emailTemplate)">
                                                                                                        <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                            <label>
                                                                                                                <input 
                                                                                                                type="radio" class="radio-custimization" [checked]="emailTemplate.id === selectedEmailTemplateRow"  >
                                                                                                            </label>
                                                                                                    </span>                                                    
                                                                                                        <img 
                                                                                                            class="img-grid-track"
                                                                                                            src="{{campaign.emailTemplate.subject}}" alt="" >
                                                                                                            
                                                                                                            <span class="icon-alignments"> 
                                                                                                                <a data-toggle="tooltip" data-placement="top" title="" (click)="$event.stopPropagation();getTemplateById(emailTemplate)" data-original-title="Preview">
                                                                                                                <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                            </span>
                                                                                                
                                                                                                    <!-- hover Content --> 
                                                                                                        <div  class="bar hover-bar" >
                                                                                                        <a  data-placement="top"  class="border-none-dark">
                                                                                                            <div class="row">
                                                                                                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                    <div class="content-hover-align fontsize-cls">
                                                                                                                        <span class="item__name cardDetails-mar"  [title]="emailTemplate.name">
                                                                                                                            <strong>{{emailTemplate.name |slice:0:13}}</strong>
                                                                                                                            <strong *ngIf="emailTemplate?.name?.length>13">..</strong>
                                                                                                                        </span>
                                                                                                                        <br>
                                                                                                                        <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                            <span>
                                                                                                                                <app-timestamp
                                                                                                                                    [isOnlyDate]="true"
                                                                                                                                    [dateAndTime]="emailTemplate.createdDate">
                                                                                                                                </app-timestamp>
                                                                                                                            </span>
                                                                                                                        </span>
                                                                                                                        <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                            <p class="cardDetails-mar" title="{{emailTemplate.createdBy}}">
                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                <span>{{emailTemplate.createdBy|slice:0:11}}
                                                                                                                                    <span
                                                                                                                                        *ngIf="emailTemplate.createdBy?.length>11">..</span>
                                                                                                                                </span>
                                                                                                                            </p>
                                                                                                                        </ng-container>
                                                                                                                        <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                            <span class="cardDetails-mar" title="{{emailTemplate.vendorName}}">
                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                <span>{{emailTemplate.vendorName|slice:0:11}}<span
                                                                                                                                        *ngIf="emailTemplate.vendorName?.length>11">..</span>
                                                                                                                                </span>
                                                                                                                            </span>
                                                                                                                        </ng-container> 
                                                                                                                        <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{emailTemplate.category}}">
                                                                                                                            <strong translate>Folder:</strong>
                                                                                                                            <span >{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                            <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                        </span> 
                                                                                                                    </div> 
                                                                                                                    <span class="label-color-custmization" (click)="$event.stopPropagation();editTemplate(emailTemplate)" >Edit</span>
                                                                                                                </div>       
                                                                                                                    <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                            </div>
                                                                                                            </a>
                                                                                                        </div>
                                                                                                    </div>
                                                                                            </div>
                                                                                        </div>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                                    </div>
                                                                </ng-container>

                                                              <!-- new email template  design -->
                                                                <ul class="content__list" *ngFor="let emailTemplate of emailTemplatesPagination.pagedItems ;let i =index">
                                                                    <li *ngIf="emailTemplateId!=emailTemplate.id">
                                                                        <div class="flex-row mHeight" >
                                                                            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                        <div  class="row">
                                                                                            <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                    <div class="grid-box imgage-paddings"  [ngClass]="emailTemplate.id === selectedEmailTemplateRow ? 'template-selected-border' :'' "    (click)="setEmailTemplate(emailTemplate)">
                                                                                            
                                                                                                        <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                            <label>
                                                                                                                <input 
                                                                                                                type="radio" class="radio-custimization" [checked]="emailTemplate.id === selectedEmailTemplateRow"  >
                                                                                                            </label>
                                                                                                    </span>
                                                                                                
                                                                                                        <img 
                                                                                                            class="img-grid-track "
                                                                                                            src="{{emailTemplate.subject}}" alt="" >
                                                                                                            
                                                                                                            <span class="icon-alignments"> 
                                                                                                                <a data-toggle="tooltip" data-placement="top" title="" (click)="$event.stopPropagation();getTemplateById(emailTemplate)" data-original-title="Preview">
                                                                                                                <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                            </span>
                                                                                                
                                                                                                    <!-- hover Content --> 
                                                                                                        <div  class="bar hover-bar" >
                                                                                                        <a  data-placement="top"  class="border-none-dark">
                                                                                                            <div class="row">
                                                                                                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                    <div class="content-hover-align fontsize-cls">
                                                                                                                        <span class="item__name cardDetails-mar"  [title]="emailTemplate.name">
                                                                                                                            <strong>{{emailTemplate.name |slice:0:13}}</strong>
                                                                                                                            <strong *ngIf="emailTemplate?.name?.length>13">..</strong>
                                                                                                                        </span>
                                                                                                                        <br>
                                                                                                                        <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                            <span>
                                                                                                                                <app-timestamp
                                                                                                                                    [isOnlyDate]="true"
                                                                                                                                    [dateAndTime]="emailTemplate.createdDate">
                                                                                                                                </app-timestamp>
                                                                                                                            </span>
                                                                                                                        </span>
                                                                                                                        <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                            <p class="cardDetails-mar" title="{{emailTemplate.createdBy}}">
                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                <span>{{emailTemplate.createdBy|slice:0:11}}
                                                                                                                                    <span
                                                                                                                                        *ngIf="emailTemplate.createdBy?.length>11">..</span>
                                                                                                                                </span>
                                                                                                                            </p>
                                                                                                                        </ng-container>
                                                                                                                        <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                            <span class="cardDetails-mar" title="{{emailTemplate.vendorName}}">
                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                <span>{{emailTemplate.vendorName|slice:0:11}}<span
                                                                                                                                        *ngIf="emailTemplate.vendorName?.length>11">..</span>
                                                                                                                                </span>
                                                                                                                            </span>
                                                                                                                        </ng-container> 
                                                                                                                        <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{emailTemplate.category}}">
                                                                                                                            <strong translate>Folder:</strong>
                                                                                                                            <span >{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                            <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                        </span> 
                                                                                                                    </div> 
                                                                                                                    <span class="label-color-custmization" (click)="$event.stopPropagation();editTemplate(emailTemplate)" >Edit</span>
                                                                                                                </div>       
                                                                                                                    <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                            </div>
                                                                                                            </a>
                                                                                                        </div>
                                                                                                    </div>
                                                                                            </div>
                                                                                        </div>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <div *ngIf="emailTemplatesPagination.totalRecords==0 && campaign.enableCoBrandingLogo && !campaignEmailTemplate.httpRequestLoader.isLoading" class="alert alert-info">
                                                <strong translate>No co-branded templates found</strong>
                                            </div>
                                            <div *ngIf="emailTemplatesPagination.totalRecords==0 && !campaign.enableCoBrandingLogo && !campaignEmailTemplate.httpRequestLoader.isLoading" class="alert alert-info" style="margin-top: 10px;">
                                                <strong translate>No templates found</strong>
                                            </div>
                                            <div style="text-align:left;margin-right: 14px;margin-left: 18px;" [hidden]="emailTemplatesPagination.totalRecords<0 || campaignEmailTemplate.httpRequestLoader.isLoading || campaignEmailTemplate.httpRequestLoader.isServerError">
                                                <app-pagination [pagination]="emailTemplatesPagination" [type]="'emailTemplates'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadPaginationDropdownTemplates($event)">
                                                </app-pagination>
                                            </div>
                                            <div style="padding-top: 10px;padding-left: 13px;padding-right: 13px;">
                                            <button type="button" class="btn btn-default pull-left" (click)="resetActive($event, 40, 'step-4')" translate>Previous</button>
                                            <button type="submit" class=" btn green pull-right" (click)="resetActive($event, 40, 'step-6');addUserEmailIds();" [disabled]="!isEmailTemplate" title="Please Select Email Template" translate>Next</button>
                                        </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of step 5 -->
                <!-- -------------------------------------Landing Page Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-5" *ngIf="campaignType=='landingPage'">
                    <div class="col-xs-12 text-center" style="margin-top: 10px;">
                        <div class="portlet light row" style="border: none;">
                            <div class="input-icon right pull-right cebp" style=" right: 70px;">
                                <input type="text" [(ngModel)]="landingPageSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search here" (keypress)="eventHandler($event.keyCode, 'landingPages')">
                                <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="landingPageSearchInput" (click)="landingPageSearchInput='';searchLandingPage()"></button>
                                <button type="submit" class="search-box-item-click email-search" (click)="searchLandingPage()">
                                    <i class="fa fa-search"  style="font-size: 16px !important;padding:5px !important;" aria-hidden="true"></i></button>
                            </div>
                            <button type="submit" class="campaign-email-template-filter-icon" (click)="showFolderFilterPopup()">
                                <i class="fa fa-filter cesf-xamp requried" *ngIf="selectedFolderIds?.length>0" aria-hidden="true"></i>
                                <i class="fa fa-filter cesf-xamp" *ngIf="selectedFolderIds?.length==0" aria-hidden="true"></i>
                            </button>
                            <div class="portlet-body">
                                <div class="row">
                                    <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-label="">
                                        <div class="col-xs-12">
                                            <app-loader *ngIf="landingPageLoader.isLoading"></app-loader>
                                            <app-error-pages *ngIf="landingPageLoader.isServerError"></app-error-pages>
                                            <ng-container *ngIf=" landingPagePagination.totalRecords > 0 && !landingPageLoader.isLoading && !landingPageLoader.isServerError">
                                                <div class="row pb10" id="user_list_table_view">
                                                    <div class="portlet-body">
                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                            <div class="mix-grid">
                                                                <ng-container *ngIf="showLandingPage">
                                                                    <div *ngIf="!isAdd && landingPageId>0 && landingPagePagination.totalRecords>0 && landingPagePagination.pageIndex==1 ">
                                                                        <!-- edit page code -->
                                                                        <ul class="content__list">
                                                                            <li>
                                                                                <div class="flex-row mHeight">
                                                                                    <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                        <div  class="row">
                                                                                            <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                <div class="grid-box imgage-paddings"  
                                                                                                    [ngClass]="landingPageId === selectedLandingPageRow ? 'template-selected-border' :''"  
                                                                                                    (click)="setLandingPage(campaign.landingPage)"   >                
                                                                                                        <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                            <label>
                                                                                                                <input 
                                                                                                                type="radio" class="radio-custimization" 
                                                                                                                [checked]="landingPageId === selectedLandingPageRow"  >
                                                                                                            </label>
                                                                                                    </span>
                                                                                                
                                                                                                        <img 
                                                                                                            class="img-grid-track "
                                                                                                            src="{{campaign.landingPage.thumbnailPath}}" alt="" >
                                                                                                            
                                                                                                            <span class="icon-alignments"> 
                                                                                                                <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                                 (click)="$event.stopPropagation();showLandingPagePreview(landingPage)" data-original-title="Preview">
                                                                                                                <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                            </span>
                                                                                                
                                                                                                    <!--edit page  hover Content --> 
                                                                                                        <div  class="bar hover-bar" >
                                                                                                            <a  data-placement="top"  class="border-none-dark">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                        <div class="content-hover-align fontsize-cls">
                                                                                                                            <span class="item__name cardDetails-mar"  [title]="campaign.landingPage.name">
                                                                                                                                <strong>{{campaign.landingPage.name |slice:0:15}}</strong>
                                                                                                                                <strong *ngIf="campaign.landingPage?.name?.length>13">..</strong>
                                                                                                                            </span>
                                                                                                                            <br>
                                                                                                                            <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                                <span>
                                                                                                                                    <app-timestamp
                                                                                                                                        [isOnlyDate]="true"
                                                                                                                                        [dateAndTime]="campaign?.landingPage?.createdDateInString">
                                                                                                                                    </app-timestamp>
                                                                                                                                </span>
                                                                                                                            </span>
                                                                                                                             <span class="campaign-email-template-category cardDetails-mar"            
                                                                                                                              title="{{campaign?.landingPage?.createdUser}}">
                                                                                                                               <strong translate>By:</strong>
                                                                                                                                <span>{{campaign.landingPage?.createdUser|slice:0:13}}
                                                                                                                                </span>
                                                                                                                             </span>
                                                                                                                       
                                                                                                                            
                                                                                                                            <span *ngIf="campaign.landingPage?.categoryName?.length>0"  class="campaign-email-template-category cardDetails-mar" title="{{campaign.landingPage?.categoryName}}">
                                                                                                                                <strong translate>Folder:</strong>
                                                                                                                                <span >{{campaign.landingPage?.categoryName|slice:0:5}}</span>
                                                                                                                                <span *ngIf="campaign.landingPage?.categoryName?.length>5">..</span>
                                                                                                                            </span> 
                                                                                                                        </div> 
                                                                                                                        <span class="label-color-custmization" (click)="$event.stopPropagation();editLandingPage(campaign.landingPage)" >Edit</span>
                                                                                                                    </div>       
                                                                                                                        <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                                </div>
                                                                                                            </a>
                                                                                                        </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </ng-container>
                                                                <!-- page new code -->
                                                                <ul class="content__list" *ngFor="let landingPage of landingPagePagination.pagedItems  ;let i =index">
                                                                    <li *ngIf="landingPageId!=landingPage.id">
                                                                        <div class="flex-row mHeight" >
                                                                            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                <div  class="row">
                                                                                    <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                        <div class="grid-box imgage-paddings"  
                                                                                            [ngClass]="landingPage.id === selectedLandingPageRow ? 'template-selected-border' :''" 
                                                                                            (click)="setLandingPage(landingPage)" >
                                                                                    
                                                                                                <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                    <label>
                                                                                                        <input 
                                                                                                        type="radio" class="radio-custimization" 
                                                                                                        [checked]="landingPage.id === selectedLandingPageRow"  >
                                                                                                    </label>
                                                                                            </span>
                                                                                        
                                                                                                <img 
                                                                                                    class="img-grid-track "
                                                                                                    src="{{landingPage.thumbnailPath}}" alt="" >
                                                                                                    
                                                                                                    <span class="icon-alignments"> 
                                                                                                        <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                         (click)="$event.stopPropagation();showLandingPagePreview(landingPage)" data-original-title="Preview">
                                                                                                        <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                    </span>
                                                                                        
                                                                                            <!--camapaign page  hover Content --> 
                                                                                                <div  class="bar hover-bar" >
                                                                                                    <a  data-placement="top"  class="border-none-dark">
                                                                                                        <div class="row">
                                                                                                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                <div class="content-hover-align fontsize-cls">
                                                                                                                    <span class="item__name cardDetails-mar"  [title]="landingPage.name">
                                                                                                                        <strong>{{landingPage.name |slice:0:13}}</strong>
                                                                                                                        <strong *ngIf="landingPage?.name?.length>13">..</strong>
                                                                                                                    </span>
                                                                                                                    <br>
                                                                                                                    <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                        <span>
                                                                                                                            <app-timestamp
                                                                                                                                [isOnlyDate]="true"
                                                                                                                                [dateAndTime]="landingPage.createdDateInString">
                                                                                                                            </app-timestamp>
                                                                                                                        </span>
                                                                                                                    </span>
                                                                                                                    <span class="campaign-email-template-category cardDetails-mar" title="{{landingPage.createdUser}}">
                                                                                                                        <strong translate>Created By:</strong>
                                                                                                                        <span>{{landingPage.createdUser|slice:0:13}} </span>
                                                                                                                            <strong *ngIf="landingPage.createdUser?.length>13">..</strong>
                                                                                                                       
                                                                                                                        </span>
                                                                                                                    <span *ngIf="landingPage?.categoryName?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{landingPage?.categoryName}}">
                                                                                                                        <strong translate>Folder:</strong><span>{{landingPage?.categoryName|slice:0:7}}</span>
                                                                                                                        <span *ngIf="landingPage?.categoryName?.length>7">..</span>
                                                                                                                    </span>
                                                                                                               
                                                                                                                </div> 
                                                                                                                <span class="label-color-custmization" (click)="$event.stopPropagation();editLandingPage(landingPage)" >Edit</span>
                                                                                                            </div>       
                                                                                                                <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                        </div>
                                                                                                    </a>
                                                                                                </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                                
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <div *ngIf="landingPagePagination.totalRecords==0 &&!landingPageLoader.isLoading" class="alert alert-info alert-top-padding-xamplify">
                                                <strong translate>No pages found</strong>
                                            </div>
                                            <div style="text-align:left;padding-left: 14px;padding-right: 12px; " [hidden]="landingPagePagination.totalRecords<0 || landingPageLoader.isLoading || landingPageLoader.isServerError">
                                                <app-pagination [pagination]="landingPagePagination" [type]="'landingPages'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="listLandingPages($event)"></app-pagination>
                                            </div>
                                            <button type="button" class="btn btn-default pull-left" (click)="resetActive($event, 40, 'step-4')" translate>Previous</button>
                                            <button type="submit" class=" btn green pull-right" (click)="resetActive($event, 40, 'step-6');addUserEmailIds();" [disabled]="!isLandingPage" title="Please Select Page" translate>Next</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of step 5 -->

                <!-- -------------------------------------Launch Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo portlet light" id="step-6">
                    <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <div class="alert alert-danger error-div" *ngIf="invalidScheduleTime" id="invalidScheduleTimeDiv">
                        <strong>{{invalidScheduleTimeError}}</strong>
                    </div>
                    <form role="form" [formGroup]="campaignLaunchForm" (ngSubmit)="launchCampaign();" class="form-horizontal form-bordered form-label-stripped">
                        <div class="col-xs-12">
                            <fieldset>
                                <legend translate>Preview Before Publishing</legend>
                                <div class="row">
                                    <div class="portlet-body clearfix">
                                        <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                            <div class="portlet clearfix" style="padding:0px">
                                                <div class="p0">
                                                    <div id="main_video_src" [hidden]="campaignType!='video'"></div>
                                                    <div class="pricing hover-effect" [hidden]="campaignType=='video'">
                                                        <div class="pricing-head">
                                                            <h4 title="{{campaign.campaignName}}">Campaign name: {{campaign.campaignName | slice:0:30}}<span *ngIf="campaign.campaignName?.length>30">..</span>
                                                            </h4>
                                                            <h4>
                                                                <ng-container *ngIf="campaignType=='regular'">
                                                                    <img style="margin: 0 auto;height: 106px;" alt="E-mail Campaign" class="pricing-head-img img-responsive" src="assets/images/regular-email.png">
                                                                </ng-container>
                                                                <ng-container *ngIf="campaignType=='landingPage'">
                                                                    <img style="margin: 0 auto;height: 106px;" alt="Page Campaign" class="pricing-head-img img-responsive" src="assets/images/landing-page.png">
                                                                </ng-container>
                                                                <ng-container *ngIf="campaignType=='survey'">
                                                                    <img style="margin: 0 auto;height: 106px;" alt="E-mail Campaign" class="pricing-head-img img-responsive" src="assets/images/survey.png">
                                                                </ng-container>
                                                            </h4>
                                                        </div>
                                                    </div>
                                                    <h5 id="description"></h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div [attr.class]="lauchTabPreivewDivClass">
                                            <app-dashboard-loader *ngIf="emailReceiversCountLoader"></app-dashboard-loader>
                                            <div class="portlet border-0" *ngIf="!emailReceiversCountLoader">
                                                <div class="table-responsive">
                                                    <table width="100%">
                                                        <tr>
                                                            <td style="width: 25%;">
                                                                <div class="icon-border">
                                                                    <img  class="fullicons" alt="" src="assets/images/campaignnew-icon/Partner.svg">
                                                                    <!-- <i class="fa fa-users fa-2x icon-position" aria-hidden="true"></i> -->
                                                                </div>
                                                                <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                                                    <ng-container *ngIf="contactListTabName=='Partners'">
                                                                        {{authenticationService?.partnerModule?.customName | translate}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="contactListTabName!='Partners'">
                                                                        {{authenticationService?.partnerModule?.customName}} & Recipients
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="authenticationService?.module?.isMarketingCompany">
                                                                    Recipients
                                                                </ng-container>
                                                            </td>
                                                            <td style="width: 55%;">
                                                                <ng-container *ngFor="let contactListName of selectedContactListNames;let i=index;">
                                                                    <div>
                                                                        <a *ngIf="i<2" title="{{contactListName}}">
                                                                            <span *ngIf="contactListName">
                                                                                {{contactListName | slice:0:40}}<span
                                                                                    *ngIf="contactListName?.length>40">..</span>
                                                                            </span>
                                                                        </a>
                                                                    </div>
                                                                </ng-container>
                                                                <a>
                                                                    <span *ngIf="selectedContactListIds?.length>2"
                                                                        (click)="resetActive($event, 40, 'step-4')">..</span>
                                                                     <span *ngIf="selectedContactListIds?.length == 0" translate>0 lists </span>
                                                                </a>
                                                                <br>
                                                                <ng-container *ngIf="emailReceiversCountError">
                                                                    <span id="red-font" translate>Something went wrong.Please contact admin</span>
                                                                </ng-container>
                                                                <ng-container *ngIf="!emailReceiversCountError && !campaign?.oneClickLaunch">
                                                                    <span *ngIf="campaign.emailNotification" id="blue-font">This email will be sent to {{validUsersCount}}({{allUsersCount}}) users.</span>
                                                                    <span *ngIf="!campaign.emailNotification" id="red-font" translate>No email will be sent.</span>
                                                                </ng-container>
                                                            </td>
                                                            <td style="text-align: right" width="20%">
                                                                <a class="btn btn-primary btn-sm btn btn-primary" (click)="resetActive($event, 40, 'step-4')" translate>Change</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                            <div class="portlet border-0" id="email-template-preview-div">
                                                <div class="table-responsive">
                                                    <table width="100%">
                                                        <tr>
                                                            <td width="25%">
                                                                <div class="icon-border">
                                                                    <i *ngIf="campaignType == 'video' || campaignType == 'regular' || campaignType == 'survey'" >
                                                                        <img  class="fullicons" alt="" src="assets/images/campaignnew-icon/emailtemplate.svg">
                                                                    </i>
                                                                    <i *ngIf="campaignType == 'landingPage'" class="fa fa-wpforms fa-2x icon-position" aria-hidden="true"></i>
                                                                </div>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'video'" translate>Email Template
                                                                </ng-container>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'regular' || campaignType == 'survey'" translate>Email Template
                                                                </ng-container>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'landingPage'" translate>Page
                                                                </ng-container>
                                                            </td>
                                                            <td width="55%">
                                                                <ng-container *ngIf="campaignType == 'video' || campaignType == 'regular' || campaignType == 'survey'">
                                                                    <a (click)="getTemplateById(emailTemplate)" title="{{emailTemplate.name}}">
                                                                        <ng-container
                                                                            *ngIf="emailTemplate.name?.length>50">
                                                                            {{emailTemplate.name | slice:0:50}}..
                                                                        </ng-container>
                                                                        <ng-container
                                                                            *ngIf="emailTemplate.name?.length<=50">
                                                                            {{emailTemplate.name}}
                                                                        </ng-container>
                                                                    </a>
                                                                </ng-container>
                                                                <ng-container *ngIf="campaignType == 'landingPage'">
                                                                    <a (click)="showLandingPagePreview(landingPage)" title="{{landingPage?.name}}">
                                                                        <ng-container
                                                                            *ngIf="landingPage?.name?.length>50">
                                                                            {{landingPage?.name | slice:0:50}}..
                                                                        </ng-container>
                                                                        <ng-container
                                                                            *ngIf="landingPage?.name?.length<=50">
                                                                            {{landingPage.name}}
                                                                        </ng-container>
                                                                    </a>
                                                                </ng-container>
                                                            </td>
                                                            <td style="text-align: right" width="20%">
                                                                <a class="btn btn-primary btn-sm" (click)="resetActive($event, 40, 'step-5')" translate>Change</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <!-- --Adding Work Flow------------- -->
                        <div class="col-xs-12" *ngIf="'landingPage'!=campaignType">
                            <div>
                                <div class="row" style="margin-bottom: 5px;margin-top: -9px;">
                                    <div class="col-xs-6">
                                        <a *ngIf="emailTemplateHrefLinks?.length==0" class="dashboard-stat yellow-gold blur" style="background-color: #f76c1a;padding: 9px 0;" translate>
                                            <i class="fa fa-ban p0" aria-hidden="true"></i> No website links found
                                        </a>
                                        <a *ngIf="emailTemplateHrefLinks?.length>0" class="dashboard-stat yellow-gold" style="background-color: #f76c1a;padding: 9px 0;" (click)="addClickRows()">
                                            <i class="fa fa-plus-square p0" style="margin: 0 5px;" aria-hidden="true"></i> {{properties.ADD_AUTO_RESPONSE_WEBSITE}}
                                        </a>
                                    </div>

                                    <div class="col-xs-6">
                                        <a class="dashboard-stat yellow-gold" style="background-color: #f4555c;padding: 9px 0;" (click)="addReplyRows()">
                                            <i class="fa fa-plus-square p0" style="margin: 0 5px;" aria-hidden="true"></i> {{properties.ADD_AUTO_RESPONSE_EMAIL}}
                                        </a>
                                    </div>
                                    <!-- -------------------------------------Add Reply----------------------------- -->
                                    <div class="col-xs-12" id="reply-onclick-div" style="position: relative; bottom: -7px;">
                                        <div class="alert alert-danger" *ngIf="dataError">
                                            <strong translate>Please complete the required fields</strong>
                                        </div>
                                        <!-- Content Should Come here ------------ -->
                                        <fieldset *ngIf="replies?.length>0">
                                            <legend> {{properties.ADD_AUTO_RESPONSE_EMAIL}}</legend>
                                            <div *ngFor="let reply of replies;let i=index">
                                                <div class="portlet light dashboard-stat2" id="{{reply.divId}}">
                                                    <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue ':isEven(i+1), 'colorRed':!isEven(i+1)}">
                                                        <div class="col-xs-6">
                                                            <h4 class="text-left">Add an Auto-response to your e-mail-{{i+1}}</h4>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="pull-right">
                                                                <label class="switch-choose" translate>Choose Template
                                                                    </label>
                                                                <switch class="switch-choose" [status]="reply.defaultTemplate" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="selectReplyEmailBody($event,i,reply)">
                                                                </switch>
                                                                <button type="button" class="btn btn-danger button-blue" (click)="remove(reply.divId,'replies')">
                                                                    <span class="glyphicon glyphicon-trash"></span>
                                                                </button>
                                                                <button type="button" class="btn btn-primary button-blue" (click)="addReplyRows()">
                                                                    <span class="glyphicon glyphicon-plus"></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <form class="role add-reply" id="form-{{reply.divId}}">
                                                            <div class="col-xs-12 p0">
                                                                <div class="col-xs-12 p0">
                                                                    <div class="col-xs-12 col-sm-6" style="margin-bottom: 6px;">
                                                                        <label style="cursor: default;" for="reason" translate>Reason</label>
                                                                        <select class="form-control" name="actionId" [(ngModel)]="reply.actionId">
                                                                            <option [value]="0"
                                                                                [selected]="reply.actionId ==0" translate>Email is not opened
                                                                                </option>
                                                                            <option [value]="13"
                                                                                [selected]="reply.actionId==13" translate>Email is opened
                                                                                </option>
                                                                            <option [value]="16"
                                                                                [selected]="reply.actionId ==16" translate>
                                                                                Send immediately after email is opened
                                                                            </option>
                                                                            <option [value]="33"
                                                                            [selected]="reply.actionId ==33" translate>
                                                                            Send follow-up email
                                                                        </option>
                                                                            <option [value]="22"
                                                                                [selected]="reply.actionId ==22"
                                                                                *ngIf="campaign.channelCampaign && ((campaignType=='regular')||(campaignType=='survey'))" translate>
                                                                                Email is not redistributed by {{authenticationService?.partnerModule?.customName}}
                                                                                </option>
                                                                            <ng-container *ngIf="campaignType=='video'">
                                                                                <option [value]="1"
                                                                                    [selected]="reply.actionId==1" translate>
                                                                                    Video is played</option>
                                                                                <option [value]="17"
                                                                                    [selected]="reply.actionId==17" translate>
                                                                                    Send immediately after video is played
                                                                                    </option>
                                                                                <option [value]="18"
                                                                                    [selected]="reply.actionId==18" translate>
                                                                                    Video is not played</option>
                                                                                <option [value]="23"
                                                                                    [selected]="reply.actionId ==23"
                                                                                    *ngIf="campaign.channelCampaign" translate>
                                                                                    Video is not redistributed</option>
                                                                            </ng-container>
                                                                        </select>
                                                                    </div>
                                                                    <div *ngIf="reply.actionId!=16 && reply.actionId!=17 && reply.actionId!=18">
                                                                        <div class="col-xs-12 col-sm-2">
                                                                            <label class="default" for="days" *ngIf="reply.actionId==22 || reply.actionId==23 || reply.actionId==33 " id="reply-days-{{reply.divId}}" translate>
                                                                                Reply In X Days
                                                                                <strong style="color: red">*</strong>
                                                                                <span><strong translate>(Minimum 1 Day)</strong></span>
                                                                            </label>
                                                                            <label class="default" for="days" *ngIf="reply.actionId!=22 && reply.actionId!=23 && reply.actionId!=33" id="reply-days-{{reply.divId}}" translate>Reply In X Days
                                                                                <strong style="color: red">*</strong>
                                                                            </label>
                                                                            <input type="number" class="form-control" name="days" placeholder="Days" [(ngModel)]="reply.replyInDays" min="0" oninput="validity.valid||(value='');">
                                                                        </div>

                                                                        <div class="col-xs-12 col-sm-3 time-col" style="padding-left: 0;" *ngIf="reply.actionId!=22 && reply.actionId!=23 ">
                                                                            <div class="col-xs-4 col-sm-2 default">
                                                                                <span for="time" id="send-time-{{reply.divId}}" class="time-picker-css" translate>At
                                                                                    <strong style="color: red">*</strong></span>
                                                                            </div>
                                                                            <div class="col-xs-8 col-sm-10" style="height: 66px;">
                                                                                <timepicker [(ngModel)]="reply.replyTime" name="time" [hourStep]="1" [minuteStep]="1"></timepicker>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-6">
                                                                        <label class="default" for="time" id="reply-subject-{{reply.divId}}" translate>Subject
                                                                            <strong style="color: red">*</strong>
                                                                        </label>
                                                                        <div class="input-group merge-tag-input-border">
                                                                            <input type="text" class="form-control" name="subject" [(ngModel)]="reply.subject" placeholder="{merge tag} + Subject line" maxlength="1000">
                                                                            <span class="input-group-btn">
                                                                                <button class="btn btn-default" type="button" title="Insert Merge Tags" (click)="openMergeTagsPopup('campaign-reply',reply)">
                                                                                    <i class="fa fa-plus-circle npcfs" aria-hidden="true"></i>
                                                                                </button>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12">
                                                                    <div id="ck-editor-{{i}}" *ngIf="!reply.defaultTemplate">
                                                                        <div style="margin-left: 1px;">
                                                                            <label class="default" for="days" id="reply-message-{{reply.divId}}" translate>Message
                                                                                <strong class="required">*</strong>
                                                                            </label>
                                                                        </div>
                                                                        <div>
                                                                            <ckeditor [(ngModel)]="reply.body" name="body"></ckeditor>
                                                                        </div>
                                                                    </div>
                                                                   <!--Email Template Selection-->
                                                                   <div class="col-xs-12 text-center" style="margin-top: 10px;" id="reply-email-template-{{i}}" *ngIf="reply.defaultTemplate">
                                                                    <div class="form-group" style="margin-left: 1px;">
                                                                        <label for="days" id="email-template-{{reply.divId}}" translate>Select Email Template
                                                                            
                                                                            <strong class="required">*</strong>
                                                                        </label>
                                                                    </div>
                                                                    <div>
                                                                        <div class="input-icon right pull-right cebp">
                                                                            <input type="text" [(ngModel)]="reply.emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search"
                                                                             (keypress)="eventHandlerForReplyEmailTemplate($event, reply)">
                                                                             <button type="button" class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="reply.emailTemplateSearchInput" (click)="removeSearchInput(reply)"></button>
                                                                            <button type="submit" class="search-box-item-click email-search" (click)="searchReplyEmailTemplate(reply)">
                                                                                <i class="fa fa-search cesf-xamp" aria-hidden="true"></i></button>
                                                                        </div>
                                                                        <div class="portlet-body">
                                                                            <div *ngIf="reply.emailTemplatesPagination.totalRecords==0" class="col-xs-12 alert alert-info">
                                                                                <strong translate>No templates found</strong>
                                                                            </div>
                                                                            <div class="row">
                                                                                <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-labelledby="">
                                                                                    <div>
                                                                                        <app-loader *ngIf="reply.loader">
                                                                                        </app-loader>
                                                                                        <ng-container *ngIf=" reply.emailTemplatesPagination.totalRecords>0 && !reply.loader">
                                                                                            <div class="row pb10" id="campaign-reply-workflow-template">
                                                                                                <div class="portlet-body">
                                                                                                    <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                                                                        <div class="mix-grid f-1">
                                                                                                            <div *ngIf="(!isAdd && reply.emailTemplatesPagination.totalRecords>0 && reply.emailTemplatesPagination.pageIndex==1 && reply.showSelectedEmailTemplate && reply.selectedEmailTemplateIdForEdit>0 )">
                                                                                                                <!-- email template in edit launch  og Auto-response to your e-mail-->
                                                                                                                <ul class="content__list">
                                                                                                                    <li>
                                                                                                                        <div class="flex-row mHeight" >
                                                                                                                            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                                                                <div  class="row">
                                                                                                                                    <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                                                        <div class="grid-box imgage-paddings"  
                                                                                                                                            [ngClass]="reply.emailTemplate.id==reply.selectedEmailTemplateId ? 'template-selected-border' :''"   
                                                                                                                                           (click)="setReplyEmailTemplate(reply.emailTemplate.id,reply,i)"  >                 
                                                                                                                                                <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                                                                    <label>
                                                                                                                                                        <input   *ngIf="reply.emailTemplate.id!== reply.selectedEmailTemplateId"
                                                                                                                                                        name="reply-email-template"
                                                                                                                                                        [value]="reply.emailTemplate.id"
                                                                                                                                                        id="reply-{{i}}-{{reply.emailTemplate.id}}"
                                                                                                                                                        type="radio" class="radio-custimization" 
                                                                                                                                                    
                                                                                                                                                        >
                                                                                                                
                                                                                                                                                         <input *ngIf="reply.emailTemplate.id== reply.selectedEmailTemplateId"  
                                                                                                                                                         [value]="reply.emailTemplate.id" 
                                                                                                                                                         id="reply-{{i}}-{{reply.emailTemplate.id}}"
                                                                                                                                                          type="radio" class="radio-custimization" 
                                                                                                                                                          [checked]="reply.emailTemplate.id==reply.selectedEmailTemplateId"
                                                                                                                                                         name="reply-email-template">
                                                                                                                                                    </label>
                                                                                                                                            </span>
                                                                                                                                        
                                                                                                                                                <img 
                                                                                                                                                    class="img-grid-track "
                                                                                                                                                    src="{{reply.emailTemplate.subject}}"
                                                                                                                                                    alt="" >
                                                                                                                                                    
                                                                                                                                                    <span class="icon-alignments"> 
                                                                                                                                                        <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                                                                         (click)="$event.stopPropagation();getTemplateById(reply.emailTemplate)"
                                                                                                                                                          data-original-title="Preview">
                                                                                                                                                        <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                                                                    </span>
                                                                                                                                        
                                                                                                                                            <!-- hover Content --> 
                                                                                                                                                <div  class="bar hover-bar" >
                                                                                                                                                    <a  data-placement="top"  class="border-none-dark">
                                                                                                                                                        <div class="row">
                                                                                                                                                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                                                                <div class="content-hover-align fontsize-cls">
                                                                                                                                                                    <span class="item__name cardDetails-mar"  [title]="emailTemplate.name">
                                                                                                                                                                        <strong>{{reply.emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                                                        <strong *ngIf="reply.emailTemplate?.name?.length>13">..</strong>
                                                                                                                                                                    </span>
                                                                                                                                                                    <br>
                                                                                                                                                                    <span class="item__name cardDetails-mar" title="created on" style="float:left">
                                                                                                                                                                        <span>
                                                                                                                                                                            <app-timestamp
                                                                                                                                                                                [isOnlyDate]="true"
                                                                                                                                                                                [dateAndTime]="reply?.emailTemplate?.createdTime">
                                                                                                                                                                            </app-timestamp>
                                                                                                                                                                        </span>
                                                                                                                                                                    </span>
                                                                                                                                                                    <ng-container *ngIf="reply?.emailTemplate?.type!='PARTNER'">
                                                                                                                                                                        <span style="float:left" title="{{reply?.emailTemplate?.createdBy}}">
                                                                                                                                                                            <strong translate>By:</strong>
                                                                                                                                                                            <span>{{reply?.emailTemplate?.createdBy|slice:0:11}}<span
                                                                                                                                                                                    *ngIf="reply?.emailTemplate?.createdBy?.length>11">..</span></span>
                                                                                                                                                                        </span>
                                                                                                                                                                    </ng-container>
                                                                                                                                                                    <span *ngIf="reply?.emailTemplate?.category?.length>0" class="campaign-email-template-category  cardDetails-mar" title="{{reply?.emailTemplate?.category}}">
                                                                                                                                                                        <strong antranslate>Folder:</strong><span>{{reply?.emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                                                        <span *ngIf="reply?.emailTemplate?.category?.length>5">..</span>
                                                                                                                                                                    </span>
                                                                                                                                                                                                           
                                                                                                                                                                </div> 
                                                                                                                                                                <span class="label-color-custmization"   (click)="$event.stopPropagation();editTemplate(reply.emailTemplate)" >Edit</span>
                                                                                                                                                            </div>       
                                                                                                                                                                <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                                                                        </div>
                                                                                                                                                    </a>
                                                                                                                                                </div>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            
                                                                                                            <!--email template in create  launch  of Auto-response to your e-mail    -->
                                                                                                            <ul class="content__list" *ngFor="let emailTemplate of reply.emailTemplatesPagination.pagedItems ;let i =index">
                                                                                                                <li *ngIf="reply.selectedEmailTemplateIdForEdit!=emailTemplate.id">
                                                                                                                    <div class="flex-row mHeight" >
                                                                                                                        <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                                                                    <div  class="row">
                                                                                                                                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                                                                <div class="grid-box imgage-paddings"  [ngClass]="emailTemplate.id==reply.selectedEmailTemplateId ? 'template-selected-border' :'' " 
                                                                                                                                                  (click)="setReplyEmailTemplate(emailTemplate.id,reply,i,emailTemplate.draft)">
                                                                                                                                        
                                                                                                                                                    <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                                                                        <label>
                                                                                                                                                            <input 
                                                                                                                                                            type="radio" class="radio-custimization" 
                                                                                                                                                            [checked]="emailTemplate.id==reply.selectedEmailTemplateId"  >
                                                                                                                                                        </label>
                                                                                                                                                </span>
                                                                                                                                            
                                                                                                                                                    <img 
                                                                                                                                                        class="img-grid-track "
                                                                                                                                                        src="{{emailTemplate.subject}}" alt="" >
                                                                                                                                                        
                                                                                                                                                        <span class="icon-alignments"> 
                                                                                                                                                            <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                                                                            
                                                                                                                                                             (click)="$event.stopPropagation();getTemplateById(emailTemplate)" data-original-title="Preview">
                                                                                                                                                            <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                                                                        </span>
                                                                                                                                            
                                                                                                                                                <!-- hover Content --> 
                                                                                                                                                    <div  class="bar hover-bar" >
                                                                                                                                                    <a  data-placement="top"  class="border-none-dark">
                                                                                                                                                        <div class="row">
                                                                                                                                                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                                                                <div class="content-hover-align fontsize-cls">
                                                                                                                                                                    <span class="item__name cardDetails-mar"  [title]="emailTemplate.name">
                                                                                                                                                                        <strong>{{emailTemplate.name |slice:0:13}}</strong>
                                                                                                                                                                        <strong *ngIf="emailTemplate?.name?.length>13">..</strong>
                                                                                                                                                                    </span>
                                                                                                                                                                    <br>
                                                                                                                                                                    <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                                                                        <span>
                                                                                                                                                                            <app-timestamp
                                                                                                                                                                                [isOnlyDate]="true"
                                                                                                                                                                                [dateAndTime]="emailTemplate.createdDate">
                                                                                                                                                                            </app-timestamp>
                                                                                                                                                                        </span>
                                                                                                                                                                    </span>
                                                                                                                                                                    <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                                                                        <p class="cardDetails-mar" title="{{emailTemplate.createdBy}}">
                                                                                                                                                                            <strong translate>Created by:</strong>
                                                                                                                                                                            <span>{{emailTemplate.createdBy|slice:0:11}}
                                                                                                                                                                                <span
                                                                                                                                                                                    *ngIf="emailTemplate.createdBy?.length>11">..</span>
                                                                                                                                                                            </span>
                                                                                                                                                                        </p>
                                                                                                                                                                    </ng-container>
                                                                                                                                                                    <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                                                                        <span class="cardDetails-mar" title="{{emailTemplate.vendorName}}">
                                                                                                                                                                            <strong translate>Created by:</strong>
                                                                                                                                                                            <span>{{emailTemplate.vendorName|slice:0:11}}<span
                                                                                                                                                                                    *ngIf="emailTemplate.vendorName?.length>11">..</span>
                                                                                                                                                                            </span>
                                                                                                                                                                        </span>
                                                                                                                                                                    </ng-container> 
                                                                                                                                                                    <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{emailTemplate.category}}">
                                                                                                                                                                        <strong translate>Folder:</strong>
                                                                                                                                                                        <span >{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                                                        <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                                                                    </span> 
                                                                                                                                                                </div> 
                                                                                                                                                                <span class="label-color-custmization" (click)="$event.stopPropagation();editTemplate(emailTemplate)" >Edit</span>
                                                                                                                                                            </div>       
                                                                                                                                                                <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                                                                        </div>
                                                                                                                                                        </a>
                                                                                                                                                    </div>
                                                                                                                                                </div>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                            
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </li>
                                                                                                            </ul>

                                                                                                            <div class="col-xs-12" *ngIf="reply.emailTemplatesPagination.totalRecords>0 && !reply.loader">
                                                                                                                <ul style="float: left" *ngIf="reply.emailTemplatesPagination.pager.pages && reply.emailTemplatesPagination.pager.pages.length" class="pagination">
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1" translate>First</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage - 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1" translate>Previous</a>
                                                                                                                    </li>
                                                                                                                    <li *ngFor="let page of reply.emailTemplatesPagination.pager.pages" [ngClass]="{active:reply.emailTemplatesPagination.pager.currentPage === page}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(page,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === page">{{page}}</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage + 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages" translate>Next</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.totalPages,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages" translate>Last</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                             </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                </div>

                                                                                            </div>
                                                                                        </ng-container> 
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                       </div> <!--End of portlet light line no 1728-->
                                                                    </div><!--End of 1721-->
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <!-- ------------ADD ON CLICK------------------------ -->
                                        <fieldset *ngIf="urls?.length>0">
                                            <legend> {{properties.ADD_AUTO_RESPONSE_WEBSITE}}</legend>
                                            <div *ngFor="let url of urls;let i=index">
                                                <div class="portlet light dashboard-stat2" id="{{url.divId}}">
                                                    <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue ':isEven(i+1), 'colorRed':!isEven(i+1)}">
                                                        <div class="col-xs-6">
                                                            <h4 class="text-left">Add an Auto-response to a website visit - {{i+1}}</h4>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="pull-right">
                                                                <label class="switch-choose" translate>Choose Template
                                                                    </label>
                                                                <switch class="switch-choose" [status]="url.defaultTemplate" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="selectClickEmailBody($event,i,url)">
                                                                </switch>
                                                                <button type="button" class="btn btn-danger button-blue" (click)="remove(url.divId,'url')">
                                                                    <span class="glyphicon glyphicon-trash"></span>
                                                                </button>
                                                                <button type="button" class="btn btn-primary button-blue" (click)="addClickRows()">
                                                                    <span class="glyphicon glyphicon-plus"></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <form class="role" id="form-{{url.divId}}" class="add-click">
                                                            <div class="col-xs-12 p0">
                                                                <div class="col-xs-12 p0">
                                                                    <div class="col-xs-12 col-sm-6">
                                                                        <label class="default" for="reason" translate>When To Send Email
                                                                            </label>
                                                                        <select class="form-control pointer" id="url-schedule-type" name="scheduleEmail" [(ngModel)]="url.actionId" (change)="setUrlScheduleType($event,url)">
                                                                            <option [value]="19"
                                                                                [selected]="url.actionId ==19" translate>Send if not clicked
                                                                                </option>
                                                                            <option [value]="20"
                                                                                [selected]="url.actionId ==20" translate>Send immediately after clicked
                                                                                </option>
                                                                            <option [value]="21"
                                                                                [selected]="url.actionId ==21" translate>Schedule
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div *ngIf="url.actionId==21" class="col-xs-6 p0">
                                                                        <div class="col-xs-4" style="padding:0">
                                                                            <label for="days" id="click-days-{{url.divId}}" style="color:black !important;cursor: default;" translate>
                                                                                Wait X Days After Click
                                                                                <strong style="color: red">*</strong>
                                                                            </label>
                                                                            <input type="number" class="form-control" name="days" [(ngModel)]="url.replyInDays" placeholder="Days" min="0" oninput="validity.valid||(value='');">
                                                                        </div>
                                                                        <div class="col-xs-8 time-col">
                                                                            <div class="col-xs-2 default">
                                                                                <label for="time" id="send-time-{{url.divId}}" class="time-picker-css" translate>At
                                                                                    <strong style="color: red">*</strong>
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-xs-10" style="height:66px">
                                                                                <timepicker [(ngModel)]="url.replyTime" name="time" [hourStep]="1" [minuteStep]="1"></timepicker>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-6">
                                                                        <label class="default" for="time" id="click-subject-{{url.divId}}" translate>Subject
                                                                            <strong style="color: red">*</strong>
                                                                        </label>
                                                                        <div class="input-group merge-tag-input-border">
                                                                            <input type="text" class="form-control" name="subject"  [(ngModel)]="url.subject" placeholder="{merge tag} + Subject line" maxlength="1000">
                                                                            <span class="input-group-btn">
                                                                                <button class="btn btn-default" type="button" title="Insert Merge Tags" (click)="openMergeTagsPopup('campaign-website',url)">
                                                                                    <i class="fa fa-plus-circle npcfs" aria-hidden="true"></i>
                                                                                </button>
                                                                            </span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-6">
                                                                        <label for="reason" style="cursor: default;" translate>Available URLs
                                                                            </label>
                                                                        <select class="form-control pointer" name="url" [(ngModel)]="url.url" style="width: 100%">
                                                                            <option
                                                                                *ngFor="let hrefLink of emailTemplateHrefLinks;"
                                                                                [ngValue]="hrefLink"
                                                                                [selected]="hrefLink==url.url">
                                                                                {{hrefLink}}
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12">
                                                                    <div id="ck-editor-{{i}}" *ngIf="!url.defaultTemplate">
                                                                        <label class="default" for="days" id="click-message-{{url.divId}}" translate>Message 
                                                                            <strong class="required">*</strong>
                                                                        </label>
                                                                        <div>
                                                                            <ckeditor [(ngModel)]="url.body" name="body"></ckeditor>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-12 text-center" style="margin-top: 10px;" id="url-email-template-{{i}}" *ngIf="url.defaultTemplate">
                                                                        <div class="form-group" style="margin-left: 1px;">
                                                                            <label for="days" id="click-email-template-{{url.divId}}" translate>
                                                                                Select Email Template
                                                                                <strong class="required">*</strong>
                                                                            </label>
                                                                        </div>
                                                                        <div>
                                                                            <div class="input-icon right pull-right cebp">
                                                                                <input type="text" [(ngModel)]="url.emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search"
                                                                                 (keypress)="eventHandlerForUrlEmailTemplate($event, url)">
                                                                                 <button type="button" class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="url.emailTemplateSearchInput" (click)="url.emailTemplateSearchInput='';searchClickEmailTemplate(url)"></button>
                                                                                <button type="submit" class="search-box-item-click email-search" (click)="searchClickEmailTemplate(url)">
                                                                                    <i class="fa fa-search cesf-xamp" aria-hidden="true"></i></button>
                                                                            </div>
                                                                            <div class="portlet-body">
                                                                                <div *ngIf="url.emailTemplatesPagination.totalRecords==0" class="col-xs-12 alert alert-info">
                                                                                    <strong translate>No templates found</strong>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-labelledby="urlEmailTemplatesForm">
                                                                                        <div class="col-xs-12">
                                                                                            <app-loader *ngIf="url.loader">
                                                                                            </app-loader>
                                                                                            <ng-container *ngIf=" url.emailTemplatesPagination.totalRecords>0 && !url.loader">
                                                                                                <div class="row pb10" id="campaign-reply-workflow-template">
                                                                                                    <div class="portlet-body">
                                                                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                                                                            <div class="mix-grid-2">
                                                                                                                <div *ngIf="(!isAdd && url.emailTemplatesPagination.totalRecords>0 && url.emailTemplatesPagination.pageIndex==1 && url.showSelectedEmailTemplate && url.selectedEmailTemplateIdForEdit>0 ) ">
                                                                                                                    <!--  launch email template in edit auto responsive to  web visit    -->
                                                                                                                    <ul class="content__list">
                                                                                                                        <li>
                                                                                                                            <div class="flex-row mHeight" >
                                                                                                                                <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                                                                    <div  class="row">
                                                                                                                                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                                                            <div class="grid-box imgage-paddings"  
                                                                                                                                                [ngClass]="url.emailTemplate.id==url.selectedEmailTemplateId ? 'template-selected-border' :''"   
                                                                                                                                               (click)="setClickEmailTemplate(url.emailTemplate.id,url,i)" >                 
                                                                                                                                                    <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                                                                        <label>
                                                                                                                                                            <input  
                                                                                                                                                            *ngIf="url.emailTemplate.id!== url.selectedEmailTemplateId"
                                                                                                                                                            [value]="url.emailTemplate.id"
                                                                                                                                                            id="url-{{i}}-{{url.emailTemplate.id}}"
                                                                                                                                                            type="radio" class="radio-custimization" 
                                                                                                                                                            >
                                                                                                                    
                                                                                                                                                             <input *ngIf="url.emailTemplate.id== url.selectedEmailTemplateId"  
                                                                                                                                                             [value]="url.emailTemplate.id" 
                                                                                                                                                             id="url-{{i}}-{{url.emailTemplate.id}}" type="radio" class="radio-custimization" 
                                                                                                                                                             [checked]="url.emailTemplate.id==url.selectedEmailTemplateId"
                                                                                                                                                            
                                                                                                                                                             >
                                                                                                                                                        </label>
                                                                                                                                                </span>
                                                                                                                                            
                                                                                                                                                    <img 
                                                                                                                                                        class="img-grid-track "
                                                                                                                                                        src="{{url.emailTemplate.subject}}"
                                                                                                                                                        alt="" >
                                                                                                                                                        
                                                                                                                                                        <span class="icon-alignments"> 
                                                                                                                                                            <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                                                                             (click)="$event.stopPropagation();getTemplateById(reply.emailTemplate)"
                                                                                                                                                              data-original-title="Preview">
                                                                                                                                                            <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                                                                        </span>
                                                                                                                                            
                                                                                                                                                <!-- hover Content --> 
                                                                                                                                                    <div  class="bar hover-bar" >
                                                                                                                                                        <a  data-placement="top"  class="border-none-dark">
                                                                                                                                                            <div class="row">
                                                                                                                                                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                                                                    <div class="content-hover-align fontsize-cls">
                                                                                                                                                                        <span class="item__name cardDetails-mar"  [title]="url.emailTemplate.name">
                                                                                                                                                                            <strong>{{url.emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                                                            <strong *ngIf="url.emailTemplate?.name?.length>13">..</strong>
                                                                                                                                                                        </span>
                                                                                                                                                                        <br>
                                                                                                                                                                       
                                                                                                                                                                        <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                                                                            <span>
                                                                                                                                                                                <app-timestamp
                                                                                                                                                                                    [isOnlyDate]="true"
                                                                                                                                                                                    [dateAndTime]="url.emailTemplate.createdDate">
                                                                                                                                                                                </app-timestamp>
                                                                                                                                                                            </span>
                                                                                                                                                                        </span>   
                                                                                                                                                                        <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                                                                            <p class="cardDetails-mar" title="{{emailTemplate.createdBy}}">
                                                                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                                                                <span>{{emailTemplate.createdBy|slice:0:11}}
                                                                                                                                                                                    <span
                                                                                                                                                                                        *ngIf="emailTemplate.createdBy?.length>11">..</span>
                                                                                                                                                                                </span>
                                                                                                                                                                            </p>
                                                                                                                                                                        </ng-container>
                                                                                                                                                                        <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                                                                            <span class="cardDetails-mar" title="{{emailTemplate.vendorName}}">
                                                                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                                                                <span>{{emailTemplate.vendorName|slice:0:11}}<span
                                                                                                                                                                                        *ngIf="emailTemplate.vendorName?.length>11">..</span>
                                                                                                                                                                                </span>
                                                                                                                                                                            </span>
                                                                                                                                                                        </ng-container> 
                                                                                                                                                                        <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{emailTemplate.category}}">
                                                                                                                                                                            <strong translate>Folder:</strong>
                                                                                                                                                                            <span >{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                                                            <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                                                                        </span>                                              
                                                                                                                                                                    </div> 
                                                                                                                                                                    <span class="label-color-custmization"   (click)="$event.stopPropagation();editTemplate(url.emailTemplate)" >Edit</span>
                                                                                                                                                                </div>       
                                                                                                                                                                    <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                                                                            </div>
                                                                                                                                                        </a>
                                                                                                                                                    </div>
                                                                                                                                            </div>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                                

                                                                                                                <!--  launch email template in create Auto-Responses to a Website Visit-->
                                                                                                                <ul class="content__list" *ngFor="let emailTemplate of url.emailTemplatesPagination.pagedItems ;let i =index">
                                                                                                                    <li *ngIf="url.selectedEmailTemplateIdForEdit!=emailTemplate.id">
                                                                                                                        <div class="flex-row mHeight" >
                                                                                                                            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 flex-row" >                         
                                                                                                                                        <div  class="row">
                                                                                                                                            <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12" > 
                                                                                                                                                    <div class="grid-box imgage-paddings"  [ngClass]="emailTemplate.id==url.selectedEmailTemplateId ? 'template-selected-border' :'' " 
                                                                                                                                                    (click)="setClickEmailTemplate(emailTemplate.id,url,i,emailTemplate.draft)">
                                                                                                                                            
                                                                                                                                                        <span class="select-check-box" [class.hide]="emailTemplate.draft">
                                                                                                                                                            <label>
                                                                                                                                                                <input 
                                                                                                                                                                type="radio" class="radio-custimization" 
                                                                                                                                                                [checked]="emailTemplate.id==url.selectedEmailTemplateId"  >
                                                                                                                                                            </label>
                                                                                                                                                    </span>
                                                                                                                                                
                                                                                                                                                        <img 
                                                                                                                                                            class="img-grid-track "
                                                                                                                                                            src="{{emailTemplate.subject}}" alt="" >
                                                                                                                                                            
                                                                                                                                                            <span class="icon-alignments"> 
                                                                                                                                                                <a data-toggle="tooltip" data-placement="top" title=""
                                                                                                                                                                
                                                                                                                                                                 (click)="$event.stopPropagation();getTemplateById(emailTemplate)" data-original-title="Preview">
                                                                                                                                                                <i class="fa fa-external-link-square preview-edit-color tooltip-cls" aria-hidden="true"></i> </a> 
                                                                                                                                                            </span>
                                                                                                                                                
                                                                                                                                                    <!-- hover Content --> 
                                                                                                                                                        <div  class="bar hover-bar" >
                                                                                                                                                        <a  data-placement="top"  class="border-none-dark">
                                                                                                                                                            <div class="row">
                                                                                                                                                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 emailtemp-content">
                                                                                                                                                                    <div class="content-hover-align fontsize-cls">
                                                                                                                                                                        <span class="item__name cardDetails-mar"  [title]="emailTemplate.name">
                                                                                                                                                                            <strong>{{emailTemplate.name |slice:0:13}}</strong>
                                                                                                                                                                            <strong *ngIf="emailTemplate?.name?.length>13">..</strong>
                                                                                                                                                                        </span>
                                                                                                                                                                        <br>
                                                                                                                                                                        <span class="item__name" title="created on" style="float:left; margin: 3px;">
                                                                                                                                                                            <span>
                                                                                                                                                                                <app-timestamp
                                                                                                                                                                                    [isOnlyDate]="true"
                                                                                                                                                                                    [dateAndTime]="emailTemplate.createdDate">
                                                                                                                                                                                </app-timestamp>
                                                                                                                                                                            </span>
                                                                                                                                                                        </span>
                                                                                                                                                                        <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                                                                            <p class="cardDetails-mar" title="{{emailTemplate.createdBy}}">
                                                                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                                                                <span>{{emailTemplate.createdBy|slice:0:11}}
                                                                                                                                                                                    <span
                                                                                                                                                                                        *ngIf="emailTemplate.createdBy?.length>11">..</span>
                                                                                                                                                                                </span>
                                                                                                                                                                            </p>
                                                                                                                                                                        </ng-container>
                                                                                                                                                                        <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                                                                            <span class="cardDetails-mar" title="{{emailTemplate.vendorName}}">
                                                                                                                                                                                <strong translate>Created by:</strong>
                                                                                                                                                                                <span>{{emailTemplate.vendorName|slice:0:11}}<span
                                                                                                                                                                                        *ngIf="emailTemplate.vendorName?.length>11">..</span>
                                                                                                                                                                                </span>
                                                                                                                                                                            </span>
                                                                                                                                                                        </ng-container> 
                                                                                                                                                                        <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category cardDetails-mar" title="{{emailTemplate.category}}">
                                                                                                                                                                            <strong translate>Folder:</strong>
                                                                                                                                                                            <span >{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                                                            <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                                                                        </span> 
                                                                                                                                                                    </div> 
                                                                                                                                                                    <span class="label-color-custmization" (click)="$event.stopPropagation();editTemplate(emailTemplate)" >Edit</span>
                                                                                                                                                                </div>       
                                                                                                                                                                    <!-- <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span> -->
                                                                                                                                                            </div>
                                                                                                                                                            </a>
                                                                                                                                                        </div>
                                                                                                                                                    </div>
                                                                                                                                            </div>
                                                                                                                                        </div>
                                                                                                                                
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                                <div class="col-xs-12" *ngIf="url.emailTemplatesPagination.totalRecords>0 && !url.loader">
                                                                                                                    <ul style="float: left" *ngIf="url.emailTemplatesPagination.pager.pages && url.emailTemplatesPagination.pager.pages.length" class="pagination">
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === 1" translate>First</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.currentPage - 1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === 1" translate>Previous</a>
                                                                                                                        </li>
                                                                                                                        <li *ngFor="let page of url.emailTemplatesPagination.pager.pages" [ngClass]="{active:url.emailTemplatesPagination.pager.currentPage === page}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(page,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === page">{{page}}</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.currentPage + 1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages" translate>Next</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.totalPages,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages" translate>Last</a>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                    </div>
    
                                                                                                </div>
                                                                                            </ng-container> 
                                                                                        </div>
                                                                                    </form>
                                                                                </div>
                                                                            </div>
                                                                           </div> <!--End of portlet light line no 1728-->
                                                                        </div><!--End of 1721-->
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <!-- Add on Click end -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div>
                                <div>
                                   <div class="btn-group btn-group-justified">
                                        <ng-container>
                                            <label  class="btn btn-primary button-border">
                                                <input type="radio" class="text-center mLabelAlign" name="scheduleCampaign"
                                                    [value]="sheduleCampaignValues[0]" formControlName="scheduleCampaign"
                                                    ngDefaultControl style=" margin-right:10px; " /><span class="text-algn">Now</span>
                                            </label>
                                            <label  class="btn btn-warning button-border Sch-class" >
                                                <input type="radio" class="text-center mLabelAlign" name="scheduleCampaign"
                                                    [value]="sheduleCampaignValues[1]" formControlName="scheduleCampaign"
                                                    ngDefaultControl style="margin-right:10px " /><span class="text-algn">Schedule</span>
                                            </label>
                                            <label class="btn green mBtnAlign button-border">
                                                <input type="radio" class="text-center mLabelAlign" name="scheduleCampaign"
                                                    [value]="sheduleCampaignValues[2]" formControlName="scheduleCampaign"
                                                    ngDefaultControl style="margin-right:10px" /><span class="text-algn">Save</span>
                                            </label>
                                        </ng-container>
                                    </div>
                                    <div class="col-md-12" style="margin-left: -17px;margin-top: 12px;" [hidden]="buttonName!='Schedule'">
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>Date</label>
                                            <br>
                                            <input type="text" class="form-control flatpickr square-box" placeholder="Select" id="launchTime" formControlName="launchTime" />
                                            <font style="color: red" *ngIf="campaignLaunchForm.hasError('invalidSchedule')" translate>Date Required
                                            </font>
                                        </div>
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>Country</label>
                                            <br>
                                            <select class="form-control" style="width: 100%" formControlName="countryId" (change)="onSelect($event.target.value)" id="countryName">
                                                <option *ngFor="let country of countries" [value]="country.id">
                                                    {{country.name}}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>TimeZone </label>
                                            <br>
                                            <select class="form-control" style="width: 100%" formControlName="timeZoneId" id="timezoneId">
                                                <ng-container *ngIf="timezones?.length==1">
                                                    <option *ngFor="let timeZone of timezones"
                                                        [value]="timeZone.timezoneId"
                                                        [selected]="campaign.countryId==timeZone.countryId">
                                                        {{timeZone.cityName}}
                                                    </option>
                                                </ng-container>
                                                <ng-container *ngIf="timezones?.length>1">
                                                    <option *ngFor="let timeZone of timezones"
                                                        [value]="timeZone.timezoneId">
                                                        {{timeZone.cityName}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="portlet-title border-none">
                                    <div class="col-xs-12 center-block mTop" style="padding-top: 6px;">
                                        <button type="button" class="btn btn-default mBtnAlign" (click)="resetActive($event, 40, 'step-5')" style="font-weight: 600;width: 10em;" translate>Previous</button>
                                        <button *ngIf="campaignType!='landingPage'" type="button" class="btn green mBtnAlign" (click)="campaignService.addEmailId(campaign,selectedEmailTemplateRow,selectedLandingPageRow,false)" style="width: 10em;" translate>Send Test Email</button>
                                        <button type="submit" class="btn green mBtnAlign" [disabled]="!campaignLaunchForm.valid" style="width: 10em;">{{buttonName}}</button>
                                        <button *ngIf="campaignType!='landingPage'" type="button" class="btn green mBtnAlign" (click)="spamCheck()" style="width: 10em;" translate>Spam Check</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- End Of Line 18 -->
        </div>
        <!--Edit Template Div---->
        <div id="edit-template" style="display: none;">
            <div class="portlet light">
                <div *ngIf="!editTemplateLoader" class="caption-subject font-red-sunglo f-w-600 text-left zeropx">
                    {{beeContainerInput?.emailTemplateName}}
                    <div>
                    <a class="close-circle pull-right" (click)="hideEditTemplateDiv()" [ngStyle]="{'margin-top':showEditTemplatePopup && campaignType=='landingPage'? '10px':''}">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </a>
                    
                    <app-preview-popup #previewPopUpComponent *ngIf="showEditTemplatePopup && campaignType=='landingPage'"></app-preview-popup>
                    <app-merge-tags *ngIf="showEditTemplatePopup"  [input]="editTemplateMergeTagsInput"></app-merge-tags>
                    <button  class="new-tab-button" *ngIf="showEditTemplatePopup && campaignType=='landingPage'">
                        Open Links In New Tab <input type="checkbox" [(ngModel)]="beeContainerInput.openLinksInNewTab">
                      </button>
                    </div>
                </div>
              <div class="portlet-body clearfix">
                  <div *ngIf="showEditTemplateMessageDiv"  [className]="templateMessageClass">
                        <strong>{{templateUpdateMessage}}</strong>
                  </div>
                  <app-modal-popup-loader *ngIf="editTemplateLoader"></app-modal-popup-loader>
                  <app-bee-template-util *ngIf="!editTemplateLoader && showEditTemplatePopup"  [beeContainerInput]="beeContainerInput" (notifyParentComponent)="updateTemplate($event)"></app-bee-template-util>
            </div>
            </div>
        </div>
        <!-- --------------------Email Template -->
        <div class="modal fade right" id="show_email_template_preivew" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close-circle" data-dismiss="modal">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </button>
                        <h4 class="modal-title text-center" id="email-template-title"></h4>
                    </div>
                    <div class="modal-body">
                        <div id="htmlContent"></div>
                    </div>
                    <div class="modal-footer">
                        <a data-dismiss="modal" class="btn btn-default" style="float: right" translate>Close</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <app-scroll-top></app-scroll-top>
</div>



<!-- Marketo Authentication -->
<div class="modal right fade" id="templateRetrieve" tabindex="-1" role="dialog" aria-labelledby="templateRetrieve" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog template-modal" role="document" style="width: 50%">
        <ngx-loading [show]="loadingMarketo" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="closeModal()" id="closeButton">
                    <i class="fa fa-times" aria-hidden="true"></i></a>
                <h4 class="modal-title" id="templateRetrieve" translate>Marketo integration with xAmplify</h4>
            </div>
            <div>
                <img src="assets/images/crm/Mark-amplify.png" style="margin: 30px 30% 0;width: 50%;text-align: center;" alt="">
            </div>
            <div class="modal-body" style="padding: 39px;">
                <form class="form-horizontal" autocomplete="off">
                    <div *ngIf="templateError" class="alert alert-danger"><span>{{templateError}}</span></div>
                    <div *ngIf="templateSuccessMsg" class="alert alert-success"><span>{{templateSuccessMsg}}</span>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" for="email" translate>Client Id:</label>
                        <div class="col-sm-8">
                            <input type="email" class="form-control" id="email" placeholder="Client Id" autocomplete="nope" [(ngModel)]="clientId" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('email')">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" for="pwd" translate>Secret Id:</label>
                        <div class="col-sm-8">
                            <input type="password" class="form-control" id="pwd" placeholder="Secret Id" autocomplete="new-password" [(ngModel)]="secretId" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('pwd')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-3" for="instance" translate>Marketo Instance:</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="instance" placeholder="Marketo Instance" [(ngModel)]="marketoInstance" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('instance')">
                        </div>
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <div style="text-align: right;">
                    <button class="btn btn-default" (click)="clearValues()" translate>Clear</button>

                    <button [attr.class]="marketoButtonClass" [class.disabled]="!isModelFormValid || !clientId || !secretId || !marketoInstance" (click)="submitMarketoCredentials()">Submit</button>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Microsoft Authentication -->
<div *ngIf="showMicrosoftAuthenticationForm">
    <app-microsoft-authentication-popup (closeEvent)="closeMicrosoftForm($event)"></app-microsoft-authentication-popup>
</div>

<div class="modal fade right" id="email_spam_check" *ngIf="emailTemplate" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg modal-template mSpamCheckWid" style="width: 65%;right:0">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
                    <i class="fa fa-times" aria-hidden="true"></i></button>
                <h4 class="modal-title" translate>Email Spam Check</h4>
            </div>
            <div class="modal-body">
                <app-email-spam-check *ngIf="emailTemplate" [emailTemplate]="emailTemplate"></app-email-spam-check>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right" translate>Close</a>
            </div>
        </div>
    </div>
</div>
<app-preview-landing-page #previewLandingPageComponent></app-preview-landing-page>
<!-----------------------------View Filter Popup----------->
<div class="modal fade right" id="filterPopup" tabindex="-1" role="dialog" aria-labelledby="filterPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeFilterPopup()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h5 class="modal-title text-center" translate>Apply Filter</h5>
            </div>
            <div class="modal-body">
                <app-response-message class="pg8" [customResponse]="folderErrorCustomResponse" *ngIf="folderErrorCustomResponse.isVisible">
                </app-response-message>
                <div class="form-group" *ngIf="!folderErrorCustomResponse.isVisible">
                    <ejs-multiselect [(ngModel)]='selectedFolderIds' [ngModelOptions]="{standalone: true}"
                     [allowFiltering]='true' [ignoreAccent]='true' id='multiselectelement'
                      [dataSource]='emailTemplateFolders' [fields]='folderFields'
                       [placeholder]='folderFilterPlaceHolder' (blur)='applyFilter()'>
                </ejs-multiselect>
                <span class="requried" *ngIf="!isFolderSelected" translate>Please select at least one option</span>
                </div>
            </div>
            <div class="folder-modal-footer" *ngIf="!folderErrorCustomResponse.isVisible">
                <button type="button" class="btn btn-default" (click)="closeFilterPopup()" translate>Cancel</button>
                <button type="button" class="btn btn-primary" (click)="closeFilterPopup()" translate>Apply</button>
                   
            </div>
        </div>
    </div>
</div>
<app-add-folder-modal-popup #addFolderModalPopupComponent (notifyChild)="showSuccessMessage($event)"></app-add-folder-modal-popup>
<ng-container *ngIf="showUsersPreview">
    <app-preview-user-list [userListName]="selectedListName" [userListId]="selectedListId" (notifyParentComponent)="resetValues()"></app-preview-user-list>
</ng-container>

<app-merge-tags *ngIf="mergeTagsInput.hideButton" [input]="mergeTagsInput" (notifyComponent)="clearHiddenClick()" (passValueAndNotifyComponent)="appendValueToSubjectLine($event)"></app-merge-tags> 


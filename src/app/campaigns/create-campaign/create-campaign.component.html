<style type="text/css">
    a.disabled {
        pointer-events: none;
        cursor: not-allowed;
    }
</style>
<div class="page-content" [style.background-color]="refService.pageContnetBgColor">
    <app-preview-video *ngIf="createVideoFile" [videoFile]="createVideoFile" (notifyParent)="closeCreateModal($event)">
    </app-preview-video>
    <app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
    <app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
    <div [hidden]="httpRequestLoader.isLoading">
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-home" aria-hidden="true"></i>
                    <a [routerLink]="refService.homeRouter" translate>Home</a>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </li>
                <li>
                    <a *ngIf="refService.isCampaignFromVideoRouter==true|| !isAdd" [routerLink]="['../../campaigns/manage']" translate>Manage Campaigns</a>
                    <a *ngIf="refService.isCampaignFromVideoRouter==false && isAdd" [routerLink]="['../../campaigns/select']" translate>Select Campaign</a>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </li>
                <li *ngIf="refService.isCampaignFromVideoRouter==true|| !isAdd">
                    <a translate>Edit Campaign</a>
                </li>
                <li *ngIf="refService.isCampaignFromVideoRouter==false && isAdd">
                    <a translate>Create Campaign</a>
                </li>
            </ul>
            <div id="folder-margin-xamp">
                <button class="add-button-xamplify" id="right" (click)="openCreateFolderPopup()" translate>Create a Folder</button>
                <app-merge-tags [isEvent]="false" [isCampaign]="true"></app-merge-tags>
            </div>
        </div>
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div class="page-bar">
            <app-response-message  [customResponse]="folderCustomResponse" *ngIf="folderCustomResponse.isVisible">
            </app-response-message>
        </div>
        <!-- End of Line 2 -->
        <div class="page-bar">
            <div class="container" style="width: 100%;border-radius: 0;border: 1px solid #869ab3;border-top: 0;box-shadow: 0 0 6px rgba(0, 0, 0, 0.6);padding-bottom: 10px;">
                <div style="display: flex;padding-top: 1em;">
                    <div id="step2" [attr.class]="campaignDetailsTabClass" (click)="resetActive($event, 0, 'step-2');" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-th-list" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs" translate>Campaign Details</h5>
                        </div>
                    </div>

                    <div *ngIf="!isCampaignDetailsFormValid && campaignType=='video'" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-video-camera" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs" translate>Select a Video</h5>
                        </div>
                    </div>
                    <div *ngIf="isCampaignDetailsFormValid && campaignType=='video'" id="step3" [attr.class]="videoTabClass" (click)="resetActive($event, 40, 'step-3');" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-video-camera" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs" translate>Select a Video</h5>
                        </div>
                    </div>
                    <div *ngIf="!isCampaignDetailsFormValid ||!isVideo" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-users" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs">{{contactListTabName | translate}}</h5>
                        </div>
                    </div>

                    <div id="step4" *ngIf="isCampaignDetailsFormValid  && isVideo" [attr.class]="contactListTabClass" [ngStyle]="{ 'width': width }" (click)="resetActive($event, 60, 'step-4');">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-users" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs">{{contactListTabName}}</h5>
                        </div>
                    </div>
                    <div *ngIf="!isCampaignDetailsFormValid||!isVideo||!isContactList" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <ng-container *ngIf="campaignType=='landingPage'">
                                <span>
                                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                                </span>
                                <h5 class="hidden-xs" translate>Page</h5>
                            </ng-container>

                            <ng-container *ngIf="campaignType!='landingPage'">
                                <span>
                                    <i class="fa fa-envelope" aria-hidden="true"></i>
                                </span>
                                <h5 class="hidden-xs" translate>Email Template</h5>
                            </ng-container>
                        </div>
                    </div>

                    <div id="step5" *ngIf="isCampaignDetailsFormValid  && isVideo  && isContactList" [attr.class]="emailTemplateTabClass" [ngStyle]="{ 'width': width }" (click)="resetActive($event, 80, 'step-5');">
                        <div class="cenetered-block">
                            <ng-container *ngIf="campaignType=='landingPage'">
                                <span>
                                    <i class="fa fa-wpforms" aria-hidden="true"></i>
                                </span>
                                <h5 class="hidden-xs" translate>Page</h5>
                            </ng-container>

                            <ng-container *ngIf="campaignType!='landingPage'">
                                <span>
                                    <i class="fa fa-envelope" aria-hidden="true"></i>
                                </span>
                                <h5 class="hidden-xs" translate>Email Template</h5>
                            </ng-container>
                        </div>
                    </div>

                    <div *ngIf="!isCampaignDetailsFormValid  || !isVideo || !isContactList  || !isEmailTemplate || !isLandingPage" [attr.class]="disableTabClass" [ngStyle]="{ 'width': width }">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-flag" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs" translate>Launch</h5>
                        </div>
                    </div>

                    <div id="step6" *ngIf="isCampaignDetailsFormValid  && isVideo && isContactList  &&isEmailTemplate && isLandingPage" [attr.class]="launchCampaignTabClass" [ngStyle]="{ 'width': width }" (click)="resetActive($event, 100, 'step-6');addUserEmailIds();">
                        <div class="cenetered-block">
                            <span>
                                <i class="fa fa-flag" aria-hidden="true"></i>
                            </span>
                            <h5 class="hidden-xs" translate>Launch</h5>
                        </div>
                    </div>
                </div>
                <!-- -------------------------------------Campaign Details--------------------------------------------------------- -->
                <div class="row setup-content step activeStepInfo" id="step-2">
                    <!-- <br> -->
                    <div class="col-xs-12">
                        <form role="form" class="form-horizontal form-bordered form-label-stripped" id="campaignDetailsForm" aria-labelledby="form-label">
                            <div style="margin-top: 10px;">
                                <div class="portlet box">
                                    <div class="portlet-body form">
                                        <!-- BEGIN FORM-->
                                        <div class="form-body col-sm-6 col-sm-offset-3">
                                            <div class="form-group" [attr.class]="campaignNameDivClass">
                                                <label class="control-label col-sm-4" translate>Campaign name
                                                    <br><small translate>(Save as)</small>
                                                    <span style="color: red">*</span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="campaignName" placeholder="Campaign Name" class="form-control" [(ngModel)]="campaign.campaignName" name="campaignName" (input)="validateCampaignName(campaign.campaignName);validateForm();validateField('campaignName');" maxlength="200"/>
                                                    <span class="pull-left" *ngIf="!isValidCampaignName &&campaign.campaignName?.length>0" style="color: red" translate>Already Exists</span>
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Folder
                                                    <span style="color: red"><strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="campaign.categoryId" [(ngModel)]="campaign.categoryId" style="width: 100%">
                                                        <option *ngFor="let category of categoryNames"
                                                            [ngValue]="category.id">
                                                             {{category.name}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="!isOnlyPartner">
                                                <label class="control-label col-sm-4" *ngIf="campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{THROUGH_PARTNER_MESSAGE}}"><strong translate>Through Partner
                                                        </strong></label>
                                                <label class="control-label col-sm-4" *ngIf="!campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{THROUGH_PARTNER_MESSAGE}}" translate>Through Partner
                                                    </label>
                                                <div class="col-sm-8">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.channelCampaign" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.onTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onGreenColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setChannelCampaign($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label *ngIf="!campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{TO_PARTNER_MESSAGE}}"><strong>{{channelCampaignFieldName | translate}}</strong></label>
                                                                <label *ngIf="campaign.channelCampaign" data-toggle="tooltip" data-placement="top" title="{{TO_PARTNER_MESSAGE}}">{{channelCampaignFieldName | translate}}</label>
                                                                <span style="cursor: pointer;color: #54a7e9;">
                                                                    <i class="fa fa-question-circle" data-html="true"
                                                                        data-toggle="tooltip" data-placement="bottom"
                                                                        title="{{TO_PARTNER_MESSAGE}} <br> {{THROUGH_PARTNER_MESSAGE}}"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 15px;" aria-hidden="true"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <ng-container *ngIf="campaignType=='regular' && !campaign.channelCampaign && salesEnablement">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" translate>View In Browser</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.viewInBrowserTag" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setViewInBrowser($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Show / Hide View In Browser Tag"
                                                            style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="form-group" *ngIf="isGdprEnabled">
                                                <label class="control-label col-sm-4" translate>Unsubscribe Link</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign?.unsubscribeLink" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setUnsubscribeLink($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Show / Hide Unsubscribe Link"
                                                            style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>
                                                </div>
                                            </div>
                                        </ng-container>
                                            <div class="form-group" *ngIf="!isOnlyPartner && campaign.channelCampaign">
                                                <label class="control-label col-sm-4" translate>Co-Branding Logo</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign.enableCoBrandingLogo" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setCoBrandingLogo($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
                                                        <i class="fa fa-question-circle" data-toggle="tooltip"
                                                            data-placement="top" aria-hidden="true"
                                                            title="Enable your Partner's logo to be displayed in redistributed campaigns"
                                                            style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
                                                    </span>
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="!isOnlyPartner && campaignType!='sms' && (campaign.channelCampaign || (campaignType=='landingPage'  && channelCampaignFieldName != 'To Recipient')) ">
                                                <label class="control-label col-sm-4" translate>Notify Partners ?</label>
                                                <div class="col-sm-8">
                                                    <switch class="pull-left" [status]="campaign.emailNotification" [onText]="callActionSwitch.yesTextValue" [offText]="callActionSwitch.noTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                        (statusChange)="setPartnerEmailNotification($event)">
                                                    </switch>
                                                    <span style="cursor: pointer;color: #54a7e9;">
														<i class="fa fa-question-circle" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="Send email notifications to your partners about your campaign" style="font-size: 20px;float: left;margin: -14px 0 0 15px;"></i>
													</span>

                                                </div>
                                            </div>

                                            <div class="form-group" [attr.class]="fromNameDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>From Name
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="fromName" placeholder="From Name" class="form-control" [(ngModel)]="campaign.fromName" name="fromName" (input)="validateForm();validateField('fromName');" maxlength="200" />
                                                </div>
                                            </div>
                                            <div class="form-group" [attr.class]="subjectLineDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Subject Line
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="subjectLineId" placeholder="Subject Line" class="form-control" [(ngModel)]="campaign.subjectLine" name="subjectLine" maxlength="1000" (input)="validateForm();validateField('subjectLine');" />
                                                </div>
                                            </div>
                                            <div class="form-group" [attr.class]="fromEmaiDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>From Email
                                                    <span style="color: red">
                                                        <strong>*</strong>
                                                    </span>
                                                </label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="campaign.email" [(ngModel)]="campaign.email" style="width: 100%" (change)="setFromName()">
                                                        <option *ngFor="let teamMember of teamMemberEmailIds"
                                                            [ngValue]="teamMember.emailId">
                                                            {{teamMember.emailId}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group" [attr.class]="preHeaderDivClass" *ngIf="campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>Pre Header<span
                                                        style="color: red"><strong>*</strong></span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" id="preHeader" placeholder="Preheader" class="form-control" [(ngModel)]="campaign.preHeader" name="preHeader" (input)="validateForm();validateField('preHeader');" maxlength="200" />
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="campaign.emailNotification">
                                                <label class="control-label col-sm-4" translate>Notify Me When</label>
                                                <div class="col-sm-8">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Email is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.linkOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setLinkOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Link is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='sms'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>SMS is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='sms'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.emailOpened" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setEmailOpened($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>SMS is opened</label>
                                                            </div>
                                                        </div>

                                                        <div class="email-options-checkbox clearfix" *ngIf="campaignType=='video'">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.videoPlayed" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="setVideoPlayed($event)">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <label translate>Video is played</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="(!isOnlyPartner && campaign.channelCampaign && enableLeads && campaignType!='landingPage') || (enableLeads && campaignType!='landingPage' && showMarketingAutomationOption)">
                                                <label class="control-label col-sm-4" translate>Push To Marketing Automation
                                                    </label>
                                                <div class="col-sm-3">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="campaign.pushToMarketingAutomation" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="pushToCrm()">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Push your leads into marketing automation">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-5 " *ngIf="isPushToCrm" style="display: table-caption;">
                                                    <div class="row ">
                                                        <div div class="col-md-6" *ngIf="enableLeads">
                                                            <div class="  cenetered-block1">
                                                                <div class="">
                                                                    <label class="customcheck">
                                                                        <input type="checkbox" [checked]="campaign.pushToMarketo"
                                                                            (click)="pushToCrmRequest('marketo', $event)">
                                                                        <span class="checkmark"></span>
                                                                    </label>
                                                                    <img class="image-size" src="assets/images/crm/marketo-crm.png" alt="">
                                                                    <div>
                                                                        <h5 class="hidden-xs mr-2" translate>Marketo</h5>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div div class="col-md-6" *ngIf="enableLeads">
                                                            <div class="cenetered-block1">
                                                                <div class="">
                                                                    <label class="customcheck">
                                                                        <input type="checkbox" [checked]="campaign.pushToHubspot"
                                                                            (click)="pushToCrmRequest('hubspot', $event)">
                                                                        <span class="checkmark"></span>
                                                                    </label>
                                                                    <img class="image-size" src="assets/images/crm/hubspot-crm.png" alt="">
                                                                    <div>
                                                                        <h5 class="hidden-xs mr-2" translate>Hubspot</h5>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group" *ngIf="showConfigurePipelines && ((!isOnlyPartner && campaign.channelCampaign && enableLeads && campaignType!='landingPage') || (enableLeads && campaignType!='landingPage' && showMarketingAutomationOption))">
                                                <label class="control-label col-sm-4" translate>Configure Pipelines
                                                    </label>
                                                <div class="col-sm-3">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <switch [status]="" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="configurePipelines()">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Configure Pipelines for this Campaign">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group" [attr.class]="leadPipelineClass" style="margin-bottom: 20px"
                                            *ngIf="isConfigurePipelines">
                                                <label class="control-label col-sm-4">Lead Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" [(ngModel)]="campaign.leadPipelineId" [ngModelOptions]="{standalone: true}"
                                                        placeholder="leadPipelineId" id="leadPipelineId" (change)="validateForm();">
                                                        <option [value]="0">Select Pipeline</option>
                                                        <option *ngFor="let pipeline of leadPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
                                                    </select>
                                                </div>
                                                
                                            </div>
                                              
                                            <div class="form-group" [attr.class]="dealPipelineClass" style="margin-bottom: 20px"
                                            *ngIf="isConfigurePipelines">
                                                <label class="control-label col-sm-4">Deal Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" [(ngModel)]="campaign.dealPipelineId" [ngModelOptions]="{standalone: true}"
                                                        placeholder="dealPipelineId" id="dealPipelineId" (change)="validateForm();">
                                                        <option [value]="0">Select Pipeline</option>
                                                        <option *ngFor="let pipeline of dealPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
                                                    </select>
                                                </div>
                                            </div>





                                            <!-- <div class="form-group" *ngIf="!isOnlyPartner && campaign.channelCampaign && enableLeads">
												<label class="control-label col-sm-4">Push Leads To Marketo</label>
												<div class="col-sm-8">
													<div class="email-options-checkbox-group email-options-notify">
														<div class="email-options-checkbox clearfix">
															<div class="col-sm-1 ui-switch-custom-div">
															 <ui-switch  [(ngModel)]="p" [checked]="pushToMarketo" (change)="pushMarketo($event)" [ngModelOptions]="{standalone: true}"></ui-switch>
															 <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
															 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushMarketo(pushToMarketo)" id="falseAction" *ngIf="!pushToMarketo">
																</switch>
																<switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
															 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushMarketo(pushToMarketo)" id="trueAction" *ngIf="pushToMarketo">
																</switch>
															</div>
																<div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
																<span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Push your leads into Marketo">
																		<i class="fa fa-question-circle" style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
																	</span>
															</div>
														</div>
													</div>
												</div>
											</div>
											
											<div class="form-group" *ngIf="!isOnlyPartner && campaign.channelCampaign">
												<label class="control-label col-sm-4">Push Leads To Hubspot</label>
												<div class="col-sm-8">
													<div class="email-options-checkbox-group email-options-notify">
														<div class="email-options-checkbox clearfix">
															<div class="col-sm-1 ui-switch-custom-div">
															 <ui-switch  [(ngModel)]="p" [checked]="pushToMarketo" (change)="pushMarketo($event)" [ngModelOptions]="{standalone: true}"></ui-switch>
															 <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
															 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushHubspot(pushToHubspot)" id="falseAction" *ngIf="!pushToHubspot">
																</switch>
																<switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
															 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushHubspot(pushToHubspot)" id="trueAction" *ngIf="pushToHubspot">
																</switch>
															</div>
																<div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
																<span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Push your leads into Hubspot">
																		<i class="fa fa-question-circle" style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
																	</span>
															</div>
														</div>
													</div>
												</div>
											</div> -->


                                            <div class="form-group" *ngIf="!isOnlyPartner && refService.smsCampaign && enableSMS  && campaignType!='sms'">
                                                <label class="control-label col-sm-4" translate>SMS service</label>
                                                <div class="col-sm-8">
                                                    <div class="email-options-checkbox-group email-options-notify">
                                                        <div class="email-options-checkbox clearfix">
                                                            <div class="col-sm-1 ui-switch-custom-div">
                                                                <!-- <ui-switch  [(ngModel)]="p" [checked]="pushToMarketo" (change)="pushMarketo($event)" [ngModelOptions]="{standalone: true}"></ui-switch> -->
                                                                <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)"
                                                                    id="falseAction" *ngIf="!smsService">
                                                                </switch>
                                                                <switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)"
                                                                    id="trueAction" *ngIf="smsService">
                                                                </switch>
                                                            </div>
                                                            <div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -32px">
                                                                <span style="cursor: pointer;color: #54a7e9;" title="Enable SMS services for this campaign">
                                                                    <i class="fa fa-question-circle"
                                                                        style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" [attr.class]="smsTextDivClass" *ngIf="enableSmsText || campaignType=='sms'">
                                                <label class="control-label col-sm-4" translate>Sms Text
                                                    <font style="color: red">
                                                        <b>*</b>
                                                    </font>
                                                </label>
                                                <div class="col-sm-8">
                                                    <textarea id="smsText" placeholder="Sms Text" class="form-control" [(ngModel)]="smsText" name="smsText" (input)="validateForm();validateField('smsText');" maxlength="200"></textarea>
                                                </div>
                                            </div>


                                            <!-- 	<div class="form-group">
										<label class="control-label col-sm-4">Sharing Options</label>
										<div class="col-sm-8">
											<div class="email-options-checkbox-group email-options-notify">
												<div class="email-options-checkbox clearfix" *ngIf="campaignType=='video'">
													<div class="col-sm-1 ui-switch-custom-div">
													<ui-switch color="green" size="medium" [(ngModel)]="campaign.replyVideo" name="replyVideo"  (change)=setReplyWithVideo($event)></ui-switch>
													</div>
													<div>
														<label style="margin-top: 10px;">Reply with Video</label>
													</div>
												</div>
												<div class="email-options-checkbox clearfix">
													<div class="col-sm-1 ui-switch-custom-div">
													<ui-switch color="green" size="medium" [(ngModel)]="campaign.socialSharingIcons" name="socialSharingIcons"  (change)=setSocialSharingIcons($event)></ui-switch>
													</div>
													<div>
														<label style="margin-top: 10px;">Social Sharing Icons</label>
													</div>
												</div>
											</div>
										</div>
									</div> -->
                                            <!-- <div class="form-group last" [attr.class]="messageDivClass">
										<label class="control-label col-sm-4">Notification Message<font style="color: red"><b>*</b></font></label>
										<div class="col-sm-8">
											<input type="text" id="message"	placeholder="Notification Message" class="form-control" [(ngModel)]="campaign.message" name="message" (input)="validateForm();validateField('message');" maxlength="200" />
										</div>
									</div> -->
                                        </div>
                                        <!-- </form> -->
                                        <!-- END FORM-->
                                    </div>
                                </div>
                                <button *ngIf="campaignType=='video'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-3');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>

                                <button *ngIf="campaignType=='regular' || campaignType=='landingPage'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-4');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>

                                <button *ngIf="campaignType=='sms'" type="button" id="campaign-detail-next-button" style="float: right" class=" btn green" (click)="resetActive($event, 40, 'step-4');" title="Please Fill Campaign Details" [disabled]="!isCampaignDetailsFormValid" translate>Next</button>
                            </div>
                        </form>
                    </div>
                    <div id="emailTemplateContent" style="display: none;"></div>
                    <!-- [innerHTML]="selectedTemplateBody" -->
                </div>
                <!-- -------------------------------------Video Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-3">
                    <!-- <br> -->
                    <div class="col-xs-12">
                        <div class="col-xs-12 text-center" style="margin-top: 10px;">
                            <div class="row pb10" id="user_list_table_view">
                                <div class="col-lg-12" style="padding-left: 0px;padding-right: 0px;">
                                    <div class="note-vid" translate>Select the video for your campaign</div>
                                    <div id="home" class="tab-pane fade in active">
                                        <div class="tab" *ngIf="!campaign.createdFromVideos">
                                            <button [class]="myVideosClass" (click)="showTab($event,'my-videos')" id="my-videos-tab" *ngIf="!isOnlyPartner" translate>My Videos</button>
                                            <ng-container *ngIf="!campaign.createdFromVideos">
                                                <div class="input-icon right pull-right m10" *ngIf="isMyVideosActive">
                                                    <input type="text" [(ngModel)]="videoSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search for a Video" (keypress)="eventHandler($event.keyCode, 'myvideos')">
                                                    <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:5px;" *ngIf="videoSearchInput" (click)="videoSearchInput=''"></button>
                                                    <button type="submit" class="search-box-item-click" style="padding:4px !important;" (click)="searchVideo()"><i
                                                            class="fa fa-search"
                                                            style="font-size: 16px !important;padding:5px !important;"></i></button>
                                                </div>
                                                <div class="input-icon right pull-right m10" *ngIf="!isMyVideosActive">
                                                    <input type="text" [(ngModel)]="channelVideoSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search for a Video" (keypress)="eventHandler($event.keyCode, 'channel')">
                                                    <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:5px;" *ngIf="channelVideoSearchInput" (click)="channelVideoSearchInput=''"></button>
                                                    <button type="submit" class="search-box-item-click" style="padding:4px !important;" (click)="searchChannelVideo()"><i class="fa fa-search"
                                                            style="font-size: 16px !important;padding:5px !important;"></i></button>
                                                </div>
                                            </ng-container>
                                        </div>

                                        <div id="my-videos" class="tabcontent" [style.display]="myVideosStyle">
                                            <div id="videos_table_new_wrapper" class="dataTables_wrapper form-inline no-footer">
                                                <div class="table-responsive">
                                                    <table class="table table-filter" cellspacing="0" width="100%" style="background-color: rgb(255, 255, 255);" role="grid" id="videoTable">
                                                        <thead style="background-color: #B7B7B7;">
                                                            <tr role="row">
                                                                <th class="sorting_disabled" rowspan="1" colspan="1" aria-label="Thumbnail" style="width: 45%;" translate>Videos
                                                                </th>
                                                                <!-- <th style="text-align: center;" class="sorting" tabindex="0" aria-controls="videos_table_new" rowspan="1" colspan="1" aria-label="Title: activate to sort column ascending"></th> -->
                                                                <th style="text-align: center;width: 24%;" class="sorting_disabled" rowspan="1" colspan="1" *ngIf="!campaign.createdFromVideos">
                                                                    <span class="filter_column filter_select">
                                                                        <select class="select_filter form-control"
                                                                            data-live-search="true"
                                                                            (change)="filterCategoryVideos($event)">
                                                                            <option value="" class="search_init" translate>
                                                                                Category</option>
                                                                            <option *ngFor="let category of categories"
                                                                                class="colorSelect"
                                                                                value="{{category.id}}"
                                                                                [selected]="category.id==videosPagination.videoCategoryId">
                                                                                {{category.name}}</option>
                                                                        </select>
                                                                    </span>
                                                                </th>
                                                                <th style="text-align: center;width: 24%;" *ngIf="campaign.createdFromVideos" translate>Category</th>
                                                                <th style="text-align: center;width: 18%;" *ngIf="!campaign.createdFromVideos" translate>Upload Date
                                                                    <span class="filter_column filter_select" *ngIf="false">
                                                                        <select class="form-control"
                                                                            (change)="filterVideosByType($event)">
                                                                            <option value="" class="search_init" translate>Type
                                                                            </option>
                                                                            <option value="PRIVATE" translate>PRIVATE</option>
                                                                            <option value="PUBLIC" translate>PUBLIC</option>
                                                                            <option value="UNLISTED" translate>UNLISTED</option>
                                                                        </select>
                                                                    </span>
                                                                </th>
                                                                <!-- <th style="text-align: center;width: 18%;" *ngIf="campaign.createdFromVideos">Type</th> -->
                                                                <th style="text-align: center;width: 18%;" *ngIf="campaign.createdFromVideos" translate>Upload Date</th>
                                                                <th style="text-align: center;width: 13%;" translate>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="row_selected">
                                                            <tr *ngIf="campaignVideo.httpRequestLoader.isServerError || campaignVideo.httpRequestLoader.isLoading">
                                                                <td colspan="5">
                                                                    <app-loader [model]="campaignVideo.httpRequestLoader.isHorizontalCss" *ngIf="campaignVideo.httpRequestLoader.isLoading">
                                                                    </app-loader>
                                                                    <app-error-pages *ngIf="campaignVideo.httpRequestLoader.isServerError">
                                                                    </app-error-pages>
                                                                </td>
                                                            </tr>
                                                            <tr *ngIf="videosPagination.totalRecords==0">
                                                                <td colspan="5">
                                                                    <div class="alert alert-info"><strong translate>No videos found
                                                                            </strong></div>
                                                                </td>
                                                            </tr>
                                                            <ng-container *ngIf="videosPagination.totalRecords > 0 && !campaignVideo.httpRequestLoader.isLoading && !campaignVideo.httpRequestLoader.isServerError">
                                                                <!-- ------------------Selected Video Row-->
                                                                <ng-container *ngIf="showSelectedVideo==true && !partnerVideoSelected">
                                                                    <tr *ngIf="(!isAdd && isCampaignDraftVideo)|| (refService.campaignVideoFile!=undefined)" [class.active]="selectedRow==savedVideoFile.id" id="selectedVideoRow" (click)="setClickedRow(savedVideoFile,'my-videos')">
                                                                        <!-- --------------Thumbnail--------------------------- -->
                                                                        <td style="text-align: center;">
                                                                            <input class="radio-button-css" type="radio" [checked]="selectedRow==savedVideoFile.id" (click)="setClickedRow(savedVideoFile,'my-videos')" name="videoFileId" [value]="savedVideoFile.id" id="campaign_video_id_{{savedVideoFile.id}}">
                                                                            <!-- <a href="javascript:void(0)" (click)="$event.stopPropagation();showPreview(savedVideoFile)">
																			<img src="{{savedVideoFile.imagePath}}" width="100px" height="50px"  (error)="videoUtilService.errorVideoHandler($event)">
                                    </a> -->
                                                                            <app-video-thumbnail [videoFile]="savedVideoFile" (notifyParent)="showPreview($event)">
                                                                            </app-video-thumbnail>
                                                                        </td>
                                                                        <!-- --------------Category--------------------------- -->
                                                                        <td class="text-center">
                                                                            {{savedVideoFile.categoryName}}</td>
                                                                        <!-- --------------Published To--------------------------- -->
                                                                        <td class="text-center">
                                                                            <!-- <span class="view-by-banner">{{savedVideoFile.viewBy}}</span> -->
                                                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="savedVideoFile.uploadedDate">
                                                                            </app-timestamp>
                                                                        </td>
                                                                        <!-- --------------Status--------------------------- -->
                                                                        <td class="text-center">
                                                                            <img src="assets/images/draft.png" *ngIf="savedVideoFile.viewBy=='DRAFT'">
                                                                            <img src="assets/images/success.png" *ngIf="savedVideoFile.viewBy!='DRAFT'">
                                                                        </td>
                                                                    </tr>
                                                                </ng-container>
                                                                <!-- --------------------Avalilable Campaign Videos------------ -->
                                                                <ng-container *ngIf="!campaign.createdFromVideos">
                                                                    <tr role="row" class="odd" *ngFor="let videoFile of videosPagination.pagedItems;let i =  index" (click)="setClickedRow(videoFile,'my-videos')" [class.active]="(videoFile.id == selectedRow && videoFile.viewBy!=='DRAFT')" [attr.title]="draftMessage" (mouseover)='showToolTip(videoFile.viewBy)'>
                                                                        <!-- --------------Thumbnail--------------------------- -->
                                                                        <!-- --------------Title--------------------------- -->
                                                                        <td *ngIf="videoFile.id!==videoId">
                                                                            <input class="radio-button-css" *ngIf="videoFile.viewBy!='DRAFT' && videoFile.id!==videoId" type="radio" name="videoFileId" [value]="videoFile.id" (click)="setClickedRow(videoFile,'my-videos')" id="campaign_video_id_{{videoFile.id}}" [checked]="videoFile.id == selectedRow">
                                                                            <input class="radio-button-css" *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId" type="radio" name="videoFileId" [value]="videoFile.id" disabled="disabled" title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                            <app-video-thumbnail [ngClass]="{'not-active':videoFile.viewBy=='DRAFT'}" [videoFile]="videoFile" (notifyParent)="showPreview($event)">
                                                                            </app-video-thumbnail>
                                                                        </td>
                                                                        <!-- --------------Category--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            {{videoFile.categoryName}}</td>
                                                                        <!-- --------------Published To--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            <!-- <span class="view-by-banner">{{videoFile.viewBy}}</span> -->
                                                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="videoFile.uploadedDate">
                                                                            </app-timestamp>

                                                                        </td>
                                                                        <!-- --------------Status--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            <img src="assets/images/draft.png" *ngIf="videoFile.viewBy=='DRAFT'">
                                                                            <img src="assets/images/success.png" *ngIf="videoFile.viewBy!='DRAFT'">
                                                                        </td>
                                                                    </tr>
                                                                </ng-container>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div style="text-align:left;" [hidden]="isvideoThere && campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError && campaign.createdFromVideos">
                                                    <app-pagination [hidden]="campaignVideo.httpRequestLoader.isLoading || campaignVideo.httpRequestLoader.isServerError" [pagination]="videosPagination" [type]="'videos'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadCampaignVideos($event)">
                                                    </app-pagination>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- ----Partner Videos Start Here -->
                                        <div id="channel-videos" class="tabcontent" [style.display]="partnerVideosStyle">
                                            <div id="videos_table_new_wrapper" class="dataTables_wrapper form-inline no-footer">
                                                <div class="inputs" align="right" style="display:inline;padding: 5px 5px 12px 0px;">
                                                    <div class="portlet-input input-inline input-large">
                                                    </div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table table-filter" cellspacing="0" width="100%" style="background-color: rgb(255, 255, 255);" role="grid" id="videoTable" style="margin-top:-18px;">
                                                        <thead style="background-color: #B7B7B7;">
                                                            <tr role="row">
                                                                <th style="text-align: left;width:45%" translate>Videos</th>
                                                                <!-- <th style="text-align: center;" class="sorting" tabindex="0" aria-controls="videos_table_new" rowspan="1" colspan="1" aria-label="Title: activate to sort column ascending">Title</th> -->
                                                                <th style="width:24%;" class="text-center" *ngIf="!campaign.createdFromVideos">
                                                                    <span class="filter_column filter_select">
                                                                        <select class="select_filter form-control"
                                                                            data-live-search="true"
                                                                            (change)="filterPartnerCategoryVideos($event)">
                                                                            <option value="" class="search_init" translate>
                                                                                Category</option>
                                                                            <option
                                                                                *ngFor="let category of partnerCategories"
                                                                                class="colorSelect"
                                                                                value="{{category.id}}"
                                                                                [selected]="category.id==channelVideosPagination.videoCategoryId">
                                                                                {{category.name}}</option>
                                                                        </select>
                                                                    </span>
                                                                </th>
                                                                <th style="width: 24%;" class="text-center" *ngIf="campaign.createdFromVideos" translate>Category</th>
                                                                <th style="width: 18%" class="text-center" *ngIf="!campaign.createdFromVideos" translate>Upload Date
                                                                    <span class="filter_column filter_select" *ngIf="false">
                                                                        <select class="form-control"
                                                                            (change)="filterPartnerVideosByType($event)">
                                                                            <option value="" class="search_init" translate>Type
                                                                            </option>
                                                                            <option value="PRIVATE" translate>PRIVATE</option>
                                                                            <option value="PUBLIC" translate>PUBLIC</option>
                                                                            <option value="UNLISTED" translate>UNLISTED</option>
                                                                        </select>
                                                                    </span>
                                                                </th>
                                                                <!-- <th style="width: 18%;" class="text-center" *ngIf="campaign.createdFromVideos">Type</th> -->
                                                                <th style="width: 18%;" class="text-center" *ngIf="campaign.createdFromVideos" translate>Upload Date</th>
                                                                <th style="width: 13%;" class="text-center" translate>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="row_selected">
                                                            <tr *ngIf="campaignVideo.httpRequestLoader.isLoading || campaignVideo.httpRequestLoader.isServerError">
                                                                <td colspan="5">
                                                                    <app-loader [model]="campaignVideo.httpRequestLoader.isHorizontalCss" *ngIf="campaignVideo.httpRequestLoader.isLoading">
                                                                    </app-loader>
                                                                    <app-error-pages *ngIf="campaignVideo.httpRequestLoader.isServerError">
                                                                    </app-error-pages>
                                                                </td>
                                                            </tr>
                                                            <tr *ngIf="channelVideosPagination.totalRecords==0">
                                                                <td colspan="5">
                                                                    <div class="alert alert-info">
                                                                        <strong translate>No Partner videos found</strong>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <ng-container *ngIf="channelVideosPagination.totalRecords > 0 && !campaignVideo.httpRequestLoader.isLoading && !campaignVideo.httpRequestLoader.isServerError">
                                                                <ng-container *ngIf="showSelectedVideo==true && partnerVideoSelected">
                                                                    <tr *ngIf="(!isAdd && isCampaignDraftVideo)|| (refService.campaignVideoFile!=undefined)" [class.active]="selectedRow==savedVideoFile.id" id="selectedVideoRow" (click)="setClickedRow(savedVideoFile,'partner-videos')">
                                                                        <td class="text-center">
                                                                            <input class="radio-button-css" type="radio" [checked]="selectedRow==savedVideoFile.id" (click)="setClickedRow(savedVideoFile,'partner-videos')" name="videoFileId" [value]="savedVideoFile.id" id="campaign_video_id_{{savedVideoFile.id}}">
                                                                            <!-- <a href="javascript:void(0)" (click)="$event.stopPropagation();showPreview(savedVideoFile)">
																			<img src="{{savedVideoFile.imagePath}}" width="100px" height="50px" (error)="videoUtilService.errorVideoHandler($event)">
                                    </a> -->
                                                                            <app-video-thumbnail [videoFile]="savedVideoFile" (notifyParent)="showPreview($event)">
                                                                            </app-video-thumbnail>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            {{savedVideoFile.categoryName}}</td>
                                                                        <td class="text-center">
                                                                            <!-- <span class="view-by-banner">{{savedVideoFile.viewBy}}</span> -->
                                                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="savedVideoFile.uploadedDate">
                                                                            </app-timestamp>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <img src="assets/images/draft.png" *ngIf="savedVideoFile.viewBy=='DRAFT'">
                                                                            <img src="assets/images/success.png" *ngIf="savedVideoFile.viewBy!='DRAFT'">
                                                                        </td>
                                                                    </tr>
                                                                </ng-container>
                                                                <!-- --------------------Avalilable Campaign Videos------------ -->
                                                                <ng-container *ngIf="!campaign.createdFromVideos">
                                                                    <tr role="row" class="odd" *ngFor="let videoFile of channelVideosPagination.pagedItems;let i =  index" (click)="setClickedRow(videoFile,'partner-videos')" [class.active]="(videoFile.id == selectedRow && videoFile.viewBy!=='DRAFT')" [attr.title]="draftMessage"
                                                                        (mouseover)='showToolTip(videoFile.viewBy)'>
                                                                        <!-- --------------Thumbnail--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.viewBy!='DRAFT' && videoFile.id!==videoId">
                                                                            <input class="radio-button-css" type="radio" name="videoFileId" [value]="videoFile.id" (click)="setClickedRow(videoFile,'partner-videos')" id="campaign_video_id_{{videoFile.id}}" [checked]="videoFile.id == selectedRow">
                                                                            <!-- <a href="javascript:void(0)" (click)="$event.stopPropagation();showPreview(videoFile)" lang="{{videoFile.id}}">
																			<img src="{{videoFile.imagePath}}" width="100px" height="50px"  (error)="videoUtilService.errorVideoHandler($event)">
                                    </a> -->
                                                                            <input *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId" class="radio-button-css" type="radio" name="videoFileId" [value]="videoFile.id" disabled="disabled" title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                            <app-video-thumbnail [videoFile]="videoFile" (notifyParent)="showPreview($event)">
                                                                            </app-video-thumbnail>

                                                                        </td>
                                                                        <td class="text-center" *ngIf="videoFile.viewBy=='DRAFT'  && videoFile.id!==videoId">
                                                                            <input type="radio" name="videoFileId" [value]="videoFile.id" disabled="disabled" title="Video is in draft mode, please update the publish options to Library or Viewers.">
                                                                            <!-- <a href="javascript:void(0)" class="not-active">
																			<img src="{{videoFile.imagePath}}" width="100px" height="50px" (error)="videoUtilService.errorVideoHandler($event)">
                                    </a> -->
                                                                            <app-video-thumbnail [ngClass]="{'not-active':videoFile.viewBy=='DRAFT'}" [videoFile]="videoFile" (notifyParent)="showPreview($event)">
                                                                            </app-video-thumbnail>
                                                                        </td>
                                                                        <!-- --------------Category--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            {{videoFile.categoryName}} </td>
                                                                        <!-- --------------Published To--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            <!-- <span class="view-by-banner">{{videoFile.viewBy}}</span> -->
                                                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="videoFile.uploadedDate">
                                                                            </app-timestamp>
                                                                        </td>
                                                                        <!-- --------------Status--------------------------- -->
                                                                        <td class="text-center" *ngIf="videoFile.id!==videoId">
                                                                            <img src="assets/images/draft.png" *ngIf="videoFile.viewBy=='DRAFT'">
                                                                            <img src="assets/images/success.png" *ngIf="videoFile.viewBy!='DRAFT'">
                                                                        </td>
                                                                    </tr>
                                                                </ng-container>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div style="text-align:left;" [hidden]="isPartnerVideoExists && campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError && campaign.createdFromVideos">
                                                    <app-pagination [hidden]="campaignVideo.httpRequestLoader.isLoading && campaignVideo.httpRequestLoader.isServerError" [pagination]="channelVideosPagination" [type]="'partner-videos'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadPartnerVideos($event)">
                                                    </app-pagination>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" style="float:left;margin-left:-15px;" class="btn btn-default" (click)="resetActive($event, 40, 'step-2');" translate>Previous</button>
                            <button type="button" style="float: right;margin-right: -15px;" class="btn btn-default btn green" (click)="resetActive($event, 40, 'step-4');" [disabled]="!isVideo" title="Please Select Video" translate>Next</button>
                        </div>
                    </div>
                </div>
                <!-- End Of 197(Video Tab) -->
                <!-- -------------------------------------Contact List Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-4">
                    <div class="col-xs-12">
                        <div class="col-xs-12 text-center" style="margin-top: 10px;">
                            <div class="row pb10" id="user_list_table_view">
                                <app-loader [model]="campaignContact.httpRequestLoader.isHorizontalCss" *ngIf="campaignContact.httpRequestLoader.isLoading"></app-loader>
                                <app-error-pages *ngIf="campaignContact.httpRequestLoader.isServerError">
                                </app-error-pages>
                                <div [hidden]="campaignContact.httpRequestLoader.isLoading || campaignContact.httpRequestLoader.isServerError">
                                    <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer" style="padding:10px">
                                        <div class="note-vid pull-left">{{contactListSelectMessage}}</div>
                                        <div class="inputs" style="float: right;">
                                            <div style="float: left;">
                                                 <select class="form-control cc" [(ngModel)]="recipientsSortOption.selectedCampaignRecipientsDropDownOption"
                                                    (ngModelChange)="sortRecipientsList($event)">                                                    
                                                    <option  *ngFor="let option of recipientsSortOption.campaignRecipientsDropDownOptions"
                                                        [ngValue]="option">{{option.name}}</option>
                                                </select> 
                                            </div>
                                            <div class="portlet-input input-inline" style="position: relative;top: -6px;">
                                                <div class="input-icon right">
                                                    <input type="text" [(ngModel)]="recipientsSortOption.searchKey" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search for a list" (keypress)="eventHandler($event.keyCode, 'contact')">
                                                    <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:5px;" *ngIf="recipientsSortOption.searchKey" (click)="recipientsSortOption.searchKey='';searchContactList()"></button>
                                                    <button type="submit" class="search-box-item-click" style="padding:4px !important;" (click)="searchContactList()">
                                                        <i class="fa fa-search" style="font-size: 16px !important;padding:5px !important;" aria-hidden="true"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-lg-12 row-fluid p0">
                                                <div class="alert alert-success" *ngIf="selectedContactListIds?.length>0">
                                                    <ng-container *ngIf="selectedContactListIds?.length==1">
                                                        {{selectedContactListIds?.length}} row is selected
                                                    </ng-container>
                                                    <ng-container *ngIf="selectedContactListIds?.length>1">
                                                        {{selectedContactListIds?.length}} rows are selected
                                                    </ng-container>
                                                </div>
                                            <table class="table table-filter" *ngIf="contactsPagination.totalRecords==0" aria-describedby="contactandpartnerstable">
                                                <tr>
                                                    <th colspan="5" scope="row">
                                                        <div class="alert alert-info">
                                                            <strong>{{emptyContactListMessage}}</strong>
                                                        </div>
                                                    </th>
                                                </tr>
                                            </table>
                                            <div class="table-responsive">
                                                <table class="table tgrid table-hover table-sm" id="user_list_tb" role="grid" aria-describedby="user_list_tb_info" *ngIf="contactsPagination.totalRecords > 0">
                                                    <thead>
                                                        <tr>
                                                            <th scope="row" class="text-center">
                                                                <input type="checkbox" name="all" [(ngModel)]="isHeaderCheckBoxChecked" (change)="checkAll($event)" id="checkAllExistingContacts" />
                                                            </th>
                                                            <th class="hidden-xs" scope="row" colspan="2" style="width: 35%">
                                                                <span class="ui-column-resizer" (mousedown)="refService.onMouseDown($event,'user_list_tb',2)"></span>
                                                                <span class="gridHeader" translate>List Name</span>
                                                            </th>
                                                            <th class="visible-xs" scope="row" colspan="1" style="width: 35%" translate>
                                                                List Info
                                                            </th>
                                                            <th scope="row" style="text-align: center;" *ngIf="showContactType" translate>Type
                                                            </th>
                                                            <th scope="row" style="text-align: center;" translate>Uploaded Date</th>
                                                            <th scope="row" style="text-align: center;" translate>Count</th>
                                                            <th scope="row" style="text-align: center;" translate>Preview </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr role="row" *ngFor="let contacts of contactsPagination.pagedItems;let i = index" id="campaignContactListTable_{{contacts.id}}" (click)="highlightContactRow(contacts,$event,contacts.count,contacts.emailValidationInd)" [class.contact-list-selected]="(selectedContactListIds.indexOf(contacts.id)>-1 && contacts.count>0)"
                                                            (mouseover)='showContactsAlert(contacts.count)' [attr.title]="emptyContactsMessage">
                                                            <td>
                                                                <div class="form-group">
                                                                    <input type="checkbox" class="chk" lang="{{contacts.name}}" id="{{contacts.id}}" [checked]="selectedContactListIds.indexOf(contacts.id)>-1" name="campaignContact[]" value="{{contacts.id}}" (click)="highlightRow(contacts,$event)">
                                                                </div>
                                                            </td>
                                                            <td style="width: 10%;text-align: left;" class="hidden-xs">
                                                                <img  *ngIf="contacts?.socialNetwork=='ZOHO'" src="{{properties?.zohoImage}}" alt="Zoho" class="img-class-list">
                                                                <img *ngIf="contacts?.socialNetwork=='GOOGLE'" src="{{properties?.googleImage}}" alt="Google" class="img-class-list">
                                                                <img *ngIf="contacts?.socialNetwork=='SALESFORCE'" src="{{properties?.salesforceImage}}" alt="Salesforce" class="img-class-list"> 
                                                                <img *ngIf="contacts?.socialNetwork=='MANUAL'" src="{{properties?.manualImage}}" alt="Manual" class="img-class-list">
                                                                <img *ngIf="contacts?.socialNetwork=='HUBSPOT'" src="{{properties?.hubspotImage}}" alt="Hubspot" class="img-class-list">
                                                                <img *ngIf="contacts?.socialNetwork=='MARKETO'" src="{{properties?.marketoImage}}" alt="Marketo" class="img-class-list">
                                                              </td>
                                                              <td style="text-align: left;">
                                                                <h4 class="moreipsis mt5 mb5 f-w-600" title="{{contacts?.name}}">
                                                                    <span><strong>{{contacts?.name}}</strong></span>
                                                                </h4>
                                                                <h6 class="moreipsis" title="{{contacts?.createdName}}">
                                                                    <span translate> Created By <strong>{{contacts?.creatorName}}</strong></span>
                                                                </h6>
                                                                <ng-container *ngIf="!contacts?.partnerList">
                                                                    <h6 class="view-banner" translate>
                                                                        <span *ngIf="contacts?.publicList" data-toggle="tooltip" data-placement="top"
                                                                            title="{{actionsDescription?.contact_list_public}}" translate>Public
                                                                        </span>
                                                                        <span *ngIf="!contacts?.publicList" data-toggle="tooltip" data-placement="top"
                                                                            title="{{actionsDescription?.contact_list_private}}" translate>Private
                                                                        </span>
                                                                    </h6>
                                                                </ng-container>
                                                              </td>
                                                            <td *ngIf="showContactType">
                                                                {{contacts?.listType}}
                                                            </td>
                                                            <td class="text-center sorting_1">
                                                                <app-timestamp  [dateAndTime]="contacts?.displayTime">
                                                                </app-timestamp>
                                                            </td>
                                                            <td>
                                                                {{contacts?.count}}
                                                            </td>
                                                            <td class="text-center">
                                                                <a (click)="$event.stopPropagation();previewUsers(contacts)">
                                                                    <i class="fa fa-eye" aria-hidden="true"style="color: #008fd5;padding-top: 3px; font-size: 20px;" title="" data-original-title="Preview"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="text-align:left" [hidden]="contactsPagination.totalRecords ==0  || campaignContact.httpRequestLoader.isLoading || campaignContact.httpRequestLoader.isServerError">
                                    <app-pagination [pagination]="contactsPagination" [type]="'contacts'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadCampaignContacts($event)">
                                    </app-pagination>
                                </div>
                            </div>
                            <button *ngIf="campaignType=='video'" type="button" style="float:left;" class="btn btn-default" (click)="resetActive($event, 40, 'step-3');" translate>Previous</button>
                            <button *ngIf="campaignType=='regular'" type="button" style="float:left;" class="btn btn-default" (click)="resetActive($event, 40, 'step-2')" translate>Previous</button>
                            <button type="submit" style="float: right;" class="btn btn-default btn green" (click)="resetActive($event, 40, 'step-5');" [disabled]="!isContactList" title="Please Select Contact List" translate>Next</button>
                        </div>
                    </div>
                </div>
                <!-- -------------------------------------Email Template Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-5" *ngIf="campaignType!='landingPage'">
                    <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <div class="col-xs-12 text-center" style="margin-top: 10px;">
                        <div class="portlet light">
                            <!-- <ul class="mix-filter pull-left" style="padding:0" *ngIf="!campaign.enableCoBrandingLogo">
                                <li class="filter" (click)="filterTemplates('NONE',0)" [class.emailtemplate-selected]="0 == selectedEmailTemplateTypeIndex" *ngIf="!isOnlyPartner" translate>All</li>
                                <li class="filter" (click)="filterTemplates('EMAIL',2)" *ngIf="campaignType=='regular' && !isOnlyPartner" [class.emailtemplate-selected]="2 == selectedEmailTemplateTypeIndex" translate>Email
                                </li>
                                <li class="filter" (click)="filterTemplates('UPLOADED',3)" *ngIf="campaignType=='regular' && !isOnlyPartner" [class.emailtemplate-selected]="3 == selectedEmailTemplateTypeIndex" translate>Uploaded
                                </li>
                                <li class="filter" (click)="filterTemplates('REGULAR_CO_BRANDING',4)" *ngIf="campaignType=='regular' && !isOnlyPartner" [class.emailtemplate-selected]="4 == selectedEmailTemplateTypeIndex" translate>Email Co-Branding</li>
                                <li class="filter" (click)="filterTemplates('VIDEO',5)" *ngIf="campaignType=='video' && !isOnlyPartner" [class.emailtemplate-selected]="5== selectedEmailTemplateTypeIndex" translate>Video
                                </li>
                                <li class="filter" (click)="filterTemplates('UPLOADED',6)" *ngIf="campaignType=='video' && !isOnlyPartner" [class.emailtemplate-selected]="6== selectedEmailTemplateTypeIndex" translate>Uploaded
                                </li>
                                <li class="filter" (click)="filterTemplates('VIDEO_CO_BRANDING',7)" *ngIf="campaignType=='video' && !isOnlyPartner" [class.emailtemplate-selected]="7== selectedEmailTemplateTypeIndex" translate>Video Co-Branding</li>
                            </ul> -->

                            <div class="input-icon right pull-right cebp">
                                <input type="text" [(ngModel)]="emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search here" (keypress)="eventHandler($event.keyCode, 'emailTemplate')">
                                <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="emailTemplateSearchInput" (click)="emailTemplateSearchInput='';searchEmailTemplate()"></button>
                                <button type="submit" class="search-box-item-click email-search" (click)="searchEmailTemplate()">
                                    <i class="fa fa-search cesf-xamp"></i></button>
                            </div>
                            <button type="submit" class="campaign-email-template-filter-icon" (click)="showFolderFilterPopup()">
                                <i class="fa fa-filter cesf-xamp requried" *ngIf="selectedFolderIds?.length>0"></i>
                                <i class="fa fa-filter cesf-xamp" *ngIf="selectedFolderIds?.length==0"></i>
                            </button>
                            <div class="portlet-body">
                                <div class="row">
                                    <form role="form" class="form-horizontal form-bordered form-label-stripped">
                                        <div class="col-xs-12">
                                            <app-loader *ngIf="campaignEmailTemplate.httpRequestLoader.isLoading">
                                            </app-loader>
                                            <app-error-pages *ngIf="campaignEmailTemplate.httpRequestLoader.isServerError">
                                            </app-error-pages>
                                            <ng-container *ngIf=" emailTemplatesPagination.totalRecords > 0 && !campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
                                                <div class="row pb10" id="user_list_table_view">
                                                    <div class="portlet-body">
                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">

                                                            <div class="mix-grid">

                                                                <ng-container *ngIf="showSelectedEmailTemplate">
                                                                    <!-- !hideCoBrandedEmailTemplate -->
                                                                    <div *ngIf="!isAdd && isCampaignDraftEmailTemplate && emailTemplatesPagination.totalRecords>0 && emailTemplatesPagination.pageIndex==1 ">
                                                                        <ul class="content__list">
                                                                            <li class="list__item" [class.list__item--selected]="emailTemplateId === selectedEmailTemplateRow">
                                                                                <!-- above class [ngClass]="{'list__item--selected':selectedFileIds.indexOf(file.id)>-1}" -->
                                                                                <div class="flex-row" (click)="setEmailTemplate(campaign.emailTemplate)">
                                                                                    <div class="item__select-box-wrapper">
                                                                                        <span class="select-box">
                                                                                            <label>
                                                                                                <input
                                                                                                    (click)="setEmailTemplate(campaign.emailTemplate)"
                                                                                                    type="checkbox"
                                                                                                    *ngIf="emailTemplateId!=selectedEmailTemplateRow"
                                                                                                    (click)="setEmailTemplate(campaign.emailTemplate)">
                                                                                                <input type="checkbox"
                                                                                                    checked="checked"
                                                                                                    *ngIf="emailTemplateId==selectedEmailTemplateRow">
                                                                                            </label>
                                                                                        </span>
                                                                                        <span class="ng-scope"> <a
                                                                                                class="item__preview item__preview--image img-container custom"
                                                                                                target="_BLANK"> <img
                                                                                                    class="thumb ng-scope"
                                                                                                    style="width:103px !important"
                                                                                                    src="{{campaign.emailTemplate.subject}}">
                                                                                            </a> <a href="javascript:;">
                                                                                            </a>
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="item__content">
                                                                                        <div class="flex-row">
                                                                                            <span class="item__name" style="float:left" [title]="campaign.emailTemplate.name"><b>{{campaign.emailTemplate.name |slice:0:15}}</b><b
                                                                                                    *ngIf="campaign.emailTemplate?.name?.length>15">..</b>
                                                                                            </span>
                                                                                            <br>
                                                                                            <span lass="item__name" title="created on" style="float:left">
                                                                                                <span>
                                                                                                    <app-timestamp
                                                                                                        [isOnlyDate]="true"
                                                                                                        [dateAndTime]="campaign?.emailTemplate?.createdDate">
                                                                                                    </app-timestamp>
                                                                                                </span>
                                                                                            </span>
                                                                                            <ng-container *ngIf="campaign?.emailTemplate?.type!='PARTNER'">
                                                                                                <span style="float:left" title="{{campaign?.emailTemplate?.createdBy}}">
                                                                                                    <b translate>By:</b><span>{{campaign?.emailTemplate?.createdBy|slice:0:12}}<span
                                                                                                            *ngIf="campaign?.emailTemplate?.createdBy?.length>12">..</span></span>
                                                                                                </span>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="campaign?.emailTemplate?.type=='PARTNER'">
                                                                                                <span style="float:left" title="{{campaign?.emailTemplate?.vendorName}}">
                                                                                                    <b translate>By:</b><span>{{campaign?.emailTemplate?.vendorName|slice:0:12}}<span
                                                                                                            *ngIf="campaign?.emailTemplate?.vendorName?.length>12">..</span></span>
                                                                                                </span>
                                                                                            </ng-container>
                                                                                            <span *ngIf="campaign?.emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{campaign?.emailTemplate?.category}}">
                                                                                                <b translate>Folder:</b><font>{{campaign?.emailTemplate?.category|slice:0:5}}</font>
                                                                                                <font *ngIf="campaign?.emailTemplate?.category?.length>5">..</font>
                                                                                            </span>
                                                                                            <div class="item__actions">
                                                                                                <span> <a
                                                                                                        style="float:left; right: -6px;"
                                                                                                        class="fm external-link"
                                                                                                        target="_BLANK"
                                                                                                        data-toggle="tooltip"
                                                                                                        data-placement="top"
                                                                                                        title="Preview"
                                                                                                        (click)="$event.stopPropagation();getTemplateById(campaign.emailTemplate)">
                                                                                                        <!-- (click)="preview(file)"  -->
                                                                                                        <i class="fa fa-external-link-square"
                                                                                                            aria-hidden="true"
                                                                                                            style="padding-top: 1px !important;; font-size: 20px; color: #5a5a5a"></i>
                                                                                                    </a>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="clearfix"></div>
                                                                                </div>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </ng-container>
                                                                <ul class="content__list" *ngFor="let emailTemplate of emailTemplatesPagination.pagedItems ;let i =index">
                                                                    <li *ngIf="emailTemplateId!=emailTemplate.id" class="list__item" [class.list__item--selected]="emailTemplate.id === selectedEmailTemplateRow">
                                                                        <!-- above class [ngClass]="{'list__item--selected':selectedFileIds.indexOf(file.id)>-1}" -->
                                                                        <div class="flex-row" (click)="setEmailTemplate(emailTemplate)">
                                                                            <div class="item__select-box-wrapper">
                                                                                <span class="select-box" [class.hide]="emailTemplate.draft">
                                                                                    <label>
                                                                                        <input
                                                                                            (click)="setEmailTemplate(emailTemplate)"
                                                                                            type="checkbox">
                                                                                    </label>
                                                                                </span>
                                                                                <!-- [checked]="selectedFileIds.indexOf(file.id)>-1" -->
                                                                                <span class="ng-scope"> <a
                                                                                        class="item__preview item__preview--image img-container custom"
                                                                                        target="_BLANK"> <img
                                                                                            class="thumb ng-scope"
                                                                                            style="width: 103px !important"
                                                                                            src="{{emailTemplate.subject}}">
                                                                                    </a> <a href="javascript:;"> </a>
                                                                                </span>
                                                                            </div>
                                                                            <div class="item__content">
                                                                                <div class="flex-row">
                                                                                    <span class="item__name" style="float:left" [title]="emailTemplate.name"><b>{{emailTemplate.name |slice:0:15}}</b><b
                                                                                            *ngIf="emailTemplate?.name?.length>15">..</b>
                                                                                    </span>
                                                                                    <br>
                                                                                    <span class="item__name" title="created on" style="float:left">
                                                                                        <span>
                                                                                            <app-timestamp
                                                                                                [isOnlyDate]="true"
                                                                                                [dateAndTime]="emailTemplate.createdDate">
                                                                                            </app-timestamp>
                                                                                        </span>
                                                                                    </span>
                                                                                    <br>
                                                                                    <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                        <span style="float:left" title="{{emailTemplate.createdBy}}">
                                                                                            <b translate>By:</b><span>{{emailTemplate.createdBy|slice:0:12}}<span
                                                                                                    *ngIf="emailTemplate.createdBy?.length>12">..</span></span>
                                                                                        </span>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                        <span style="float:left" title="{{emailTemplate.vendorName}}">
                                                                                            <b translate>By:</b><span>{{emailTemplate.vendorName|slice:0:12}}<span
                                                                                                    *ngIf="emailTemplate.vendorName?.length>12">..</span></span>
                                                                                        </span>
                                                                                    </ng-container>
                                                                                    <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{emailTemplate.category}}">
                                                                                        <b translate>Folder:</b><font>{{emailTemplate?.category|slice:0:5}}</font>
                                                                                        <font *ngIf="emailTemplate?.category?.length>5">..</font>
                                                                                    </span>
                                                                                    <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span>
                                                                                    <div class="item__actions">
                                                                                        <span> <a
                                                                                                style="float:left;right: -6px;"
                                                                                                class="fm external-link"
                                                                                                target="_BLANK"
                                                                                                data-toggle="tooltip"
                                                                                                data-placement="top"
                                                                                                title="Preview"
                                                                                                (click)="$event.stopPropagation();getTemplateById(emailTemplate)">
                                                                                                <i class="fa fa-external-link-square"
                                                                                                    aria-hidden="true"
                                                                                                    style="font-size: 20px; color: #5a5a5a; padding-top: 1px !important;"></i>
                                                                                            </a>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="clearfix"></div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <div *ngIf="emailTemplatesPagination.totalRecords==0 && campaign.enableCoBrandingLogo && !campaignEmailTemplate.httpRequestLoader.isLoading" class="alert alert-info">
                                                <strong translate>No co-branded templates found</strong>
                                            </div>
                                            <div *ngIf="emailTemplatesPagination.totalRecords==0 && !campaign.enableCoBrandingLogo && !campaignEmailTemplate.httpRequestLoader.isLoading" class="alert alert-info">
                                                <strong translate>No templates found</strong>
                                            </div>
                                            <div style="text-align:left;" [hidden]="emailTemplatesPagination.totalRecords<0 || campaignEmailTemplate.httpRequestLoader.isLoading || campaignEmailTemplate.httpRequestLoader.isServerError">
                                                <app-pagination [pagination]="emailTemplatesPagination" [type]="'emailTemplates'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="loadPaginationDropdownTemplates($event)">
                                                </app-pagination>
                                            </div>
                                            <button type="button" class="btn btn-default pull-left" (click)="resetActive($event, 40, 'step-4')" translate>Previous</button>
                                            <button type="submit" class=" btn green pull-right" (click)="resetActive($event, 40, 'step-6');addUserEmailIds();" [disabled]="!isEmailTemplate" title="Please Select Email Template" translate>Next</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of step 5 -->


                <!-- -------------------------------------Landing Page Tab--------------------------------------------------------- -->
                <div class="row setup-content step hiddenStepInfo" id="step-5" *ngIf="campaignType=='landingPage'">
                    <div class="col-xs-12 text-center" style="margin-top: 10px;">
                        <div class="portlet light">
                            <div class="input-icon right pull-right cebp">
                                <input type="text" [(ngModel)]="landingPageSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search here" (keypress)="eventHandler($event.keyCode, 'landingPages')">
                                <button class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="landingPageSearchInput" (click)="landingPageSearchInput='';searchLandingPage()"></button>
                                <button type="submit" class="search-box-item-click email-search" (click)="searchLandingPage()"><i class="fa fa-search"
                                        style="font-size: 16px !important;padding:5px !important;"></i></button>
                            </div>
                            <button type="submit" class="campaign-email-template-filter-icon" (click)="showFolderFilterPopup()">
                                <i class="fa fa-filter cesf-xamp requried" *ngIf="selectedFolderIds?.length>0"></i>
                                <i class="fa fa-filter cesf-xamp" *ngIf="selectedFolderIds?.length==0"></i>
                            </button>
                            <div class="portlet-body">
                                <div class="row">
                                    <form role="form" class="form-horizontal form-bordered form-label-stripped">
                                        <div class="col-xs-12">
                                            <app-loader *ngIf="landingPageLoader.isLoading"></app-loader>
                                            <app-error-pages *ngIf="landingPageLoader.isServerError"></app-error-pages>
                                            <ng-container *ngIf=" landingPagePagination.totalRecords > 0 && !landingPageLoader.isLoading && !landingPageLoader.isServerError">
                                                <div class="row pb10" id="user_list_table_view">
                                                    <div class="portlet-body">
                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                            <div class="mix-grid">
                                                                <ng-container *ngIf="showLandingPage">
                                                                    <!--*ngIf="showSelectedEmailTemplate" !hideCoBrandedEmailTemplate -->
                                                                    <div *ngIf="!isAdd && landingPageId>0 && landingPagePagination.totalRecords>0 && landingPagePagination.pageIndex==1 ">
                                                                        <ul class="content__list">
                                                                            <li class="list__item" [class.list__item--selected]="landingPageId === selectedLandingPageRow">
                                                                                <!-- above class [ngClass]="{'list__item--selected':selectedFileIds.indexOf(file.id)>-1}" -->
                                                                                <div class="flex-row" (click)="setLandingPage(campaign.landingPage)">
                                                                                    <div class="item__select-box-wrapper">
                                                                                        <span class="select-box">
                                                                                            <label>
                                                                                                <input type="checkbox"
                                                                                                    *ngIf="landingPageId!=selectedLandingPageRow"
                                                                                                    (click)="setLandingPage(campaign.landingPage)">
                                                                                                <input type="checkbox"
                                                                                                    checked="checked"
                                                                                                    *ngIf="landingPageId==selectedLandingPageRow">
                                                                                            </label>
                                                                                        </span>
                                                                                        <span class="ng-scope"> <a
                                                                                                class="item__preview item__preview--image img-container custom"
                                                                                                target="_BLANK"> <img
                                                                                                    class="thumb ng-scope"
                                                                                                    style="width:103px !important"
                                                                                                    src="{{campaign.landingPage.thumbnailPath}}">
                                                                                            </a> <a href="javascript:;">
                                                                                            </a>
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="item__content">
                                                                                        <div class="flex-row">
                                                                                            <span class="campaign-email-template-category" [title]="campaign.landingPage.name"><b>{{campaign.landingPage.name |slice:0:15}}</b><b
                                                                                                    *ngIf="campaign.landingPage?.name?.length>15">..</b>
                                                                                            </span>
                                                                                            <br>
                                                                                            <span lass="item__name" title="created on" style="float:left">
                                                                                                <!-- <b>Created On:</b>{{campaign.emailTemplate.createdDate}} -->
                                                                                                <span>
                                                                                                    <app-timestamp
                                                                                                        [isOnlyDate]="true"
                                                                                                        [dateAndTime]="campaign?.landingPage?.createdDateInString">
                                                                                                    </app-timestamp>
                                                                                                </span>
                                                                                            </span>
                                                                                            <br>
                                                                                            <span class="campaign-email-template-category" title="{{campaign?.landingPage?.createdUser}}">
                                                                                                <b translate>By:</b><span>{{campaign.landingPage?.createdUser|slice:0:13}}<span
                                                                                                        *ngIf="campaign.landingPage?.createdUser?.length>13">..</span></span>
                                                                                            </span>
                                                                                            <span *ngIf="campaign.landingPage?.categoryName?.length>0" class="campaign-email-template-category" title="{{campaign.landingPage?.categoryName}}">
                                                                                                <b translate>Folder:</b><font>{{campaign?.landingPage?.categoryName|slice:0:7}}</font>
                                                                                                <font *ngIf="campaign?.landingPage?.categoryName?.length>7">..</font>
                                                                                            </span>
                                                                                            <div class="item__actions">
                                                                                                <span> <a
                                                                                                        style="float:left; right: -6px;"
                                                                                                        class="fm external-link"
                                                                                                        target="_BLANK"
                                                                                                        data-toggle="tooltip"
                                                                                                        data-placement="top"
                                                                                                        title="Preview"
                                                                                                        (click)="$event.stopPropagation();showLandingPagePreview(campaign.landingPage)">
                                                                                                        <!-- (click)="preview(file)"  -->
                                                                                                        <i class="fa fa-external-link-square"
                                                                                                            aria-hidden="true"
                                                                                                            style="padding-top: 1px !important;; font-size: 20px; color: #5a5a5a"></i>
                                                                                                    </a>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="clearfix"></div>
                                                                                </div>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </ng-container>
                                                                <ul class="content__list" *ngFor="let landingPage of landingPagePagination.pagedItems ;let i =index">
                                                                    <li *ngIf="landingPageId!=landingPage.id" class="list__item" [class.list__item--selected]="landingPage.id === selectedLandingPageRow">
                                                                        <!-- above class [ngClass]="{'list__item--selected':selectedFileIds.indexOf(file.id)>-1}" -->
                                                                        <div class="flex-row" (click)="setLandingPage(landingPage)">
                                                                            <div class="item__select-box-wrapper">
                                                                                <span class="select-box"> <label>
                                                                                        <input
                                                                                            (click)="setLandingPage(landingPage)"
                                                                                            type="checkbox">
                                                                                    </label>
                                                                                </span>
                                                                                <!-- [checked]="selectedFileIds.indexOf(file.id)>-1" -->
                                                                                <span class="ng-scope"> <a
                                                                                        class="item__preview item__preview--image img-container custom"
                                                                                        target="_BLANK"> <img
                                                                                            class="thumb ng-scope"
                                                                                            style="width: 103px !important"
                                                                                            src="{{landingPage.thumbnailPath}}">
                                                                                    </a> <a href="javascript:;"> </a>
                                                                                </span>
                                                                            </div>
                                                                            <div class="item__content">
                                                                                <div class="flex-row">
                                                                                    <span class="campaign-email-template-category" [title]="landingPage.name"><b>{{landingPage.name |slice:0:15}}</b><b
                                                                                            *ngIf="landingPage?.name?.length>15">..</b>
                                                                                    </span>
                                                                                    <br>
                                                                                    <span lass="item__name" title="created on" style="float:left">
                                                                                        <span>
                                                                                            <app-timestamp
                                                                                                [isOnlyDate]="true"
                                                                                                [dateAndTime]="landingPage.createdDateInString">
                                                                                            </app-timestamp>
                                                                                        </span>
                                                                                    </span>
                                                                                    <br>
                                                                                    <span class="campaign-email-template-category" title="{{landingPage.createdUser}}">
                                                                                        <b translate>By:</b><span>{{landingPage.createdUser|slice:0:13}}<span
                                                                                                *ngIf="landingPage.createdUser?.length>13">..</span></span>
                                                                                    </span>
                                                                                    <span *ngIf="landingPage?.categoryName?.length>0" class="campaign-email-template-category" title="{{landingPage?.categoryName}}">
                                                                                        <b translate>Folder:</b><font>{{landingPage?.categoryName|slice:0:7}}</font>
                                                                                        <font *ngIf="landingPage?.categoryName?.length>7">..</font>
                                                                                    </span>
                                                                                    <div class="item__actions">
                                                                                        <span> <a
                                                                                                style="float:left;right: -6px;"
                                                                                                class="fm external-link"
                                                                                                target="_BLANK"
                                                                                                data-toggle="tooltip"
                                                                                                data-placement="top"
                                                                                                title="Preview"
                                                                                                (click)="$event.stopPropagation();showLandingPagePreview(landingPage)">
                                                                                                <i class="fa fa-external-link-square"
                                                                                                    aria-hidden="true"
                                                                                                    style="font-size: 20px; color: #5a5a5a; padding-top: 1px !important;"></i>
                                                                                            </a>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="clearfix"></div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <div *ngIf="landingPagePagination.totalRecords==0 &&!landingPageLoader.isLoading" class="alert alert-info alert-top-padding-xamplify">
                                                <strong translate>No pages found</strong>
                                            </div>
                                            <div style="text-align:left;" [hidden]="landingPagePagination.totalRecords<0 || landingPageLoader.isLoading || landingPageLoader.isServerError">
                                                <app-pagination [pagination]="landingPagePagination" [type]="'landingPages'" (notifyParent)="setPagePagination($event)" (notifyParentDropDown)="listLandingPages($event)"></app-pagination>
                                            </div>
                                            <button type="button" class="btn btn-default pull-left" (click)="resetActive($event, 40, 'step-4')" translate>Previous</button>
                                            <button type="submit" class=" btn green pull-right" (click)="resetActive($event, 40, 'step-6');addUserEmailIds();" [disabled]="!isLandingPage" title="Please Select  Page" translate>Next</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of step 5 -->

                <!-- -------------------------------------Launch Tab--------------------------------------------------------- -->
                <!-- 				<ngx-loading [show]="campaignService.loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>-->
                <div class="row setup-content step hiddenStepInfo" id="step-6">
                    <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <div class="alert alert-danger error-div" *ngIf="invalidScheduleTime" id="invalidScheduleTimeDiv">
                        <strong>{{invalidScheduleTimeError}}</strong>
                    </div>
                    <form role="form" [formGroup]="campaignLaunchForm" (ngSubmit)="launchCampaign();" class="form-horizontal form-bordered form-label-stripped">
                        <div class="col-xs-12">
                            <fieldset>
                                <legend translate>Preview Before Publishing</legend>
                                <div class="row">
                                    <!-- 	<div class="col-xs-12">
						<div *ngIf="socialStatusProviders?.length > 0">
						  <div class="portlet light clearfix">
							<button type="button" class="btn btn-primary pull-right" (click)="isSocialEnable = !isSocialEnable" style="margin: 5px 15px;">
								<i class="fa fa-share-alt fa-social" style="margin: 0 5px;"></i> Social Share
							</button>
							<div class="clearfix"></div>
							<div [hidden]="!isSocialEnable">
							<div class="col-xs-12 col-sm-6">
							<ul class="list-group social-account">
								<li class="list-group-item profile-box" style="background-color: #dfdfdf; cursor: pointer;" [ngClass]="{'checked': isAllSelected, 'unchecked': !isAllSelected}">
									<div class="profile-selected" (click)="toggleSelectAll()" style="float: initial;margin: 0 0 0 10px;">
										<i class="fa fa-square-o" *ngIf="!isAllSelected"></i>
										<i class="fa fa-check-square" *ngIf="isAllSelected"></i>
										<span class="ml10">Select All <b *ngIf="selectedAccounts > 0">({{selectedAccounts}})</b></span>
									</div>
								</li>
								<li *ngFor="let socialStatusProvider of socialStatusProviders; let i = index" (click)="toggleSocialStatusProvider(socialStatusProvider)"
									class="list-group-item profile-box" [ngClass]="{'checked': socialStatusProvider.selected, 'unchecked': !socialStatusProvider.selected}">
									<div class="profile-selected">
										<i class="fa fa-square-o" *ngIf="!socialStatusProvider.selected"></i>
										<i class="fa fa-check-square" *ngIf="socialStatusProvider.selected"></i>
									</div>
									<div class="profile-image-box">
										<img class="profile-image" src="{{socialStatusProvider.socialConnection.profileImage}}" onError="this.src='assets/images/social/avatar.png';">
										<img class="profile-icon" src="assets/images/social/{{socialStatusProvider.socialConnection.source}}.png">
									</div>
									<div class="profile-name">
											<h5 *ngIf="socialStatusProvider.socialConnection.profileName" title="{{socialStatusProvider.socialConnection.profileName}}"
												class="heading-primary">
												<b>{{socialStatusProvider.socialConnection.profileName}}</b>
											</h5>
											<h5 *ngIf="!socialStatusProvider.socialConnection.profileName" title="{{socialStatusProvider.socialConnection.firstName}}&nbsp;{{socialStatusProvider.socialConnection.lastName}}"
												class="heading-primary">
												<b>{{socialStatusProvider.socialConnection.firstName}}&nbsp;{{socialStatusProvider.socialConnection.lastName}}</b>
											</h5>
											<h6 class="m0">
												{{socialStatusProvider.socialConnection.source | titlecase}}
												<span *ngIf="socialStatusProvider.socialConnection.source === 'FACEBOOK'">
													<span *ngIf="socialStatusProvider.socialConnection.emailId">Profile</span>
													<span *ngIf="!socialStatusProvider.socialConnection.emailId">Page</span>
												</span>
											</h6>
									</div>
									<div class="clearfix"></div>
								</li>
							</ul>
							</div>
							<div class="col-xs-12 col-sm-6">
								<div style="border: 1px solid #ccc; padding: 10px;">
										<h6 class="pull-left f-w-600 mt0">Social share preview</h6>
										<textarea placeholder="Status message" rows="4" class="form-control" [(ngModel)]="statusMessage"  [ngModelOptions]="{standalone: true}"></textarea>
										<p class="pull-left">A link to your campaign will be included at the end of this post.</p>
										<div class="clearfix"></div>
								</div>
							</div>
							</div>
						</div>
					</div>
				</div> -->
                                    <div class="portlet-body clearfix">
                                        <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
                                            <div class="portlet light clearfix" style="padding:0px">
                                                <div class="p0">
                                                    <div id="main_video_src" [hidden]="campaignType!='video'"></div>
                                                    <div class="pricing hover-effect" [hidden]="campaignType=='video'">
                                                        <div class="pricing-head">
                                                            <h4 title="{{campaign.campaignName}}">Campaign name: {{campaign.campaignName | slice:0:30}}<span *ngIf="campaign.campaignName?.length>30">..</span>
                                                            </h4>
                                                            <h4>
                                                                <ng-container *ngIf="campaignType=='regular'">
                                                                    <img style="margin: 0 auto;height: 106px;" alt="E-mail Campaign" class="pricing-head-img img-responsive" src="assets/images/regular-email.png">
                                                                </ng-container>
                                                                <ng-container *ngIf="campaignType=='landingPage'">
                                                                    <img style="margin: 0 auto;height: 106px;" alt="Page Campaign" class="pricing-head-img img-responsive" src="assets/images/landing-page.png">
                                                                </ng-container>
                                                            </h4>
                                                        </div>
                                                    </div>
                                                    <h5 id="description"></h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div [attr.class]="lauchTabPreivewDivClass">
                                            <app-dashboard-loader *ngIf="emailReceiversCountLoader"></app-dashboard-loader>
                                            <div class="portlet light border-0" *ngIf="!emailReceiversCountLoader">
                                                <div class="table-responsive">
                                                    <table width="100%">
                                                        <tr>
                                                            <td width="25%">
                                                                <div class="icon-border">
                                                                    <i class="fa fa-users fa-2x icon-position" aria-hidden="true"></i>
                                                                </div>
                                                                <ng-container *ngIf="authenticationService.module.isVendor || authenticationService.isAddedByVendor ||authenticationService.module.isVendorTier || authenticationService.module.isPrm">
                                                                    <ng-container class="h4-text" *ngIf="campaignType == 'video'||'regular'" translate>
                                                                        Partner List(s)</ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="!authenticationService.module.isVendor && !authenticationService.isAddedByVendor && !authenticationService.module.isVendorTier &&  !authenticationService.module.isPrm">
                                                                    <ng-container class="h4-text" *ngIf="campaignType == 'video'||'regular'" translate>
                                                                        Contact List(s)</ng-container>
                                                                </ng-container>
                                                            </td>
                                                            <td width="55%">
                                                                <ng-container *ngFor="let contactListName of selectedContactListNames;let i=index;">
                                                                    <div>
                                                                        <a *ngIf="i<2" title="{{contactListName}}">
                                                                            <span *ngIf="contactListName">
                                                                                {{contactListName | slice:0:40}}<span
                                                                                    *ngIf="contactListName?.length>40">..</span>
                                                                            </span>
                                                                        </a>
                                                                    </div>
                                                                </ng-container>
                                                                <a>
                                                                    <span *ngIf="selectedContactListIds?.length>2"
                                                                        (click)="resetActive($event, 40, 'step-4')">..</span>
                                                                     <span *ngIf="selectedContactListIds?.length == 0" translate>0 contact lists </span>
                                                                </a>
                                                                <br>
                                                                <ng-container *ngIf="emailReceiversCountError">
                                                                    <span id="red-font" translate>Something went wrong.Please contact admin</span>
                                                                </ng-container>
                                                                <ng-container *ngIf="!emailReceiversCountError">
                                                                    <span *ngIf="campaign.emailNotification" id="blue-font">This email will be sent to {{validUsersCount}}({{allUsersCount}}) users.</span>
                                                                    <span *ngIf="!campaign.emailNotification" id="red-font" translate>No email will be sent.</span>
                                                                </ng-container>
                                                            </td>
                                                            <td style="text-align: right" width="20%">
                                                                <a class="btn btn-primary btn-sm" style="color:#fff" (click)="resetActive($event, 40, 'step-4')" translate>Change</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                            <div class="portlet light border-0" id="email-template-preview-div">
                                                <div class="table-responsive">
                                                    <table width="100%">
                                                        <tr>
                                                            <td width="25%">
                                                                <div class="icon-border">
                                                                    <i *ngIf="campaignType == 'video' || campaignType == 'regular'" class="fa fa-envelope fa-2x icon-position" aria-hidden="true"></i>
                                                                    <i *ngIf="campaignType == 'landingPage'" class="fa fa-wpforms fa-2x icon-position" aria-hidden="true"></i>
                                                                </div>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'video'" translate>Email Template
                                                                </ng-container>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'regular'" translate>Email Template
                                                                </ng-container>
                                                                <ng-container class="h4-text" *ngIf="campaignType == 'landingPage'" translate>Page
                                                                </ng-container>
                                                            </td>
                                                            <td width="55%">
                                                                <ng-container *ngIf="campaignType == 'video' || campaignType == 'regular'">
                                                                    <a (click)="getTemplateById(emailTemplate)" title="{{emailTemplate.name}}">
                                                                        <ng-container
                                                                            *ngIf="emailTemplate.name?.length>50">
                                                                            {{emailTemplate.name | slice:0:50}}..
                                                                        </ng-container>
                                                                        <ng-container
                                                                            *ngIf="emailTemplate.name?.length<=50">
                                                                            {{emailTemplate.name}}
                                                                        </ng-container>
                                                                    </a>
                                                                </ng-container>
                                                                <ng-container *ngIf="campaignType == 'landingPage'">
                                                                    <a (click)="showLandingPagePreview(landingPage)" title="{{landingPage?.name}}">
                                                                        <ng-container
                                                                            *ngIf="landingPage?.name?.length>50">
                                                                            {{landingPage?.name | slice:0:50}}..
                                                                        </ng-container>
                                                                        <ng-container
                                                                            *ngIf="landingPage?.name?.length<=50">
                                                                            {{landingPage.name}}
                                                                        </ng-container>
                                                                    </a>
                                                                </ng-container>
                                                            </td>
                                                            <td style="text-align: right" width="20%">
                                                                <a class="btn btn-primary btn-sm" (click)="resetActive($event, 40, 'step-5')" translate>Change</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <!-- --Adding Work Flow------------- -->
                        <div class="col-xs-12" *ngIf="'landingPage'!=campaignType">
                            <div>
                                <div class="row" style="margin-bottom: 5px;margin-top: -9px;">
                                    <div class="col-xs-6">
                                        <a *ngIf="emailTemplateHrefLinks?.length==0" class="dashboard-stat yellow-gold blur" style="background-color: #f76c1a;padding: 9px 0;" translate>
                                            <i class="fa fa-ban p0" aria-hidden="true"></i> No website links found
                                        </a>
                                        <a *ngIf="emailTemplateHrefLinks?.length>0" class="dashboard-stat yellow-gold" style="background-color: #f76c1a;padding: 9px 0;" (click)="addClickRows()">
                                            <i class="fa fa-plus-square p0" style="margin: 0 5px;" aria-hidden="true"></i> {{properties.ADD_AUTO_RESPONSE_WEBSITE}}
                                        </a>
                                    </div>

                                    <div class="col-xs-6">
                                        <a class="dashboard-stat yellow-gold" style="background-color: #f4555c;padding: 9px 0;" (click)="addReplyRows()">
                                            <i class="fa fa-plus-square p0" style="margin: 0 5px;" aria-hidden="true"></i> {{properties.ADD_AUTO_RESPONSE_EMAIL}}
                                        </a>
                                    </div>
                                    <!-- -------------------------------------Add Reply----------------------------- -->
                                    <div class="col-xs-12" id="reply-onclick-div" style="position: relative; bottom: -7px;">
                                        <div class="alert alert-danger" *ngIf="dataError">
                                            <strong translate>Please complete the required fields</strong>
                                        </div>
                                        <!-- Content Should Come here ------------ -->
                                        <fieldset *ngIf="replies?.length>0">
                                            <legend> {{properties.ADD_AUTO_RESPONSE_EMAIL}}</legend>
                                            <div *ngFor="let reply of replies;let i=index">
                                                <div class="portlet light dashboard-stat2" id="{{reply.divId}}">
                                                    <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue':isEven(i+1), 'colorRed':!isEven(i+1)}">
                                                        <div class="col-xs-6">
                                                            <h4 class="text-left" style="color:#fff">Add an Auto-response to your e-mail-{{i+1}}</h4>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="pull-right">
                                                                <label class="switch-choose" style="color:#fff" translate>Choose Template
                                                                    </label>
                                                                <switch class="switch-choose" [status]="reply.defaultTemplate" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="selectReplyEmailBody($event,i,reply)">
                                                                </switch>
                                                                <button type="button" class="btn btn-danger button-blue" (click)="remove(reply.divId,'replies')">
                                                                    <span class="glyphicon glyphicon-trash"></span>
                                                                </button>
                                                                <button type="button" class="btn btn-primary button-blue" (click)="addReplyRows()">
                                                                    <span class="glyphicon glyphicon-plus"></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <form class="role add-reply" id="form-{{reply.divId}}">
                                                            <div class="col-xs-12 p0">
                                                                <div class="col-xs-12 p0">
                                                                    <div class="col-xs-6" style="margin-bottom: 6px;">
                                                                        <label style="cursor: default;" for="reason" translate>Reason</label>
                                                                        <select class="form-control" name="actionId" [(ngModel)]="reply.actionId">
                                                                            <option [value]="0"
                                                                                [selected]="reply.actionId ==0" translate>Email is not opened
                                                                                </option>
                                                                            <option [value]="13"
                                                                                [selected]="reply.actionId==13" translate>Email is opened
                                                                                </option>
                                                                            <option [value]="16"
                                                                                [selected]="reply.actionId ==16" translate>
                                                                                Send immediately after email is opened
                                                                            </option>
                                                                            <option [value]="22"
                                                                                [selected]="reply.actionId ==22"
                                                                                *ngIf="campaign.channelCampaign && campaignType=='regular'" translate>
                                                                                Email is not redistributed by the partner
                                                                                </option>
                                                                            <ng-container *ngIf="campaignType=='video'">
                                                                                <option [value]="1"
                                                                                    [selected]="reply.actionId==1" translate>
                                                                                    Video is played</option>
                                                                                <option [value]="17"
                                                                                    [selected]="reply.actionId==17" translate>
                                                                                    Send immediately after video is played
                                                                                    </option>
                                                                                <option [value]="18"
                                                                                    [selected]="reply.actionId==18" translate>
                                                                                    Video is not played</option>
                                                                                <option [value]="23"
                                                                                    [selected]="reply.actionId ==23"
                                                                                    *ngIf="campaign.channelCampaign" translate>
                                                                                    Video is not redistributed</option>
                                                                            </ng-container>
                                                                        </select>
                                                                    </div>
                                                                    <div *ngIf="reply.actionId!=16 && reply.actionId!=17 && reply.actionId!=18">
                                                                        <div class="col-xs-2">
                                                                            <label class="default" for="days" *ngIf="reply.actionId==22 || reply.actionId==23 " id="reply-days-{{reply.divId}}" translate>
                                                                                Reply In X Days
                                                                                <strong style="color: red">*</strong>
                                                                                <span><strong translate>(Minimum 1 Day)</strong></span>
                                                                            </label>
                                                                            <label class="default" for="days" *ngIf="reply.actionId!=22 && reply.actionId!=23" id="reply-days-{{reply.divId}}" translate>Reply In X Days
                                                                                <strong style="color: red">*</strong>
                                                                            </label>
                                                                            <input type="number" class="form-control" name="days" placeholder="Days" [(ngModel)]="reply.replyInDays" min="0" oninput="validity.valid||(value='');">
                                                                        </div>

                                                                        <div class="col-xs-3 time-col" style="padding-left: 0;" *ngIf="reply.actionId!=22 && reply.actionId!=23 ">
                                                                            <div class="col-xs-2 default">
                                                                                <span for="time" id="send-time-{{reply.divId}}" class="time-picker-css" translate>At
                                                                                    <strong style="color: red">*</strong></span>
                                                                            </div>
                                                                            <div class="col-xs-10" style="height: 66px;">
                                                                                <timepicker [(ngModel)]="reply.replyTime" name="time" [hourStep]="1" [minuteStep]="1"></timepicker>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-6">
                                                                        <label class="default" for="time" id="reply-subject-{{reply.divId}}" translate>Subject
                                                                            <strong style="color: red">*</strong>
                                                                        </label>
                                                                        <input type="text" class="form-control" name="subject" [(ngModel)]="reply.subject" placeholder="Subject" maxlength="1000">
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12">
                                                                    <div id="ck-editor-{{i}}" *ngIf="!reply.defaultTemplate">
                                                                        <div style="margin-left: 1px;">
                                                                            <label class="default" for="days" id="reply-message-{{reply.divId}}" translate>Message
                                                                                <strong class="required">*</strong>
                                                                            </label>
                                                                        </div>
                                                                        <div>
                                                                            <ckeditor [(ngModel)]="reply.body" name="body"></ckeditor>
                                                                        </div>
                                                                    </div>
                                                                   <!--Email Template Selection-->
                                                                   <div class="col-xs-12 text-center" style="margin-top: 10px;" id="reply-email-template-{{i}}" *ngIf="reply.defaultTemplate">
                                                                    <div class="form-group" style="margin-left: 1px;">
                                                                        <label for="days" id="email-template-{{reply.divId}}" translate>Select Email Template
                                                                            
                                                                            <strong class="required">*</strong>
                                                                        </label>
                                                                    </div>
                                                                    <div>
                                                                        <div class="input-icon right pull-right cebp">
                                                                            <input type="text" [(ngModel)]="reply.emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search"
                                                                             (keypress)="eventHandlerForReplyEmailTemplate($event, reply)">
                                                                             <button type="button" class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="reply.emailTemplateSearchInput" (click)="removeSearchInput(reply)"></button>
                                                                            <button type="submit" class="search-box-item-click email-search" (click)="searchReplyEmailTemplate(reply)">
                                                                                <i class="fa fa-search cesf-xamp" aria-hidden="true"></i></button>
                                                                        </div>
                                                                        <div class="portlet-body">
                                                                            <div *ngIf="reply.emailTemplatesPagination.totalRecords==0" class="col-xs-12 alert alert-info">
                                                                                <strong translate>No templates found</strong>
                                                                            </div>
                                                                            <div class="row">
                                                                                <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-labelledby="">
                                                                                    <div class="col-xs-12">
                                                                                        <app-loader *ngIf="reply.loader">
                                                                                        </app-loader>
                                                                                        <ng-container *ngIf=" reply.emailTemplatesPagination.totalRecords>0 && !reply.loader">
                                                                                            <div class="row pb10" id="campaign-reply-workflow-template">
                                                                                                <div class="portlet-body">
                                                                                                    <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                                                                        <div class="mix-grid">
                                                                                                            <div *ngIf="(!isAdd && reply.emailTemplatesPagination.totalRecords>0 && reply.emailTemplatesPagination.pageIndex==1 && reply.showSelectedEmailTemplate && reply.selectedEmailTemplateIdForEdit>0 ) ">
                                                                                                                <ul class="content__list">
                                                                                                                    <li class="list__item" [class.list__item--selected]="reply.emailTemplate.id==reply.selectedEmailTemplateId">
                                                                                                                        <div class="flex-row" (click)="setReplyEmailTemplate(reply.emailTemplate.id,reply,i)">
                                                                                                                            <div class="item__select-box-wrapper">
                                                                                                                                <span class="select-box">
                                                                                                                                    <label>
                                                                                                                                        <input
                                                                                                                                            (click)="setReplyEmailTemplate(reply.emailTemplate.id,reply,i)"
                                                                                                                                            type="checkbox"
                                                                                                                                            [value]="reply.emailTemplate.id"
                                                                                                                                            id="reply-{{i}}-{{reply.emailTemplate.id}}"
                                                                                                                                            *ngIf="reply.emailTemplate.id!== reply.selectedEmailTemplateId">
                                                                                                                                            <input
                                                                                                                                             type="checkbox"
                                                                                                                                            checked="checked"
                                                                                                                                            [value]="reply.emailTemplate.id"
                                                                                                                                            id="reply-{{i}}-{{reply.emailTemplate.id}}"
                                                                                                                                            *ngIf="reply.emailTemplate.id== reply.selectedEmailTemplateId"
                                                                                                                                            >
                                                                                                                                    </label>
                                                                                                                                </span>
                                                                                                                                <span class="ng-scope">
                                                                                                                                     <a class="item__preview item__preview--image img-container custom"  target="_BLANK">
                                                                                                                                        <img alt="" class="thumb ng-scope"  style="width:103px !important" src="{{reply.emailTemplate.subject}}">
                                                                                                                                    </a> 
                                                                                                                                     <a href="javascript:;">
                                                                                                                                </a>
                                                                                                                            </span>
                                                                                                                            </div>
                                                                                                                            <div class="item__content">
                                                                                                                                <div class="flex-row">
                                                                                                                                    <span class="item__name" style="float:left" [title]="reply.emailTemplate.name">
                                                                                                                                        <strong>{{reply.emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                        <strong *ngIf="reply.emailTemplate?.name?.length>15">..</strong>
                                                                                                                                    </span>
                                                                                                                                    <br>
                                                                                                                                    <span lass="item__name" title="created on" style="float:left">
                                                                                                                                        <span>
                                                                                                                                            <app-timestamp
                                                                                                                                                [isOnlyDate]="true"
                                                                                                                                                [dateAndTime]="reply?.emailTemplate?.createdTime">
                                                                                                                                            </app-timestamp>
                                                                                                                                        </span>
                                                                                                                                    </span>
                                                                                                                                    <ng-container *ngIf="reply?.emailTemplate?.type!='PARTNER'">
                                                                                                                                        <span style="float:left" title="{{reply?.emailTemplate?.createdBy}}">
                                                                                                                                            <strong translate>By:</strong>
                                                                                                                                            <span>{{reply?.emailTemplate?.createdBy|slice:0:12}}<span
                                                                                                                                                    *ngIf="reply?.emailTemplate?.createdBy?.length>12">..</span></span>
                                                                                                                                        </span>
                                                                                                                                    </ng-container>
                                                                                                                                    <span *ngIf="reply?.emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{reply?.emailTemplate?.category}}">
                                                                                                                                        <strong antranslate>Folder:</strong><span>{{reply?.emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                        <span *ngIf="reply?.emailTemplate?.category?.length>5">..</span>
                                                                                                                                    </span>
                                                                                                                                    <div class="item__actions">
                                                                                                                                        <span> 
                                                                                                                                            <a style="float:left; right: -6px;"
                                                                                                                                                class="fm external-link"
                                                                                                                                                target="_BLANK"
                                                                                                                                                data-toggle="tooltip"
                                                                                                                                                data-placement="top"
                                                                                                                                                title="Preview"
                                                                                                                                                (click)="$event.stopPropagation();getTemplateById(reply.emailTemplate)">
                                                                                                                                                <i class="fa fa-external-link-square"
                                                                                                                                                    aria-hidden="true"
                                                                                                                                                    style="padding-top: 1px !important;; font-size: 20px; color: #5a5a5a"></i>
                                                                                                                                            </a>
                                                                                                                                        </span>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                            <div class="clearfix"></div>
                                                                                                                        </div>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            <ul class="content__list" *ngFor="let emailTemplate of reply.emailTemplatesPagination.pagedItems ;let i =index">
                                                                                                                <li [class.list__item--selected]="emailTemplate.id==reply.selectedEmailTemplateId" *ngIf="reply.selectedEmailTemplateIdForEdit!=emailTemplate.id" class="list__item">
                                                                                                                    <div class="flex-row" (click)="setReplyEmailTemplate(emailTemplate.id,reply,i,emailTemplate.draft)">
                                                                                                                        <div class="item__select-box-wrapper">
                                                                                                                            <span class="select-box" [class.hide]="emailTemplate.draft">
                                                                                                                                <label>
                                                                                                                                    <input
                                                                                                                                        (click)="setReplyEmailTemplate(emailTemplate.id,reply,i,emailTemplate.draft)"
                                                                                                                                        type="checkbox">
                                                                                                                                </label>
                                                                                                                            </span>
                                                                                                                            <span class="ng-scope"> <a
                                                                                                                                    class="item__preview item__preview--image img-container custom"
                                                                                                                                    target="_BLANK"> <img
                                                                                                                                        class="thumb ng-scope"
                                                                                                                                        style="width: 103px !important"
                                                                                                                                        src="{{emailTemplate.subject}}" alt="">
                                                                                                                                </a> <a href="javascript:;"> </a>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <div class="item__content">
                                                                                                                            <div class="flex-row">
                                                                                                                                <span class="item__name" style="float:left" [title]="emailTemplate.name">
                                                                                                                                    <strong>{{emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                    <strong *ngIf="emailTemplate?.name?.length>15">..</strong>
                                                                                                                                </span>
                                                                                                                                <br>
                                                                                                                                <span class="item__name" title="created on" style="float:left">
                                                                                                                                    <span>
                                                                                                                                        <app-timestamp
                                                                                                                                            [isOnlyDate]="true"
                                                                                                                                            [dateAndTime]="emailTemplate.createdDate">
                                                                                                                                        </app-timestamp>
                                                                                                                                    </span>
                                                                                                                                </span>
                                                                                                                                <br>
                                                                                                                                <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                                    <span style="float:left" title="{{emailTemplate.createdBy}}">
                                                                                                                                        <strong translate>By:</strong><span>{{emailTemplate.createdBy|slice:0:12}}<span
                                                                                                                                                *ngIf="emailTemplate.createdBy?.length>12">..</span></span>
                                                                                                                                    </span>
                                                                                                                                </ng-container>
                                                                                                                                <ng-container *ngIf="emailTemplate.type=='PARTNER'">
                                                                                                                                    <span style="float:left" title="{{emailTemplate.vendorName}}">
                                                                                                                                        <strong translate>By:</strong><span>{{emailTemplate.vendorName|slice:0:12}}<span
                                                                                                                                                *ngIf="emailTemplate.vendorName?.length>12">..</span></span>
                                                                                                                                    </span>
                                                                                                                                </ng-container>
                                                                                                                                <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{emailTemplate.category}}">
                                                                                                                                    <strong translate>Folder:</strong><span>{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                    <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                                </span>
                                                                                                                                <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span>
                                                                                                                                <div class="item__actions">
                                                                                                                                    <span> <a
                                                                                                                                            style="float:left;right: -6px;"
                                                                                                                                            class="fm external-link"
                                                                                                                                            target="_BLANK"
                                                                                                                                            data-toggle="tooltip"
                                                                                                                                            data-placement="top"
                                                                                                                                            title="Preview"
                                                                                                                                            (click)="$event.stopPropagation();getTemplateById(emailTemplate)">
                                                                                                                                            <i class="fa fa-external-link-square"
                                                                                                                                                aria-hidden="true"
                                                                                                                                                style="font-size: 20px; color: #5a5a5a; padding-top: 1px !important;"></i>
                                                                                                                                        </a>
                                                                                                                                    </span>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="clearfix"></div>
                                                                                                                    </div>
                                                                                                                </li>
                                                                                                            </ul>
                                                                                                            <div class="col-xs-12" *ngIf="reply.emailTemplatesPagination.totalRecords>0 && !reply.loader">
                                                                                                                <ul style="float: left" *ngIf="reply.emailTemplatesPagination.pager.pages && reply.emailTemplatesPagination.pager.pages.length" class="pagination">
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1" translate>First</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage - 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1" translate>Previous</a>
                                                                                                                    </li>
                                                                                                                    <li *ngFor="let page of reply.emailTemplatesPagination.pager.pages" [ngClass]="{active:reply.emailTemplatesPagination.pager.currentPage === page}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(page,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === page">{{page}}</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage + 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages" translate>Next</a>
                                                                                                                    </li>
                                                                                                                    <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
                                                                                                                        <a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.totalPages,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages" translate>Last</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                             </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                </div>

                                                                                            </div>
                                                                                        </ng-container> 
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                       </div> <!--End of portlet light line no 1728-->
                                                                    </div><!--End of 1721-->
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <!-- ------------ADD ON CLICK------------------------ -->
                                        <fieldset *ngIf="urls?.length>0">
                                            <legend> {{properties.ADD_AUTO_RESPONSE_WEBSITE}}</legend>
                                            <div *ngFor="let url of urls;let i=index">
                                                <div class="portlet light dashboard-stat2" id="{{url.divId}}">
                                                    <div class="portlet-title custom-change-css" [ngClass]="{'colorBlue':isEven(i+1), 'colorRed':!isEven(i+1)}">
                                                        <div class="col-xs-6">
                                                            <h4 class="text-left" style="color:#fff">Add an Auto-response to a website visit - {{i+1}}</h4>
                                                        </div>
                                                        <div class="col-xs-6">
                                                            <div class="pull-right">
                                                                <label class="switch-choose" style="color:#fff" translate>Choose Template
                                                                    </label>
                                                                <switch class="switch-choose" [status]="url.defaultTemplate" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
                                                                    (statusChange)="selectClickEmailBody($event,i,url)">
                                                                </switch>
                                                                <button type="button" class="btn btn-danger button-blue" (click)="remove(url.divId,'url')">
                                                                    <span class="glyphicon glyphicon-trash"></span>
                                                                </button>
                                                                <button type="button" class="btn btn-primary button-blue" (click)="addClickRows()">
                                                                    <span class="glyphicon glyphicon-plus"></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <form class="role" id="form-{{url.divId}}" class="add-click">
                                                            <div class="col-xs-12 p0">
                                                                <div class="col-xs-12 p0">
                                                                    <div class="col-xs-6">
                                                                        <label class="default" for="reason" translate>When To Send Email
                                                                            </label>
                                                                        <select class="form-control pointer" id="url-schedule-type" name="scheduleEmail" [(ngModel)]="url.actionId" (change)="setUrlScheduleType($event,url)">
                                                                            <option [value]="19"
                                                                                [selected]="url.actionId ==19" translate>Send if not clicked
                                                                                </option>
                                                                            <option [value]="20"
                                                                                [selected]="url.actionId ==20" translate>Send immediately after clicked
                                                                                </option>
                                                                            <option [value]="21"
                                                                                [selected]="url.actionId ==21" translate>Schedule
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div *ngIf="url.actionId==21" class="col-xs-6 p0">
                                                                        <div class="col-xs-4" style="padding:0">
                                                                            <label for="days" id="click-days-{{url.divId}}" style="color:black !important;cursor: default;" translate>
                                                                                Wait X Days After Click
                                                                                <strong style="color: red">*</strong>
                                                                            </label>
                                                                            <input type="number" class="form-control" name="days" [(ngModel)]="url.replyInDays" placeholder="Days" min="0" oninput="validity.valid||(value='');">
                                                                        </div>
                                                                        <div class="col-xs-8 time-col">
                                                                            <div class="col-xs-2 default">
                                                                                <label for="time" id="send-time-{{url.divId}}" class="time-picker-css" translate>At
                                                                                    <strong style="color: red">*</strong>
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-xs-10" style="height:66px">
                                                                                <timepicker [(ngModel)]="url.replyTime" name="time" [hourStep]="1" [minuteStep]="1"></timepicker>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-6">
                                                                        <label class="default" for="time" id="click-subject-{{url.divId}}" translate>Subject
                                                                            <strong style="color: red">*</strong>
                                                                        </label>
                                                                        <input type="text" class="form-control" name="subject" [(ngModel)]="url.subject" placeholder="Subject" maxlength="1000">
                                                                    </div>

                                                                    <div class="col-xs-6">
                                                                        <label for="reason" style="cursor: default;" translate>Available URLs
                                                                            </label>
                                                                        <select class="form-control pointer" name="url" [(ngModel)]="url.url" style="width: 100%">
                                                                            <option
                                                                                *ngFor="let hrefLink of emailTemplateHrefLinks;"
                                                                                [ngValue]="hrefLink"
                                                                                [selected]="hrefLink==url.url">
                                                                                {{hrefLink}}
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12">
                                                                    <div id="ck-editor-{{i}}" *ngIf="!url.defaultTemplate">
                                                                        <label class="default" for="days" id="click-message-{{url.divId}}" translate>Message 
                                                                            <strong class="required">*</strong>
                                                                        </label>
                                                                        <div>
                                                                            <ckeditor [(ngModel)]="url.body" name="body"></ckeditor>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-12 text-center" style="margin-top: 10px;" id="url-email-template-{{i}}" *ngIf="url.defaultTemplate">
                                                                        <div class="form-group" style="margin-left: 1px;">
                                                                            <label for="days" id="click-email-template-{{url.divId}}" translate>
                                                                                Select Email Template
                                                                                <strong class="required">*</strong>
                                                                            </label>
                                                                        </div>
                                                                        <div>
                                                                            <div class="input-icon right pull-right cebp">
                                                                                <input type="text" [(ngModel)]="url.emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Search"
                                                                                 (keypress)="eventHandlerForUrlEmailTemplate($event, url)">
                                                                                 <button type="button" class="glyphicon glyphicon-remove search-box-item-clear" style="padding:8px;" *ngIf="url.emailTemplateSearchInput" (click)="url.emailTemplateSearchInput='';searchClickEmailTemplate(url)"></button>
                                                                                <button type="submit" class="search-box-item-click email-search" (click)="searchClickEmailTemplate(url)">
                                                                                    <i class="fa fa-search cesf-xamp" aria-hidden="true"></i></button>
                                                                            </div>
                                                                            <div class="portlet-body">
                                                                                <div *ngIf="url.emailTemplatesPagination.totalRecords==0" class="col-xs-12 alert alert-info">
                                                                                    <strong translate>No templates found</strong>
                                                                                </div>
                                                                                <div class="row">
                                                                                    <form role="form" class="form-horizontal form-bordered form-label-stripped" aria-labelledby="urlEmailTemplatesForm">
                                                                                        <div class="col-xs-12">
                                                                                            <app-loader *ngIf="url.loader">
                                                                                            </app-loader>
                                                                                            <ng-container *ngIf=" url.emailTemplatesPagination.totalRecords>0 && !url.loader">
                                                                                                <div class="row pb10" id="campaign-reply-workflow-template">
                                                                                                    <div class="portlet-body">
                                                                                                        <div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer col-xs-12">
                                                                                                            <div class="mix-grid">
                                                                                                                <div *ngIf="(!isAdd && url.emailTemplatesPagination.totalRecords>0 && url.emailTemplatesPagination.pageIndex==1 && url.showSelectedEmailTemplate && url.selectedEmailTemplateIdForEdit>0 ) ">
                                                                                                                    <ul class="content__list">
                                                                                                                        <li class="list__item" [class.list__item--selected]="url.emailTemplate.id==url.selectedEmailTemplateId">
                                                                                                                            <div class="flex-row" (click)="setClickEmailTemplate(url.emailTemplate.id,url,i)">
                                                                                                                                <div class="item__select-box-wrapper">
                                                                                                                                    <span class="select-box">
                                                                                                                                        <label>
                                                                                                                                            <input
                                                                                                                                                (click)="setClickEmailTemplate(url.emailTemplate.id,url,i)"
                                                                                                                                                type="checkbox"
                                                                                                                                                [value]="url.emailTemplate.id"
                                                                                                                                                id="url-{{i}}-{{url.emailTemplate.id}}"
                                                                                                                                                *ngIf="url.emailTemplate.id!== url.selectedEmailTemplateId">
                                                                                                                                                <input
                                                                                                                                                 type="checkbox"
                                                                                                                                                checked="checked"
                                                                                                                                                [value]="url.emailTemplate.id"
                                                                                                                                                id="url-{{i}}-{{url.emailTemplate.id}}"
                                                                                                                                                *ngIf="url.emailTemplate.id== url.selectedEmailTemplateId"
                                                                                                                                                >
                                                                                                                                        </label>
                                                                                                                                    </span>
                                                                                                                                    <span class="ng-scope">
                                                                                                                                         <a class="item__preview item__preview--image img-container custom"  target="_BLANK">
                                                                                                                                            <img alt="" class="thumb ng-scope"  style="width:103px !important" src="{{url.emailTemplate.subject}}">
                                                                                                                                        </a> 
                                                                                                                                         <a href="javascript:;">
                                                                                                                                    </a>
                                                                                                                                </span>
                                                                                                                                </div>
                                                                                                                                <div class="item__content">
                                                                                                                                    <div class="flex-row">
                                                                                                                                        <span class="item__name" style="float:left" [title]="url.emailTemplate.name">
                                                                                                                                            <strong>{{url.emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                            <strong *ngIf="url.emailTemplate?.name?.length>15">..</strong>
                                                                                                                                        </span>
                                                                                                                                        <br>
                                                                                                                                        <span lass="item__name" title="created on" style="float:left">
                                                                                                                                            <span>
                                                                                                                                                <app-timestamp
                                                                                                                                                    [isOnlyDate]="true"
                                                                                                                                                    [dateAndTime]="url?.emailTemplate?.createdTime">
                                                                                                                                                </app-timestamp>
                                                                                                                                            </span>
                                                                                                                                        </span>
                                                                                                                                        <ng-container *ngIf="url?.emailTemplate?.type!='PARTNER'">
                                                                                                                                            <span style="float:left" title="{{url?.emailTemplate?.createdBy}}">
                                                                                                                                                <strong translate>By:</strong><span>{{url?.emailTemplate?.createdBy|slice:0:12}}<span
                                                                                                                                                        *ngIf="url?.emailTemplate?.createdBy?.length>12">..</span></span>
                                                                                                                                            </span>
                                                                                                                                        </ng-container>
                                                                                                                                        <span *ngIf="url?.emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{url?.emailTemplate?.category}}">
                                                                                                                                            <strong translate>Folder:</strong><span>{{url?.emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                            <span *ngIf="url?.emailTemplate?.category?.length>5">..</span>
                                                                                                                                        </span>
                                                                                                                                        <div class="item__actions">
                                                                                                                                            <span> 
                                                                                                                                                <a
                                                                                                                                                    style="float:left; right: -6px;"
                                                                                                                                                    class="fm external-link"
                                                                                                                                                    target="_BLANK"
                                                                                                                                                    data-toggle="tooltip"
                                                                                                                                                    data-placement="top"
                                                                                                                                                    title="Preview"
                                                                                                                                                    (click)="$event.stopPropagation();getTemplateById(url.emailTemplate)">
                                                                                                                                                    <i class="fa fa-external-link-square"
                                                                                                                                                        aria-hidden="true"
                                                                                                                                                        style="padding-top: 1px !important;; font-size: 20px; color: #5a5a5a"></i>
                                                                                                                                                </a>
                                                                                                                                            </span>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                                <div class="clearfix"></div>
                                                                                                                            </div>
                                                                                                                        </li>
    
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                                <ul class="content__list" *ngFor="let emailTemplate of url.emailTemplatesPagination.pagedItems ;let i =index">
                                                                                                                    <li [class.list__item--selected]="emailTemplate.id==url.selectedEmailTemplateId" *ngIf="url.selectedEmailTemplateIdForEdit!=emailTemplate.id" class="list__item">
                                                                                                                        <div class="flex-row" (click)="setClickEmailTemplate(emailTemplate.id,url,i,emailTemplate.draft)">
                                                                                                                            <div class="item__select-box-wrapper">
                                                                                                                                <span class="select-box" [class.hide]="emailTemplate.draft">
                                                                                                                                    <label>
                                                                                                                                        <input
                                                                                                                                            (click)="setClickEmailTemplate(emailTemplate.id,url,i,emailTemplate.draft)"
                                                                                                                                            type="checkbox">
                                                                                                                                    </label>
                                                                                                                                </span>
                                                                                                                                <span class="ng-scope">
                                                                                                                                     <a class="item__preview item__preview--image img-container custom"
                                                                                                                                        target="_BLANK"> <img
                                                                                                                                            class="thumb ng-scope"
                                                                                                                                            style="width: 103px !important"
                                                                                                                                            src="{{emailTemplate.subject}}" alt="">
                                                                                                                                    </a> <a href="javascript:;"></a>
                                                                                                                                </span>
                                                                                                                            </div>
                                                                                                                            <div class="item__content">
                                                                                                                                <div class="flex-row">
                                                                                                                                    <span class="item__name" style="float:left" [title]="emailTemplate.name">
                                                                                                                                        <strong>{{emailTemplate.name |slice:0:15}}</strong>
                                                                                                                                        <strong *ngIf="emailTemplate?.name?.length>15">..</strong>
                                                                                                                                    </span>
                                                                                                                                    <br>
                                                                                                                                    <span class="item__name" title="created on" style="float:left">
                                                                                                                                        <span>
                                                                                                                                            <app-timestamp
                                                                                                                                                [isOnlyDate]="true"
                                                                                                                                                [dateAndTime]="emailTemplate?.createdDate">
                                                                                                                                            </app-timestamp>
                                                                                                                                        </span>
                                                                                                                                    </span>
                                                                                                                                    <br>
                                                                                                                                    <ng-container *ngIf="emailTemplate.type!='PARTNER'">
                                                                                                                                        <span style="float:left" title="{{emailTemplate.createdBy}}">
                                                                                                                                            <strong translate>By:</strong><span>{{emailTemplate.createdBy|slice:0:12}}<span
                                                                                                                                                    *ngIf="emailTemplate.createdBy?.length>12">..</span></span>
                                                                                                                                        </span>
                                                                                                                                    </ng-container>
                                                                                                                            
                                                                                                                                    <span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{emailTemplate.category}}">
                                                                                                                                        <strong translate>Folder:</strong><span>{{emailTemplate?.category|slice:0:5}}</span>
                                                                                                                                        <span *ngIf="emailTemplate?.category?.length>5">..</span>
                                                                                                                                    </span>
                                                                                                                                    <span class="draft-template" *ngIf="emailTemplate.draft" translate>DRAFT</span>
                                                                                                                                    <div class="item__actions">
                                                                                                                                        <span> <a
                                                                                                                                                style="float:left;right: -6px;"
                                                                                                                                                class="fm external-link"
                                                                                                                                                target="_BLANK"
                                                                                                                                                data-toggle="tooltip"
                                                                                                                                                data-placement="top"
                                                                                                                                                title="Preview"
                                                                                                                                                (click)="$event.stopPropagation();getTemplateById(emailTemplate)">
                                                                                                                                                <i class="fa fa-external-link-square"
                                                                                                                                                    aria-hidden="true"
                                                                                                                                                    style="font-size: 20px; color: #5a5a5a; padding-top: 1px !important;"></i>
                                                                                                                                            </a>
                                                                                                                                        </span>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                            <div class="clearfix"></div>
                                                                                                                        </div>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                                <div class="col-xs-12" *ngIf="url.emailTemplatesPagination.totalRecords>0 && !url.loader">
                                                                                                                    <ul style="float: left" *ngIf="url.emailTemplatesPagination.pager.pages && url.emailTemplatesPagination.pager.pages.length" class="pagination">
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === 1" translate>First</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === 1}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.currentPage - 1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === 1" translate>Previous</a>
                                                                                                                        </li>
                                                                                                                        <li *ngFor="let page of url.emailTemplatesPagination.pager.pages" [ngClass]="{active:url.emailTemplatesPagination.pager.currentPage === page}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(page,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === page">{{page}}</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.currentPage + 1,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages" translate>Next</a>
                                                                                                                        </li>
                                                                                                                        <li [ngClass]="{disabled:url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages}">
                                                                                                                            <a (click)="paginateClickEmailTemplateRows(url.emailTemplatesPagination.pager.totalPages,url)" [class.disabled]="url.emailTemplatesPagination.pager.currentPage === url.emailTemplatesPagination.pager.totalPages" translate>Last</a>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                    </div>
    
                                                                                                </div>
                                                                                            </ng-container> 
                                                                                        </div>
                                                                                    </form>
                                                                                </div>
                                                                            </div>
                                                                           </div> <!--End of portlet light line no 1728-->
                                                                        </div><!--End of 1721-->
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <!-- Add on Click end -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="portlet light dashboard-stat2" style="padding-top: 2em;">
                                <div>
                                    <div class="btn-group btn-group-justified">
                                        <ng-container *ngFor="let schedule of sheduleCampaignValues">
                                            <label class="btn btn-primary" style="border: 1px solid #fff;">
                                                <input type="radio" class="text-center" name="scheduleCampaign"
                                                    [value]="schedule" formControlName="scheduleCampaign"
                                                    ngDefaultControl style=" margin-right:1.5em; " />{{schedule}}
                                            </label>
                                        </ng-container>
                                    </div>
                                    <div class="col-md-12" style="margin-left: -17px;margin-top: 12px;" [hidden]="buttonName!='Schedule'">
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>Date</label>
                                            <br>
                                            <input type="text" class="form-control flatpickr square-box" placeholder="Select" formControlName="launchTime" />
                                            <font style="color: red" *ngIf="campaignLaunchForm.hasError('invalidSchedule')" translate>Date Required
                                            </font>
                                        </div>
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>Country</label>
                                            <br>
                                            <select class="form-control" style="width: 100%" formControlName="countryId" (change)="onSelect($event.target.value)" id="countryName">
                                                <option *ngFor="let country of countries" [value]="country.id">
                                                    {{country.name}}</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4">
                                            <label style="float: left;" translate>TimeZone </label>
                                            <br>
                                            <select class="form-control" style="width: 100%" formControlName="timeZoneId" id="timezoneId">
                                                <ng-container *ngIf="timezones?.length==1">
                                                    <option *ngFor="let timeZone of timezones"
                                                        [value]="timeZone.timezoneId"
                                                        [selected]="campaign.countryId==timeZone.countryId">
                                                        {{timeZone.cityName}}
                                                    </option>
                                                </ng-container>
                                                <ng-container *ngIf="timezones?.length>1">
                                                    <option *ngFor="let timeZone of timezones"
                                                        [value]="timeZone.timezoneId">
                                                        {{timeZone.cityName}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="portlet-title border-none">
                                    <div class="col-xs-12 center-block">
                                        <button type="button" class="btn btn-default" (click)="resetActive($event, 40, 'step-5')" style="font-weight: 600;width: 10em;" translate>Previous</button>
                                        <button type="button" class="btn green" (click)="campaignService.addEmailId(campaign,selectedEmailTemplateRow,selectedLandingPageRow,false)" style="width: 10em;" translate>Send Test Email</button>
                                        <button type="submit" class="btn green" [disabled]="!campaignLaunchForm.valid" style="width: 10em;">{{buttonName}}</button>
                                        <button *ngIf="campaignType!='landingPage'" type="button" class="btn green" (click)="spamCheck()" style="width: 10em;" translate>Spam check</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- End Of Line 18 -->
        </div>
        <!-- --------------------Email Template -->
        <div class="modal right " id="show_email_template_preivew">
            <div class="modal-dialog modal-lg" style="width: 75%;right:0">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close-circle" data-dismiss="modal">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </button>
                        <h4 class="modal-title text-center" id="email-template-title"></h4>
                    </div>
                    <div class="modal-body">
                        <div id="htmlContent"></div>
                    </div>
                    <div class="modal-footer">
                        <a data-dismiss="modal" class="btn btn-default" style="float: right" translate>Close</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <app-scroll-top></app-scroll-top>
</div>



<!-- Marketo Authentication -->
<div class="modal right fade" id="templateRetrieve" tabindex="-1" role="dialog" aria-labelledby="templateRetrieve" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog template-modal" role="document" style="width: 50%">
        <ngx-loading [show]="loadingMarketo" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="closeModal()" id="closeButton"><i
                        class="fa fa-times"></i></a>
                <h4 class="modal-title" id="templateRetrieve" translate>Marketo integration with xAmplify</h4>
            </div>
            <div>
                <img src="assets/images/crm/Mark-amplify.png" style="margin: 30px 30% 0;width: 50%;text-align: center;">
            </div>
            <div class="modal-body" style="padding: 39px;">
                <form class="form-horizontal" autocomplete="off">
                    <div *ngIf="templateError" class="alert alert-danger"><span>{{templateError}}</span></div>
                    <div *ngIf="templateSuccessMsg" class="alert alert-success"><span>{{templateSuccessMsg}}</span>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" for="email" translate>Client Id:</label>
                        <div class="col-sm-8">
                            <input type="email" class="form-control" id="email" placeholder="Client Id" autocomplete="nope" [(ngModel)]="clientId" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('email')">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" for="pwd" translate>Secret Id:</label>
                        <div class="col-sm-8">
                            <input type="password" class="form-control" id="pwd" placeholder="Secret Id" autocomplete="new-password" [(ngModel)]="secretId" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('pwd')">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-3" for="instance" translate>Marketo Instance:</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="instance" placeholder="Marketo Instance" [(ngModel)]="marketoInstance" [ngModelOptions]="{standalone: true}" (input)="validateModelForm('instance')">
                        </div>
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <div style="text-align: right;">
                    <button class="btn btn-default" (click)="clearValues()" translate>Clear</button>

                    <button [attr.class]="marketoButtonClass" [class.disabled]="!isModelFormValid || !clientId || !secretId || !marketoInstance" (click)="submitMarketoCredentials()">Submit</button>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal right fade" id="email_spam_check" *ngIf="emailTemplate">
    <div class="modal-dialog modal-lg modal-template" style="width: 65% !important;right:0">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true"><i
                        class="fa fa-times"></i></button>
                <h4 class="modal-title" translate>Email Spam Check</h4>
            </div>
            <div class="modal-body">
                <app-email-spam-check *ngIf="emailTemplate" [emailTemplate]="emailTemplate"></app-email-spam-check>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right" translate>Close</a>
            </div>
        </div>
    </div>
</div>
<app-preview-landing-page #previewLandingPageComponent></app-preview-landing-page>
<!-----------------------------View Filter Popup----------->
<div class="modal fade right" id="filterPopup" tabindex="-1" role="dialog" aria-labelledby="filterPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeFilterPopup()">
                    <i class="fa fa-times"></i>
                </button>
                <h5 class="modal-title text-center" translate>Apply Filter</h5>
            </div>
            <div class="modal-body">
                <app-response-message class="pg8" [customResponse]="folderErrorCustomResponse" *ngIf="folderErrorCustomResponse.isVisible">
                </app-response-message>
                <div class="form-group" *ngIf="!folderErrorCustomResponse.isVisible">
                    <ejs-multiselect [(ngModel)]='selectedFolderIds' [ngModelOptions]="{standalone: true}"
                     [allowFiltering]='true' [ignoreAccent]='true' id='multiselectelement'
                      [dataSource]='emailTemplateFolders' [fields]='folderFields'
                       [placeholder]='folderFilterPlaceHolder' (blur)='applyFilter()'>
                </ejs-multiselect>
                <span class="requried" *ngIf="!isFolderSelected" translate>Please select at least one option</span>
                </div>
            </div>
            <div class="folder-modal-footer" *ngIf="!folderErrorCustomResponse.isVisible">
                <button type="button" class="btn btn-default" (click)="closeFilterPopup()" translate>Cancel</button>
                <button type="button" class="btn btn-primary" (click)="closeFilterPopup()" translate>Apply</button>
                   
            </div>
        </div>
    </div>
</div>
<app-add-folder-modal-popup #addFolderModalPopupComponent (notifyChild)="showSuccessMessage($event)"></app-add-folder-modal-popup>
<ng-container *ngIf="showUsersPreview">
    <app-preview-user-list [userListName]="selectedListName" [userListId]="selectedListId" (notifyParentComponent)="resetValues()"></app-preview-user-list>
    </ng-container>
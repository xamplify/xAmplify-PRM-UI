<style>
	a.disabled {
		pointer-events: none;
		cursor: not-allowed;
		opacity: .7;
		cursor: not-allowed;
	}
	
	.disabled {
		pointer-events: none;
		opacity: .7;
		cursor: not-allowed;
	}
	</style>
	<div class="page-content">
		<div class="page-bar">
			<ul class="page-breadcrumb">
				<li><i class="fa fa-home" aria-hidden="true"></i> <a
					[routerLink]="referenceService.homeRouter" translate>Home</a>
					 <i	class="fa fa-angle-right" aria-hidden="true"></i></li>
				<li *ngIf="!eventRouterPage"><a
					[routerLink]="['/home/campaigns/select']" translate>Select Campaign</a>
					<i	class="fa fa-angle-right" aria-hidden="true"></i></li>
			<li *ngIf="!referenceService.manageRouter&& eventRouterPage">
				<a *ngIf="isEditCampaign || reDistributeEventManage" [routerLink]="['/home/campaigns/manage']" translate>Manage Campaigns</a>
				<a *ngIf="!isEditCampaign && !reDistributeEventManage" [routerLink]="['/home/campaigns/partner/all']" translate> Campaigns shared by Vendors</a>
				<i class="fa fa-angle-right" aria-hidden="true"></i>
			  </li>
			<li *ngIf="referenceService.manageRouter && eventRouterPage">
				<a  [routerLink]="['/home/campaigns/manage']" translate>Manage Campaigns</a>
				<i class="fa fa-angle-right" aria-hidden="true"></i>
			 </li>
		  <li *ngIf="reDistributeEvent || reDistributeEventManage; else other" translate>Redistribute Event Campaign</li>
		  <ng-template #other><li translate>Event Campaign</li></ng-template>
			</ul>
			 <div id="folder-margin-xamp">
					<button class="btn btn custom" id="right" style="padding-bottom: 2px;" (click)="openCreateFolderPopup()" translate>Create a Folder</button>
				</div>
		</div>
		<app-list-loader [rowsCount]="6" *ngIf="loader"></app-list-loader>
		<div class="folder-custom-response">
			<app-response-message  [customResponse]="folderCustomResponse" *ngIf="folderCustomResponse.isVisible">
			</app-response-message>
		</div>
		<div  [hidden]="loader">
		<div [hidden]="isEditPartnerTemplate" id="event-tabs">
		<ngx-loading [show]="completeLoader"[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
		<div class="portlet light" *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate" style="display: flex; padding-top: 1em;border-radius: 5px !important;">
					<div id="step2" class="col-block col-block-complete" (click)="resetTabs('details')" [ngClass]="{'col-block-active': detailsTab}"
						style="width: 25%">
						<div class="cenetered-block">
							<span> <i class="fa fa-th-list" aria-hidden="true"></i>
							</span>
							<h5 class="hidden-xs" translate>Campaign Details</h5>
						</div>
					</div>
	
	
					<div class="col-block" style="width: 25%" [class.disabled]="recipientsTabClass === 'disableRecipientsTab'" (click)="resetTabs('recipients')" [ngClass]="{'col-block-complete': recipientsTabClass === 'recipientsTabComplate', ' ': recipientsTabClass === 'enableRecipientsTab','col-block-active': recipientsTab, 'col-block-disable': recipientsTabClass === 'disableRecipientsTab'}">
						<div class="cenetered-block">
							<span> <i class="fa fa-users" aria-hidden="true"></i>
							</span><!-- Recipients -->
							<h5 class="hidden-xs">
								<ng-container *ngIf="contactListTabName=='Partners'">
									{{authenticationService?.partnerModule?.customName | translate}}
								</ng-container>
								<ng-container *ngIf="contactListTabName!='Partners'">
									{{authenticationService?.partnerModule?.customName}} & Recipients
								</ng-container>
							</h5>
						</div>
					</div>
	
					<div class="col-block" style="width: 25%" [class.disabled]="emailTemplatesTabClass === 'disableTemplateTab'" (click)="resetTabs('templates')" [ngClass]="{'col-block-complete': emailTemplatesTabClass === 'emailTemplateTabComplete', ' ': emailTemplatesTabClass === 'enableEmailTemplate','col-block-active': emailTemplatesTab, 'col-block-disable': emailTemplatesTabClass === 'disableTemplateTab'}">
						<div class="cenetered-block">
							<span> <i class="fa fa-envelope" aria-hidden="true"></i>
							</span>
							<h5 class="hidden-xs" translate>Email Template</h5>
						</div>
					</div>
	
					<div class="col-block" style="width: 25%" (click)="resetTabs('launch')" [class.disabled]="launchTabClass === 'disableLaunchTab'" [ngClass]="{'col-block-complete': launchTabClass === 'emailLauchTabComplete', ' ': launchTabClass === 'enableLaunchTab','col-block-active': launchTab, 'col-block-disable': launchTabClass === 'disableLaunchTab'}">
						<div class="cenetered-block">
							<span> <i class="fa fa-flag" aria-hidden="true"></i>
							</span>
							<h5 class="hidden-xs" translate>Launch</h5>
						</div>
					</div>
				</div>	
		<div class="portlet light container"
				style="width: 100%;padding-bottom: 10px;">
				<div class="alert-danger alert-error" *ngIf="eventError.eventExpiredError" style="margin-top: 19px;font-weight: 600;"> This campaign is no longer available for redistribution.</div>
				
		   <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible" style="padding:10px"></app-response-message>
				<!-- Step One code -->
				<fieldset class="portlet" style="margin-top: 25px;" [hidden]="!detailsTab">
				<div *ngIf="isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate" class="portlet-title" style="display:block">
					<h4 class="pull-left f-w-600" *ngIf="!isEventUpdate" translate>Event Details</h4>
					<h4 class="pull-left f-w-600" *ngIf="isEventUpdate" translate>Event Update</h4>
				</div>
					<div class="col-xs-12 col-sm-7">
						<form class="form-horizontal">
							<div class="form-group">
								<label for="eventTitle" class="col-sm-3 labal-css color-css" translate>Event Title
									 <span class=text-danger>*</span>
								</label>
								<div class="col-sm-9">
									<input type="text" class="form-control" id="eventTitle"
										maxlength="250"
										placeholder="Event Title" [(ngModel)]="eventCampaign.campaign"
										[ngModelOptions]="{standalone: true}"
										[ngClass]="{'has-error': eventError.eventTitleError}"
										(input)="validateCampaignName(eventCampaign.campaign); resetTabClass()"
										(blur)="eventTitleError()"
										[attr.disabled]="(isPreviewEvent || isEventUpdate || reDistributeEvent || reDistributeEventManage)? '' : null">
									<div class="text-danger" *ngIf="eventError.eventTitleError" translate>Event Title is required
										</div>
									<div class="text-danger"
										*ngIf="!isValidCampaignName && eventCampaign.campaign?.length>0"
										style="color: red" translate>Title already Exists</div>
								</div>
							</div>
	
							<div class="form-group">
								<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Folder<span class=text-danger>*</span></label>
								<div class="col-sm-9">
									<select class="form-control" [(ngModel)]="eventCampaign.categoryId"	[ngModelOptions]="{standalone: true}">
										<option *ngFor="let category of categoryNames" [value]="category.id">
										 {{category.name}}
									</option>
									</select>
									<input [attr.disabled]="(isPreviewEvent)? '' : null" *ngIf="isPreviewEvent" type="text" class="form-control" [(ngModel)]="eventCampaign.email"
										[ngModelOptions]="{standalone: true}">
								</div>
							</div>
	
	
							<div class="form-group">
								<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Hosted By
									 <span class=text-danger>*</span>
								</label>
								<div class="col-sm-9">
									<input type="text"
										[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate)? '' : null"
										class="form-control pull-left" placeholder="Hosted By"
										[(ngModel)]="eventCampaign.fromName"
										[ngModelOptions]="{standalone: true}"
										[ngClass]="{'has-error': eventError.eventHostByError}"
										(input)="eventHostByError(); resetTabClass()" (blur)="eventHostByError()">
									<div class="text-danger" *ngIf="eventError.eventHostByError" translate>Hosted By is required
										</div>
								</div>
							</div>
							<div class="form-group">
								<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>From Email</label>
								<div class="col-sm-9">
									<select *ngIf="!isPreviewEvent"	[attr.disabled]="(isPreviewEvent || isEventUpdate)? '' : null"
										class="form-control" [(ngModel)]="eventCampaign.email"	[ngModelOptions]="{standalone: true}" (change)="setFromName()">
										<option *ngFor="let teamMember of teamMemberEmailIds"[ngValue]="teamMember.emailId">
											{{teamMember.emailId}}
										</option>
									</select>
									<input [attr.disabled]="(isPreviewEvent)? '' : null" *ngIf="isPreviewEvent" type="text" class="form-control" [(ngModel)]="eventCampaign.email"
										[ngModelOptions]="{standalone: true}">
								</div>
							</div>
	
	
							<div class="form-group">
								<label class="col-sm-3 col-xs-12 labal-css color-css" translate>Subject Line
									 <font style="color: red"> <strong>*</strong></font>
								</label>
								<div class="col-sm-9">
									<div [className]="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate? 'input-group merge-tag-input-border':''">
									<input type="text" id="subjectLine" placeholder="{merge tag} + Subject line"
										class="form-control" [(ngModel)]="eventCampaign.subjectLine"
										[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate)? '' : null"
										name="subjectLine"
										(input)="eventSubjectLineError()"
										[ngClass]="{'has-error': eventError.eventSubjectLineError}"
										maxlength="1000" />
										<span *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate" class="input-group-btn">
											<button class="btn btn-default" type="button" title="Insert Merge Tags" (click)="openMergeTagsPopup('campaignSubjectLine',0)">
												<i class="fa fa-plus-circle npcfs" aria-hidden="true"></i>
											</button>
										</span>
									</div>
										<div class="text-danger" *ngIf="eventError.eventSubjectLineError" translate>
										Subject line is required</div>
								</div>
							</div>
							<div class="form-group"
								*ngIf="!authenticationService.isOnlyPartner() &&  !authenticationService?.module?.isMarketingCompany">
								<span for="Throughpartner" class="col-sm-3 col-xs-5 mThroughLabel labal-css color-css" [ngClass]="{'highletClass': eventCampaign.channelCampaign }" translate>Through {{authenticationService?.partnerModule?.customName}}
									</span>
								<div class="col-sm-2 mSwitch">
									<switch [status]="eventCampaign.channelCampaign"
										[onText]="callActionSwitch.onTextValue"
										[offText]="callActionSwitch.onTextValue"
										[onColor]="callActionSwitch.onGreenColorSwitch"
										[offColor]="callActionSwitch.onGreenColorSwitch"
										[size]="callActionSwitch.size"
										[disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate"
										(statusChange)="switchStatusChange()">
									</switch>
								</div>
								<span for="toPartner" class="col-sm-3 col-xs-3 labal-css color-css mToLabel" [ngClass]="{'highletClass': !eventCampaign.channelCampaign }">
									<span *ngIf="authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || (!authenticationService.isAddedByVendor && !isVendor);else other" translate>To Recipients</span>
									<ng-template #other><span translate>To {{authenticationService?.partnerModule?.customName}}</span> </ng-template>
								  </span>
								<div class="col-sm-3 mLabel" style="padding: 0; margin-top: 5px;">
									<span style="cursor: pointer; color: #54a7e9;"
										data-html="true" data-toggle="tooltip" data-placement="top" title="{{TO_PARTNER_MESSAGE}} <br> {{THROUGH_PARTNER_MESSAGE}}">
										<i class="fa fa-question-circle" aria-hidden="true"></i>
									</span>
								</div>
							</div>
							<div class="form-group"
								*ngIf="eventCampaign.channelCampaign && !authenticationService.isOnlyPartner()">
								<label class="col-sm-3" translate>Co-Branding Logo</label>
								<div class="col-sm-9">
									<switch class="pull-left"
										[status]="eventCampaign.enableCoBrandingLogo"
										[onText]="callActionSwitch.onTextValue"
										[offText]="callActionSwitch.offTextValue"
										[onColor]="callActionSwitch.onGreenColorSwitch"
										[offColor]="callActionSwitch.onDefaultColorSwitch"
										[size]="callActionSwitch.size"
										[disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate"
										(statusChange)="setCoBrandingLogo($event)"> </switch>
									<span style="cursor: pointer; color: #54a7e9;"
										data-toggle="tooltip" data-placement="top"
										title="Enable your {{authenticationService?.partnerModule?.customName}}'s logo to be displayed in redistributed campaigns">
										<i class="fa fa-question-circle" style="padding: 8px;" aria-hidden="true"></i>
									</span>
								</div>
							</div>
	
												<!-- <div class="form-group" *ngIf="(!authenticationService.isOnlyPartner() && eventCampaign.channelCampaign && enableLeads) || (isOrgAdminOrOrgAdminTeamMember &&enableLeads)" [class.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)">
													<label class="control-label col-sm-3" translate>Push To Marketing Automation</label>
													<div class="col-sm-3">
														<div class="email-options-checkbox-group email-options-notify">
															<div class="email-options-checkbox clearfix">
																<div class="col-sm-1 ui-switch-custom-div">
																	<switch [status]="eventCampaign.pushToMarketingAutomation" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
																		(statusChange)="pushToCrm()">
																	</switch>
																</div>
																<div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -10px">
																	<span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Push your leads into marketing automation">
																			<i class="fa fa-question-circle" style="font-size: 20px;float: left;margin: -18px 0 0 0px;"></i>
																		</span>
																</div>
															</div>
														</div>
													</div>
	
													<div class="col-sm-6" *ngIf="isPushToCrm">
														<div class="row ">
															<div div class="col-md-4" *ngIf="enableLeads">
																<div class="  cenetered-block1">
																	<div class="">
																		<label class="customcheck">
																				<input type="checkbox" (click)="pushToCrmRequest('marketo', $event)" [checked]="eventCampaign.pushToMarketo">
																				<span class="checkmark"></span>
																			  </label>
																		<img class="image-size" src="assets/images/crm/marketo-crm.png">
																		<div>
																			<h5 class="hidden-xs mr-2" >Marketo</h5>
																		</div>
																	</div>
																</div>
															</div>
															<div div class="col-md-4" *ngIf="enableLeads">
																<div class="cenetered-block1">
																	<div class="">
																		<label class="customcheck">
																				<input type="checkbox" (click)="pushToCrmRequest('hubspot', $event)"  [checked]="eventCampaign.pushToHubspot">
																				<span class="checkmark"></span>
																			  </label>
																		<img class="image-size" src="assets/images/crm/hubspot-crm.png">
																		<div>
																			<h5 class="hidden-xs mr-2">Hubspot</h5>
																		</div>
																	</div>
																</div>
	
	
															</div>
															<div div class="col-md-4" *ngIf="enableLeads">
																<div class="cenetered-block1">
																	<div class="">
																		<label class="customcheck">
																				<input type="checkbox" (click)="pushToCrmRequest('microsoft', $event)"  [checked]="eventCampaign.pushToMicrosoft">
																				<span class="checkmark"></span>
																			  </label>
																		<img class="image-size" src="assets/images/crm/microsoft-crm.png">
																		<div>
																			<h5 class="hidden-xs mr-2">Microsoft Dynamics</h5>
																		</div>
																	</div>
																</div>
	
	
															</div>
														</div>
													</div>
												</div> -->
	
												<div class="form-group" 
												*ngIf="showConfigurePipelines && ((!authenticationService.isOnlyPartner() && eventCampaign.channelCampaign && enableLeads) || (isOrgAdminOrOrgAdminTeamMember &&enableLeads))">
													<label class="control-label col-sm-3" translate>Configure Pipelines</label>
													<div class="col-sm-3">
														<div class="email-options-checkbox-group email-options-notify">
															<div class="email-options-checkbox clearfix">
																<div class="col-sm-1 ui-switch-custom-div">
																	<switch [status]="eventCampaign.configurePipelines" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
																		(statusChange)="configurePipelines()">
																	</switch>
																</div>
																<div class="col-sm-11" style="padding: 0; margin-left: 100px;margin-top: -30px">
																	<span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" 
																	title="Configure Pipelines for this Campaign">
																		<i class="fa fa-question-circle"
																			style="font-size: 20px;margin: -18px 0 0 0px;"></i>
																	</span>																
																</div>
																
															</div>
														</div>
													</div>
												</div>
	
												<div class="form-group" *ngIf="eventCampaign.configurePipelines"
													[class.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)">
													<label class="control-label col-sm-3">Lead Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
													<div class="col-sm-9">
														<select class="form-control" [(ngModel)]="eventCampaign.leadPipelineId" [ngModelOptions]="{standalone: true}"
															placeholder="leadPipelineId" id="leadPipelineId" (change)="validatePipeline();"
															[disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate">
															<!-- <option [value]="0">Select Pipeline</option> -->
															<option *ngFor="let pipeline of leadPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
														</select>
													</div>
												</div>
	
												<div class="form-group" *ngIf="eventCampaign.configurePipelines"
													[class.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)">
													<label class="control-label col-sm-3">Deal Pipeline<font style="color: #f55d7a"> <b>*</b></font></label>
													<div class="col-sm-9">
														<select class="form-control" [(ngModel)]="eventCampaign.dealPipelineId" [ngModelOptions]="{standalone: true}"
															placeholder="dealPipelineId" id="dealPipelineId" (change)="validatePipeline();"
															[disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate">
															<!-- <option [value]="0">Select Pipeline</option> -->
															<option *ngFor="let pipeline of dealPipelines" [value]="pipeline.id">{{pipeline.name}}</option>
														</select>
													</div>
												</div>
							<div class="form-group">
								<label for="eventDateTime" class="col-sm-3 labal-css color-css" translate>Event Date/Time
									 <span class="text-danger">*</span>
								</label>
								<div class="col-sm-9 p0">
									<div class="col-sm-6">
										<input
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											type="text" id="startDatePicker"
											class="form-control eventflatpickr" placeholder="Start"
											[(ngModel)]="eventCampaign.campaignEventTimes[0].startTimeString"
											[ngModelOptions]="{standalone: true}"
											(input)="eventStartTimeError();validateUpdateButton()" (blur)="eventStartTimeError()"
											[ngClass]="{'has-error': eventError.eventStartTimeError && !eventCampaign.campaignEventTimes[0].startTimeString}">
										<div class="col-sm-12 text-danger" style="padding: 0"
											*ngIf="eventError.eventStartTimeError && !isPreviewEvent">{{datePassedError}}</div>
									</div>
									<div class="col-sm-6 mPadTop">
										<input type="text" id="enDatePicker"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											[disabled]="eventCampaign.campaignEventTimes[0].allDay"
											class="form-control eventflatpickr" placeholder="End"
											[(ngModel)]="eventCampaign.campaignEventTimes[0].endTimeString"
											[ngModelOptions]="{standalone: true}"
											(input)="eventEndTimeError();validateUpdateButton()" (blur)="eventEndTimeError()"
											[ngClass]="{'has-error': eventError.eventEndDateError,'opacityCss':eventCampaign.campaignEventTimes[0].allDay}">
										<div class="col-sm-12 text-danger" style="padding: 0"
											*ngIf="eventError.eventEndDateError && !isPreviewEvent">{{endDateErrorMesg}}</div>
									</div>
									<div class="col-sm-12 text-danger"
										*ngIf="((!eventError.eventStartTimeError && eventError.eventSameDateError) || endDatePassError) && !isPreviewEvent">{{endDatePassedError}}</div>
	
					  <div class="col-sm-12">
						<input type="checkbox" id="allDay" class="form-check-input mt10"
							[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
							[checked]="eventCampaign.campaignEventTimes[0].allDay"
							(change)="changeAllDay()" (input)="resetTabClass();validateUpdateButton()">
							<label class="form-check-label" for="allDay" style="float:none" translate> All Day</label>
					  </div>
								</div>
							</div>
							<div class="form-group">
								<label for="Time Zone" class="col-sm-3 labal-css color-css" translate>Time Zone
									 <span class=text-danger>*</span>
								</label>
								<div class="col-sm-9 p0">
									<div class="col-sm-6">
										<select
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate)? '' : null"
											class="form-control" style="width: 100%; cursor: pointer;"
											[ngClass]="{'has-error': eventError.eventCountryAndTimeZone && !eventCampaign.campaignEventTimes[0].countryId}"
											[(ngModel)]="eventCampaign.campaignEventTimes[0].countryId"
											[ngModelOptions]="{standalone: true}"
											(change)="onChangeCountryCampaignEventTime($event.target.value)"
											(input)="eventCountryError()" (blur)="eventCountryError()">
											<option *ngFor="let country of countries" [value]="country.id">{{country.name}}</option>
										</select>
									</div>
									<div class="col-sm-6 mPadTop">
					  <select [attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage || isEventUpdate)? '' : null"
					  class="form-control" style="width: 100%" (change)="setEventTimeZone()"
					  [(ngModel)]="eventCampaign.campaignEventTimes[0].timeZone" [ngModelOptions]="{standalone: true}"
					  id="timezoneIdChange">
					  <option *ngIf="!timezonesCampaignEventTime" value="" disabled  [attr.selected]="true" translate>Select TimeZone...</option>
					  <ng-container *ngIf="timezonesCampaignEventTime">
					  <option *ngFor="let timeZone of timezonesCampaignEventTime"  [attr.value]="timeZone.timezoneId"
					  [attr.selected]="timeZone.timezoneId === eventCampaign.campaignEventTimes[0].timeZone">{{timeZone.cityName}}
					  </option>
					  </ng-container>
					</select>
									</div>
									<div class="text-danger" style="margin-left: 15px;"
										*ngIf="eventError.eventCountryAndTimeZone && !eventCampaign.campaignEventTimes[0].countryId && !isPreviewEvent" translate>
										Please select the country and timezone</div>
								</div>
							</div>
							<div class="form-group">
								<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Online Meeting
									</label>
								<div class="col-sm-9">
									<switch [disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)"
										[status]="eventCampaign.onlineMeeting"
										[onText]="callActionSwitch.onTextValue"
										[offText]="callActionSwitch.offTextValue"
										[onColor]="callActionSwitch.onGreenColorSwitch"
										[offColor]="callActionSwitch.offDefaultColor"
										[size]="callActionSwitch.size"
										(statusChange)="onlineMeetingSwitchStatusChange()">
									</switch>
								</div>
							</div>
	
							<section *ngIf="eventCampaign.onlineMeeting">
								<div class="form-group">
									<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Description
									</label>
									<div class="col-sm-9">
									  <textarea style="font-size:14px !important" class="form-control" [(ngModel)]="eventCampaign.message" (input)="characterSize()" [ngModelOptions]="{standalone: true}" rows="5" cols="50" id="comment" maxlength="250"></textarea>
									  <label class="text-area-label-css pull-right">{{characterleft}} characters left</label>
									</div>
								</div>
							</section>
	
							<section *ngIf="!eventCampaign.onlineMeeting">
								<div class="form-group">
									<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Location Name
										 <span class="text-danger" style="position: absolute;">*</span>
									</label>
									<div class="col-sm-9">
										<input type="text"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											class="form-control" id="eventDateTime"
											(blur)="eventLocationError()" (input)="eventLocationError();validateUpdateButton()"
											placeholder="Corporate headquarters, local restaurant, etc."
											[ngClass]="{'has-error': eventError.eventLocationError}"
											[(ngModel)]="eventCampaign.campaignLocation.location"
											[ngModelOptions]="{standalone: true}" maxlength="200">
										<div class="text-danger" *ngIf="eventError.eventLocationError && !isPreviewEvent" translate>Location is required
											</div>
									</div>
								</div>
								<div class="form-group">
									<label for="hostedBy" class="col-sm-3 labal-css color-css" translate>Address</label>
									<div class="col-sm-9">
										<input type="text"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											class="form-control" id="address1"
											placeholder="Street Address"
											maxlength="25"
											[(ngModel)]="eventCampaign.campaignLocation.street"
											[ngModelOptions]="{standalone: true}">
									</div>
									<div class="col-sm-offset-3 col-sm-9 pt10">
										<input type="text"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											class="form-control" id="address2"
											placeholder="Address2"
											maxlength="25"
											[(ngModel)]="eventCampaign.campaignLocation.address2"
											[ngModelOptions]="{standalone: true}">
									</div>
	
									<div class="col-sm-offset-3 col-sm-9 pt10">
										<div class="col-sm-6 mPadCity" style="padding-left: 0px">
											<input type="text"
												[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
												class="form-control" id="city" placeholder="City"
												[(ngModel)]="eventCampaign.campaignLocation.city"
												[ngModelOptions]="{standalone: true}">
										</div>
										<div class="col-sm-6 mPadState" style="padding-right: 0px">
											<input type="text"
												[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
												class="form-control" id="state" placeholder="State"
												[(ngModel)]="eventCampaign.campaignLocation.state"
												[ngModelOptions]="{standalone: true}">
										</div>
									</div>
									<div class="col-sm-offset-3 col-sm-9 pt10">
										<div class="col-sm-6 mPadZip" style="padding-left: 0px">
											<input type="text"
												[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
												class="form-control" id="zip" placeholder="Zip" maxlength="10"
												[(ngModel)]="eventCampaign.campaignLocation.zip"
												[ngModelOptions]="{standalone: true}">
										</div>
										<div class="col-sm-6 mPadCity" style="padding-right: 0px">
											<select
												[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
												class="form-control" style="width: 100%; cursor: pointer;"
												[(ngModel)]="eventCampaign.campaignLocation.country"
												[ngModelOptions]="{standalone: true}">
												<option *ngFor="let country of countries"
													[value]="country.name">{{country.name}}</option>
											</select>
										</div>
									</div>
								</div>
							</section>
	
				<div class="form-group" *ngIf="eventCampaign.channelCampaign && !authenticationService.isOnlyPartner() && enableSMS">
				  <label class="control-label col-sm-3">SMS service</label>
				  <div class="col-sm-9">
					<div class="email-options-checkbox-group email-options-notify">
					  <div class="email-options-checkbox clearfix">
						<div class="col-sm-1 ui-switch-custom-div">
						 <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
						 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)" id="falseAction" *ngIf="!smsService">
						  </switch>
						  <switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
						 [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="smsServices(smsService)" id="trueAction" *ngIf="smsService">
						  </switch>
						</div>
	
							<span style="cursor: pointer;color: #54a7e9;" data-toggle="tooltip" data-placement="top" title="Enable SMS services for this campaign">
							  <i class="fa fa-question-circle" style="padding: 8px;"></i>
							</span>
	
	
					  </div>
					</div>
				  </div>
				</div>
				<div class="form-group" [attr.class]="smsTextDivClass" *ngIf="enableSmsText" >
				  <label class="control-label col-sm-4">Sms Text
					<font style="color: red">
					  <b>*</b>
					</font>
				  </label>
				  <div class="col-sm-8">
					<textarea  id="smsText" placeholder="Sms Text" class="form-control" [(ngModel)]="smsText" name="smsText"
					 (input)="validateForm();validateField('smsText');" maxlength="200" ></textarea>
				  </div>
				</div>
	
				<div class="form-group" *ngIf="isEventUpdate">
					<label class="col-sm-3 labal-css color-css" style="padding-top: 25px;">Message<font
						style="color: red"> <b>*</b>
					</font>
					</label>
					<div class="col-sm-9" style="padding-top: 10px;">
						<textarea [(ngModel)]="eventCampaign.updateMessage" (input)="validateUpdateButton()" [ngModelOptions]="{standalone: true}" placeholder="Add a comment..."></textarea>
					</div>
				</div>
					<!-- End Date -->
					<!-- <div class="form-group" [hidden]="!eventCampaign.channelCampaign || reDistributeEvent">
						<label class="col-sm-3 labal-css color-css" translate>End Date</label>
						<div class="col-sm-9">							
							<div class="input-group">
								<input type="text" id="endDate1" placeholder="YYYY-MM-DD" class="form-control flatpickr"
									[(ngModel)]="eventCampaign.endDateString" name="endDate" [value]="eventCampaign.endDateString" />
								<span class="input-group-btn" data-toggle="tooltip" data-placement="top" title="Clear">
									<button class="btn btn-default" type="button"><i class="fa fa-refresh npcfs" aria-hidden="true"
											(click)="clearEndDate()"></i></button>
								</span>
							</div>
						</div>
					</div> -->
					</form>
					</div>
					<div class="col-xs-12 col-sm-5">
						<div class="boxes portlet light">
							<div class="portlet-title" style="display:block">
								<h4 class="pull-left f-w-600">Event Settings</h4>
							</div>
							<div class="portlet-body clearfix"
								[attr.disabled]="(isPreviewEvent)">
								<ul>
								<ng-container *ngIf="eventCampaign.emailNotification || !eventCampaign.channelCampaign">
									<li><label> <switch
												[status]="eventCampaign.emailOpened"
												[onText]="callActionSwitch.onTextValue"
												[offText]="callActionSwitch.offTextValue"
												[disabled]="isPreviewEvent"
												[onColor]="callActionSwitch.onGreenColorSwitch"
												[offColor]="callActionSwitch.onDefaultColorSwitch"
												[size]="callActionSwitch.bsize"
												(statusChange)="eventCampaign.emailOpened = !eventCampaign.emailOpened">
											</switch> Notify me when email is opened
									</label></li>
	
									<li><label> <switch
												[status]="eventCampaign.linkOpened"
												[onText]="callActionSwitch.onTextValue"
												[offText]="callActionSwitch.offTextValue"
												[disabled]="isPreviewEvent"
												[onColor]="callActionSwitch.onGreenColorSwitch"
												[offColor]="callActionSwitch.onDefaultColorSwitch"
												[size]="callActionSwitch.bsize"
												(statusChange)="eventCampaign.linkOpened = !eventCampaign.linkOpened">
											</switch> Notify me when link is opened
									</label></li>
									</ng-container>
									<li><label> <switch
												[status]="eventCampaign.rsvpReceived"
												[onText]="callActionSwitch.onTextValue"
												[offText]="callActionSwitch.offTextValue"
												[disabled]="isPreviewEvent"
												[onColor]="callActionSwitch.onGreenColorSwitch"
												[offColor]="callActionSwitch.onDefaultColorSwitch"
												[size]="callActionSwitch.bsize"
												(statusChange)="eventCampaign.rsvpReceived = !eventCampaign.rsvpReceived">
											</switch> Notify me when guests RSVP
									</label></li>
	
									<li><label> <switch
												[status]="eventCampaign.inviteOthers"
												[disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage"
												[onText]="callActionSwitch.onTextValue"
												[offText]="callActionSwitch.offTextValue"
												[disabled]="(isPreviewEvent || reDistributeEvent) || reDistributeEvent"
												[onColor]="callActionSwitch.onGreenColorSwitch"
												[offColor]="callActionSwitch.onDefaultColorSwitch"
												[size]="callActionSwitch.bsize"
												(statusChange)="eventCampaign.inviteOthers = !eventCampaign.inviteOthers">
											</switch> Allow recipients to bring guests
									</label></li>
								</ul>
							</div>
						</div>
	
						<div class="boxes portlet light" [class.disabled]="isEventUpdate">
							<div class="portlet-title" style="display:block">
								<h4 class="pull-left f-w-600">Public vs Private</h4>
								<div class="pull-right" style="margin: 5px 5px 0px 0px;">
								<switch [disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)"
										[status]="eventCampaign.publicEventCampaign"
										[onText]="'Public'"
										[offText]="'Private'"
										[onColor]="callActionSwitch.onGreenColorSwitch"
										[offColor]="callActionSwitch.offPrivateColor"
										[size]="callActionSwitch.size"
										(statusChange)="publicVsPrivateSwitchStatusChange()">
								</switch>
								</div>
							</div>
							<div class="portlet-body clearfix" *ngIf="eventCampaign.publicEventCampaign" [class.disabled]="(isPreviewEvent)">
								<!-- <label>Event URL</label>
								<input type="text" class="form-control" id="eventUrl" placeholder="Event Url" [(ngModel)]="eventCampaign.eventUrl" [ngModelOptions]="{standalone: true}">
								 -->
	
	
						<!-- <div class="col-xs-12"> -->
							<div *ngIf="socialStatusProviders?.length > 0"  [class.disabled]="(isPreviewEvent)">
								<button type="button" class="btn btn-primary pull-right" (click)="isSocialEnable = !isSocialEnable">
									<i class="fa fa-share-alt fa-social" style="margin: 0 5px;"></i> Social Share
								</button>
								<div class="clearfix"></div>
								<div [hidden]="!isSocialEnable">
								<!-- <div class="col-xs-12"> -->
								<ul class="list-group social-account">
									<li class="list-group-item profile-box" style="background-color: #dfdfdf; cursor: pointer;" [ngClass]="{'checked': isAllSelected, 'unchecked': !isAllSelected}">
										<div class="profile-selected" (click)="toggleSelectAll()" style="float: initial;margin: 0 0 0 10px;">
											<i class="fa fa-square-o" *ngIf="!isAllSelected"></i>
											<i class="fa fa-check-square" *ngIf="isAllSelected"></i>
											<span class="ml10">Select All <b *ngIf="selectedAccounts > 0">({{selectedAccounts}})</b></span>
										</div>
									</li>
									<li *ngFor="let socialStatusProvider of socialStatusProviders; let i = index" (click)="toggleSocialStatusProvider(socialStatusProvider)"
										class="list-group-item profile-box" [ngClass]="{'checked': socialStatusProvider.selected, 'unchecked': !socialStatusProvider.selected}">
										<div class="profile-selected">
											<i class="fa fa-square-o" *ngIf="!socialStatusProvider.selected"></i>
											<i class="fa fa-check-square" *ngIf="socialStatusProvider.selected"></i>
										</div>
										<div class="profile-image-box">
											<img class="profile-image" src="{{socialStatusProvider.socialConnection.profileImage}}" onError="this.src='assets/images/social/avatar.png';">
											<img class="profile-icon" src="assets/images/social/{{socialStatusProvider.socialConnection.source}}.png">
										</div>
										<div class="profile-name">
												<h5 *ngIf="socialStatusProvider.socialConnection.profileName" title="{{socialStatusProvider.socialConnection.profileName}}"
													class="heading-primary">
													<b>{{socialStatusProvider.socialConnection.profileName}}</b>
												</h5>
												<h5 *ngIf="!socialStatusProvider.socialConnection.profileName" title="{{socialStatusProvider.socialConnection.firstName}}&nbsp;{{socialStatusProvider.socialConnection.lastName}}"
													class="heading-primary">
													<b>{{socialStatusProvider.socialConnection.firstName}}&nbsp;{{socialStatusProvider.socialConnection.lastName}}</b>
												</h5>
												<h6 class="m0">
													{{socialStatusProvider.socialConnection.source | titlecase}}
													<span *ngIf="socialStatusProvider.socialConnection.source === 'FACEBOOK'">
														<span *ngIf="socialStatusProvider.socialConnection.emailId">Profile</span>
														<span *ngIf="!socialStatusProvider.socialConnection.emailId">Page</span>
													</span>
												</h6>
										</div>
										<div class="clearfix"></div>
									</li>
								</ul>
								<!-- </div> -->
								<div class="col-xs-12 p0" style="margin-top: 10px;">
									<div style="border: 1px solid #ccc; padding: 10px;">
											<h6 class="pull-left f-w-600 mt0">Social share preview</h6>
											<textarea placeholder="Status message" rows="4" class="form-control" [(ngModel)]="statusMessage"  [ngModelOptions]="{standalone: true}"></textarea>
											<p class="pull-left">A link to your campaign will be included at the end of this post.</p>
											<div class="clearfix"></div>
									</div>
								</div>
								</div>
							</div>
					<!-- </div> -->
	
							</div>
						</div>
	
	
						<div class="boxes portlet light" *ngIf="!reDistributeEvent && authenticationService.module.hasFormAccess"  [class.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)">
							<div class="portlet-title" style="display:block">
								<h4 class="pull-left f-w-600">Event Form</h4>
							</div>
							<div class="portlet-body clearfix">
	
								<app-preview-popup #previewPopUpComponent></app-preview-popup>
	
								<section *ngIf="previewPopUpComponent?.selectedFormId">
								<span>Name: <b><a title="{{previewPopUpComponent?.selectedFormData[0].name}}" (click)="previewForm(previewPopUpComponent?.selectedFormId)">{{previewPopUpComponent?.selectedFormData[0].name | slice:0:40}}<span
														*ngIf="previewPopUpComponent?.selectedFormData[0].name?.length>40">..</span></a></b></span><br>
								<span>Created Name: <b style="color: #5b9bd1" title="{{previewPopUpComponent?.selectedFormData[0].createdName}}">{{previewPopUpComponent?.selectedFormData[0].createdName | slice:0:20}} <span
														*ngIf="previewPopUpComponent?.selectedFormData[0].createdName?.length>20">..</span></b></span><br>
								<span>Created Date: <span><b style="color: #5b9bd1">
								{{previewPopUpComponent?.selectedFormData[0].createdDateString | date:'mediumDate'}}, {{previewPopUpComponent?.selectedFormData[0].createdDateString | date:'shortTime'}}
								</b>
								</span></span>
								<!-- <span>By: Sravan</span> -->
								</section>
							</div>
						</div>
	
						<div class="boxes portlet light" *ngIf="(reDistributeEvent) && selectedFormId">
							<div class="portlet-title" style="display:block">
								<h4 class="pull-left f-w-600">Event Form</h4>
							</div>
							<div class="portlet-body clearfix">
								<section *ngIf="selectedFormId && selectedFormData?.length>0">
								<app-preview-popup #previewPopUpComponent></app-preview-popup>
								<span>Name: <b><a (click)="previewForm(selectedFormId)" title="{{selectedFormData[0].name}}">{{selectedFormData[0].name | slice:0:40}} <span
														*ngIf="selectedFormData[0].name?.length>40">..</span></a></b></span><br>
								<span>Created Name: <b style="color: #5b9bd1" title="{{selectedFormData[0].createdName}}">{{selectedFormData[0].createdName | slice:0:40}} <span
														*ngIf="selectedFormData[0].createdName?.length>40">..</span></b></span><br>
								<span>Created Date: <span><b style="color: #5b9bd1">
								{{selectedFormData[0].createdDateString | date:'mediumDate'}}, {{selectedFormData[0].createdDateString | date:'shortTime'}}</b></span>
								</span>
								<!-- <span>By: Sravan</span> -->
								</section>
							</div>
						</div>
	
	
					<!--
						<div class="form-group">
								<label for="hostedBy" class="labal-css color-css">Public vs Private</label>
								<div class="col-sm-9">
									<switch [disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)"
										[status]="eventCampaign.publicEventCampaign"
										[onText]="'Public'"
										[offText]="'Private'"
										[onColor]="callActionSwitch.onGreenColorSwitch"
										[offColor]="callActionSwitch.offDefaultColor"
										[size]="callActionSwitch.size"
										(statusChange)="publicVsPrivateSwitchStatusChange()">
									</switch>
								</div>
							</div> -->
	
	
						<div class="boxes portlet light" *ngIf="false">
							<div class="portlet-title" style="display:block">
								<h4 class="pull-left f-w-600">Listing Privacy</h4>
							</div>
							<div class="portlet-body clearfix">
								<ul>
									<li style="border-bottom: 1px solid #CCC; margin-bottom: 10px;">
										<label class="col-md-1 p0"
										style="margin-top: 17px; cursor: pointer"> <input
											style="cursor: pointer;"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											type="radio" value="eventCampaign.publicEventCampaign"
											[checked]="eventCampaign.publicEventCampaign"
											(change)="eventCampaign.publicEventCampaign = !eventCampaign.publicEventCampaign">
									</label> <label class="col-md-2 p0"><img
											src="assets/images/public-event.png"></label>
										<div class="col-md-9 p0">
											<b>Public page</b><br>
											<p>Turn invitees into your biggest promoters by letting
												them share your event on Facebook, Twitter, LinkedIn and or
												other media platforms</p>
										</div>
										<div style="clear: both"></div>
									</li>
	
									<li><label class="col-md-1 p0"
										style="margin-top: 17px; cursor: pointer;"> <input
											style="cursor: pointer;"
											[attr.disabled]="(isPreviewEvent || reDistributeEvent || reDistributeEventManage)? '' : null"
											type="radio" value="!eventCampaign.publicEventCampaign"
											[checked]="!eventCampaign.publicEventCampaign"
											(change)="eventCampaign.publicEventCampaign = !eventCampaign.publicEventCampaign">
									</label> <label class="col-md-2 p0 "><img
											src="assets/images/private-event.png"></label>
										<div class="col-md-9 p0">
											<b>Private page</b><br>
											<p>Make your event invitation-only (guests must receive
												an xAmplify invitation to attend/view)</p>
										</div></li>
								</ul>
							</div>
						</div>
					</div>
				
			 <div class="col-xs-12">
			  <button *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate" type="button" style="float: right" class=" btn green"
				(click)="resetTabs('recipients')" title="Please Fill Campaign Details" [disabled]="recipientsTabClass === 'disableRecipientsTab'">Next</button>
			</div>
				</fieldset>
				<!--  End Step one -->
				<!--   Step two  Recipients  -->
				<div class="row setup-content" id="step-4" *ngIf="recipientsTab">
					<div class="col-xs-12">
						<div class="col-xs-12" style="margin-top: 10px;">
							<div class="row pb10" id="user_list_table_view">							
								<div>
									<div id="user_list_tb_wrapper" class="dataTables_wrapper form-inline no-footer"
										style="padding:10px">
										<div class="note-vid pull-left">{{contactListSelectMessage}}</div>
										<div class="inputs" style="float: right;padding-bottom: 5px;display: flex;">
											<div style="float: left;padding-right: 5px;" *ngIf="!reDistributeEvent && !reDistributeEventManage">
												<select class="form-control mEventPad"
													[(ngModel)]="recipientsSortOption.eventSelectedCampaignRecipientsDropDownOption"
													(ngModelChange)="sortRecipientsList($event)">
													<option
														*ngFor="let option of recipientsSortOption.eventCampaignRecipientsDropDownOptions"
														[ngValue]="option">{{option.name}}</option>
												</select>
											</div>
											<div class="portlet-input input-inline mEventSearch" style="top: -6px;">
												<div class="input-icon right">
													<input type="text" [(ngModel)]="contactSearchInput"
														[ngModelOptions]="{standalone: true}" class="form-control"
														placeholder="Search for a list"
														(keypress)="eventHandlerContact($event.keyCode)">
													<button class="glyphicon glyphicon-remove search-box-item-clear"
														style="padding: 5px;" *ngIf="contactSearchInput"
														(click)="contactSearchInput='';searchContactList()"></button>
													<button type="submit" class="search-box-item-click" style="padding: 4px !important;"
														(click)="searchContactList()">
														<i class="fa fa-search"
															style="font-size: 16px !important; padding: 5px !important;" aria-hidden="true"></i>
													</button>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-12 col-lg-12 row-fluid p0">
											<div class="alert alert-success" *ngIf="parternUserListIds?.length>0">
												<ng-container *ngIf="parternUserListIds?.length==1">
													{{parternUserListIds?.length}} row is selected
												</ng-container>
												<ng-container *ngIf="parternUserListIds?.length>1">
													{{parternUserListIds?.length}} rows are selected
												</ng-container>
											</div>
											<table class="table table-filter" *ngIf="contactListsPagination.totalRecords==0"
												aria-describedby="contactandpartnerstable">
												<tr>
													<th colspan="5" scope="row">
														<div class="alert alert-info">
															<strong>{{emptyContactListMessage}}</strong>
														</div>
													</th>
												</tr>
											</table>
											<div class="table-responsive">
												<table class="table tgrid" id="user_list_tb" aria-describedby="user_list_tb_info"
													*ngIf="contactListsPagination.pagedItems?.length > 0">
													<thead>
														<tr>
															<th scope="row" class="text-center">
																<input type="checkbox" name="all" [(ngModel)]="isHeaderCheckBoxChecked"
																	(change)="checkAllForPartners($event)"
																	id="checkAllExistingContacts" />
															</th>
															<th class="hidden-xs" *ngIf="showExpandButton"></th>
															<th class="hidden-xs" scope="row" colspan="2" style="width: 35%">
																<span class="ui-column-resizer"
																	(mousedown)="referenceService.onMouseDown($event, 'user_list_tb',2)"></span>
																<span class="gridHeader" translate>List Name</span>
															</th>
															<th class="visible-xs" scope="row" colspan="1" style="width: 35%" translate>
																List Info
															</th>
				
															<th scope="row" style="text-align: center;" translate>Type</th>
															<th scope="row" style="text-align: center;" translate>Uploaded Date</th>
															<th *ngIf="!this.reDistributeEvent && !this.reDistributeEventManage" scope="row" style="text-align: center;" translate>Count</th>
															<th scope="row" style="text-align: center;" translate>Preview </th>
														</tr>
													</thead>
													<tbody>
														<ng-container
															*ngFor="let contactList of contactListsPagination.pagedItems;let i = index">
															<tr role="row" id="campaignContactListTable_{{contactList.id}}"
																(click)="highlightPartnerContactRow(contactList,$event,contactList.noOfContacts,contactList.emailValidationInd)"
																[ngClass]="{'contact-list-selected': userListIds.indexOf(contactList.id)>-1 || parternUserListIds.indexOf(contactList.id)>-1}"
																(mouseover)='showContactsAlert(contactList.count)'
																[attr.title]="emptyContactsMessage">
																<td class="text-center">
																	<div class="form-group">
																		<input value="{{contactList.id}}" name="campaignContact[]"
																			[attr.disabled]="isPreviewEvent || ((contactList.name==properties.activeMasterPartnerList  || contactList.name==properties.inActiveMasterPartnerList) && contactList.count==0)? '' : null" type='checkbox'
																			id='{{contactList.id}}'
																			[checked]="parternUserListIds.indexOf(contactList.id)>-1"
																			(click)="$event.stopPropagation();partnerHighlightRow(contactList)"
																			(input)="resetTabClass()">
																	</div>
																</td>
																<td class="cw" *ngIf="showExpandButton">
																	<div class="actions-block left-float">
																		<a (click)="$event.stopPropagation();viewMatchedContacts(contactList)"
																			title="Matched Results">
																			<i class="fa"
																				[ngClass]="{'fa-angle-right': !contactList.expand, 'fa-angle-down': contactList.expand}"
																				aria-hidden="true" style=" padding-top: 0px;"></i>
																		</a>
																	</div>
																</td>
																<td style="width: 10%;text-align: left;" class="hidden-xs">
																	<img *ngIf="contactList?.socialNetwork=='ZOHO'"
																		src="{{properties?.zohoImage}}" alt="Zoho"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='GOOGLE'"
																		src="{{properties?.googleImage}}" alt="Google"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='SALESFORCE'"
																		src="{{properties?.salesforceImage}}" alt="Salesforce"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='MANUAL'"
																		src="{{properties?.manualImage}}" alt="Manual"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='HUBSPOT'"
																		src="{{properties?.hubspotImage}}" alt="Hubspot"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='MARKETO'"
																		src="{{properties?.marketoImage}}" alt="Marketo"
																		class="img-class-list">
																	<img *ngIf="contactList?.socialNetwork=='MICROSOFT'"
																		src="{{properties?.microsoftImage}}" alt="microsoft"
																		class="img-class-list">
																</td>
																<td style="text-align: left;"
																	*ngIf="!reDistributeEvent && !reDistributeEventManage">
																	<h4 class="moreipsis mt5 mb5 f-w-600" title="{{contactList?.name}}">
																		<span><strong>{{contactList?.name}}</strong></span>
																	</h4>
																	<h6 class="moreipsis" title="{{contactList?.creatorName}}">
																		<span translate> Created By
																			<strong>{{contactList?.creatorName}}</strong></span>
																	</h6>
																	<ng-container *ngIf="!contactList?.partnerList">
																		<div style="display: inline-flex;">
																			<h6 class="view-banner" translate>
																				<span *ngIf="contactList?.publicList" data-toggle="tooltip"
																					data-placement="top"
																					title="{{actionsDescription?.contact_list_public}}"
																					translate>Public
																				</span>
																				<span *ngIf="!contactList?.publicList" data-toggle="tooltip"
																					data-placement="top"
																					title="{{actionsDescription?.contact_list_private}}"
																					translate>Private
																				</span>
																			</h6>
																			<h6 *ngIf="contactList?.formList" class="view-banner view-banner-green" translate>
																				<span data-toggle="tooltip" data-placement="top"
																					title="This list is associated with a form." translate>Form Contact List
																				</span>
																			</h6>
																		</div>																	
																	</ng-container>
																</td>
				
																<td style="text-align: center"
																	*ngIf="this.reDistributeEvent || this.reDistributeEventManage">
																	<h4 class="moreipsis mt5 mb5 f-w-600" title="{{contactList?.name}}">
																		<span><strong>{{contactList?.name}}</strong></span>
																	</h4>
																	<h6 *ngIf="contactList?.formList" class="view-banner view-banner-green mt10" translate>
																		<span data-toggle="tooltip" data-placement="top"
																			title="This list is associated with a form." translate>Form Contact List
																		</span>
																	</h6>
																</td>
				
				
																<td class='text-center m0'
																	*ngIf="!reDistributeEvent&&!reDistributeEventManage">
																	<ng-container *ngIf="contactList.partnerList"> {{authenticationService?.partnerModule?.customName}}
																	</ng-container>
																	<ng-container *ngIf="!contactList.partnerList"> Contacts
																	</ng-container>
																</td>
																<td style="text-align:center"
																	*ngIf="this.reDistributeEvent || this.reDistributeEventManage">
																	{{contactList.type}}
																	
																</td>
																<td class="text-center sorting_1"
																	*ngIf="!this.reDistributeEvent && !this.reDistributeEventManage">
																	<app-timestamp *ngIf="!referenceService.isSafariBrowser()"
																		[isOnlyDate]="true" [dateAndTime]="contactList?.displayTime">
																	</app-timestamp>
																	<span *ngIf="referenceService.isSafariBrowser()">
																		{{contactList.displayTime}} </span>
																</td>
				
																<td class="text-center sorting_1"
																	*ngIf="this.reDistributeEvent || this.reDistributeEventManage">
																	<app-timestamp *ngIf="!referenceService.isSafariBrowser()"
																		[isOnlyDate]="true" [dateAndTime]="contactList.createdDate">
																	</app-timestamp>
																	<span *ngIf="referenceService.isSafariBrowser()">
																		{{contactList.createdDate}} </span>
																</td>
	
																<td class="text-center" *ngIf="!this.reDistributeEvent && !this.reDistributeEventManage">
																	{{contactList?.count}}
																</td>
	
																<td class="text-center">
																	<a (click)="$event.stopPropagation();previewUsers(contactList)">
																		<i class="fa fa-eye" aria-hidden="true"
																			style="color: #008fd5;padding-top: 3px; font-size: 20px;"
																			title="" data-original-title="Preview"></i>
																	</a>
																</td>
															</tr>
															<tr *ngIf="contactList?.expand">
																<td colspan="12">
																	<app-userlist-users [searchKey]="contactListsPagination.searchKey"
																		[userListId]="contactList.id"></app-userlist-users>
																</td>
															</tr>
														</ng-container>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>
								<div style="text-align:left;padding-left: 10px;padding-right: 9px;">
									<app-pagination [class.disabled]="isPreviewEvent" [pagination]="contactListsPagination"
										[type]="'contactlists'" (notifyParent)="setPage($event)"
										(notifyParentDropDown)="paginationDropDown($event)">
									</app-pagination>
								</div>
							</div>
							<button *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage" type="button"
								style="float:left;" class="btn btn-default" (click)="resetTabs('details')">Previous</button>
							<button *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage" type="button"
								style="float: right;" class="btn btn-default btn green"
								[disabled]="emailTemplatesTabClass === 'disableTemplateTab'" (click)="resetTabs('templates')"
								title="">Next</button>
						</div>
					</div>
				</div>
				<!--     End Step two   -->
				<!-- Step three email templates   -->
	
			  <div class="col-xs-12 mb10" [hidden]="!emailTemplatesTab" style="padding: 10px 0 0 0;">
				<app-grid-loader *ngIf="gridLoader"></app-grid-loader>
				  <div class="boxes portlet light" style="border:none" [hidden]="gridLoader">
					  <div class="portlet-title" style="display:block;background: none !important;border-bottom:none">
						<div>
							<div class="input-icon right pull-right mr15"
							  style="padding-top: 5px; right: 74px;">
							  <input type="text" [(ngModel)]="emailTemplateSearchInput"	[ngModelOptions]="{standalone: true}" class="form-control"
								placeholder="Search for a template" (keypress)="eventHandler($event.keyCode)">
							  <button class="glyphicon glyphicon-remove search-box-item-clear"	style="padding: 5px;" *ngIf="emailTemplateSearchInput"
								(click)="emailTemplateSearchInput='';searchEmailTemplate()"></button>
							  <button type="submit" class="search-box-item-click email-search"	(click)="searchEmailTemplate()" style="padding-bottom: 6px;">
								<i class="fa fa-search"	style="font-size: 16px !important; padding: 5px !important;" aria-hidden="true"></i>
							  </button>
							</div>
							<button type="submit" class="campaign-email-template-filter-icon mr21" (click)="showFolderFilterPopup()" style="padding-bottom: 8px !important;">
								<i class="fa fa-filter cesf-xamp requried" *ngIf="selectedFolderIds?.length>0" aria-hidden="true"></i>
								<i class="fa fa-filter cesf-xamp" *ngIf="selectedFolderIds?.length==0" aria-hidden="true"></i>
							</button>
							</div>
						<h4 class="pull-left f-w-600" style="padding-left: 21px;padding-top: 3px;">Select<span *ngIf="isPreviewEvent">ed</span> an Email Template</h4>
					  </div>
					 
	
							<div class="portlet-body clearfix">
					 <section  style="min-height: 200px;">
					 <ng-container *ngIf="showSelectedEmailTemplate && eventCampaign.selectedEditEmailTemplate.id"><!-- !hideCoBrandedEmailTemplate -->
							  <div  *ngIf="emailTemplatesPagination.totalRecords>0 && emailTemplatesPagination.pageIndex==1">
							 <ul class="content__list">
								<li class="list__item" [class.list__item--selected]="eventCampaign.emailTemplate.id === eventCampaign.selectedEditEmailTemplate.id" (click)="emailTemplateSelection(eventCampaign.selectedEditEmailTemplate)">
								  <div class="flex-row">
									<div class="item__select-box-wrapper">
									  <span class="select-box"> <label> <input
																(click)="eventCampaign.emailTemplate = eventCampaign.selectedEditEmailTemplate;" class=""
																type="checkbox" (input)="resetTabClass()">
								  </label>
								  </span>
									   <span class="ng-scope"> <a
										class="item__preview item__preview--image img-container custom" target="_BLANK">
										 <img   class="thumb ng-scope" style="width:103px !important" src="{{eventCampaign.selectedEditEmailTemplate.subject}}" alt="">
									  </a> <a href="javascript:;"> </a>
									  </span>
									</div>
									<div class="item__content">
									  <div class="flex-row">
										<span class="item__name"
										  [title]="eventCampaign.selectedEditEmailTemplate.name">
										  <strong>{{eventCampaign.selectedEditEmailTemplate.name |slice:0:15}}</strong>
										  <strong *ngIf="eventCampaign.selectedEditEmailTemplate?.name?.length>15">...</strong>
										</span>
										<br>
										<span class="item__name"  [title]="eventCampaign.selectedEditEmailTemplate.createdBy"><span>By: </span>{{eventCampaign.selectedEditEmailTemplate.createdBy | slice:0:12}}
										<span *ngIf="eventCampaign.selectedEditEmailTemplate.createdBy?.length>12">...</span>
										</span>
										<br>
										<span lass="item__name" title="created on" style="float:left">
											<span><app-timestamp [isOnlyDate]="true"
											  [dateAndTime]="eventCampaign?.selectedEditEmailTemplate?.createdDate">
											</app-timestamp></span>
										</span>
										<span *ngIf="eventCampaign?.selectedEditEmailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{eventCampaign?.selectedEditEmailTemplate?.category}}">
											<strong>Folder:</strong><span>{{eventCampaign?.selectedEditEmailTemplate?.category|slice:0:5}}</span>
											<span *ngIf="eventCampaign?.selectedEditEmailTemplate?.category?.length>5">..</span>
										</span>
										<div class="item__actions">
										  <span>
											   <a style="float:left; right: -6px;"  class="fm external-link" target="_BLANK"    data-toggle="tooltip" data-placement="top"
												title="Preview" (click)="$event.stopPropagation();previewEventCampaignEmailTemplate(eventCampaign.selectedEditEmailTemplate.id)">
											  <i class="fa fa-external-link-square ext-css"  aria-hidden="true"></i>
										   </a>
										   <a style="right: -15px;"  class="fm external-link" target="_BLANK"    data-toggle="tooltip" data-placement="top"
												title="Edit" (click)="$event.stopPropagation();editTemplate(eventCampaign.selectedEditEmailTemplate)">
												<i class="fa fa-edit ext-css"  aria-hidden="true"></i>
											  </a>
										  </span>
										</div>
									  </div>
									</div>
									<div class="clearfix"></div>
								  </div>
								</li>
							  </ul>
						  </div>
					  </ng-container>
					  <ul class="content__list"
											*ngFor="let emailTemplate of campaignEmailTemplates;let i =index">
											<li *ngIf="emailTemplateId != emailTemplate?.id" [class.disabled]="isPreviewEvent || reDistributeEvent || reDistributeEventManage" (click)="emailTemplateSelection(emailTemplate)" class="list__item" [class.list__item--selected]="eventCampaign?.emailTemplate?.id === emailTemplate?.id">
												<div class="flex-row mGridHeight">
													<div class="item__select-box-wrapper">
														<span class="select-box"> <label> <input
																(click)="eventCampaign.emailTemplate = emailTemplate;" class=""
																type="checkbox" (input)="resetTabClass()">
														</label>
														</span>
														 <span class="ng-scope"> <a
															class="item__preview item__preview--image img-container custom"
															target="_BLANK">
															 <img
																class="thumb ng-scope" style="width: 103px !important;" src="{{emailTemplate.subject}}" alt="">
														</a> <a href="javascript:;"> </a>
														</span>
													</div>
													<div class="item__content mGridPad">
														<div class="flex-row">
															<span class="item__name"
																[title]="emailTemplate.name"><strong>{{emailTemplate.name | slice:0:18}}
																<span *ngIf="emailTemplate.name?.length>18">...</span></strong>
															</span>
															<br>
																<span class="item__name"  [title]="emailTemplate.createdBy">
																	<span>By: </span>{{emailTemplate.createdBy | slice:0:12}}
																<span *ngIf="emailTemplate.createdBy?.length>12">...</span>
																</span>
															<br>
																<span class="item__name" title="created on" style="float:left">
																	<span>
																		<app-timestamp
																			[isOnlyDate]="true"
																			[dateAndTime]="emailTemplate.createdDate">
																		</app-timestamp>
																	</span>
																</span>
															<br>
															<span *ngIf="emailTemplate?.category?.length>0" class="campaign-email-template-category" title="{{emailTemplate?.category}}">
																<strong>Folder:</strong><span>{{emailTemplate?.category|slice:0:5}}</span>
																<span *ngIf="emailTemplate?.category?.length>5">..</span>
															</span>
															<div class="item__actions">
																<span>
																	 <a class="fm external-link" target="_BLANK"
																	data-toggle="tooltip" data-placement="top"
																	title="Preview"
																	(click)="$event.stopPropagation();previewEventCampaignEmailTemplate(emailTemplate.id)">
																		<i class="fa fa-external-link-square preview-edit-color"
																		aria-hidden="true"
																		style="font-size: 20px;"></i>
																</a>
																<a style="right: -15px;"  class="fm external-link" target="_BLANK"    data-toggle="tooltip" data-placement="top"
																	title="Edit" (click)="$event.stopPropagation();editTemplate(emailTemplate)">
																	<i class="fa fa-edit ext-css"  aria-hidden="true"></i>
																  </a>
																</span>
															</div>
														</div>
													</div>
													<div class="clearfix"></div>
												</div>
											</li>
										</ul>
									<div *ngIf="emailTemplatesPagination.totalRecords==0" class="alert alert-info">
									   <strong>No templates found</strong>
									</div>
							  </section>
				 </div>
			 </div>
					<div style="text-align:left;padding-left: 31px;padding-right: 28px; " [hidden]="emailTemplatesPagination.totalRecords<0 || campaignEmailTemplate.httpRequestLoader.isLoading || campaignEmailTemplate.httpRequestLoader.isServerError">
					  <app-pagination [class.disabled]="isPreviewEvent" [pagination]="emailTemplatesPagination" [type]="'emailTemplates'"
				(notifyParent)="setPage($event)"  (notifyParentDropDown)="loadPaginationDropdownTemplates($event)"></app-pagination>
			</div>
			<button *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage" type="button" style="float:left;" class="btn btn-default" (click)="resetTabs('recipients')">Previous</button>
				<button *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage" type="button" style="float: right;" class="btn btn-default btn green" (click)="resetTabs('launch')" [class.disabled]="launchTabClass === 'disableLaunchTab'" title="">Next</button>
			</div>
			<!--    End Step three templates -->
			<!-- 	Step four launch campaigns    -->
			<div [hidden]="!launchTab" style="padding: 10px 0 0 0;">
			<fieldset>
				<legend>Preview Before Publishing</legend>
				<div class="row">
				<div class="portlet-body clearfix">
				<div class="col-xs-12 col-sm-12 col-md-5 col-lg-5">
					<div class="portlet light clearfix" style="padding:0px;border: none;">
					  <div class="p0">
						  <div class="pricing hover-effect">
							  <div class="pricing-head">
								<h4 title="{{eventCampaign.campaign}}" style="text-align:center">Campaign name: {{eventCampaign.campaign | slice:0:30}}<span *ngIf="eventCampaign.campaign?.length>30">...</span></h4>
								<h4><img style="margin: 0 auto;height: 106px;cursor:default" alt="Regular E-mail Campaign" class="pricing-head-img img-responsive" src="assets/images/event-campaign.png"></h4>
							  </div>
							</div>
						<h5 id="description"></h5>
					  </div>
					</div>
				  </div>
				<div class="col-xs-12 col-sm-12 col-md-7 col-lg-7">
				  <div class="portlet light border-0" style="border: none;">
					<table width="100%">
					  <tr>
						<td width="28%">
						  <div class="icon-border">
						  <i class="fa fa-users fa-2x icon-position" aria-hidden="true"></i>
						</div>
						<ng-container *ngIf="authenticationService.isVendor() || authenticationService.isVendorPartner()">
						  <span class="h4-text">
							<ng-container *ngIf="contactListTabName=='Partners'">
								{{authenticationService?.partnerModule?.customName | translate}}
							</ng-container>
							<ng-container *ngIf="contactListTabName!='Partners'">
								{{authenticationService?.partnerModule?.customName}} & Recipients
							</ng-container>
						  </span>
						</ng-container>
						<ng-container *ngIf="authenticationService.isOnlyPartner()">
						  <span class="h4-text" *ngIf="!isPartnerUserList">Contact List(s)</span>
						</ng-container>
						 <ng-container *ngIf="(authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner())">
						  <span class="h4-text">
							<ng-container *ngIf="contactListTabName=='Partners'">
								{{authenticationService?.partnerModule?.customName | translate}}
							</ng-container>
							<ng-container *ngIf="contactListTabName!='Partners'">
								{{authenticationService?.partnerModule?.customName}} & Recipients
							</ng-container>
						  </span>
						</ng-container>
	
						</td>
						<td *ngIf="isPreviewEvent" width="55%" style="text-align:center">
						  <ng-container *ngFor="let contactList of userListDTOObj;let i=index;">
							<a (click)="loadContacts(contactList,contactsPagination)" data-toggle="modal" title="{{contactList.name}}">
							  <span *ngIf="contactList.name">  {{contactList.name | slice:0:40}}<span *ngIf="contactList.name?.length>40">...</span></span>
							</a>
						  </ng-container>
						</td>
						<td *ngIf="!isPreviewEvent" width="55%" style="text-align:center">
						  <ng-container *ngFor="let contactList of userListDTOObj;let i=index;">
							<div>
							<a *ngIf="i<2" (click)="loadContacts(contactList,contactsPagination)" data-toggle="modal" title="{{contactList.name}}">
							  <span *ngIf="contactList.name">  {{contactList.name | slice:0:40}}<span *ngIf="contactList.name?.length>40">...</span></span>
							</a>
							</div>
						  </ng-container>
						  <a>
							<span *ngIf="userListDTOObj?.length>2">...</span> <span *ngIf="userListDTOObj?.length == 0">0 contactlists</span>
						  </a><br>
						  <span *ngIf="parternUserListIds.length>0 && eventCampaign.emailNotification" style="color: cornflowerblue;font-weight: 600;">This email will be sent to {{validUsersCount}}({{allUsersCount}}) users.</span>
						  <span *ngIf="!eventCampaign.emailNotification && !reDistributeEvent" style="color: red;font-weight: 600;">No email will be sent to partners.</span>
						</td>
						<td style="text-align: right" width="20%">
						  <a  [class.hide]="reDistributeEvent || reDistributeEventManage || isEventUpdate" [class.disabled]="isPreviewEvent" class="btn btn-primary btn-sm" style="color:#fff" (click)="resetTabs('recipients')">Change</a>
						</td>
					  </tr>
					</table>
				  </div>
				  <div class="portlet light border-0" id="email-template-preview-div" style="border: none;">
					<table width="100%">
					  <tr>
						<td width="28%">
						<div class="icon-border">
						  <i class="fa fa-envelope fa-2x icon-position" aria-hidden="true"></i>
						</div>
						  <span style="margin:20px 15px 0 33px !important" >Email Template</span>
						</td>
						<td width="55%" style="text-align:center">
						  <a (click)="previewEventCampaignEmailTemplate(eventCampaign?.emailTemplate?.id)" title="{{eventCampaign?.emailTemplate?.name}}">
							<span *ngIf="eventCampaign?.emailTemplate?.name">
							  {{eventCampaign?.emailTemplate?.name | slice:0:30}}<span  *ngIf="eventCampaign?.emailTemplate?.name.length>30">...</span>
							</span>
						  </a>
						  <!-- <a  *ngIf="reDistributeEvent" (click)="referenceService.downloadTemplate(eventCampaign.id,'html')" data-toggle="tooltip" data-placement="top" title="Download Template" data-rel="fancybox-button" >
							<i class="fa fa-download" id="download-template-i-font"></i></a>
	
							 <a  *ngIf="reDistributeEvent" (click)="referenceService.downloadTemplate(eventCampaign.id,'pdf')" data-toggle="tooltip" data-placement="top" title="Download Template" data-rel="fancybox-button" >
							<i class="fa fa-file-pdf-o" id="download-template-i-font"></i></a> -->
						</td>
	
	
	
						<td style="text-align: right" width="20%">
						  <a [class.hide]="reDistributeEvent || reDistributeEventManage || isEventUpdate" class="btn btn-primary btn-sm" [class.disabled]="isPreviewEvent" (click)="resetTabs('templates')">Change</a>
						  <a *ngIf="reDistributeEvent || reDistributeEventManage" class="btn btn-primary btn-sm"  (click)="editPartnerTemplate()"><i class="fa fa-edit"></i>Edit</a>
						</td>
					  </tr>
					</table>
				  </div>
				</div>
			  </div>
			</div>
			</fieldset>
	
			  <div class="col-xs-12 mb10 p0" *ngIf="eventCampaign.emailNotification || reDistributeEvent || !eventCampaign.channelCampaign">
			  <fieldset class="col-xs-12">
				<legend style="color: #2c3f52;">Add Your Work Flow</legend>
				<div style="margin-bottom:70px;">
				<br>
				<div class="col-xs-12">
				<div class="col-xs-3"></div>
				<div class="col-xs-6" *ngIf="!isPreviewEvent" [class.disabled]="eventError.eventExpiredError">
							<a class="dashboard-stat yellow-gold" style="background-color: #f76c1a;padding: 9px 0;" (click)="addReplyRows()">
								<i class="fa fa-plus-square p0" style="margin: 0 5px;"></i>
				  Auto-responses to your email.
							</a>
						</div>
	
					<div class="col-xs-6" *ngIf="isPreviewEvent" [class.disabled]="isPreviewEvent || eventError.eventExpiredError">
							<a style="cursor: default;" [attr.disabled]="isPreviewEvent? '' : null" class="dashboard-stat yellow-gold" style="background-color: #f76c1a;padding: 9px 0;" (click)="addReplyRows()">
								<i class="fa fa-plus-square p0" style="margin: 0 5px;"></i>
				  Auto-responses to your email.
							</a>
						</div>
						<div class="col-xs-3"></div>
						</div>
			   </div>
				<div *ngFor="let reply of eventCampaign.campaignReplies;let i=index">
				<div class="portlet light dashboard-stat2" id="{{reply.divId}}" style="min-height: 320px;" [class.disabled]="reply.body && reDistributeEvent && reDistributeEventManage && reply.id">
				  <div class="portlet-title custom-change-css mEventLaunchHeight" [ngClass]="{'colorBlue ':isEven(i+1), 'colorRed':!isEven(i+1)}"  style="display:block">
					<div class="col-xs-12 col-sm-6">
					  <h4 class="text-left" style="color:#fff">Add an Auto-response to your e-mail-{{i+1}}</h4>
					</div>
					<div class="col-xs-12 col-sm-6 mEventLaunchWidth">
					<div class="pull-right">
					<label class="switch-choose" style="color:#fff" *ngIf="!reDistributeEvent && !reDistributeEventManage && !eventCampaign.nurtureCampaign">Choose Template</label>
					<switch class="switch-choose" [hidden]="reDistributeEvent || reDistributeEventManage || eventCampaign.nurtureCampaign" [disabled]="isPreviewEvent" [status]="reply.defaultTemplate" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
					[onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size"
					(statusChange)="selectReplyEmailBody($event,i,reply)">
					</switch>
					<button type="button"  [disabled]="isPreviewEvent" class="btn btn-danger button-blue" (click)="remove(reply.divId,'replies')">
						<span class="glyphicon glyphicon-trash"></span>
					</button>
					<button type="button" [disabled]="isPreviewEvent"  class="btn btn-primary button-blue"  (click)="addReplyRows()">
						<span class="glyphicon glyphicon-plus"></span>
					 </button>
					</div>
				  </div>
				  </div>
				  <div class="row">
					<form class="role add-reply" id="form-{{reply.divId}}">
					  <div class="col-xs-12 p0">
					<div class="col-xs-12 p0">
					<div class="col-xs-12 col-sm-6" style="margin-bottom: 6px;">
					  <label style="cursor: default;" for="reason">Reason</label>
					  <select class="form-control" name="actionId" [(ngModel)]="reply.actionId" [attr.disabled]="isPreviewEvent? '' : null">
						<option [value]="0" [selected]="reply.actionId ==0">Email is not opened</option>
						<option [value]="13" [selected]="reply.actionId==13">Email is opened</option>
						<option [value]="16" [selected]="reply.actionId ==16">Send immediately after email is opened</option>
						<option [value]="33" [selected]="reply.actionId ==33">Send follow-up email</option>
						<option [value]="24" [selected]="reply.actionId ==24" [hidden]="reDistributeEvent || reDistributeEventManage || authenticationService.isOnlyPartner()">If event is not shared by {{authenticationService?.partnerModule?.customName}}</option>
						<option [value]="29" [selected]="reply.actionId ==29" *ngIf="!eventCampaign.publicEventCampaign">Send reminder if no response</option>
						<option [value]="30" [selected]="reply.actionId ==30">Send reminder if responded YES</option>
						<option [value]="25" [selected]="reply.actionId ==25"> Send email if RSVP Yes</option>
						<option [value]="26" [selected]="reply.actionId ==26" *ngIf="!eventCampaign.publicEventCampaign">Send email If RSVP No</option>
						<option [value]="27" [selected]="reply.actionId ==27" *ngIf="!eventCampaign.publicEventCampaign">Send email If RSVP Maybe</option>
						<option [value]="28" [selected]="reply.actionId ==28">Send after event</option>
					  </select>
					</div>
					<div *ngIf="reply.actionId == 0 || reply.actionId == 13 || reply.actionId == 24 || reply.actionId == 29 || reply.actionId == 30 || reply.actionId==33" [class.disabled]="isPreviewEvent">
					  <div class="col-xs-12 col-sm-2">
						<label style="cursor: default;" for="days" *ngIf="reply.actionId==22 || reply.actionId==23 || reply.actionId==33 " id="reply-days-{{reply.divId}}">Reply In X Days
						  <b style="color: red">*</b>
						  <font><b>(Minimum 1 Day)</b></font>
						</label>
						<label style="cursor: default;" for="days" *ngIf="reply.actionId ==29 || reply.actionId!=22 && reply.actionId!=23 && reply.actionId!=33" id="reply-days-{{reply.divId}}">
						 <span *ngIf="reply.actionId !=29 && reply.actionId != 30">Reply In X Days</span>
						 <span *ngIf="reply.actionId == 29 || reply.actionId == 30">Send Before X Days</span>
						  <b style="color: red">*</b>
						</label>
						<input *ngIf="reply.actionId == 29 || reply.actionId == 30" [attr.disabled]="isPreviewEvent? '' : null" type="number" class="form-control" name="days" placeholder="Days" [(ngModel)]="reply.replyInDays" min="0" max="{{beforeDaysLength}}" oninput="validity.valid||(value='');">
						<input *ngIf="reply.actionId !=29 && reply.actionId != 30" [attr.disabled]="isPreviewEvent? '' : null" type="number" class="form-control" name="days" placeholder="Days" [(ngModel)]="reply.replyInDays" min="0" oninput="validity.valid||(value='');">
					  </div>
					  <div class="col-xs-12 col-sm-3 time-col"  style="padding-left: 0;" *ngIf="reply.actionId!=22 && reply.actionId!=23 ">
						<div class="col-xs-2" style="cursor: default;"><span for="time" id="send-time-{{reply.divId}}" class="time-picker-css">At<b style="color: red">*</b></span></div>
						<div class="col-xs-10 mEventDaysHeight" style="height: 66px;"><timepicker [attr.disabled]="isPreviewEvent" [(ngModel)]="reply.replyTime" name="time" [hourStep]="1" [minuteStep]="1"></timepicker></div>
					  </div>
					</div>
					<div class="col-xs-12 col-sm-6">
						<label style="cursor: default;" for="time" id="reply-subject-{{reply.divId}}">Subject<strong style="color: red">*</strong></label>
						<div  [className]="!isPreviewEvent ? 'input-group merge-tag-input-border':''">
						  <input [attr.disabled]="isPreviewEvent? '' : null" type="text" class="form-control" name="subject" [(ngModel)]="reply.subject" placeholder="{merge tag} + Subject line" maxlength="1000">
						  <span *ngIf="!isPreviewEvent" class="input-group-btn">
							  <button class="btn btn-default" type="button" title="Insert Merge Tags" (click)="openMergeTagsPopup('event-auto-response',reply)">
								  <i class="fa fa-plus-circle npcfs" aria-hidden="true"></i>
							  </button>
						  </span>
					  </div>
					  </div>
				  </div>
					  <div class="col-xs-12">
						<div id="ck-editor-{{i}}" *ngIf="!reply.defaultTemplate">
						  <div  style="margin-left: 1px;">
							<label style="cursor: default;" for="days" id="reply-message-{{reply.divId}}">Message <strong style="color: red">*</strong>
							</label>
						  </div>
						  <div [class.disabled]="isPreviewEvent? '' : null">
							<ckeditor [attr.disabled]="isPreviewEvent? '' : null" [(ngModel)]="reply.body" name="body"></ckeditor>
						  </div>
						</div>
					  <div id="reply-email-template-{{i}}" *ngIf="reply.defaultTemplate && !reDistributeEvent && !reDistributeEventManage">
						  <div >
							<label for="days" id="email-template-{{reply.divId}}">Select Email Template
								<strong style="color: red">*</strong></label>
						  </div>
						  <div [hidden]="eventCampaign.nurtureCampaign || isPreviewEvent">
							<div class="input-icon pull-right col-xs-3" style="padding-right: 0px;" [class.disabled]="isPreviewEvent || eventError.eventExpiredError">
							  <input type="text" [(ngModel)]="reply.emailTemplateSearchInput" [ngModelOptions]="{standalone: true}" class="form-control"
							  placeholder="Search" (keypress)="eventReplyHandler($event, reply)">
							  <button type="button" class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="reply.emailTemplateSearchInput" (click)="removeSearchInput(reply)"></button>                         
							   <button type="submit" class="search-box-item-click" (click)="searchReplyEmailTemplate(reply)"><i class="fa fa-search" aria-hidden="true"></i></button>
						   </div>
						  </div>
						</div>
					  </div>
					  <div *ngIf="reply.defaultTemplate" class="col-xs-12" style="margin-top:16px !important" [class.disabled]="eventError.eventExpiredError">
						  <app-list-loader [rowsCount]="3" *ngIf="campaignEmailTemplate.httpRequestLoader.isLoading"></app-list-loader>
						  <app-error-pages *ngIf="campaignEmailTemplate.httpRequestLoader.isServerError"></app-error-pages>
						  <div class="row" *ngIf="!campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
							<div>
							  <ng-container *ngIf="(!isAdd && reply.emailTemplatesPagination.totalRecords>0 && reply.emailTemplatesPagination.pageIndex==1 && reply.selectedEmailTemplateIdForEdit>0 && reply.showSelectedEmailTemplate) || reDistributeEvent || reDistributeEventManage || eventCampaign.nurtureCampaign">
								<ul class="content__list">
									<li class="list__item" [class.list__item--selected]="reply.emailTemplate.id==reply.selectedEmailTemplateId">
									  <div class="flex-row" (click)="setReplyEmailTemplate(reply.emailTemplate.id,reply,i)" >
										<div class="item__select-box-wrapper">
										  <span class="select-box"> <label> <input type="checkbox"
											[value]="reply.emailTemplate.id" id="reply-{{i}}-{{reply.emailTemplate.id}}"
											(click)="setReplyEmailTemplate(reply.emailTemplate.id,reply,i)" [checked]="reply.emailTemplate.id == reply.selectedEmailTemplateId">
											</label>
										  </span>
										   <span class="ng-scope"> <a
											class="item__preview item__preview--image img-container custom"
											target="_BLANK"> 
											<img alt="" class="thumb ng-scope" style="width:98px !important" src="{{reply.emailTemplate.subject}}">
										  </a> <a href="javascript:;"> </a>
										  </span>
										</div>
										<div class="item__content">
										  <div class="flex-row">
											<span class="item__name"
											  [title]="reply.emailTemplate.name"><strong>{{reply.emailTemplate.name |slice:0:15}}</strong>
											  <strong *ngIf="reply.emailTemplate?.name?.length>15">...</strong>
											</span>
											<span lass="item__name" title="created on" style="float:left">
											<span><app-timestamp [isOnlyDate]="true" [dateAndTime]="reply.emailTemplate.createdDate">
											 </app-timestamp></span>
											</span>
											<span *ngIf="reply.emailTemplate.createdBy?.length>20" title="{{reply.emailTemplate.createdBy}}">{{reply.emailTemplate.createdBy|slice:0:20}}....</span>
											<span *ngIf="reply.emailTemplate.createdBy?.length<=20" title="{{reply.emailTemplate.createdBy}}">{{reply.emailTemplate.createdBy}}</span>
	
											<div class="item__actions">
											  <span> 
												  <a style="float:left; right: -6px;"  class="fm external-link" target="_BLANK"
												data-toggle="tooltip" data-placement="top"
												title="Preview"  (click)="$event.stopPropagation();getTemplateById(reply.emailTemplate)">
												  <i class="fa fa-external-link-square preview-edit-color"  aria-hidden="true" style="padding-top: 1px !important;; font-size: 20px; "></i>
											   </a>
											   <a *ngIf=" !reDistributeEventManage && !reDistributeEvent && !isPreviewEvent" style="right: -15px;"  class="fm external-link" target="_BLANK"    data-toggle="tooltip" data-placement="top"
														title="Edit" (click)="$event.stopPropagation();editTemplate(reply.emailTemplate)">
													<i class="fa fa-edit ext-css"  aria-hidden="true"></i>
												  </a>
											  </span>
											</div>
										  </div>
										</div>
										<div class="clearfix"></div>
									  </div>
									</li>
								  </ul>
							  </ng-container>
							   <ul [hidden]="reDistributeEvent || reDistributeEventManage || isPreviewEvent" class="content__list" *ngFor="let emailTemplate of reply.emailTemplatesPagination.pagedItems ;let e =index">
								<li (click)="setReplyEmailTemplate(emailTemplate.id,reply,i,emailTemplate.draft)" [class.list__item--selected]="emailTemplate.id==reply.selectedEmailTemplateId"
									*ngIf="reply.selectedEmailTemplateIdForEdit!=emailTemplate.id" class="list__item">
								  <div class="flex-row">
									<div class="item__select-box-wrapper">
									  <span class="select-box">
									   <label>
										 <input *ngIf="!emailTemplate.draft" type="checkbox" name="reply-email-template" [value]="emailTemplate.id" id="reply-{{i}}-{{emailTemplate.id}}"
										  (click)="setReplyEmailTemplate(emailTemplate.id,reply,i,emailTemplate.draft)"
										   [checked]="emailTemplate.id == reply.selectedEmailTemplateId">
										 <input *ngIf="emailTemplate.draft" title="draft template cannot be selected" disabled="disabled" type="checkbox" name="reply-email-template">
									  </label>
									  </span>
									   <span class="ng-scope"> <a class="item__preview item__preview--image img-container custom"
										target="_BLANK">
										 <img  class="thumb ng-scope" style="width: 98px !important;" src="{{emailTemplate.subject}}" alt="">
									  </a> <a href="javascript:;"> </a>
									  </span>
									</div>
									<div class="item__content">
									  <div class="flex-row">
										<span class="item__name" data-toggle="tooltip"
										  [title]="emailTemplate.name"><strong>{{emailTemplate.name | slice:0:18}}
										  <span *ngIf="emailTemplate.name?.length>18">...</span></strong>
										</span>
										<div class="item__last-modified">
										  <span [title]="emailTemplate.createdBy"><span>By: </span>{{emailTemplate.createdBy | slice:0:15}}
										  <span *ngIf="emailTemplate.createdBy?.length>15">...</span>
										  </span>
										</div>
										<div class="item__last-modified">
										  <span><app-timestamp [isOnlyDate]="true" [dateAndTime]="emailTemplate.createdDate"> </app-timestamp></span>
										</div>
										<div class="item__actions">
										  <span> <a class="fm external-link" target="_BLANK"
											  data-toggle="tooltip" data-placement="top" title="Preview" (click)="$event.stopPropagation();
											  getTemplateById(emailTemplate)">
											  <i class="fa fa-external-link-square preview-edit-color" aria-hidden="true" style="font-size: 20px;"></i>
										  </a>
										  <a *ngIf="!reDistributeEventManage && !reDistributeEvent && !isPreviewEvent" style="right: -15px;"  class="fm external-link" target="_BLANK"    data-toggle="tooltip" data-placement="top"
														title="Edit" (click)="$event.stopPropagation();editTemplate(emailTemplate)">
											<i class="fa fa-edit ext-css"  aria-hidden="true"></i>
											  </a>
										  </span>
										</div>
									  </div>
									</div>
									<div class="clearfix"></div>
								  </div>
								</li>
							  </ul>
							</div>
						  </div>
						  <div class="col-xs-12" style="margin-left: -12px;" [hidden]="reDistributeEvent || reDistributeEventManage || isPreviewEvent">
							<div *ngIf="reply.emailTemplatesPagination.totalRecords>0 && !campaignEmailTemplate.httpRequestLoader.isLoading && !campaignEmailTemplate.httpRequestLoader.isServerError">
							<ul *ngIf="reply.emailTemplatesPagination.pager.pages && reply.emailTemplatesPagination.pager.pages.length" class="pagination">
							  <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
								<a (click)="paginateEmailTemplateRows(1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1">First</a>
							  </li>
							  <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === 1}">
								<a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage - 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === 1">Previous</a>
							  </li>
							  <li *ngFor="let page of reply.emailTemplatesPagination.pager.pages" [ngClass]="{active:reply.emailTemplatesPagination.pager.currentPage === page}">
								<a (click)="paginateEmailTemplateRows(page,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === page">{{page}}</a>
							  </li>
							  <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
								<a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.currentPage + 1,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages">Next</a>
							  </li>
							  <li [ngClass]="{disabled:reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages}">
								<a (click)="paginateEmailTemplateRows(reply.emailTemplatesPagination.pager.totalPages,reply)" [class.disabled]="reply.emailTemplatesPagination.pager.currentPage === reply.emailTemplatesPagination.pager.totalPages">Last</a>
							  </li>
							</ul>
							</div>
						</div>
						<div  [hidden]="reDistributeEvent || reDistributeEventManage" *ngIf="reply.emailTemplatesPagination.totalRecords==0" class="col-xs-12 alert alert-info">
						  <strong>No templates found</strong>
						</div>
					   </div>
	
					  </div>
					</form>
				  </div>
				</div>
			  </div>
			  </fieldset>
	
			  <div class="col-xs-12" style="text-align: center;" *ngIf="isEventUpdate">
			  <div class="btn-group" [class.disabled]="eventError.eventExpiredError || !isEnableUpdateButton" (click)="createEventCampaign(eventCampaign, 'NOW')">
			   <label class="btn btn-primary button-border" [class.disabled]="isPreviewEvent || eventError.eventExpiredError">
			   Update
			  </label>
			  </div>
			  </div>
	
			</div>
	
			<div class="col-xs-12 p0 mEventPadTemplate" *ngIf="!isEventUpdate">
				<div class="btn-group btn-group-justified" [class.disabled]="eventError.eventExpiredError">
				   <ng-container *ngFor="let options of launchOptions">
					  <label class="btn btn-primary button-border" [class.disabled]="isPreviewEvent || eventError.eventExpiredError" >
						<input type="radio"[checked]="eventCampaign.campaignScheduleType === options" class="text-center" (input)="resetTabClass()" name="scheduleCampaign" [value]="options" (click)="setLaunchOptions(options)" ngDefaultControl
						style=" margin-right:0.5em; " />{{options}}
					  </label>
				   </ng-container>
				   </div>
			  </div>
	
	
			  <div class="col-md-12 p0" style="margin-top: 12px;" [hidden]="checkLaunchOption!='SCHEDULE'">
				<div class="col-md-4">
				  <input [attr.disabled]="isPreviewEvent? '' : null"  type="text" id="launchTimeInString" class="form-control eventflatpickr" placeholder="Launch Time"
					  [(ngModel)]="eventCampaign.launchTimeInString" [ngModelOptions]="{standalone: true}" (input)="scheduleTimeError()" (blur)="scheduleTimeError()">
					  <div class="text-danger" *ngIf="eventError.scheduleTimeError">{{scheduleCampaignError}}</div>
				</div>
				<div class="col-md-4">
				  <select [attr.disabled]="isPreviewEvent? '' : null" class="form-control" style="width: 100%" [(ngModel)]="eventCampaign.countryId" [ngModelOptions]="{standalone: true}" (change)="onChangeCountry($event.target.value)" id="countryName">
					<option *ngFor="let country of countries" [value]="country.id">{{country.name}}</option>
				  </select>
				  <div class="text-danger" *ngIf="!eventCampaign.countryId">Please select the country.</div>
				</div>
				<div class="col-md-4">
				  <select [attr.disabled]="isPreviewEvent? '' : null" class="form-control" style="width: 100%" [(ngModel)]="eventCampaign.timeZone" [ngModelOptions]="{standalone: true}" id="timezoneId">
					<ng-container *ngIf="timezones?.length==1">
					  <option *ngFor="let timeZone of timezones" [value]="timeZone.timezoneId" [selected]="eventCampaign.countryId == timeZone.countryId">
						{{timeZone.cityName}}
					  </option>
					</ng-container>
					<ng-container *ngIf="timezones?.length>1">
					  <option *ngFor="let timeZone of timezones" [value]="timeZone.timezoneId">
						{{timeZone.cityName}}
					  </option>
					</ng-container>
				  </select>
				</div>
			  </div>
			  <div class="portlet-title border-none" [hidden]="isPreviewEvent">
				  <div class="col-xs-12 center-block" [class.disabled]="eventError.eventExpiredError">
					<button  *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate" type="button" style="font-weight: 600;width: 10em;" class="btn btn-default mBtnAlign" (click)="resetTabs('templates')">Previous</button>
					<button type="submit" *ngIf="checkLaunchOption=='NOW'" class="btn green" style="width: 10em;" (click)="createEventCampaign(eventCampaign, 'NOW')">Launch</button>
					<button type="submit" *ngIf="checkLaunchOption=='SCHEDULE'" class="btn green" style="width: 10em;" (click)="scheduleCampaign()">Schedule</button>
					<button type="submit" *ngIf="checkLaunchOption=='SAVE'"  class="btn green" style="width: 10em;" (click)="createEventCampaign(eventCampaign, 'SAVE')">Save</button>
					<button type="button" class="btn green" (click)="spamCheck()"  style="width: 10em;">Spam check</button>
				  </div>
				</div>
				<!-- <button  *ngIf="!isPreviewEvent && !reDistributeEvent && !reDistributeEventManage && !isEventUpdate" type="button" style="float:left;" class="btn btn-default" (click)="resetTabs('templates')">Previous</button> -->
			  </div>
		   <!--   end step four launch   -->
			</div>
		</div>
	
		<!---Edit Partner Template-->
		<div [hidden]="!isEditPartnerTemplate">
			<div class="portlet light shadow">
				<div class="portlet-title" style="display: block;">
					<h4 class="caption-subject font-red-sunglo f-w-600 pull-left">Edit Template</h4>
					<a class="close-circle pull-right" data-dismiss="modal" (click)="isEditPartnerTemplate=false">
						<i class="fa fa-times" aria-hidden="true"></i>
					</a>
				</div>
				<div class="portlet-body clearfix" *ngIf="isEditPartnerTemplate">
					<app-create-bee-template  [partnerEmailTemplate]="eventCampaign.emailTemplate"></app-create-bee-template>
				</div></div>
		</div>
	
		<!--Edit Template Div---->
		<div id="edit-template" style="display: none;">
			<div class="portlet light shadow">
				<div *ngIf="!editTemplateLoader" class="caption-subject font-red-sunglo f-w-600 text-left zeropx">
					{{beeContainerInput?.emailTemplateName}}
					<a class="close-circle pull-right" style="margin-top: 20px;" (click)="hideEditTemplateDiv()">
						<i class="fa fa-times" aria-hidden="true"></i>
					</a>
					<app-merge-tags *ngIf="showEditTemplatePopup"  [input]="editTemplateMergeTagsInput"></app-merge-tags>
				</div>
				<div class="portlet-body clearfix">
					<div *ngIf="showEditTemplateMessageDiv"  [className]="templateMessageClass">
						<strong>{{templateUpdateMessage}}</strong>
					</div>
				<app-modal-popup-loader *ngIf="editTemplateLoader"></app-modal-popup-loader>
				<app-bee-template-util *ngIf="!editTemplateLoader && showEditTemplatePopup"  [beeContainerInput]="beeContainerInput" (notifyParentComponent)="updateTemplate($event)"></app-bee-template-util>
			</div>
			</div>
		</div>
	
	
		</div>
	</div>
	   <!--   contacts preview modal    -->
	<div class="modal right" id="contactsModal" tabindex="-1" role="dialog" aria-labelledby="contactsModalLabel" data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog modal-user" role="document">
		  <div class="modal-content">
			<div class="modal-header">
			  <a class="close-circle" data-dismiss="modal" (click)="closeModal()">
				<i class="fa fa-times" aria-hidden="true"></i>
			  </a>
			  <h4  id="contactsModalLabel" class="modal-title caption-subject font-red-sunglo" style="font-weight: 600;color: #635e5e !important;">
				<span title="{{previewContactList?.name}}">{{previewContactList.name | slice:0:50}}</span>
				<span *ngIf="previewContactList?.name.length>50">..</span>
			  </h4>
			</div>
			<div class="modal-body">
			  <div class="table-responsive">
				<table class="table table-bordered no-more-tables dataTable no-footer" aria-describedby="">
				  <thead>
					<tr>
					  <th scope="col">Email Address</th>
					  <th scope="col">First Name</th>
					  <th scope="col">Last Name</th>
					</tr>
				  </thead>
				  <tbody>
					<tr *ngFor="let contact of contactsPagination.pagedItems">
					  <td title="{{contact.emailId}}">
						<span *ngIf="contact.emailId?.length>25">{{contact.emailId | slice:0:25}}..</span>
						<span *ngIf="contact.emailId?.length<=25">{{contact.emailId}}</span>
					  </td>
					  <td title="{{contact.firstName}}">
						  <span *ngIf="contact.firstName?.length>20">{{contact.firstName | slice:0:20}}..</span>
						  <span *ngIf="contact.firstName?.length<=20">{{contact.firstName}}</span>
					  </td>
					  <td title="{{contact.lastName}}">
						  <span *ngIf="contact.lastName?.length>20">{{contact.lastName | slice:0:20}}..</span>
						  <span *ngIf="contact.lastName?.length<=20">{{contact.lastName}}</span>
					  </td>
					</tr>
				  </tbody>
				</table>
				<app-pagination [class.disabled]="isPreviewEvent" class="pg8" *ngIf="contactsPagination.pagedItems?.length > 0" [pagination]="contactsPagination" [type]="'contacts'"
				 (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropDown($event)"></app-pagination>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	
	<!-- --------------------Email Template preview modal ----------------------------->
	  <div class="modal fade right" id="show_email_template_preivew">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div class="modal-header">
			  <button type="button" class="close-circle" data-dismiss="modal">
				<i class="fa fa-times" aria-hidden="true"></i>
			  </button>
			  <h4 class="modal-title" id="email-template-title" style="text-align: center;"></h4>
			</div>
			<div class="modal-body">
			  <div id="htmlContent"></div>
			</div>
			<div class="modal-footer">
			  <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
			</div>
		  </div>
		</div>
	  </div>
	
	<!--      Span check modal popup    -->
	
		  <div class="modal fade right" id="email_spam_check" *ngIf="eventCampaign.emailTemplate">
			<div class="modal-dialog modal-lg modal-template mEventSpamPopUp" style="width: 65%;right:0">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
							<i class="fa fa-times" aria-hidden="true"></i></button>
						<h4 class="modal-title">Email Spam Check</h4>
					</div>
					<div class="modal-body">
						<app-email-spam-check *ngIf="eventCampaign.emailTemplate" [emailTemplate] = "eventCampaign.emailTemplate"></app-email-spam-check>
					</div>
					<div class="modal-footer">
						<a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
					</div>
				</div>
			</div>
		</div>
	
	<!--   -------Marketo authentication------	 -->
	
	<div class="modal fade right" id="templateRetrieve" tabindex="-1"
		role="dialog" aria-labelledby="templateRetrieve" data-keyboard="false"
		data-backdrop="static">
		<div class="modal-dialog template-modal" role="document"
			style="width: 50%">
			<ngx-loading [show]="loadingMarketo"
				[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
			<div class="modal-content rounded-0">
				<div class="modal-header">
					<a class="close-circle" data-dismiss="modal" (click)="closeMarketoModal()"
						id="closeButton"><i class="fa fa-times" aria-hidden="true"></i></a>
					<h4 class="modal-title" id="templateRetrieve">Marketo
						integration with xAmplify</h4>
				</div>
				<div>
					<img src="assets/images/crm/Mark-amplify.png"
						style="margin: 30px 30% 0; width: 50%; text-align: center;" alt="">
				</div>
				<div class="modal-body" style="padding: 39px;">
					<form class="form-horizontal" autocomplete="off">
						<div *ngIf="templateError" class="alert alert-danger">
							<span>{{templateError}}</span>
						</div>
						<div *ngIf="templateSuccessMsg" class="alert alert-success">
							<span>{{templateSuccessMsg}}</span>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-3" for="email">Client
								Id:</label>
							<div class="col-sm-8">
								<input type="email" class="form-control" id="email"
									placeholder="Client Id" autocomplete="nope"
									[(ngModel)]="clientId" [ngModelOptions]="{standalone: true}"
									(input)="validateModelForm('email')">
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-3" for="pwd">Secret Id:</label>
							<div class="col-sm-8">
								<input type="password" class="form-control" id="pwd"
									placeholder="Secret Id" autocomplete="new-password"
									[(ngModel)]="secretId" [ngModelOptions]="{standalone: true}"
									(input)="validateModelForm('pwd')">
							</div>
						</div>
	
						<div class="form-group">
							<label class="control-label col-sm-3" for="instance">Marketo
								Instance:</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" id="instance"
									placeholder="Marketo Instance" [(ngModel)]="marketoInstance"
									[ngModelOptions]="{standalone: true}"
									(input)="validateModelForm('instance')">
							</div>
						</div>
					</form>
	
				</div>
				<div class="modal-footer">
					<div style="text-align: right;">
						<button class="btn btn-default" (click)="clearValues()">Clear</button>
	
						<button [attr.class]="marketoButtonClass"
							[disabled]="!isModelFormValid || !clientId || !secretId || !marketoInstance"
							(click)="submitMarketoCredentials()">Submit</button>
	
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Microsoft Authentication -->
	<div *ngIf="showMicrosoftAuthenticationForm">
		<app-microsoft-authentication-popup (closeEvent)="closeMicrosoftForm($event)"></app-microsoft-authentication-popup>
	</div>
	
	<!-----------------------------View Filter Popup----------->
	<div class="modal fade right" id="filterPopup" tabindex="-1" role="dialog" aria-labelledby="filterPopup" data-backdrop="static" data-keyboard="false">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close-circle" (click)="closeFilterPopup()">
						<i class="fa fa-times" aria-hidden="true"></i>
					</button>
					<h5 class="modal-title text-center">Apply Filter</h5>
				</div>
				<div class="modal-body">
					<app-response-message class="pg8" [customResponse]="folderErrorCustomResponse" *ngIf="folderErrorCustomResponse.isVisible">
					</app-response-message>
					<div class="form-group" *ngIf="!folderErrorCustomResponse.isVisible">
						<ejs-multiselect [(ngModel)]='selectedFolderIds' [ngModelOptions]="{standalone: true}"
						 [allowFiltering]='true' [ignoreAccent]='true' id='multiselectelement'
						  [dataSource]='emailTemplateFolders' [fields]='folderFields'
						   [placeholder]='folderFilterPlaceHolder' (blur)='applyFilter()'>
					</ejs-multiselect>
					<span class="requried" *ngIf="!isFolderSelected">Please select at least one option</span>
					</div>
				</div>
				<div class="folder-modal-footer" *ngIf="!folderErrorCustomResponse.isVisible">
					<button type="button" class="btn btn-default" (click)="closeFilterPopup()">Cancel</button>
					<button type="button" class="btn btn-primary" (click)="closeFilterPopup()">Apply</button>
	
				</div>
			</div>
		</div>
	</div>
	
	
	<app-add-folder-modal-popup #addFolderModalPopupComponent (notifyChild)="showSuccessMessage($event)"></app-add-folder-modal-popup>
	<ng-container *ngIf="showUsersPreview">
		<app-preview-user-list [userListName]="selectedListName" [userListId]="selectedListId"
			(notifyParentComponent)="resetValues()"></app-preview-user-list>
	</ng-container>
	<app-merge-tags *ngIf="mergeTagsInput.hideButton" [input]="mergeTagsInput" (notifyComponent)="clearHiddenClick()" (passValueAndNotifyComponent)="appendValueToSubjectLine($event)"></app-merge-tags>  
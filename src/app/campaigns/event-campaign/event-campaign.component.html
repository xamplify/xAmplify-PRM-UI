<div class="page-content">
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li>
				<i class="fa fa-home"></i> 
				<a [routerLink]="referenceService.homeRouter">Home</a> 
				<i class="fa fa-angle-right"></i>
			</li>
			<li>Event Based Campaign</li>
		</ul>
	</div>
	<div class="page-bar portlet light border-radius-0 shadow">
		<div class="portlet-title">
			<h4 class="pull-left m10 f-w-600 text-primary">Event Details</h4>
		</div>
		<div class="portlet-body clearfix">
			<section>
			<div class="col-xs-12 col-sm-6">
				<form class="form-horizontal">
					<div class="form-group">
						<label for="eventTitle" class="col-sm-3 control-label">Event Title <span class=text-danger>*</span></label>
						<div class="col-sm-9">
						<input type="text" class="form-control" id="eventTitle" placeholder="Event Title" [(ngModel)]="eventCampaign.campaign" [ngModelOptions]="{standalone: true}">
						</div>
					</div>
					<div class="form-group">
						<label for="hostedBy" class="col-sm-3 control-label">Hosted By <span class=text-danger>*</span></label>
						<div class="col-sm-9">
						<input type="text" class="form-control" id="hostedBy" placeholder="Hosted By" [(ngModel)]="eventCampaign.hostedBy" [ngModelOptions]="{standalone: true}">
						</div>
					</div>
					<div class="form-group">
						<label for="hostedBy" class="col-sm-3 control-label">Partner Campaign</label>
						<div class="col-sm-9">
							<switch [status]="eventCampaign.channelCampaign" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
								[onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
								(statusChange)="eventCampaign.channelCampaign = !eventCampaign.channelCampaign">
							</switch>
						</div>
					</div>
					<div class="form-group">
						<label for="eventDateTime" class="col-sm-3 control-label">Event Date/Time</label>
						<div class="col-sm-9 p0">
							<div class="col-sm-6"><input type="text" class="form-control flatpickr" placeholder="Start Time" [(ngModel)]="eventCampaign.campaignEventTimes[0].startTimeString" [ngModelOptions]="{standalone: true}"></div>
							<div class="col-sm-6"><input type="text" class="form-control flatpickr" placeholder="End Time"></div>
							<!--<div class="col-sm-2"><button class="btn btn-default" type="submit">+</button></div>-->
						</div>
					</div>					
					<div class="form-group">
						<label for="hostedBy" class="col-sm-3 control-label">Online Meeting</label>
						<div class="col-sm-9">
							<switch [status]="eventCampaign.onlineMeeting" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
								[onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
								(statusChange)="eventCampaign.onlineMeeting = !eventCampaign.onlineMeeting">
							</switch>
						</div>
					</div>
					<section *ngIf="!eventCampaign.onlineMeeting">
						<div class="form-group">
							<label for="hostedBy" class="col-sm-3 control-label">Location Name</label>
							<div class="col-sm-9"><input type="text" class="form-control" id="eventDateTime" placeholder="My house, bar, etc" [(ngModel)]="eventCampaign.campaignLocation.location" [ngModelOptions]="{standalone: true}"></div>
						</div>
						<div class="form-group">
							<label for="hostedBy" class="col-sm-3 control-label">Address</label>
							<div class="col-sm-9"><input type="text" class="form-control" id="eventDateTime" placeholder="Street Address" [(ngModel)]="eventCampaign.campaignLocation.street" [ngModelOptions]="{standalone: true}"></div>
							<div class="col-sm-offset-3 col-sm-9 pt10">
								<div class="col-sm-4 p0"><input type="text" class="form-control" id="city" placeholder="City" [(ngModel)]="eventCampaign.campaignLocation.city" [ngModelOptions]="{standalone: true}"></div>
								<div class="col-sm-4 p0"><input type="text" class="form-control" id="state" placeholder="State" [(ngModel)]="eventCampaign.campaignLocation.state" [ngModelOptions]="{standalone: true}"></div>
								<div class="col-sm-4 p0"><input type="text" class="form-control" id="zip" placeholder="Zip" [(ngModel)]="eventCampaign.campaignLocation.zip" [ngModelOptions]="{standalone: true}"></div>
							</div>
						</div>
					</section>
					<div class="form-group">
						<label for="hostedBy" class="col-sm-3 control-label">Event Description</label>
						<div class="col-sm-9">
							<ckeditor [(ngModel)]="eventCampaign.message"  [ngModelOptions]="{standalone: true}" #myckeditor [config]="ckeConfig" debounce="500"></ckeditor>
						</div>
					</div>
					<div class="portlet light">
						<div class="portlet-title">
							<h4 class="pull-left f-w-600 text-primary">Event settings</h4>
						</div>
						<div class="portlet-body clearfix">
							<div><label> <input type="checkbox" [checked]="eventCampaign.rsvpReceived" (change)="eventCampaign.rsvpReceived = !eventCampaign.rsvpReceived"> Notify me when guests RSVP </label></div>
							<div><label> <input type="checkbox" [checked]="eventCampaign.emailOpened" (change)="eventCampaign.emailOpened = !eventCampaign.emailOpened"> Notify me when email is opened </label></div>
							<div><label> <input type="checkbox" [checked]="eventCampaign.inviteOthers" (change)="eventCampaign.inviteOthers = !eventCampaign.inviteOthers"> Invite others </label></div>
						</div>
					</div>					
				</form>
			</div>
			<div class="col-xs-12 col-sm-6">
				<!--<div class="portlet light">
					<div class="portlet-title">
						<h4 class="pull-left f-w-600 text-primary">Pick an email template</h4>
					</div>
					<div class="portlet-body clearfix">

					</div>
				</div>-->
				<div class="portlet light">
					<div class="portlet-title">
						<h4 class="pull-left f-w-600 text-primary">Select Invite Recipients</h4>
					</div>
					<div class="portlet-body clearfix">
					<section *ngIf="contactListsPagination.pagedItems?.length === 0">
						<div class='alert alert-info' role='alert'>
							<h4 class='m0'>You have not added any contact lists yet. Please add at least one list to your account</h4>
						</div>
						<a class='btn btn-info' style="color: #fff;" [routerLink]="['/home/contacts/add']">Add Contacts</a>
					</section>
					<section class="clearfix">
						<div class="form-group m0 pull-right">
							<h5 class="control-label font-purple-intense pr10 pull-left">Partner Contacts</h5>
							<switch [status]="isPartnerUserList" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue"
								[onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.bsize"
								(statusChange)="toggleContactLists()">
							</switch>
						</div>
					</section>
					<section *ngIf="contactListsPagination.pagedItems?.length !== 0">
						<div class="table-responsive">
							<table class="table table-condensed table-hover table-bordered table-striped" id='contact-list-table'>
								<thead>
									<tr>
										<th>Select</th>
										<th>Contact list name</th>
										<th>No of Contacts</th>
										<th>Preview</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let contactList of contactListsPagination.pagedItems">
										<td class='text-center m0'>
											<input type='checkbox' id='{{contactList.id}}' (click)="highlightRow(contactList.id)">
										</td>
										<td> 
											<h5 class='m0 f-w-600'>{{contactList.name}}</h5> 
											<h6 class="pull-left mb0 mt5">By: {{contactList.uploadedBy}}</h6>
											<h6 class="pull-right mb0 mt5">On: {{contactList.createdDate}}</h6>
										</td>
										<td> <h6 class='m0 text-center f-w-600'>{{contactList.noOfContacts}}</h6> </td>
										<td class='text-center m0'>
											<a>	<i class="fa fa-eye" aria-hidden="true" (click)="loadContactsOnPreview(contactList, contactsPagination);"></i></a>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<app-pagination [pagination]="contactListsPagination" [type]="'contactlists'" (notifyParent)="setPage($event)"
						 (notifyParentDropDown)="paginationDropDown($event)"></app-pagination>
					</section>
					</div>
				</div>
				<div class="portlet light">
					<div class="portlet-title">
						<h4 class="pull-left f-w-600 text-primary">Listing privacy</h4>
					</div>
					<div class="portlet-body clearfix">
						<div>
							<label class="bold">
								<input type="radio" value="eventCampaign.publicEventCampaign" [checked]="eventCampaign.publicEventCampaign" (change)="eventCampaign.publicEventCampaign = !eventCampaign.publicEventCampaign">Public page
							</label>
							<p class="ml10">Turn attendes into your biggest promoters by letting them share your event on facebook, twitter, linkedin and or any social media platform</p>
						</div>
						<div>
							<label class="bold">
								<input type="radio" value="!eventCampaign.publicEventCampaign" [checked]="!eventCampaign.publicEventCampaign" (change)="eventCampaign.publicEventCampaign = !eventCampaign.publicEventCampaign">Private page
							</label>
							<p class="ml10">Turn attendes into your biggest promoters by letting them share your event on facebook, twitter, linkedin and or any social media platform</p>
						</div>
					</div>
				</div>
			</div>
			</section>
			<div class="portlet light dashboard-stat2 col-xs-12">
				<div class="col-xs-4"><button class='btn btn-block btn-primary' (click)="createEventCampaign(eventCampaign, 'NOW')">Now</button></div>
				<div class="col-xs-4"><button class='btn btn-block btn-primary' disabled (click)="createEventCampaign(eventCampaign, 'SCHEDULE')">Schedule</button></div>
				<div class="col-xs-4"><button class='btn btn-block btn-primary' (click)="createEventCampaign(eventCampaign, 'SAVE')">Save</button></div>
			</div>
		</div>
	</div>
</div>


<div class="modal fade-scale" id="contactsModal" tabindex="-1" role="dialog" aria-labelledby="contactsModalLabel" data-keyboard="false"
 data-backdrop="static">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" data-dismiss="modal" (click)="closeModal()">
					<i class="fa fa-times"></i>
				</a>
				<h4 id="contactsModalLabel" class="modal-title caption-subject font-red-sunglo">{{previewContactList.name}}</h4>
			</div>
			<div class="modal-body">
				<div class="table-responsive">
					<table class="table table-bordered table-striped table-hover">
						<thead>
							<tr>
								<th>Email Address</th>
								<th>First Name</th>
								<th>Last Name</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let contact of contactsPagination.pagedItems">
								<td>{{contact.emailId}}</td>
								<td>{{contact.firstName}}</td>
								<td>{{contact.lastName}}</td>
							</tr>
						</tbody>
					</table>
					<app-pagination *ngIf="contactsPagination.pagedItems?.length > 0" [pagination]="contactsPagination" [type]="'updatestatuscontacts'"
					 (notifyParent)="setPage($event)" (notifyParentDropDown)="paginationDropDown($event)"></app-pagination>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="page-content">
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li>
				<i class="fa fa-home"></i>
				<a [routerLink]="referenceService.homeRouter">Home</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a>Partner Campaigns</a>
			</li>
		</ul>
	</div>
	<div style="position: relative; top:-10px;">
		<app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="tabbable tabbable-custom tabbable-noborder">
				<div class="tab-content">
					<div class="page-bar m10">
						<ul class="mix-filter col-xs-6 p0 m0">
						 <li class="filter" (click)="filterCampaigns('regular')" [class.active]="'regular' == campaignType">Email Campaigns</li>
	                    <li class="filter" (click)="filterCampaigns('video')" [class.active]="'video' == campaignType">Video Campaigns</li>
	                    <li class="filter" (click)="filterCampaigns('social')" [class.active]="'social' == campaignType">Social Campaigns </li>
	                    <li class="filter" style="display: none;">Own Template</li>
						</ul>
						<div class="page-toolbar col-xs-6">
							<div class="btn-group pull-right">
								<ng-container class='m10'>
									<button class="btn btn-xs" [disabled]="isListView" (click)="isListView = true" title="List View">
										<i class="fa fa-th-list p10" aria-hidden="true"></i>
									</button>
									<button class="btn btn-xs" [disabled]="!isListView" (click)="isListView = false" title="Grid View">
										<i class="fa fa-th-large p10" aria-hidden="true"></i>
									</button>
								</ng-container>
								<div class="inputs" align="right" style="float: right">
									<div style="float: left;">
										<select class="form-control" [(ngModel)]="selectedSortedOption" (ngModelChange)="getSortedResult($event)" style="position: relative;right: -3px;">
											<option *ngFor="let sortOption of sortByDropDown" [ngValue]="sortOption">{{sortOption.name}}</option>
										</select>
									</div>
									<div class="portlet-input input-inline input-small">
										<div class="input-icon right" style="position: relative;right: -11px;">
											<i class="icon-magnifier" (click)="searchCampaigns()" style="cursor: pointer;"></i>
											<input type="text" class="form-control" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" placeholder="search...">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>


					<section class='m10' *ngIf="totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
						<div class="table-responsive">
							<table class='table tgrid table-hover table-sm' *ngIf="isListView">
								<thead>
									<tr>
										<th colspan="2" style="width: 50%">Campaign</th>
										<th>Status</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor='let campaign of pagination.pagedItems; let i=index'>
										<td style="width: 10%;">
											<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && campaign.launched " src="assets/images/video-email.png" style="height: 50px;"
											 alt="{{campaign.campaignType}} Campaign">
											<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && !campaign.launched " src="assets/images/video-email.png" style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
											 alt="{{campaign.campaignType}} Campaign">

											<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && campaign.launched" src="assets/images/regular-email.png" style="height: 50px;"
											 alt="{{campaign.campaignType}} Campaign">
											<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && !campaign.launched" src="assets/images/regular-email.png" style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
											 alt="{{campaign.campaignType}} Campaign">

											<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && campaign.launched" src="assets/images/social-campaign.png" style="height: 50px;"
											 alt="{{campaign.campaignType}} Campaign">
											<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && !campaign.launched" src="assets/images/social-campaign.png" style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
											 alt="{{campaign.campaignType}} Campaign">
										</td>
										<td>
											  <h4 class="ellipsis mt5 mb5 f-w-600" style="font-size: 14px;" title="{{campaign.campaignName}}">{{campaign.campaignName | slice:0:25}}
													<span *ngIf="campaign.campaignName?.length>25">...</span>
											</h4>
											<h5 class='m0'>{{campaign.companyName}}
												<span class='f-w-300'>{{campaign.createdBy}}</span>
											</h5>
										</td>
										<td>
											<span align="right">
												<b>Received On</b>
											</span>
											<span align="right" title="Received On">
												<b>{{campaign.launchedOn}}</b>
											</span>
										</td>
										<td>
											<div class="actions-block">
												 <a (click)="reDistributeCampaign(campaign.campaignId)" title="Redistribute Campaign" data-rel="fancybox-button">
                                        			<i class="fa fa-clone"></i>
                                    		</a>
                                    		<a class="hidden"><i class="fa fa-trash"></i></a>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</section>
					<div *ngIf="totalRecords <= 0 && isListView" class="alert alert-info">
						<strong>No Campaigns Found</strong>
					</div>
					<div class="tab-pane active" *ngIf="!isListView">
						<div class="margin-top-10">
							<div class="row mix-grid p10">
								<app-loader *ngIf="httpRequestLoader.isLoading"></app-loader>
								<app-error-pages *ngIf="httpRequestLoader.isServerError"></app-error-pages>
								<ng-container *ngIf="totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
									<div *ngFor="let campaign of pagination.pagedItems; let i= index">
										<div class="col-md-3 col-sm-4 mix category_1 mix_all" style="display: block; opacity: 1; margin-top: -35px;">
											<div class="mix-inner" style="height: 173px;">
												<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && campaign.launched " class="img-responsive" src="assets/images/video-email.png"
												 style="height: 173px;" alt="No Image Found">
												<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && !campaign.launched " class="img-responsive" src="assets/images/video-email.png"
												 style="height: 173px;-webkit-filter: grayscale(100%);filter: grayscale(100%);" alt="No Image Found">

												<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && campaign.launched" class="img-responsive" src="assets/images/regular-email.png"
												 style="height: 173px;" alt="No Image Found">
												<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && !campaign.launched" class="img-responsive" src="assets/images/regular-email.png"
												 style="height: 173px;-webkit-filter: grayscale(100%);filter: grayscale(100%);" alt="No Image Found">

												<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && campaign.launched" class="img-responsive" src="assets/images/social-campaign.png"
												 style="height: 173px;" alt="No Image Found">
												<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && !campaign.launched" class="img-responsive" src="assets/images/social-campaign.png"
												 style="height: 173px;-webkit-filter: grayscale(100%);filter: grayscale(100%);" alt="No Image Found">

												<div class="mix-details" style="z-index: 700;padding: 7px;height: 174px;">
													  <h4 class="ellipsis" style="height: 20px; margin-top: 9px;" title="{{campaign.campaignName}}">{{campaign.campaignName | slice:0:25}}
														<span *ngIf="campaign.campaignName?.length>25">...</span>
													 </h4>
													
													<div style="top: 30%; position: relative;">
														 <a (click)="reDistributeCampaign(campaign.campaignId)" title="Redistribute Campaign" data-rel="fancybox-button">
                                        					<i class="fa fa-clone"></i>
                                    					</a>
                                    					<a class="hidden"><i class="fa fa-trash"></i></a>
													</div>
													<span align="right" style="bottom: 24px; float: right; position: absolute; right: 17px;">
														<b *ngIf="campaign.launched">Received On</b>
													</span>
													<span align="left" style="bottom: 24px; float: left; position: absolute; left: 3%;">
														<b>{{campaign.companyName}}</b>
													</span>
													<span align="left" title="Uploaded By" style="bottom: -1px; left: 10px; position: absolute;">{{campaign.createdBy}}</span>
													<span align="right" title="Upload date" style="bottom: 2px; float: right; position: absolute; right: 17px;">
														<b>{{campaign.launchTime}}</b>
													</span>
												</div>
											</div>
											<div>
											</div>
										</div>
									</div>
								</ng-container>
							</div>
						</div>
						<!-- End of 24 -->
						<div *ngIf="totalRecords <= 0 && !isListView" class="alert alert-info">
							<strong>No Campaigns Found</strong>
						</div>
					</div>
					<div *ngIf="totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError" style="background:white">
						<div *ngIf="pagination.pagedItems.length !== 0">
							<app-pagination [pagination]="pagination" [type]="'campaign'" [isDropdown]="true" (notifyParent)="setPage($event)" (notifyParentDropDown)="listCampaigns($event)"></app-pagination>
							<select class="form-control" style="float: right; width: auto;" [(ngModel)]="itemsSize" (ngModelChange)="getNumberOfItemsPerPage($event)">
								<option *ngFor="let itemPerPage of numberOfItemsPerPage" [ngValue]="itemPerPage">{{itemPerPage.name}}</option>
							</select>
						</div>
		</div>
				</div>
				<!-- End Of tab Content -->

			</div>
		</div>
	</div>
	<!-- <div *ngIf="totalRecords <= 0"  class="alert alert-info"><strong>No Campaigns Found</strong></div> -->
</div>






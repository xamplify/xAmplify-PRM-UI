<div class="modal fade right" id="send-test-email-modal-popup" tabindex="-1" role="dialog"
   aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
   <div class="modal-dialog  modal-sm popup-align" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <a class="close-circle" (click)="callEventEmitter()" data-dismiss="modal"><i class="fa fa-times"></i></a>
            <a style="display: none;" *ngIf="isSendMdfRequestOptionClicked" class="close-circle mr5" (click)="openCampaignMdfRequestHistoryModalPopup()"><i class="fa fa-history"></i></a>
            <h4 class="modal-title left" id="myModalLabel">{{headerTitle}}</h4>
         </div>
         <div class="modal-body">
            <div id="modal-content">
               <app-modal-popup-loader *ngIf="processing"></app-modal-popup-loader>
               <div [hidden]="processing">
                  <div *ngIf="!isPreviewEmailTemplate">
                     <div class="form-group">
                        <label>Email Address<span class="required">*</span></label>
                        <input *ngIf="!vanityTemplatesPartnerAnalytics" type="text" autocomplete="off"
                           placeholder="Please Enter Email Address" [(ngModel)]="sendTestEmailDto.toEmail"
                           [ngModelOptions]="{standalone: true}" (input)="validateForm()" class="form-control">
                  
                        <textarea *ngIf="vanityTemplatesPartnerAnalytics" autocomplete="off" placeholder="Please Enter Email Address"
                           [(ngModel)]="sendTestEmailDto.toEmail" [ngModelOptions]="{standalone: true}" (input)="validateForm()"
                           class="form-control email_textarea" [disabled]="vanityTemplatesPartnerAnalytics"></textarea>
                  
                        <span class="required" *ngIf="!isValidEmailFormat && !vanityTemplatesPartnerAnalytics">
                           Please enter a valid email address
                        </span>
                     </div>    
                       <!--XNFR-832-->
                       <div class="form-group" *ngIf="isSendMdfRequestOptionClicked">
                        <label>Recipient Name</label>
                        <input type="text" autocomplete="off" placeholder="Please Enter Recipient Name (Optional)" [(ngModel)]="sendTestEmailDto.recipientName" [ngModelOptions]="{standalone: true}" class="form-control">
                     </div> 
                     <div class="form-group">
                        <label>Email Subject<span class="required">*</span></label>
                        <input type="text" autocomplete="off" [(ngModel)]="sendTestEmailDto.subject"
                           (input)="validateForm()" [ngModelOptions]="{standalone: true}"
                           placeholder="Please Enter Email Subject" class="form-control" name="subjectLine" [disabled]="vanityTemplatesPartnerAnalytics" />
                     </div>
                     <div class="form-group">
                        <label>Email Body</label>
                     </div>
                  </div>
                  <ng-container *ngIf="!vanityTemplatesPartnerAnalytics && !isSendMdfRequestOptionClicked">
                     <p>Please <a (click)="previewEmailTemplate()">click here</a> to view in the browser</p>
                  </ng-container>
                  <div id="sendTestEmailHtmlBody" class="plspx"></div>
               </div>
            </div>

         </div>
         <div class="modal-footer" *ngIf="!processing">
            <button class="btn Btn-Gray neg_mrg_top4" (click)="callEventEmitter()" data-dismiss="modal">Close</button>
            <button type="submit" class="button bgcolor-unset btn-top3" [disabled]="!isValidForm || clicked"
               (click)="send();clicked = true" *ngIf="!sent && !isPreviewEmailTemplate">
               <span class="btn Btn-Green transition txt_pd-top3">{{(vanityTemplatesPartnerAnalytics || isSendMdfRequestOptionClicked) ? 'Send' : 'Send Test' }}<i class="fa fa-paper-plane mr5 ml-4"
                     aria-hidden="true"></i></span>
            </button>
         </div>
      </div>
   </div>
</div>

<app-campaign-mdf-requests-emails-sent-history #campaignMdfRequestsEmailsSentHistoryComponent></app-campaign-mdf-requests-emails-sent-history>
<div *ngIf="isScheduledCampaignLaunched" id="scheduleCompleted" class="alert alert-info alert-dismissable fade in">
    <a (click)="refService.hideDiv('scheduleCompleted')" class="close" aria-label="close">x</a>
    <strong>Editing This Scheduled Campaign Is Not Allowed As Campaign Already Launched</strong>
</div>

<ngx-loading [show]="isloading" [config]="{ backdropBorderRadius: '14px' }">
</ngx-loading>
<div style="position: relative; top:-5px;">
    <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
</div>
<ng-container *ngIf="!addWorkflows">
    <div class="col-md-12">
        <div class="portlet light clearfix">
            <div class="portlet-title" style="border-bottom: none">
                <div class="row">
                    <div class="colxs-12 col-sm-12 col-md-5">
                        <div>
                            <ul class="mix-filter">
                                <li class="filter" (click)="filterCampaigns('NONE',0)"
                                    [class.campaign-type-selected]="0 == selectedCampaignTypeIndex">All</li>
                                <li class="filter" (click)="filterCampaigns('REGULAR',1)"
                                    [class.campaign-type-selected]="1 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.emailCampaign  || authenticationService?.module?.deletedPartner">
                                    Email</li>
                                <li class="filter" (click)="filterCampaigns('VIDEO',2)"
                                    [class.campaign-type-selected]="2 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.videoCampaign  || authenticationService?.module?.deletedPartner">
                                    Video</li>
                                <li class="filter" (click)="filterCampaigns('SOCIAL',3)"
                                    [class.campaign-type-selected]="3 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.socialCampaign  || authenticationService?.module?.deletedPartner">
                                    Social</li>
                                <li class="filter" (click)="filterCampaigns('EVENT',4)"
                                    [class.campaign-type-selected]="4 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.eventCampaign  || authenticationService?.module?.deletedPartner">Event
                                </li>
                                <li class="filter" (click)="filterCampaigns('SMS',5)"
                                    [class.campaign-type-selected]="5 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.smsCampaign">SMS
                                </li>
                                <li class="filter" (click)="filterCampaigns('LANDINGPAGE',6)"
                                    [class.campaign-type-selected]="6 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.landingPageCampaign && !authenticationService?.module?.isOnlyPartnerCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl">
                                    Page</li>
                                <li class="filter" (click)="filterCampaigns('SURVEY',7)"
                                    [class.campaign-type-selected]="7 == selectedCampaignTypeIndex"
                                    *ngIf="campaignAccess.survey  || authenticationService?.module?.deletedPartner">Survey</li>
                                <li class="filter" style="display: none;">Own Template</li>
                            </ul>
                        </div>
                    </div>

                    <div class="page-toolbar col-xs-12 col-sm-12 col-md-7 mltpx">
                        <div class="btn-group pull-right">
                            <ng-container class='m10'>
                                <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip"
                                    data-placement="bottom" title="List View"
                                    [class.disabled]="modulesDisplayType.isListView" (click)="setViewType('List')">
                                    <i class="fa fa-th-list p10" aria-hidden="true"></i>
                                </span>
                                <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip"
                                    data-placement="bottom" title="Grid View"
                                    [class.disabled]="modulesDisplayType.isGridView" (click)="setViewType('Grid')">
                                    <i class="fa fa-th-large p10" aria-hidden="true"></i>
                                </span>
                            </ng-container>
                            <div class="inputs" id="right" style="display: inline-flex;">
                                <div class="mr5">
                                    <select class="form-control" *ngIf="!archived" [(ngModel)]="selectedSortedOption"
                                        (ngModelChange)="getSortedResult($event)" style="position: relative;">
                                        <option *ngFor="let sortOption of sortByDropDown" [ngValue]="sortOption">
                                            {{sortOption.name}}
                                        </option>
                                    </select>

                                    <select class="form-control" *ngIf="archived" [(ngModel)]="selectedSortedOption"
                                        (ngModelChange)="getSortedResult($event)" style="position: relative;">
                                        <option *ngFor="let sortOption of sortByDropDownArchived"
                                            [ngValue]="sortOption">{{sortOption.name}}
                                        </option>
                                    </select>
                                </div>

                                <div class="portlet-input input-inline" style="display: inline-flex;">
                                    <div class="input-icon mr5" style="position:relative;right: -11px;">
                                        <input type="text" class="form-control" [(ngModel)]="searchKey"
                                            [ngModelOptions]="{standalone: true}" placeholder="Search"
                                            (keypress)="eventHandler($event.keyCode)"
                                            style="padding-left: 10px !important;">
                                        <button class="glyphicon glyphicon-remove search-box-item-clear"
                                            *ngIf="searchKey" (click)="searchKey='';searchCampaigns();"></button>
                                        <button type="submit" class="search-box-item-click" (click)="searchCampaigns()">
                                            <i class="fa fa-search" aria-hidden="true"></i></button>
                                    </div>
                                    <span data-placement="bottom" class="btn btn-xs hidden-xs l-g-view"
                                        data-toggle="tooltip" title="Filter" (click)="toggleFilterOption()">
                                        <i _ngcontent-c17="" aria-hidden="true" class="fa fa-filter p10"></i>
                                    </span>
                                    <a style="margin-top:5px;position:relative;right: -4px;"
                                        *ngIf="pagination.totalRecords>0" (click)="downloadCampaignHighLevelAnalytics()"
                                        class="close-circle" data-toggle="tooltip" data-placement="top"
                                        title="Download">
                                        <i class="fa fa-download margin" aria-hidden="true"></i>
                                    </a>
                                    <a (click)="listCampaign(pagination)" class="close-circle campaign-refresh-style-fl"
                                        data-toggle="tooltip" data-placement="top" title="Refresh">
                                        <i class="fa fa-refresh" aria-hidden="true"></i>
                                    </a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End of portlet title----------------------->
            <app-grid-loader *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isGridView"></app-grid-loader>
            <app-list-loader *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isListView"></app-list-loader>
            <!-- -------------------- Apply Filters Box-------------------- -->
            <div class="row"
                [hidden]="!showFilterOption || httpRequestLoader.isLoading || httpRequestLoader.isServerError">
                <div class="col-xs-12 col-sm-12">
                    <div class="portlet light m10">
                        <div class="portlet-title">
                            <div class="caption" translate>Apply Filters</div>
                            <button type="button" class="close-circle pull-right" (click)="closeFilterOption()">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="portlet box">
                            <app-response-message class="pg8" [customResponse]="filterResponse"
                                *ngIf="filterResponse.isVisible">
                            </app-response-message>
                            <form role="form" class="form-horizontal form-bordered form-label-stripped">
                                <div class="form-group">
                                    <div class="form-inline col-sm-12">
                                        <div class="form-group col-sm-4">
                                            <label class="control-label">From Date
                                                <span class="required">*</span>
                                            </label>
                                            <!-- <app-date-picker [(dataField)]="fromDateFilter" [isFromFilter]='true'>
                                            </app-date-picker> -->
                                            <input type="text" class="form-control flatpickr dateFilterPickr" [(ngModel)]="fromDateFilter" name="fromDateFilter"
                                                placeholder="YYYY-MM-DD" id="fromDateFilter">
                                        </div>
                                        <div class="form-group col-sm-4">
                                            <label class="control-label">To Date
                                                <span class="required">*</span>
                                            </label>
                                            <!-- <app-date-picker [(dataField)]="toDateFilter" [isFromFilter]='true'>
                                            </app-date-picker> -->
                                            <input type="text" class="form-control flatpickr dateFilterPickr" [(ngModel)]="toDateFilter" name="toDateFilter"
                                                placeholder="YYYY-MM-DD" id="toDateFilter">
                                        </div>
                                        <div class="form-group col-sm-4">
                                            <button type="button" class="btn green" [disabled]=""
                                                (click)="validateDateFilters()" translate>Filter</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <section *ngIf="modulesDisplayType.isListView">
                <ng-container *ngIf="!httpRequestLoader.isLoading &&!httpRequestLoader.isServerError ">
                    <div class="table-responsive">
                        <table class='table tgrid table-hover table-sm' id="manage-campaign-list"
                            *ngIf="pagination.pagedItems?.length>0">
                            <thead>
                                <tr>
                                    <th colspan="2" style="width: 28%">
                                        <span class="ui-column-resizer gray"
                                            (mousedown)="refService.onMouseDown($event,'manage-campaign-list',2)">
                                        </span>
                                        <span class="gridHeader">Campaign</span>
                                    </th>
                                    <th class="center" translate scope="col" style="width: 50%; min-width: 532px;"></th>
                                    <th style="width: 25%;text-align:right">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let campaign of pagination.pagedItems; let i=index'>
                                    <td style="width: 10%;">
                                        <ng-container *ngIf="campaign.campaignType.indexOf('VIDEO') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/video-email.png" alt="Video Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('REGULAR') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/regular-email.png" alt="Regular Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/social-campaign.png" alt="Social Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('EVENT') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/event-campaign.png" alt="Event Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/landing-page.png" alt="Page Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('SMS') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/sms.png" alt="SMS Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('SURVEY') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/survey.png" alt="Survey Campaign">
                                        </ng-container>
                                        <br>
                                        <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                            <h6 class="view-banner banner-top"
                                                *ngIf="campaign.launched && campaign.channelCampaign" translate>
                                                Through Campaign</h6>
                                            <h6 class="view-banner banner-top"
                                                *ngIf="campaign.launched && !campaign.channelCampaign && !campaign.nurtureCampaign"
                                                translate>
                                                To Campaign</h6>
                                        </ng-container>
                                        <h6 class="view-banner"
                                            *ngIf="campaign.launched && campaign.campaignType ==='EVENT' && campaign.publicEventCampaign"
                                            style="position: relative;top: 0px;background-color: #5cb85c;margin-top: 5px;"
                                            translate>Public</h6>
                                        <h6 class="view-banner"
                                            *ngIf="campaign.launched && campaign.campaignType ==='EVENT' && !campaign.publicEventCampaign"
                                            style="position: relative;top: 0px;background-color: #d9534f;margin-top: 5px;"
                                            translate>Private</h6>
                                        <h6 class="view-banner"
                                            *ngIf="campaign.launched && !campaign.showCancelButton && campaign.campaignType.indexOf('EVENT') > -1"
                                            style="background-color: red;">
                                            <span *ngIf="!campaign.vendorCampaignDeleted" translate>Cancelled</span>
                                            <span *ngIf="campaign.vendorCampaignDeleted" translate>Deleted</span>
                                        </h6>
                                        <h5 class="view-banner"
                                            *ngIf="!campaign.launched && (campaign.scheduleType==='SAVE' || campaign.scheduleType==='NOW')"
                                            style="background-color: #f76c1a !important">Draft</h5>
                                        <h5 class="view-banner"
                                            *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'" translate>
                                            Scheduled
                                        </h5>
                                        <h6 class="view-banner banner-top" *ngIf="archived" style="background-color: #f76c1a !important" translate>
                                            Archived</h6>
                                        <h6 class="view-banner banner-top" *ngIf="campaign.ended" style="background-color: #b6039e !important"
                                            translate>
                                            Ended</h6>
                                    </td>
                                    <td>
                                        <h4 class="moreipsis campaign-font" title="{{campaign.campaignName}}">
                                            <span><strong>{{campaign.campaignName}}</strong></span>
                                        </h4>
                                        <h5 class="moreipsis" [title]="campaign.createdBy">
                                            <span> By <strong>{{campaign.createdBy}}</strong></span>
                                        </h5>
                                        <h5 class="moreipsis" [title]="campaign.companyName">
                                            <span> From <strong>{{campaign.companyName}}</strong></span>
                                        </h5>
                                        <h5 class="moreipsis" [title]="campaign.categoryName">
                                            <span> Folder <strong>{{campaign.categoryName}}</strong></span>
                                        </h5>
                                        <h5 *ngIf="campaign.nurtureCampaign" [title]="campaign.vendorOrganizationName">
                                            Originated By
                                            <strong>{{campaign.vendorOrganizationName | slice:0:20 }}<span
                                                    *ngIf="campaign.vendorOrganizationName?.length>20">...</span></strong>
                                        </h5>
                                        <h5>
                                            <span>Created On
                                                <strong>
                                                    <app-timestamp [isOnlyDate]="true"
                                                        [dateAndTime]="campaign.createdDate">
                                                    </app-timestamp>
                                                </strong>
                                            </span>
                                        </h5>
                                        <h5>
                                            <span align="right">
                                                <span *ngIf="campaign.launched" translate>Launched On</span>
                                                <ng-container
                                                    *ngIf="!campaign.launched && campaign.scheduleType!=='SCHEDULE' && campaign.scheduleType!=='SAVE' && campaign.scheduleType!=='NOW'">
                                                    <strong
                                                        *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'"
                                                        translate>Scheduled For
                                                    </strong>
                                                    <strong *ngIf="!campaign.launched && campaign.scheduleType==='NOW'"
                                                        translate>Saved On
                                                    </strong>
                                                </ng-container>
                                                <ng-container *ngIf="!campaign.launched && campaign.scheduleType">
                                                    <strong
                                                        *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'"
                                                        translate>Scheduled For
                                                    </strong>
                                                    <strong
                                                        *ngIf="!campaign.launched && (campaign.scheduleType==='SAVE' || campaign.scheduleType==='NOW')"
                                                        translate>Saved On
                                                    </strong>
                                                </ng-container>
                                            </span>
                                            <span align="right" title="Launch Time">
                                                <strong *ngIf="campaign.scheduleType=='NOW' || campaign.launched">
                                                    <app-timestamp *ngIf="!refService.isSafariBrowser()"
                                                        [isOnlyDate]="false" [showInLine]="true"
                                                        [dateAndTime]="campaign.displayTime">
                                                    </app-timestamp>
                                                    <span
                                                        *ngIf="refService.isSafariBrowser()">{{campaign.displayTime}}</span>
                                                </strong>
                                                <strong *ngIf="campaign.scheduleType=='SAVE'">
                                                    <app-timestamp *ngIf="!refService.isSafariBrowser()"
                                                        [isOnlyDate]="false" [showInLine]="true"
                                                        [dateAndTime]="campaign.displayTime">
                                                    </app-timestamp>
                                                    <span
                                                        *ngIf="refService.isSafariBrowser()">{{campaign.displayTime}}</span>
                                                </strong>
                                                <strong
                                                    *ngIf="campaign.scheduleType==='SCHEDULE' && !campaign.launched">
                                                    <span>{{campaign.campaignScheduleDateInString}}</span>
                                                    <br>
                                                    <span>{{campaign.campaignScheduleTimeInString}}</span>
                                                </strong>
                                            </span>
                                        </h5>
                                        <h5 *ngIf="archived">
                                            <span>Archived On
                                                <strong>
                                                    <app-timestamp [dateAndTime]="campaign.archivedDate">
                                                    </app-timestamp>
                                                </strong>
                                            </span>
                                        </h5>
                                        <h5 *ngIf="campaign.showEndDate">
                                            <span>Ending On
                                              <strong>
                                                <app-timestamp [dateAndTime]="campaign.endDate">
                                                </app-timestamp>
                                              </strong>
                                            </span>
                                          </h5>
                                    </td>

                                    <ng-container
                                        *ngIf="campaign?.campaignType=='LANDINGPAGE' || campaign?.campaignType=='SOCIAL'">
                                        <td>
                                            <div class="alert alert-info center-align">
                                                <strong>Detailed analytics for this campaign are not
                                                    available.</strong>
                                            </div>
                                        </td>
                                    </ng-container>
                                    <ng-container
                                        *ngIf="campaign?.campaignType!='LANDINGPAGE' && campaign?.campaignType!='SOCIAL'">
                                        <td *ngIf="campaign?.emailNotification || campaign?.nurtrueCampaign">
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level lt-blue-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.totalRecipients}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight"
                                                                *ngIf="campaign.campaignType.indexOf('EVENT') > -1">Invites</span>
                                                            <span class="custom-font-weight"
                                                                *ngIf="campaign.campaignType.indexOf('EVENT') < 0">Recipients</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level lt-green-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.totalEmailsSent}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Total Emails Sent</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level tk-blue-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.delivered}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Deliverability</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level vlt-blue-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.activeRecipients}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight"
                                                                *ngIf="campaign.campaignType.indexOf('EVENT') > -1">Opened</span>
                                                            <span class="custom-font-weight"
                                                                *ngIf="campaign.campaignType.indexOf('EVENT') < 0">Active
                                                                Recipients</span>
                                                        </div>
                                                    </button>
                                                </div>


                                            </div>

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level pure-blue-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.openRate}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Open Rate</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('REGULAR')>-1 ||campaign.campaignType.indexOf('VIDEO')>-1 || campaign.campaignType.indexOf('LANDINGPAGE')>-1 ">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level black-blue-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.emailClicked}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Clicked URL</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('EVENT') >-1">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level pure-g-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.attendeesCount}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Yes</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('SOCIAL') >-1 && !campaign.nurtureCampaign">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level g-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.socialCampaignRedistributedCount}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Redistributed</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('EVENT') >-1">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level g-y-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.totalAttendeesCount}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Total</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('EVENT') < 0 && campaign.campaignType.indexOf('SOCIAL') < 0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level y-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.clickthroughRate}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Clickthrough Rate</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.campaignType.indexOf('VIDEO')>-1">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level b-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.views}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Views</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level r-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.hardBounce}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Hard Bounce</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level h-r-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.softBounce}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Soft Bounce</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level r-r-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.unsubscribed}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Unsubscribe</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.showLeadAndDealCounts">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level vlt-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.leadCount}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Leads</span>
                                                        </div>
                                                    </button>
                                                </div>
                                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0"
                                                    *ngIf="campaign.showLeadAndDealCounts">
                                                    <button
                                                        class="btn btn-default btn-xs re-distributed-high-level lt-g-b-c">
                                                        <div class="portlet-body text-center">
                                                            <h6 class="custom-font-size">
                                                                <strong
                                                                    class="custom-font-weight">{{campaign?.dealCount}}</strong>
                                                            </h6>
                                                            <span class="custom-font-weight">Deals</span>
                                                        </div>
                                                    </button>
                                                </div>

                                            </div>
                                        </td>
                                        <td *ngIf="!campaign?.emailNotification && !campaign?.nurtureCampaign">
                                            <div class="alert alert-info center-align">
                                                <strong>Notify {{authenticationService?.partnerModule?.customName}} is
                                                    Off, Detailed analytics for this campaign are not available</strong>
                                            </div>
                                        </td>
                                    </ng-container>
                                    <td class="center">
                                        <!----Buttons start here----->
                                        <div class="actions-block override-actions" style="display: flex;">
                                            <ng-container *ngIf="campaign.launched">
                                                <ng-container *ngIf="campaign.campaignType!='LANDINGPAGE'">
                                                    <a *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                                     (loggedInUserId==campaign.userId) || authenticationService.module.isVendor || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign && campaign.redistributedCount>0"
                                                        (click)="goToRedistributedCampaigns(campaign)"
                                                        data-toggle="tooltip" data-placement="top"
                                                        title="Show Redistributed Campaigns">
                                                        <span [class.disablednew]="!campaign.hasAccess"
                                                            class="circled-number"><b>{{campaign.redistributedCount}}</b></span>
                                                    </a>
                                                    <a *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                                     (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign && campaign.redistributedCount==0"
                                                        data-toggle="tooltip" data-placement="top"
                                                        title="No Redistributed Campaigns">
                                                        <span
                                                            class="circled-number disabled"><b>{{campaign.redistributedCount}}</b></span>
                                                    </a>
                                                    <ng-container
                                                        *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                                    (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier)
                                                    && campaign.channelCampaign && campaign.campaignType.indexOf('SOCIAL')<0 && campaign.campaignType.indexOf('LANDINGPAGE') <0 && campaign.campaignType.indexOf('EVENT')<0">
                                                        <a (click)="goToTemplateDownloadPartners(campaign)"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="Show Download History">
                                                            <span><i [class.disablednew]="!campaign.hasAccess"
                                                                    class="fa fa-history" aria-hidden="true"></i></span>
                                                        </a>
                                                        <a *ngIf="templateEmailOpenedAnalyticsAccess"
                                                            (click)="goToTemplateEmailOpenedAnalytics(campaign)"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="Email Open History By Template">
                                                            <span>
                                                                <i [class.disablednew]="!campaign.hasAccess"
                                                                    class="fa fa-envelope-open-o"
                                                                    aria-hidden="true"></i></span>
                                                        </a>
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="campaign.campaignType.indexOf('EVENT')>-1 && campaign.publicEventCampaign ">
                                                        <a (click)="goToTemplateDownloadPartners(campaign)"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="Show Download History" data-rel="fancybox-button">
                                                            <i class="fa fa-history" aria-hidden="true"></i>
                                                        </a>
                                                        <a *ngIf="templateEmailOpenedAnalyticsAccess"
                                                            (click)="goToTemplateEmailOpenedAnalytics(campaign)"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="Email Open History By Template">
                                                            <span>
                                                                <i [class.disablednew]="!campaign.hasAccess"
                                                                    class="fa fa-envelope-open-o"
                                                                    aria-hidden="true"></i></span>
                                                        </a>
                                                    </ng-container>
                                                </ng-container>
                                                <a [class.disablednew]="!campaign.hasAccess && !authenticationService?.module?.deletedPartner"
                                                    *ngIf="authenticationService?.module?.deletedPartner ||  hasAllAccess || (hasStatsRole || hasCampaignRole) || (loggedInUserId==campaign.userId) || authenticationService.module.isVendor   || authenticationService.module.isPrm || authenticationService.module.isVendorTier || isOnlyPartner"
                                                    data-rel="fancybox-button" (click)="campaginRouter(campaign)"
                                                    data-toggle="tooltip" data-placement="top"
                                                    title="{{actionsDescription.campaign_report}}">
                                                    <span>
                                                        <i [class.disablednew]="!campaign.hasAccess && !authenticationService?.module?.deletedPartner" class="fa fa-line-chart"></i>
                                                    </span>
                                                </a>
                                            </ng-container>
                                            <ng-container class="pull-right">
                                                <div class="btn-group pull-right">
                                                    <span [class.disablednew]="!campaign.hasAccess"
                                                        class="glyphicon glyphicon-cog dropdown-toggle gearDropdownMenu"
                                                        data-toggle="dropdown"
                                                        (click)="checkLastElement(i)"></span><span
                                                        [class.disablednew]="!campaign.hasAccess"
                                                        class="caret dropdown-toggle caretDropdownMenu"
                                                        data-toggle="dropdown"></span>

                                                    <ul class="dropdown-menu pull-right"
                                                        [ngClass]="{'mobile-css': isLastElement}">
                                                        <li>
                                                            <a *ngIf="(hasAllAccess || hasCampaignRole && loggedInUserId==campaign.userId
                                                                 || isOnlyPartner  || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)"
                                                              (click)="editCampaign(campaign)" translate>
                                                              <i class="fa fa-pencil-square-o" style="width: 30px;" aria-hidden="true"></i> Edit
                                                            </a>
                                                        </li>
                                                        <ng-container
                                                            *ngIf="campaign.launched && !campaign.vendorCampaignDeleted">
                                                            <li *ngIf="campaign.launched">
                                                                <!---Copy Campaign List View-->
                                                                <a *ngIf="( hasAllAccess || (hasStatsRole || hasCampaignRole) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier ) && !campaign.nurtureCampaign && campaign.campaignType.indexOf('SOCIAL')<0"
                                                                    data-rel="fancybox-button"
                                                                    (click)="openSaveAsModal(campaign)">
                                                                    <i class="fa fa-files-o" style="width: 30px;"></i>
                                                                    Copy Campaign
                                                                </a>

                                                                <a *ngIf="campaign.canEditEndDate" data-rel="fancybox-button" (click)="showEndDateModal(campaign)" translate>
                                                                    <i class="fa fa-calendar-times-o" style="width: 30px;" aria-hidden="true"></i> Update End Date
                                                                </a>

                                                                <!---Add Workflows List View-->
                                                                <!-- <a *ngIf="(hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor)"
                                                                        data-rel="fancybox-button" (click)="addWorkFlows(campaign)" title="Add Workflows">
                                                                        <i class="fa fa-reply-all" style="width: 30px;"></i>
                                                                        Add Workflows
                                                                    </a> -->
                                                                <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign && !campaign.eventStarted"
                                                                    data-rel="fancybox-button"
                                                                    (click)="openEventUrlModal(campaign)"
                                                                    title="Copy Public Event Url">
                                                                    <i class="fa fa-link" style="width: 30px;"></i> Copy
                                                                    Url
                                                                </a>
                                                                <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign && !campaign.eventStarted"
                                                                    data-rel="fancybox-button"
                                                                    (click)="sendEventEmail(campaign)"
                                                                    title="Send Preview Email">
                                                                    <i class="fa fa-envelope" style="width: 30px;"></i>
                                                                    Send Preview Email
                                                                </a>
                                                                <a *ngIf="( hasAllAccess ||  hasCampaignRole|| isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier) && (campaign.campaignType.indexOf('EVENT') > -1 && campaign.nurtureCampaign && campaign.showCancelButton && !campaign.parentCampaignLaunchedByVendorTierCompany)"
                                                                    data-rel="fancybox-button"
                                                                    (click)="inviteMore(campaign)" title="Invite More">
                                                                    <i class="fa fa-users" style="width: 30px;"></i>
                                                                    Invite More
                                                                </a>
                                                            </li>
                                                            <li
                                                                *ngIf=" (hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier) && campaign.channelCampaign">
                                                                <a *ngIf=" (hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign"
                                                                    (click)="goToPreviewPartners(campaign)"
                                                                    data-rel="fancybox-button">
                                                                    <i class="fa fa-handshake-o" style="width: 30px;"
                                                                        id="partner-icon"></i> Preview & Delete
                                                                    {{authenticationService?.partnerModule?.customName}}
                                                                </a>
                                                            </li>
                                                        </ng-container>
                                                        <li *ngIf="!campaign.vendorCampaignDeleted && !authenticationService?.module?.deletedPartner">
                                                            <a (click)="showCampaignPreview(campaign)">
                                                                <i class="fa fa-eye mr5" style="width: 30px;"></i>
                                                                Preview Campaign
                                                            </a>
                                                        </li>
                                                        <li *ngIf="!archived && campaign.canArchive && !authenticationService?.module?.deletedPartner">
                                                            <a (click)="archiveCampaign(campaign)" translate>
                                                                <i class="fa fa-archive mr5" style="width: 30px;"
                                                                    aria-hidden="true"></i> Archive Campaign
                                                            </a>
                                                        </li>
                                                        <li *ngIf="archived && campaign.canArchive && !authenticationService?.module?.deletedPartner">
                                                            <a (click)="unarchiveCampaign(campaign)" translate>
                                                                <i class="fa fa-archive mr5" style="width: 30px;"
                                                                    aria-hidden="true"></i> Unarchive Campaign
                                                            </a>
                                                        </li>
                                                        <section *ngIf="!campaign.showCancelButton">
                                                            <li
                                                                *ngIf="!campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier || campaign.vendorCampaignDeleted">
                                                                <a *ngIf=" hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember  || authenticationService.module.isVendorTier"
                                                                    (click)="confirmDeleteCampaign(campaign.campaignId, i, campaign.campaignName)"
                                                                    data-rel="fancybox-button"> <i class="fa fa-trash-o"
                                                                        style="width: 30px;">
                                                                    </i>Delete
                                                                </a>
                                                            </li>
                                                        </section>
											<section *ngIf="campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted ">
												<li
													*ngIf="campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier">
													<a
													*ngIf=" hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier"
													data-toggle="modal" data-target="#cancelEventModal"
													title="Cancel Campaign" data-rel="fancybox-button"
													(click)="getCancelEventDetails(campaign.campaignId,campaign.channelCampaign,campaign.nurtureCampaign,campaign.toPartner )"
													translate> <i class="fa fa-ban" style="width: 30px;"></i> Cancel Event
												</a>
												</li>
											</section>
											<section
                                                *ngIf="campaign.launched && campaign.campaignType === 'EVENT' && campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted">
                                                <li  *ngIf="(authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner()
                                                    || authenticationService.isVendorTeamMember || authenticationService.isVendorAndPartnerTeamMember || authenticationService.isOrgAdminTeamMember || authenticationService.isOrgAdminAndPartnerTeamMember || authenticationService.isVendorSuperVisor || authenticationService.isOrgAdminSuperVisor || authenticationService?.module?.isMarketingCompany) && !campaign.nurtureCampaign">
                                                                <a title="Update Event" data-rel="fancybox-button"
                                                                    (click)="updateEvent(campaign)">
                                                                    <i class="fa fa-pencil" style="width: 30px;"></i>
                                                                    Update event
                                                                </a>
                                                            </li>
                                                        </section>
                                                    </ul>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class='table tgrid table-sm visible-xs' *ngIf="modulesDisplayType.isListView">
                            <thead>
                                <tr>
                                    <th colspan="1">Campaign</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let campaign of pagination.pagedItems; let i=index'>
                                    <td class="hidden-xs" style="width: 10%;">
                                        <ng-container *ngIf="campaign.campaignType.indexOf('VIDEO') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/video-email.png" alt="Video Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('REGULAR') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/regular-email.png" alt="Regular Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/social-campaign.png" alt="Social Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/landing-page.png" alt="Page Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('EVENT') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/event-campaign.png" alt="Event Campaign">
                                        </ng-container>
                                        <ng-container *ngIf="campaign.campaignType.indexOf('SURVEY') > -1">
                                            <img class="imageClass"
                                                [ngClass]="{'active': campaign.launched, 'inactive': !campaign.launched}"
                                                src="assets/images/survey.png" alt="Survey Campaign">
                                        </ng-container>
                                    </td>
                                    <td>
                                        <h4 class="campaign-title" title="{{campaign.campaignName}}">
                                            {{campaign.campaignName | slice:0:25}}
                                            <span *ngIf="campaign.campaignName?.length>25">...</span>
                                        </h4>
                                        <h5 [title]="campaign.createdBy">By
                                            <b>{{campaign.createdBy | slice:0:20}}<span
                                                    *ngIf="campaign.createdBy?.length>20">...</span></b>
                                        </h5>
                                        <h5 [title]="campaign.companyName">From
                                            <b>{{campaign.companyName | slice:0:20}}<span
                                                    *ngIf="campaign.companyName?.length>20">...</span></b>
                                        </h5>

                                        <h5 [title]="campaign.categoryName">Folder
                                            <b>{{campaign.categoryName | slice:0:20}}<span
                                                    *ngIf="campaign.categoryName?.length>20">...</span></b>
                                        </h5>

                                        <h5>
                                            <span *ngIf="campaign.launched">Launched On </span>
                                            <ng-container
                                                *ngIf="!campaign.launched && campaign.scheduleType!=='SCHEDULE' && campaign.scheduleType!=='SAVE'">
                                                <b *ngIf="!campaign.launched && campaign.launchedOn?.length > 0">Scheduled
                                                    For</b>
                                                <b *ngIf="!campaign.launched && campaign.launchedOn?.length==0">Saved
                                                    On</b>
                                            </ng-container>
                                            <ng-container *ngIf="!campaign.launched && campaign.scheduleType">
                                                <b *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'">Scheduled
                                                    For</b>
                                                <b *ngIf="!campaign.launched && campaign.scheduleType==='SAVE'">Saved
                                                    On</b>
                                            </ng-container>
                                            <span
                                                *ngIf="campaign.scheduleType=='NOW' || campaign.scheduleType=='SCHEDULE'">{{campaign.launchedOn}}</span>
                                            <span *ngIf="campaign.scheduleType=='SAVE'">{{campaign.startTime}}</span>
                                        </h5>
                                    </td>
                                    <td>
                                        <div class="pull-right">
                                            <div class="dropdown">
                                                <i class="fa fa-ellipsis-v dropdown-toggle" data-toggle="dropdown"></i>
                                                <ul class="dropdown-menu pull-right">
                                                    <li>
                                                        <a *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                                     (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier) && campaign.channelCampaign && campaign.redistributedCount>0"
                                                            (click)="goToRedistributedCampaigns(campaign)"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="Show Redistributed Campaigns">
                                                            <span
                                                                class="mobile-circled-number"><b>{{campaign.redistributedCount}}</b></span>Redistributed
                                                            Campaigns
                                                        </a>

                                                        <a *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                                     (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign && campaign.redistributedCount==0"
                                                            data-toggle="tooltip" data-placement="top"
                                                            title="No Redistributed Campaigns">
                                                            <span
                                                                class="mobile-circled-number disabled"><b>{{campaign.redistributedCount}}</b></span>Redistributed
                                                            Campaigns
                                                        </a>
                                                    </li>
                                                     <li>
                                                        <a *ngIf="(hasAllAccess || hasCampaignRole && loggedInUserId==campaign.userId
                                                            || isOnlyPartner  || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner ||authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)"
                                                        (click)="editCampaign(campaign)" translate>
                                                        <i class="fa fa-pencil-square-o" style="width: 30px;" aria-hidden="true"></i> Edit
                                                        </a>
                                                     </li>
                                                    <ng-container *ngIf="campaign.launched && !campaign.vendorCampaignDeleted">
                                                        <li *ngIf="campaign.launched">
                                                            <a *ngIf="hasAllAccess || (hasStatsRole || hasCampaignRole) || (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier || isOnlyPartner"
                                                                data-rel="fancybox-button"
                                                                (click)="campaginRouter(campaign)"
                                                                title="Campaign Based Reports">
                                                                <i class="fa fa-line-chart" style="width: 30px;"></i>
                                                                Campaign based reports
                                                            </a>

                                                            <!---Copy Campaign List View-->
                                                            <a *ngIf="( hasAllAccess || (hasStatsRole || hasCampaignRole) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier) && !campaign.nurtureCampaign && campaign.campaignType.indexOf('SOCIAL')<0"
                                                                data-rel="fancybox-button"
                                                                (click)="openSaveAsModal(campaign)">
                                                                <i class="fa fa-files-o" style="width: 30px;"></i> Copy
                                                                Campaign
                                                            </a>

                                                            <a *ngIf="campaign.canEditEndDate" data-rel="fancybox-button" (click)="showEndDateModal(campaign)" translate>
                                                                <i class="fa fa-calendar-times-o" style="width: 30px;" aria-hidden="true"></i> Update End Date
                                                              </a>
                                                            <!---Add Workflows List View-->
                                                            <!-- <a *ngIf="(hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor)"
                                                                    data-rel="fancybox-button" (click)="addWorkFlows(campaign)" title="Add Workflows">
                                                                    <i class="fa fa-reply-all" style="width: 30px;"></i>
                                                                    Add Workflows
                                                                </a> -->
                                                            <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign && !campaign.eventStarted"
                                                                data-rel="fancybox-button"
                                                                (click)="openEventUrlModal(campaign)"
                                                                title="Copy Public Event Url">
                                                                <i class="fa fa-link" style="width: 30px;"></i> Copy Url
                                                            </a>
                                                            <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign && !campaign.eventStarted"
                                                                data-rel="fancybox-button"
                                                                (click)="sendEventEmail(campaign)"
                                                                title="Send Preview Email">
                                                                <i class="fa fa-envelope" style="width: 30px;"></i> Send
                                                                Preview Email
                                                            </a>
                                                            <a *ngIf="( hasAllAccess ||  hasCampaignRole|| isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier) && (campaign.campaignType.indexOf('EVENT') > -1 && campaign.nurtureCampaign && campaign.showCancelButton && !campaign.parentCampaignLaunchedByVendorTierCompany)"
                                                                data-rel="fancybox-button"
                                                                (click)="inviteMore(campaign)" title="Invite More">
                                                                <i class="fa fa-users" style="width: 30px;"></i> Invite
                                                                More
                                                            </a>
                                                        </li>
                                                        <li
                                                            *ngIf=" (hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign">
                                                            <a *ngIf=" (hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && campaign.channelCampaign"
                                                                (click)="goToPreviewPartners(campaign)"
                                                                data-rel="fancybox-button">
                                                                <i class="fa fa-handshake-o"
                                                                    style="width: 30px; margin-right: 0px;"
                                                                    id="partner-icon" aria-hidden="true"></i> Preview &
                                                                Delete
                                                                {{authenticationService?.partnerModule?.customName}}
                                                            </a>
                                                        </li>
                                                    </ng-container>
                                                    <li *ngIf="!campaign.vendorCampaignDeleted && !authenticationService?.module?.deletedPartner">
                                                        <a (click)="showCampaignPreview(campaign)">
                                                            <i class="fa fa-eye" style="width: 30px;"></i> Preview
                                                            Campaign
                                                        </a>
                                                    </li>

                                                    <section *ngIf="!campaign.showCancelButton">
                                                        <li
                                                            *ngIf="!campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier">
                                                            <a *ngIf=" hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrmAndPartner  || authenticationService.module.isVendorTier"
                                                                (click)="confirmDeleteCampaign(campaign.campaignId, i, campaign.campaignName)"
                                                                data-rel="fancybox-button"> <i class="fa fa-trash-o"
                                                                    style="width: 30px;">
                                                                </i>Delete
                                                            </a>
                                                        </li>
                                                    </section>
                                                    <section *ngIf="campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted ">
                                                        <li
                                                            *ngIf="campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier">
                                                            <a *ngIf= "hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier"
                                                                data-toggle="modal" data-target="#cancelEventModal"
                                                                title="Cancel Campaign" data-rel="fancybox-button"
                                                                (click)="getCancelEventDetails(campaign.campaignId, campaign.channelCampaign,campaign.nurtureCampaign,campaign.toPartner)">
                                                                <i class="fa fa-ban" style="width: 30px;"></i> Cancel
                                                                Event
                                                            </a>
                                                        </li>
                                                    </section>
                                                    <section
                                                        *ngIf="campaign.launched && campaign.campaignType === 'EVENT' && campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted">
                                                        <li
                                                            *ngIf="(authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner()
                                    || authenticationService.isVendorTeamMember || authenticationService.isVendorAndPartnerTeamMember || authenticationService.isOrgAdminTeamMember || authenticationService.isOrgAdminAndPartnerTeamMember || authenticationService.isVendorSuperVisor || authenticationService.isOrgAdminSuperVisor || authenticationService?.module?.isMarketingCompany) && !campaign.nurtureCampaign">
                                                            <a title="Update Event" data-rel="fancybox-button"
                                                                (click)="updateEvent(campaign)">
                                                                <i class="fa fa-pencil" style="width: 30px;"></i> Update
                                                                event
                                                            </a>
                                                        </li>
                                                    </section>
                                                </ul>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </ng-container>
            </section>
            <!-----------Grid View------------------------------->
            <div class="row">
                <ng-container
                    *ngIf="modulesDisplayType.isGridView && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError"
                    style="padding: 0px 3px 0px 3px;">
                    <div class="col-md-3 col-sm-4 col-xs-12"
                        *ngFor="let campaign of pagination.pagedItems; let i= index">
                        <div class="grid-box" style="height:270px">
                            <img src="https://cdn2.iconfinder.com/data/icons/facebook-ads-1/204/1-48.png" alt="">
                            <h4 class="ellipsis" title="{{campaign.campaignName}}">
                                {{campaign.campaignName | slice:0:22}}
                                <span *ngIf="campaign.campaignName?.length>22">...</span>
                                <br><br>
                                <ng-container *ngIf="!authenticationService?.module?.isMarketingCompany">
                                    <span class="view-banner" *ngIf="campaign.launched && campaign.channelCampaign"
                                    style="position: relative;top: -3px;">Through Campaign</span>
                                    <span class="view-banner"
                                        *ngIf="campaign.launched && !campaign.channelCampaign && !campaign.nurtureCampaign"
                                        style="position: relative;top: -3px;">To Campaign</span>
                                </ng-container>
                                <span class="view-banner"
                                    *ngIf="!campaign.launched && (campaign.scheduleType==='SAVE' || campaign.scheduleType==='NOW')"
                                    style="position: relative;top: -3px; background-color: #f76c1a !important">Draft</span>
                                <span class="view-banner"
                                    *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'"
                                    style="position: relative;top: -3px;">Scheduled</span>
                                <span class="view-banner"
                                    *ngIf="campaign.launched && campaign.campaignType ==='EVENT' && campaign.publicEventCampaign"
                                    style="position: relative;top: -3px;background-color: #5cb85c;">Public</span>
                                <span class="view-banner"
                                    *ngIf="campaign.launched && campaign.campaignType ==='EVENT' && !campaign.publicEventCampaign"
                                    style="position: relative;top: -3px;background-color: #d9534f;">Private</span>
                                <span class="view-banner" *ngIf="archived" style="position: relative;top: -3px; background-color: #f76c1a !important"
                                    translate>Archived</span>
                                <span class="view-banner" *ngIf="campaign.ended" style="position: relative;top: -3px; background-color: #b6039e !important"
                                    translate>Ended</span>
                            </h4>
                            <h6 [title]="campaign.createdBy">By
                                <strong>{{campaign.createdBy | slice:0:15}}<span
                                        *ngIf="campaign.createdBy?.length>15">...</span></strong>
                            </h6>
                            <h6 [title]="campaign.companyName">From
                                <strong>{{campaign.companyName | slice:0:15}}<span
                                        *ngIf="campaign.companyName?.length>15">...</span></strong>
                            </h6>
                            <h6 *ngIf="campaign.nurtureCampaign" [title]="campaign.vendorOrganizationName">Originated By
                                <strong>{{campaign.vendorOrganizationName | slice:0:20 }}<span
                                        *ngIf="campaign.vendorOrganizationName?.length>20">...</span></strong>
                            </h6>
                            <h6 [title]="campaign.categoryName">Folder
                                <strong>{{campaign.categoryName | slice:0:20}}<span
                                        *ngIf="campaign.categoryName?.length>20">...</span></strong>
                            </h6>
                            <h6>
                                <span>
                                    <span *ngIf="campaign.launched">Launched On</span>
                                    <ng-container
                                        *ngIf="!campaign.launched && campaign.scheduleType!=='SCHEDULE' && campaign.scheduleType!=='SAVE' && campaign.scheduleType!=='NOW'">
                                        <strong
                                            *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'">Scheduled
                                            For</strong>
                                        <strong *ngIf="!campaign.launched && campaign.scheduleType==='NOW'">Saved
                                            On</strong>
                                    </ng-container>
                                    <ng-container *ngIf="!campaign.launched && campaign.scheduleType">
                                        <strong
                                            *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'">Scheduled
                                            For</strong>
                                        <strong
                                            *ngIf="!campaign.launched && (campaign.scheduleType==='SAVE' || campaign.scheduleType==='NOW')">Saved
                                            On</strong>
                                    </ng-container>
                                </span>
                                <span title="Launch Time"><strong>
                                        <ng-container *ngIf="campaign.scheduleType!='SCHEDULE' || campaign.launched">
                                            <span *ngIf="!refService.isSafariBrowser()">{{campaign.displayTime
                                                |date:'mediumDate'}},{{campaign.displayTime |date:'shortTime'}}</span>
                                            <span *ngIf="refService.isSafariBrowser()">{{campaign.displayTime}}</span>
                                        </ng-container>
                                        <ng-container *ngIf="campaign.scheduleType==='SCHEDULE' && !campaign.launched">
                                            <span>{{campaign.campaignScheduleDateInString}}</span>
                                            <br>
                                            <span>{{campaign.campaignScheduleTimeInString}}</span>
                                        </ng-container>
                                    </strong>
                                </span>
                            </h6>
                            <h6 *ngIf="archived">
                                <span translate>Archived On
                                    <strong>
                                        {{campaign.archivedDate |date:'mediumDate'}},{{campaign.archivedDate
                                        |date:'shortTime'}}
                                    </strong>
                                </span>
                            </h6>
                            <h6 *ngIf="campaign.showEndDate">
                                <span translate>Ending On
                                  <strong>
                                    {{campaign.endDate |date:'mediumDate'}},{{campaign.endDate |date:'shortTime'}}
                                  </strong>
                                </span>
                              </h6>

                            <div class="bookmark-ribbon">
                                <span style="margin: 0px -7px; font-size: 17px; color: white;">
                                    <i *ngIf="campaign.campaignType.indexOf('VIDEO') > -1" class="fa fa-video-camera"
                                        aria-hidden="true"></i>
                                    <i *ngIf="campaign.campaignType.indexOf('REGULAR') > -1" class="fa fa-envelope"
                                        aria-hidden="true"></i>
                                    <i *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1" class="fa fa-globe"
                                        aria-hidden="true"></i>
                                    <i *ngIf="campaign.campaignType.indexOf('EVENT') > -1" class="fa fa-calendar-check-o"
                                        aria-hidden="true"></i>
                                    <i *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1" class="fa fa-wpforms"
                                        aria-hidden="true"></i>
                                    <i *ngIf="campaign.campaignType.indexOf('SURVEY') > -1" class="fa fa-wpforms"
                                        aria-hidden="true"></i>
                                </span>
                            </div>
                            <div class="ribbon" [class.active]="!campaign.launched && campaign.launchedOn?.length==0">
                                <span *ngIf="campaign.launched && !campaign.vendorCampaignDeleted">Launched</span>
                                <div class="cancel-ribbon"
                                    *ngIf="campaign.launched && !campaign.showCancelButton && campaign.campaignType.indexOf('EVENT') > -1">
                                    <ng-container *ngIf="!campaign.vendorCampaignDeleted">Cancelled
                                    </ng-container>
                                    <ng-container *ngIf="campaign.vendorCampaignDeleted">Deleted
                                    </ng-container>
                                </div>
                                <ng-container
                                    *ngIf="!campaign.launched && campaign.scheduleType!=='SCHEDULE' && campaign.scheduleType!=='SAVE' && campaign.scheduleType!=='NOW'">
                                    <span *ngIf="!campaign.launched && campaign.launchedOn?.length > 0">Scheduled</span>
                                    <span *ngIf="!campaign.launched && campaign.launchedOn?.length==0">Saved</span>
                                </ng-container>
                                <ng-container *ngIf="!campaign.launched && campaign.scheduleType">
                                    <span
                                        *ngIf="!campaign.launched && campaign.scheduleType==='SCHEDULE'">Scheduled</span>
                                    <span
                                        *ngIf="!campaign.launched && (campaign.scheduleType==='SAVE' || campaign.scheduleType==='NOW')">Saved</span>
                                </ng-container>
                            </div>
                            <div class="bar auto-height">
                                <!--Buttons Start Here-->
                                <a [class.disablednew]="!campaign.hasAccess"
                                    *ngIf="(hasAllAccess || hasCampaignRole && loggedInUserId==campaign.userId
                                    || isOnlyPartner|| authenticationService.module.isVendor || authenticationService.module.isVendorTier || authenticationService.module.isPrmAndPartner ||  authenticationService.module.isPrmAndPartnerTeamMember)"
                                    (click)="editCampaign(campaign)" data-toggle="tooltip" data-placement="top"
                                    title="Edit Campaign">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                                <ng-container *ngIf="campaign.launched && !campaign.vendorCampaignDeleted">
                                    <ng-container
                                        *ngIf="campaign.formsCount>0 && !campaign.defaultForm && campaign.campaignType.indexOf('EVENT') <0">
                                        <a (click)="goToFormAnalytics(campaign.campaignId)" data-rel="fancybox-button"
                                            data-toggle="tooltip" data-placement="top" title="Form Analytics">
                                            <i class="fa fa-wpforms"></i>
                                        </a>
                                        <span class="badge" id="notification-list">{{campaign.formsCount}}</span>
                                    </ng-container>
                                    <a [class.disablednew]="!campaign.hasAccess"
                                        *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor   || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign"
                                        data-rel="fancybox-button" (click)="openEventUrlModal(campaign)"
                                        title="Copy Public Event Url">
                                        <i class="fa fa-files-o"></i>
                                    </a>
                                    <!-- <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor)"
                                             data-rel="fancybox-button" (click)="addWorkFlows(campaign)" title="Add Workflows">
                                            <i class="fa fa-reply-all"></i>
                                            </a> -->
                                    <a [class.disablednew]="!campaign.hasAccess"
                                        *ngIf="( hasAllAccess ||  hasCampaignRole|| isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier) && (campaign.campaignType.indexOf('EVENT') > -1 && campaign.nurtureCampaign && campaign.showCancelButton && !campaign.parentCampaignLaunchedByVendorTierCompany)"
                                        data-rel="fancybox-button" (click)="inviteMore(campaign)" title="Invite More">
                                        <i class="fa fa-users"></i>
                                    </a>
                                    <a *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                         (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier) && campaign.redistributedCount>0"
                                        (click)="goToRedistributedCampaigns(campaign)" data-toggle="tooltip"
                                        data-placement="right" title="Show Redistributed Campaigns">
                                        <b style="color: white">{{campaign.redistributedCount}}</b>
                                    </a>

                                    <a [class.disablednew]="!campaign.hasAccess && !authenticationService?.module?.deletedPartner"
                                        *ngIf="authenticationService?.module?.deletedPartner ||  hasAllAccess || (hasStatsRole || hasCampaignRole ) || (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier || isOnlyPartner"
                                        (click)="campaginRouter(campaign)" data-toggle="tooltip" data-placement="right"
                                        title="{{actionsDescription.campaign_report}}">
                                        <i class="fa fa-line-chart"></i>
                                    </a>
                                    <a *ngIf="( hasAllAccess || (hasStatsRole || hasCampaignRole) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier) && !campaign.nurtureCampaign && campaign.campaignType.indexOf('SOCIAL')<0"
                                        data-rel="fancybox-button" data-toggle="tooltip" data-placement="top"
                                        title="Copy campaign" (click)="openSaveAsModal(campaign)">
                                        <i class="fa fa-files-o"></i>
                                    </a>
                                    <a *ngIf=" (hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrm  || authenticationService.module.isVendorTier) && campaign.channelCampaign"
                                        (click)="goToPreviewPartners(campaign)" data-toggle="tooltip"
                                        data-placement="top" title="{{actionsDescription.campaign_preview_partner}}"
                                        data-rel="fancybox-button">
                                        <i class="fa fa-handshake-o"></i>
                                    </a>
                                    <ng-container
                                        *ngIf="(hasAllAccess || (hasStatsRole || hasCampaignRole ) ||
                                        (loggedInUserId==campaign.userId) || authenticationService.module.isVendor  || authenticationService.module.isPrm || authenticationService.module.isVendorTier)
                                         && campaign.channelCampaign && campaign.campaignType.indexOf('SOCIAL')<0 && campaign.campaignType.indexOf('LANDINGPAGE') <0 && campaign.campaignType.indexOf('EVENT') <0">
                                        <a (click)="goToTemplateDownloadPartners(campaign)" data-toggle="tooltip"
                                            data-placement="top" title="Show Download History">
                                            <span><i [class.disablednew]="!campaign.hasAccess" class="fa fa-history"
                                                    aria-hidden="true"></i></span>
                                        </a>
                                        <a *ngIf="templateEmailOpenedAnalyticsAccess"
                                            (click)="goToTemplateEmailOpenedAnalytics(campaign)" data-toggle="tooltip"
                                            data-placement="top" title="Email Open History By Template">
                                            <span>
                                                <i [class.disablednew]="!campaign.hasAccess"
                                                    class="fa fa-envelope-open-o" aria-hidden="true"></i></span>
                                        </a>
                                    </ng-container>
                                    <ng-container
                                        *ngIf="campaign.campaignType.indexOf('EVENT')>-1 && campaign.publicEventCampaign">
                                        <a (click)="goToTemplateDownloadPartners(campaign)" data-toggle="tooltip"
                                            data-placement="top" title="Show Download History"
                                            data-rel="fancybox-button">
                                            <i class="fa fa-history" aria-hidden="true"></i>
                                        </a>
                                        <a *ngIf="templateEmailOpenedAnalyticsAccess"
                                            (click)="goToTemplateEmailOpenedAnalytics(campaign)" data-toggle="tooltip"
                                            data-placement="top" title="Email Open History By Template">
                                            <span>
                                                <i [class.disablednew]="!campaign.hasAccess"
                                                    class="fa fa-envelope-open-o" aria-hidden="true"></i></span>
                                        </a>
                                    </ng-container>
                                    <span>
                                    <a *ngIf="( hasAllAccess ||   hasCampaignRole || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier)  && campaign.campaignType.indexOf('EVENT') > -1 && campaign.publicEventCampaign && !campaign.eventStarted"
                                        data-toggle="tooltip" data-placement="top" (click)="sendEventEmail(campaign)"
                                      title="Send Preview Email" translate>
                                      <i class="fa fa-envelope" aria-hidden="true"></i>
                                    </a>
                                        <a *ngIf="!archived && campaign.canArchive && !authenticationService?.module?.deletedPartner" (click)="archiveCampaign(campaign)"
                                            data-toggle="tooltip" data-placement="top" title="Archive">
                                            <i class="fa fa-archive mr5" aria-hidden="true"></i>
                                        </a>
                                        <a *ngIf="archived && campaign.canArchive && !authenticationService?.module?.deletedPartner" (click)="unarchiveCampaign(campaign)"
                                            data-toggle="tooltip" data-placement="top" title="Unarchive">
                                            <i class="fa fa-archive mr5" aria-hidden="true"></i>
                                        </a>
                                        <a *ngIf="campaign.canEditEndDate" (click)="showEndDateModal(campaign)" data-toggle="tooltip" data-placement="top"
                                            title="Update End Date">
                                            <i class="fa fa-calendar-times-o" aria-hidden="true"></i>
                                        </a>
                                    </span>
                                </ng-container>

                                <span [class.disablednew]="!campaign.hasAccess">
                                    <a *ngIf="!campaign.vendorCampaignDeleted && !authenticationService?.module?.deletedPartner" (click)="showCampaignPreview(campaign)" data-toggle="tooltip"
                                        data-placement="top" title="Preview">
                                        <i class="fa fa-eye mr5" aria-hidden="true"></i>
                                    </a>
                                    <a *ngIf="!campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor  || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier || campaign.vendorCampaignDeleted"
                                        (click)="confirmDeleteCampaign(campaign.campaignId, i, campaign.campaignName)"
                                        data-toggle="tooltip" data-placement="top" title="Delete Campaign">
                                        <i class="fa fa-trash-o"></i>
                                    </a>
                                </span>

                                <span [class.disablednew]="!campaign.hasAccess"
                                    *ngIf="campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted">
                                    <a *ngIf="campaign.showCancelButton && hasAllAccess ||  (hasCampaignRole && loggedInUserId==campaign.userId) || isOnlyPartner || authenticationService.module.isVendor || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember || authenticationService.module.isVendorTier"
                                        data-toggle="tooltip" data-placement="top" title="Cancel Event"
                                        data-rel="fancybox-button"
                                        (click)="getCancelEventDetails(campaign.campaignId, campaign.channelCampaign,campaign.nurtureCampaign,campaign.toPartner)">
                                        <i class="fa fa-ban"></i>
                                    </a></span>
                                <span
                                    *ngIf="campaign.launched && campaign.campaignType === 'EVENT' && campaign.showCancelButton && !campaign.vendorCampaignDeleted && !campaign.eventStarted">
                                    <a *ngIf="(authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner()
                                    || authenticationService.isVendorTeamMember || authenticationService.isVendorAndPartnerTeamMember || authenticationService.isOrgAdminTeamMember || authenticationService.isOrgAdminAndPartnerTeamMember || authenticationService.isVendorSuperVisor || authenticationService.isOrgAdminSuperVisor || authenticationService?.module?.isMarketingCompany) && !campaign.nurtureCampaign"
                                        data-toggle="tooltip" data-placement="top" title="Update event"
                                        data-rel="fancybox-button" (click)="updateEvent(campaign)">
                                        <i class="fa fa-pencil"></i>
                                    </a></span>
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
            <ng-container *ngIf="modulesDisplayType.isListView || modulesDisplayType.isGridView">
                <div [hidden]="totalRecords <= 0 || httpRequestLoader.isLoading || httpRequestLoader.isServerError"
                    style="background:white">
                    <div *ngIf="pagination.pagedItems.length !== 0" class="pg8">
                        <app-pagination [pagination]="pagination" [type]="'campaign'" [isDropdown]="true"
                            (notifyParent)="setPage($event)"></app-pagination>
                        <select class="form-control" style="float: right; width: auto;" [(ngModel)]="itemsSize"
                            (ngModelChange)="getNumberOfItemsPerPage($event)">
                            <option [ngValue]="numberOfItemsPerPage[0]"> {{numberOfItemsPerPage[0].name}}
                            </option>
                            <option *ngIf="pagination.totalRecords>12" [ngValue]="numberOfItemsPerPage[1]">
                                {{numberOfItemsPerPage[1].name}}</option>
                            <option *ngIf="pagination.totalRecords>24" [ngValue]="numberOfItemsPerPage[2]">
                                {{numberOfItemsPerPage[2].name}}</option>
                        </select>
                    </div>
                </div>
                <div *ngIf="pagination.totalRecords==0 && !httpRequestLoader.isLoading" class="alert alert-info">
                    <strong>No Campaigns Found.</strong>
                </div>
            </ng-container>
            <!--End of portlet light clearfix-->
        </div>
    </div>
</ng-container>
<!-- Save As Modal -->
<div class="modal right fade" id="saveAsModal" tabindex="-1" role="dialog" aria-labelledby="saveAsModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-copy" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title f-w-600" id="saveAsModalLabel">Copy Campaign</h4>
                <button type="button" class="close-circle" data-dismiss="modal" style=" position: relative;top: -24px;">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="campaignName">Campaign Name</label>
                    <input class="form-control" type="text" id="campaignName" [(ngModel)]="saveAsCampaignName">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" [disabled]="clicked" class="btn btn-primary" (click)="saveAsCampaign();clicked = true">Save changes</button>
            </div>
        </div>
    </div>
</div>


<div id="campaignFilterModal" class="modal right fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-copy">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title">Filter</h4>
            </div>
            <div class="modal-body" style="padding: 28px;">
                <div class="row">
                    <div class="col-sm-12">
                        <input class="form-control" type="text">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn green">Submit</button>
                <button type="button" class="btn green" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade right" id="cancelEventModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="closeCancelEventodal()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </a>
                <h4 class="modal-title" id="myModalLabel">Canceling the event</h4>
            </div>
            <div class="modal-body">
                <section>
                    <div class="col-xs-12 col-sm-12">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="eventTitle" class="col-sm-3 labal-css color-css">Event Title </label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="eventTitle" [attr.disabled]="true"
                                        placeholder="Event Title" [(ngModel)]="eventCampaign.campaign"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="hostedBy" class="col-sm-3 labal-css color-css">Hosted
                                    By <span class=text-danger>*</span>
                                </label>
                                <div class="col-sm-9">
                                    <input type="text" [attr.disabled]="true" class="form-control pull-left"
                                        placeholder="Hosted By" [(ngModel)]="eventCampaign.fromName"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="eventDateTime" class="col-sm-3 labal-css color-css">Event
                                    Date/Time <span class="text-danger" style="margin-left: -3px;">*</span>
                                </label>
                                <div class="col-sm-9 p0">
                                    <div class="col-sm-6">
                                        <input [attr.disabled]="true" type="text" id="startDatePicker"
                                            class="form-control flatpickr" placeholder="Start"
                                            [(ngModel)]="eventCampaign.campaignEventTimes[0].startTimeString"
                                            [ngModelOptions]="{standalone: true}">
                                    </div>
                                    <div class="col-sm-6">
                                        <input type="text" id="enDatePicker" [attr.disabled]="true" [disabled]="true"
                                            class="form-control flatpickr" placeholder="End"
                                            [(ngModel)]="eventCampaign.campaignEventTimes[0].endTimeString"
                                            [ngModelOptions]="{standalone: true}">
                                    </div>
                                    <div class="col-sm-12">
                                        <input type="checkbox" id="allDay" class="form-check-input mt10"
                                            [attr.disabled]="true"
                                            [checked]="eventCampaign.campaignEventTimes[0].allDay">
                                        <label class="form-check-label" for="allDay" style="float:none"> All Day</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="hostedBy" class="col-sm-3 labal-css color-css">Online
                                    Meeting</label>
                                <div class="col-sm-9">
                                    <switch [disabled]="true" [status]="eventCampaign.onlineMeeting"
                                        [onText]="callActionSwitch.onTextValue"
                                        [offText]="callActionSwitch.offTextValue"
                                        [onColor]="callActionSwitch.onGreenColorSwitch"
                                        [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size">
                                    </switch>
                                </div>
                            </div>
                            <section *ngIf="!eventCampaign.onlineMeeting">
                                <div class="form-group">
                                    <label for="hostedBy" class="col-sm-3 labal-css color-css">Location
                                        Name <span class="text-danger" style="position: absolute;">*</span>
                                    </label>
                                    <div class="col-sm-9">
                                        <input type="text" [attr.disabled]="true" class="form-control"
                                            id="eventDateTime"
                                            placeholder="Corporate headquarters, local restaurant, etc."
                                            [(ngModel)]="eventCampaign.campaignLocation.location"
                                            [ngModelOptions]="{standalone: true}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="hostedBy" class="col-sm-3 labal-css color-css">Address</label>
                                    <div class="col-sm-9">
                                        <input type="text" [attr.disabled]="true" class="form-control" id="address1"
                                            placeholder="Street Address" maxlength="25"
                                            [(ngModel)]="eventCampaign.campaignLocation.street"
                                            [ngModelOptions]="{standalone: true}">
                                    </div>
                                    <div class="col-sm-offset-3 col-sm-9 pt10">
                                        <input type="text" [attr.disabled]="true" class="form-control" id="address2"
                                            placeholder="Address2" maxlength="25"
                                            [(ngModel)]="eventCampaign.campaignLocation.address2"
                                            [ngModelOptions]="{standalone: true}">
                                    </div>

                                    <div class="col-sm-offset-3 col-sm-9 pt10">
                                        <div class="col-sm-6" style="padding-left: 0px">
                                            <input type="text" [attr.disabled]="true" class="form-control" id="city"
                                                placeholder="City" [(ngModel)]="eventCampaign.campaignLocation.city"
                                                [ngModelOptions]="{standalone: true}">
                                        </div>
                                        <div class="col-sm-6" style="padding-right: 0px">
                                            <input type="text" [attr.disabled]="true" class="form-control" id="state"
                                                placeholder="State" [(ngModel)]="eventCampaign.campaignLocation.state"
                                                [ngModelOptions]="{standalone: true}">
                                        </div>
                                    </div>
                                    <div class="col-sm-offset-3 col-sm-9 pt10">
                                        <div class="col-sm-6" style="padding-left: 0px">
                                            <input type="text" class="form-control" [attr.disabled]="true"
                                                [(ngModel)]="eventCampaign.campaignLocation.country"
                                                [ngModelOptions]="{standalone: true}">
                                        </div>
                                        <div class="col-sm-6" style="padding-right: 0px">
                                            <input type="text" [attr.disabled]="true" class="form-control" id="zip"
                                                placeholder="Zip" maxlength="10"
                                                [(ngModel)]="eventCampaign.campaignLocation.zip"
                                                [ngModelOptions]="{standalone: true}">
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </form>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 labal-css color-css">Email subject<span style="color: red">
                                <strong>*</strong>
                            </span>
                        </label>
                        <div class="col-sm-9">
                            <input type="text" id="subjectLine" placeholder="Cancel Event Subject Line"
                                class="form-control" (input)="validateCancelEventButton()"
                                [(ngModel)]="cancelEventSubjectLine" name="subjectLine" maxlength="200" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 labal-css color-css" style="padding-top: 25px;">Cancel Message<span
                                style="color: red"> <strong>*</strong>
                            </span>
                        </label>
                        <div class="col-sm-9" style="padding-top: 10px;">
                            <textarea [(ngModel)]="cancelEventMessage" [ngModelOptions]="{standalone: true}"
                                (input)="validateCancelEventButton()" placeholder="Add a comment..."></textarea>
                        </div>
                    </div>
                </section>
            </div>
            <div class="pull-right" style="margin: 0px 29px 0px 0px;">
                <div class="right-css">
                    <button type="button" class="btn btn-default" data-dismiss="modal"
                        (click)="closeCancelEventodal()">Close</button>
                    <button type="button" class="btn btn-primary" [disabled]="!cancelEventButton"
                        (click)="cancelEvent()">Cancel
                        Event</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ----------------------Copy Link Modal------------------- -->
<div class="modal right " id="public-event-url-modal" data-backdrop="static">
    <div class="modal-dialog modal-lg" style="width: 75%;right:0">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-center">DIRECT LINK FOR YOUR CAMPAIGN</h4>
            </div>
            <div class="modal-body">
                <app-response-message [customResponse]="copiedLinkCustomResponse"
                    *ngIf="copiedLinkCustomResponse.isVisible">
                </app-response-message>
                <app-modal-popup-loader [hidden]="!modalPopupLoader"></app-modal-popup-loader>
                <div [hidden]="modalPopupLoader">
                    <input type="text" class="form-control" readonly="readonly" [ngModel]="publicEventAlias"
                        #publicEventCampaignUrlInput>
                </div>
            </div>
            <div class="modal-footer" [hidden]="modalPopupLoader">
                <a class="btn btn-primary" (click)="copyUrl(publicEventCampaignUrlInput)">Copy Link</a>
                <a data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
            </div>
        </div>
    </div>
</div>
<app-preview-campaign *ngIf="previewCampaign" [previewCampaignId]="previewCampaign" [viewType]="'folderList'" [previewCampaignType]="campaignType"
    (closeNotifyParent)="closePreviewCampaign($event)"></app-preview-campaign>
<app-add-more-receivers #addMoreReceivers></app-add-more-receivers>
<!-- -----------------Sending Public Event Email Pop Up------->
<app-public-event-email-popup #publiEventEmailPopup></app-public-event-email-popup>
<!-----------------Adding New Workflows Popup-->

<!-----------------Edit End Date------------------------->
<div class="modal right fade" id="endDateModalInUtil" role="dialog" aria-labelledby="endDateModalLabel"
  aria-hidden="true" data-focus="false">
  <div class="modal-dialog modal-copy" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title f-w-600" id="endDateModalLabel" translate>Edit End Date</h4>
        <button type="button" class="close-circle" data-dismiss="modal" style=" position: relative;top: -24px;" (click)="closeEndDateModal()">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
      </div>
      <div class="modal-body">
        <app-modal-popup-loader *ngIf="endDateRequestLoader.isLoading && !endDateRequestLoader.isServerError">
        </app-modal-popup-loader>
        <app-response-message [customResponse]="endDateCustomResponse" *ngIf="endDateCustomResponse.isVisible">
        </app-response-message>
        <div class="form-group">
            <label for="endDate" translate><b>Campaign End Date:</b></label>
            <div class="mb10">A setting that specifies how long you want your campaign to run. When the campaign's end date
              arrives, your partners will be unable to redistribute it further. Each campaign's default setting is to have no end
              date, allowing partners to redistribute indefinitely.</div>
          <div class="input-group">
            <input type="text" id="endDateInUtil" placeholder="YYYY-MM-DD" class="form-control flatpickr" [(ngModel)]="selectedEndDate"
              name="endDate" [value]="selectedEndDate">
            <span class="input-group-btn" data-toggle="tooltip" data-placement="top" title="Clear">
              <button class="btn btn-default" type="button"><i class="fa fa-refresh" aria-hidden="true"
                  (click)="clearEndDate()"></i></button>
            </span>
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" translate  (click)="closeEndDateModal()">Close</button>
        <button type="button" class="btn btn-primary" (click)="updateEndDate()" translate>Save changes</button>
      </div>
    </div>
  </div>
</div>
<!---XNFR-118---->
<app-edit-campaign-details-modal-popup *ngIf="editButtonClicked" [campaignId]="selectedCampaignId" (resetEmitter)="resetValues($event)"></app-edit-campaign-details-modal-popup>


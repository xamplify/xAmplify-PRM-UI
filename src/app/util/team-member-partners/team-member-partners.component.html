<div class="modal fade right" id="teamMemberPartnersPreviewPopup" tabindex="-1" role="dialog" aria-labelledby="teamMemberPartnersPreviewPopup" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" [ngClass]="isModalPopupshow ? '' : 'full-width-modal-popup'" role="document">
      <div class="modal-content">
          <div class="modal-header" >
              <h4 class="modal-title popup-header-title-font text-center" translate>{{authenticationService?.partnerModule?.customName}}</h4>
          </div>
          <ng-container *ngIf="!apiError">
            <div *ngIf="customResponse.isVisible" class="text-center">
                <div [ngClass]="customResponse?.responseType=='SUCCESS'? 'alert alert-success':'alert alert-danger'">
                    <button (click)="customResponse.isVisible=false" type="button" class="close" aria-label="Close">
                        <span aria-hidden="true">x</span>
                    </button>
                  <strong [innerHTML]="customResponse.responseMessage"></strong>
                </div>
              </div>
            <div class="modal-body">
                <app-list-loader *ngIf="partnersLoader.isLoading"></app-list-loader>
                <div class="table-responsive" *ngIf="!partnersLoader.isLoading">
                    <div *ngIf="selectedPartnerTeamMemberGroupMappingIds?.length>0  && partnersPagination.totalRecords>0" class="alert alert-success text-center">
                        <strong>Selected Rows: {{selectedPartnerTeamMemberGroupMappingIds?.length}}</strong>
                     </div>
                        <div class="btn-group pull-right">
                           <div class="inputs float-right" style="display: inline-flex;">
                            <div>
                                <select class="form-control" id="users-dropdown" [(ngModel)]="sortOption.selectedActiveUsersSortOption" (ngModelChange)="sortBy($event)">
                                    <option *ngFor="let option of sortOption.activeUsersSortDropDownOptions" [ngValue]="option">
                                        {{option.name}}
                                    </option>
                                 </select>
                            </div>
                              <div class="portlet-input input-inline mb10">
                                 <div class="input-icon right" id="icon">
                                    <input type="text" autocomplete="off" id="sort-text" class="form-control" [(ngModel)]="sortOption.searchKey" [ngModelOptions]="{standalone: true}" placeholder="Search..." (keypress)="partnersSearchOnKeyEvent($event.keyCode)">
                                    <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="sortOption.searchKey" (click)="sortOption.searchKey='';searchPartners();"></button>
                                    <button type="submit" class="search-box-item-click" (click)="searchPartners()">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                    </button>
                                 </div>
                              </div>
                           </div>
                        </div>
                    <table *ngIf="partnersPagination.pagedItems?.length>0" class="table tgrid table-condensed table-bordered hash-table-color"
                         id="teamMemberPartnersTable" aria-describedby="teamMemberPartnersTable">
                        <thead>
                            <tr>
                                <th scope="row" class="text-center">
                                 <input type="checkbox" class="checkBox_shadow" [(ngModel)]="isHeaderCheckBoxChecked" id="team-member-partners-header-checkbox-id"
                                  (change)="selectOrUnselectAllRowsOfTheCurrentPage($event)">
                               </th>
                                <th scope="row">Entity Info</th>
                              </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let partner of partnersPagination.pagedItems;let i=index">
                                <tr id="team-member-partners-tr-{{partner.id}}" [class.row-selected]="selectedPartnerTeamMemberGroupMappingIds?.indexOf(partner.id)>-1"
                                    (click)="highlightSelectedPartnerOnRowClick(partner.id,$event)">
                                    <td class="text-center">
                                        <input type="checkbox" class="checkBox_shadow" id="{{partner.id}}"  value="{{partner.id}}"
                                        [checked]="selectedPartnerTeamMemberGroupMappingIds?.indexOf(partner.id)>-1"
                                            name="teamMemberPartnersCheckBox[]" 
                                            (click)="$event.stopPropagation();highlightPartnerRowOnCheckBoxClick(partner.id,$event);">
                                     </td>
                                    <td>
                                        <app-user-info [isPartnerEntityInfo]="true" [userInfo]="partner" [hideJobTitle]="true"></app-user-info>
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
                <!-- End of 24 -->
                <div *ngIf="partnersPagination.totalRecords==0 && !partnersLoader.isLoading" class="alert alert-info text-center">
                    <strong>No Records Found</strong>
                 </div>
                 <div *ngIf="partnersPagination.pagedItems.length !== 0" class="pg8" [hidden]="partnersLoader.isLoading">
                    <app-pagination [pagination]="partnersPagination" (notifyParent)="navigateBetweenPageNumbers($event)"
                       (notifyParentDropDown)="findPartnersBySelectingDropDown($event)">
                    </app-pagination>
                 </div>
            <br>
            </div>
            <div class="modal-footer" *ngIf="!partnersLoader.isLoading">
                <button type="submit" [disabled]="selectedPartnerTeamMemberGroupMappingIds?.length==0" class="btn btn-danger"  (click)="removeAllSelectedPartners()" translate>Clear</button>
                <button type="submit" [disabled]="selectedPartnerTeamMemberGroupMappingIds?.length==0" class="btn btn-danger"  (click)="openSweetAlert()" translate>Delete</button>
                <button type="submit" class="btn Btn-Gray"  (click)="closePartnersPreviewPopup()" translate>Close</button>
              </div>
          </ng-container>
         <ng-container *ngIf="apiError">
            <div class="modal-body">
                <div class="text-center">
                    <h1 class="inactive-status">{{statusCode}}</h1>
                    <h4 class="inactive-status">Please Contact Admin</h4>
                    <button class="btn btn-info" (click)="closePartnersPreviewPopup()">Close</button>
                </div>
            </div>
         </ng-container>
      </div>
  </div>
</div>
<app-confirm-sweet-alert-util *ngIf="isDelete" (notifyComponent)="deletePartners($event)"></app-confirm-sweet-alert-util>

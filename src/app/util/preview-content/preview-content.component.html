<div *ngIf="!isPreviewPopup">
  <!-- Inline header controls (Close, Refresh, etc.) -->
  <a *ngIf="!pdfLoader" (click)="closePreview()" class="close-circle ref-mar c ml5 mb5" data-placement="top"
    data-toggle="tooltip" title="Close">
    <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;position: relative;
    top: 4px;" aria-hidden="true"></span></a>
  <a *ngIf="!isPdf && !pdfLoader" class="close-circle ref-mar c" data-placement="top" data-toggle="tooltip"
    title="Refresh" data-original-title="Refresh" (click)="reload()">
    <i aria-hidden="true" class="fa fa-refresh"></i>
  </a>
  <ng-container *ngTemplateOutlet="previewContent"></ng-container>
</div>

<ng-template #previewContent>
  <app-modal-popup-loader *ngIf="pdfLoader"></app-modal-popup-loader>

  <object *ngIf="!isPdf && !pdfLoader" id="preview-object" [data]="url" width="100%" height="600px"
    style="border: 1px solid #ddd;"></object>

  <div id="pdf-container" style="display: none;"></div>

  <div [hidden]="!(showImageViewer || showTextViewer || showAudioPlayer)" class="viewer-wrapper">
    <img id="image-viewer" style="display: none;" />
    <pre id="text-viewer" style="display: none;"></pre>
    <audio id="audio-viewer" style="display: none;" controls></audio>
  </div>

  <div class="csv-container-wrapper" id="csv-container-wrapper" style="display: none;">
    <div class="table-scroll">
      <table id="csv-table"></table>
    </div>
  </div>
</ng-template>

<!-- Modal -->
<div class="modal fade right" id="preview_content_modal_popup" role="dialog" aria-labelledby="myModalLabel"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <button class="close-circle" (click)="closePreview()" data-dismiss="modal" type="button">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
        <h4 class="modal-title text-center" id="myModalLabel">Preview</h4>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <ng-container *ngTemplateOutlet="previewContent"></ng-container>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer" style="border: none;">
        <button class="btn Btn-Gray" (click)="closePreview()" data-dismiss="modal">Cancel</button>
      </div>

    </div>
  </div>
</div>
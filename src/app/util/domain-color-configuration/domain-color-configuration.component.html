<div class="lead_details">
  <h3>
    Domain Color Configuration
    <a data-toggle="collapse" (click)="toggleClass('color-details')" style="float: right;" href="javascript:;">
      <i id="color-details" class="fa fa-minus" aria-hidden="true"></i>
    </a>
  </h3>
</div>

<div class="color-settings-container nav collapse in" id="colorDetailsDropdown">
  <div *ngFor="let field of colorFields" class="color-field-wrapper">
    <label class="field-label">{{ field.label }}</label>

    <div class="color-input-container">
      <!-- Color preview (click to open native color input) -->
      <label class="color-picker-wrapper">
        <input type="color" class="color-picker-input" [(ngModel)]="theme[field.key]"
          (change)="onHexChange(field.key, theme[field.key])" [attr.id]="'color-picker-' + field.key" />
        <div class="color-preview" [style.backgroundColor]="theme[field.key] || field.placeholder"></div>
      </label>

      <!-- Text Hex Input -->
      <input type="text" class="hex-input" [(ngModel)]="theme[field.key]"
        (ngModelChange)="onHexChange(field.key, $event)" [placeholder]="field.placeholder" maxlength="7" />
    </div>
  </div>

  <div *ngIf="message" class="error-message">{{ message }}</div>
</div>
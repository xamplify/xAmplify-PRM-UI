<form #themeForm="ngForm" *ngIf="!message && theme" (ngSubmit)="updateTheme()" novalidate>
  <div class="simple-color-grid">
    <div *ngFor="let field of colorFields" class="simple-color-block">
      <div class="label">{{ field.label }}</div>

      <!-- Color Picker Input -->
      <label class="color-box">
        <input type="color" [(ngModel)]="theme[field.key]" name="{{ field.key }}_color" class="hidden-color-picker"
          (change)="onHexChange(field.key, theme[field.key])" />
        <div class="preview" [style.backgroundColor]="theme[field.key]"></div>
      </label>

      <!-- Hex Code Input -->
      <input type="text" [(ngModel)]="theme[field.key]" name="{{ field.key }}" maxlength="7"
        pattern="^#([A-Fa-f0-9]{6})$" placeholder="#000000" required class="hex-code-input"
        (input)="onHexChange(field.key, theme[field.key])" />
    </div>
  </div>

  <!-- Update Button -->
  <div class="text-center mt-4">
    <button class="btn btn-primary update-btn" type="submit" [disabled]="!isThemeValid()">
      Update
    </button>
  </div>
</form>
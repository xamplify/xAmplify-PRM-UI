<div class="page-content" *ngIf="showSignatureModal">
  <!-- <app-modal-popup-loader *ngIf="pdfLoader"></app-modal-popup-loader> -->
  <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
  <div>
    <div>
      <div>
        <div class="inputs" style="float: right;">
          <a class="close-circle ref-mar" (click)="closeModal()" title="Close">
            <i class="fa fa-times" aria-hidden="true"></i>
          </a>
        </div>
      </div>
      <div>
        <!-- PDF Signature Drag & Drop Section -->
        <div id="pdf-signature-section" style="display: flex; gap: 20px; padding: 20px 20px 20px 0px;">
          <!-- Left Side: Signature Container -->
          <div id="signature-container">
            <div class="toolbar">
              <ul>
                <!-- Add Text Button -->
                <li>
                  <div class="toolbar-btn" (click)="enableTextMode()" [ngClass]="{'active-tool': activeTextTool}">
                    <i class="fas fa-font"></i>
                  </div>
                </li>

                <!-- Signature Toggle Button -->
                <li class="dropdown mb0">
                  <div class="toolbar-btn" (click)="toggleSignatures()"
                    [ngClass]="{'active-tool': activeSignatureTool}">
                    <i class="fas fa-pen-nib"></i>
                  </div>

                  <!-- Signature Selection Box (Shown on Click) -->
                  <div class="signature-container" *ngIf="activeSignatureTool">
                    <div *ngFor="let i of [0, 1, 2]" class="signature-box">
                      <img *ngIf="availableSignatures[i]" [src]="availableSignatures[i]" class="signature-image"
                        draggable="true" alt="Signature">
                      <span *ngIf="!availableSignatures[i]" class="add-signature" (click)="addSignature(i)">+ Add
                        Signature</span>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <!-- Right Side: PDF Display -->
          <div id="pdf-container"> <canvas class="pdf-page" data-page="1"></canvas>
          </div>
        </div>
      </div>
      <div class="float-right">
        <button type="button" class="btn Btn-Gray mr5" (click)="closeModal()">Close</button>
        <button type="button" class="btn btn-primary" (click)="generatePDF()">Submit</button>
      </div>
    </div>
  </div>
</div>

<div class="modal-body" *ngIf="openAddsignatureModalPopup">
  <app-digital-signature
    (notifyCloseModalPopUp)="notifyDigitalSignatureCloseModalPopUp($event)"></app-digital-signature>
</div>
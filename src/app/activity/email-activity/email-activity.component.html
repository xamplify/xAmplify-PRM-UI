<div class="inputs display row" align="right">
  <div class="col-xs-12 col-sm-12 col-lg-12 mb10">
    <div class="page-toolbar">
      <div class="btn-group pull-right">
        <div class="inputs float-right" style="display: inline-flex;">
          <div class="float-left">
            <select class="form-control" [(ngModel)]="sortOption.emailActivityDropDownOption"
              (ngModelChange)="sortBy($event)" id="select-dropdown">
              <option *ngFor="let option of sortOption.emailActivityDropDownOptions" [ngValue]="option">
                {{option.name}}
              </option>
            </select>
          </div>
          <div>
            <div class="ml5">
              <input type="text" autocomplete="off" id="sort-text" class="form-control"
                [(ngModel)]="emailSortOption.searchKey" [ngModelOptions]="{standalone: true}" placeholder="Search..."
                (keydown.enter)="emailSortOption()">
              <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="emailSortOption.searchKey"
                (click)="emailSortOption.searchKey='';clearSearch();"></button>
              <button type="submit" class="search-box-item-click" (click)="searchEmailActivities();"><i
                  class="fa fa-search" aria-hidden="true"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="emailActivityPagination?.totalRecords>0 && !httpRequestLoader?.isLoading">
  <ngx-loading [show]="ngxLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
  <app-list-loader *ngIf="httpRequestLoader?.isLoading"></app-list-loader>
  <app-response-message class="pg8" [customResponse]="customResponse" *ngIf="customResponse?.isVisible"></app-response-message>
  <div class="activity_card mb10" *ngFor="let emailActivity of emailActivityPagination?.pagedItems">
    <div class="activity-header">
      <span><label class="mr22 activity-title">From:</label><i class="fa fa-user icon"></i>{{emailActivity.senderEmailId}} </span>
      <!-- <span class="activity-title">Status: {{emailActivity.status}}</span> -->
      <span class="activity-date"><i class="fa fa-clock icon"></i>{{emailActivity.createdTime}}</span>
    </div>
    <!-- <div class="activity-body">
      <i class="fa fa-envelope icon"></i>{{emailActivity.senderEmailId}}
    </div> -->
    <div class="activity-body">
      <span><label class="mr3 activity-title">Subject:</label> <i class="fa fa-comment icon"></i>{{emailActivity.subject}}</span>
      <span class="activity-title">Status: <span [ngClass]="emailActivity.status=='OPENED'?'view-banner' : 'view-banner published'" >{{emailActivity.status}}</span></span>
    </div>
    <div class="activity-footer">
      <a (click)="viewEmail(emailActivity.id)"><span>View details</span></a>
    </div>
  </div>
  <!-- --------------------Pagination0-------------------- -->
  <div *ngIf="!httpRequestLoader.isLoading" class="pg2 mrgn_top0">
    <app-pagination [pagination]="emailActivityPagination" (notifyParent)="setEmailActivityPage($event)"
      (notifyParentDropDown)="fetchAllEmailActivities($event)"></app-pagination>
  </div>
</div>
<div *ngIf="!httpRequestLoader.isLoading && emailActivityPagination.totalRecords==0" class="alert alert-info">
  <strong translate>No Data Found.</strong>
</div>

<app-add-email-modal-popup *ngIf="showEmailModalPopup" [userId]="contactId" [actionType]="actionType"
  [emailActivityId]="emailActivityId" (notifyClose)="closeModalPopup()"></app-add-email-modal-popup> 

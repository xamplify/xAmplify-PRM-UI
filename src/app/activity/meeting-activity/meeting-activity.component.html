<div class="inputs display row" align="right">
  <div class="col-xs-12 col-sm-12 col-lg-12 mb10">
    <div class="page-toolbar">
      <a class="close-circle ref-mar ml5" data-placement="bottom" data-toggle="tooltip" title="Refresh"
        data-original-title="Refresh" (click)="showAllMeetingActivities()">
        <i aria-hidden="true" class="fa fa-refresh"></i>
      </a>
      <a class="close-circle ref-mar ml5" data-placement="bottom" data-toggle="tooltip" title="Schedule Meeting"
        data-original-title="Refresh" (click)="openMeetingModalPopup()">
        <i aria-hidden="true" class="fa fa-plus"></i>
      </a>
      <div class="btn-group pull-right">
        <div class="inputs float-right" style="display: inline-flex;">
          <div class="float-left">
            <select class="form-control" [(ngModel)]="meetingSortOption.calendlyDropDownOption"
              (ngModelChange)="sortFieldsByOption()" id="select-dropdown">
              <option *ngFor="let option of meetingSortOption.calendlyDropDownOptions" [ngValue]="option.value">
                {{option.name}}
              </option>
            </select>
          </div>
          <div>
            <div class="ml5">
              <input type="text" autocomplete="off" id="sort-text" class="form-control" [(ngModel)]="searchKey"
                [ngModelOptions]="{standalone: true}" placeholder="Search..." (keypress)="searchFieldsKeyPress($event.keyCode)">
              <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey"
                (click)="searchKey='';clearSearch();"></button>
              <button type="submit" class="search-box-item-click" (click)="searchFields();"><i class="fa fa-search"
                  aria-hidden="true"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-list-loader *ngIf="httpRequestLoader?.isLoading"></app-list-loader>
<ngx-loading [show]="ngxLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<app-response-message class="pg8" [customResponse]="customResponse" *ngIf="customResponse?.isVisible"></app-response-message>
<div class="activity_card mb10" *ngFor="let meetingActivity of meetingActivityPagedItems">
  <div class="activity-header">
    <span><label class="mr5 activity-title">Name:</label><span>{{meetingActivity.name | slice:0:35}}</span></span>
    <span class="activity-date"><i class="fa fa-clock"></i><app-display-date-and-time [dateAndTimeUTCString]="meetingActivity.createdTime"></app-display-date-and-time></span>
  </div>
  <div class="activity-body mt0">
    <span class="activity-title">Start Date: <span class="activity-date"><i
      class="fa fa-calendar"></i><app-display-date-and-time
      [dateAndTimeUTCString]="meetingActivity.startTime"></app-display-date-and-time></span></span>
      <span class="activity-title">End Date: <span class="activity-date"><i
        class="fa fa-calendar"></i><app-display-date-and-time
        [dateAndTimeUTCString]="meetingActivity.endTime"></app-display-date-and-time></span></span>
  </div>
  <div class="activity-footer">
    <span class="activity-title">
      <span [ngClass]="meetingActivity.status == 'active' ? 'activity-title mr_90' : 'activity-title mr_75'">Status: <span
        [ngClass]="meetingActivity.status == 'active' ? 'view-banner activity-created-status-btn' : 'view-banner meeting-canceled-status-btn'">{{meetingActivity.status}}</span></span>
      Location: <span
        class="view-banner activity-updated-status-btn">{{meetingActivity.type}}</span>
    </span>
    <span *ngIf="meetingActivity.meetingUrl != undefined"><a href="{{meetingActivity.meetingUrl}}" target="_blank"
        data-toggle="tooltip" data-placement="bottom" title="Join meeting"><i class="fa fa-external-link task_view"
          aria-hidden="true"></i></a>
    </span>
  </div>
</div>


<div class="activity_pagination">
  <ul *ngIf="meetingActivityPager.pages && meetingActivityPager.pages.length" class="pagination">
    <li [ngClass]="{disabled:meetingActivityPager.currentPage === 1}"><a (click)="setMeetingActivitiesPage(1)"><span
          _ngcontent-c15=""><i _ngcontent-c15="" aria-hidden="true" class="fa fa-angle-double-left" data-placement="bottom"
            data-toggle="tooltip" title="First"></i><span class="sr-only">First</span></span></a></li>
    <li [ngClass]="{disabled:meetingActivityPager.currentPage === 1}"><a
        (click)="setMeetingActivitiesPage(meetingActivityPager.currentPage - 1)"><span _ngcontent-c15=""><i
            _ngcontent-c15="" aria-hidden="true" class="fa fa-angle-left" data-placement="bottom" data-toggle="tooltip"
            title="Previous"></i><span class="sr-only">Previous</span></span></a></li>
    <li *ngFor="let page of meetingActivityPager.pages" [ngClass]="{active:meetingActivityPager.currentPage === page}"><a
        (click)="setMeetingActivitiesPage(page)" [class.disabled]="meetingActivityPager.currentPage === page">{{page}}</a>
    </li>
    <li [ngClass]="{disabled:meetingActivityPager.currentPage === meetingActivityPager.totalPages}">
      <a (click)="setMeetingActivitiesPage(meetingActivityPager.currentPage + 1)"><span _ngcontent-c15=""><i
            _ngcontent-c15="" aria-hidden="true" class="fa fa-angle-right" data-placement="bottom" data-toggle="tooltip"
            title="Next"></i><span class="sr-only">Next</span></span></a>
    </li>
    <li [ngClass]="{disabled:meetingActivityPager.currentPage === meetingActivityPager.totalPages}">
      <a (click)="setMeetingActivitiesPage(meetingActivityPager.totalPages)"><span _ngcontent-c15=""><i _ngcontent-c15=""
            aria-hidden="true" class="fa fa-angle-double-right" data-placement="bottom" data-toggle="tooltip"
            title="Last"></i><span class="sr-only">Last</span></span></a>
    </li>
  </ul>
  <div *ngIf="meetingActivityPager.pages && meetingActivityPager.pages.length" class="p-drop-down pl10 custom-fields-items-count pt10">
    <select class="form-control" style="cursor: pointer" [(ngModel)]="pageNumber"
      [ngModelOptions]="{standalone: true}" (ngModelChange)="selectedPageNumber($event.value)">
      <option [ngValue]="paginationComponent.numberPerPage[0]">{{paginationComponent.numberPerPage[0].name}}
      </option>
      <option *ngIf="meetingActivityPager.totalItems>12" [ngValue]="paginationComponent.numberPerPage[1]">
        {{paginationComponent.numberPerPage[1].name}}</option>
      <option *ngIf="meetingActivityPager.totalItems>24" [ngValue]="paginationComponent.numberPerPage[2]">
        {{paginationComponent.numberPerPage[2].name}}</option>
    </select>
  </div>
</div>
<div class="modal-footer border-none pr0 pt0 pl0">
  <span *ngIf="meetingActivityPager.pages && meetingActivityPager.pages.length" class="align-item-left">
    <strong>Total Records :{{meetingActivityPager.totalItems}}</strong>
  </span>
</div>

<app-add-meeting-modal-popup *ngIf="showMeetingModalPopup" [schedulingUrl]="activeCalendarDetails?.userUri"
  [calendarType]="activeCalendarDetails?.type" (notifyClose)="closeMeetingModalPopup()"></app-add-meeting-modal-popup>

<app-calendar-integration-modal-popup *ngIf="showCalendarIntegrationsModalPopup" (notifyClose)="closeCalendarIntegrationsModalPopup()"></app-calendar-integration-modal-popup>
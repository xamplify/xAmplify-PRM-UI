<div class="modal fade right" id="viewTaskModalPopup" role="dialog" aria-labelledby="myModalLabel"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <ngx-loading [show]="ngxLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    <div class="modal-content">
      <div class="modal-header">
        <a class="close-circle" (click)="closeTaskModal()" data-dismiss="modal"> <i class="fa fa-times"></i></a>
        <h4 class="modal-title left" id="myModalLabel">View Task</h4>
      </div>
      <div class="modal-body">
      <div class="d-flex mt5 mb5 justify-content-between view_task_card">
        <div>
          <label> Due Date<span class="text-danger mr2">*</span>:</label>
          <i class="fa fa-calendar" aria-hidden="true"></i> {{taskActivity.dueDate}}
        </div>
        <div class="ml-40">
          <label> Status<span class="text-danger mr2">*</span>:</label>
          <span class="view-banner activity-updated-status-btn">{{taskActivity.statusName}}</span>
        </div>
      </div>
      <div class="margin_right">
        <label>Title<span class="text-danger mr2">*</span>:</label>
        <span class="view_task mr5">{{taskActivity.name}}</span>
        <hr>
      </div>
      <div class="row">
        <div class="col-lg-6 col-xs-12 col-sm-12 pr0">
          <div class="view_emailcard mb10">
            <div class="profile_header">
              <div class="avatar2_v2">
                <img *ngIf="ngxLoading" class="h-50px" src="../../../assets/images/Spinner.gif" alt="">
                <img *ngIf="!ngxLoading" class="img_wdt" src="{{authenticationService.MEDIA_URL+taskActivity.profilePath}}" alt=""
                  (error)="errorHandler($event)">
              </div>
              <div class="profile_info">
                <label class="mb0"> Assigned To<span class="text-danger mr2 mb5">*</span></label>
                <span class="email-id">
                  <p data-placement="bottom" data-toggle="tooltip" title="">
                    <i aria-hidden="true" class="fa fa-envelope mr5 icons_colors"></i>{{taskActivity.assignedToEmailId}}
                  </p>
                </span>
                <span class="email-id">
                  <p>
                    <i class="fas fa-user icon mr5 icons_colors" aria-hidden="true"></i>{{taskActivity.assignedToName}}
                  </p>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6 col-xs-12 col-sm-12">
          <div class="view_emailcard mb10">
            <div class="p0">
              <div class="left_aligned_input_field">
                <label> Task Type:</label>
                <span class="view-banner activity-updated-status-btn-v2">
                  <i *ngIf="taskActivity.taskType == 'Note'" class="fa fa-pencil-square-o fs-10px"></i><i
                    *ngIf="taskActivity.taskType == 'Email'" class="fa fa-envelope-o fs-10px"></i><i
                    *ngIf="taskActivity.taskType == 'Todo'" class="fa fa-list-alt fs-10px"></i>
                  {{taskActivity.taskType == 'Todo' ? 'To Do':taskActivity.taskType}}</span>
              </div>
              <div>
                <label> Priority:</label>
                <span><i *ngIf="taskActivity?.priority == 'Medium'" class="fas fa-equals icon medium_priority"></i><i
                    *ngIf="taskActivity?.priority == 'Low'" class="fas fa-angle-down icon low_priority"></i><i
                    *ngIf="taskActivity?.priority == 'High'" class="fas fa-angle-up icon danger high_priority"></i>
                  {{taskActivity.priority}}</span>
              </div>
              <div *ngIf="taskActivity.remainderType != undefined && taskActivity.remainderType != ''">
                <label class="mb0"> Reminder:</label>
                <span>{{taskActivity.remainder}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="taskActivity.description != undefined">
        <label>Description:</label>
        <div class="email_content" [innerHTML]="taskActivity.description"></div>
      </div>
      <h5 *ngIf="taskActivity?.taskAttachmentDTOs?.length > 0">
        <label class="mr5 activity-title">Attachments:</label>
        <div class="portlet light">
          <h6 class="m0">
            <span *ngFor="let taskAttachmentDTO of taskActivity?.taskAttachmentDTOs; let i = index">
              <span><a *ngIf="taskAttachmentDTO.filePath != undefined" target="_blank"
                  href="{{taskAttachmentDTO.filePath}}" class="bg-soft-info">{{taskAttachmentDTO.fileName}}</a>
                <a *ngIf="taskAttachmentDTO.filePath == undefined" (click)="taskAttachmentDTO.uploadedFile = 'true'"
                  class="bg-soft-info">{{taskAttachmentDTO.fileName}}</a></span>
              <span *ngIf="taskAttachmentDTO.uploadedFile" class="text-danger" id="filePathError">Unable to load
                the file. <p (click)="taskAttachmentDTO.uploadedFile = 'false'"><i class="fa fa-times"></i></p>
              </span>
            </span>
          </h6>
        </div>
      </h5>
      <div class="modal-footer">
        <button class="btn Btn-Gray neg_mrg_top4" (click)="closeTaskModal()" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
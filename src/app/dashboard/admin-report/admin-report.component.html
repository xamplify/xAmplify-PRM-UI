<div class="page-content ml0">
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
	<div class="page-bar col-xs-12">
		<ul class="page-breadcrumb col-xs-6">
			<li>
			<i class="fa fa-home"></i>
				<a (click)="detailsTielsView = false">Admin Report</a>
			</li>
			<li *ngIf="detailsTielsView">
			<i class="fa fa-angle-right"></i>
				<a>Vendor Report</a>
			</li>
		</ul>
		
		<div class="inputs sort-class col-xs-6" align="right" style="float: right; margin-top: 2px;margin-right: -100px;">
													<div class="col-xs-6" [ngClass]="{'search-css': !referenceService.isMobileScreenSize(), 'mobile-css':referenceService.isMobileScreenSize() }">
														<select class="form-control" [(ngModel)]="sortOption"
															(ngModelChange)="sortByOption($event)">
															<ng-container
																*ngFor="let sort of sortOptions; let i = index">
															<option [ngValue]="sort">{{sort.name}}</option>
															</ng-container>
														</select>
													</div>
													<div class="col-xs-6 portlet-input input-inline search-class"  [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
														<div class="input-icon right" style="width: 230px; margin-left: -22px;">
															 <input type="text"
																[(ngModel)]="searchKey"
																[ngModelOptions]="{standalone: true}"
																class="form-control" placeholder="Search" (keypress)="eventHandler($event.keyCode)">

														<button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey" (click)="searchKey='';search()"></button>
														<button type="submit" class="search-box-item-click" (click)="search()"><i class="fa fa-search"></i></button>
														</div>
													</div>
												</div>
		
	</div>
	<div class="row">
		<div class="col-xs-12" *ngIf="!detailsTielsView">
		 <app-list-loader [rowsCount]="12" *ngIf="isListLoading"></app-list-loader>
			<div class="page-bar"  *ngIf="!isListLoading">
			<app-response-message [customResponse]="customResponse"
										*ngIf="customResponse.isVisible"></app-response-message>
				<div class="table-responsive" *ngIf="pagination.totalRecords">
					<table class='table tgrid'>
						<thead>
							<tr>
								<th style="width: 20%;">NAME</th>
								<th>COMPANY</th>
								<th>STATUS</th>
								<th class='text-center'>REGISTRATION DATE</th>
								<th class='text-center'>LAST LOGIN</th>
								<th class='text-center'>UPDATED TIME</th>
								<th class="text-center">ACTIONS</th>
							</tr>
						</thead>
						<tbody>
							<ng-container *ngFor="let report of vendorsDetails;let i = index"> <!-- this div for ngFor -->
							<tr (click)="selectedVendorDetails(report)" class="highletedRow">
								<td>
								<app-user-info [userInfo]="report">
								</app-user-info>
								</td>
								<td>{{report.companyName}}</td>
								<td>{{report.userStatus}}</td>
								<td align="center">
								<app-timestamp [dateAndTime]="report.dateReg"> </app-timestamp>
								</td>
								<td align="center">
								<app-timestamp [dateAndTime]="report.dateLastLogin"> </app-timestamp>
								</td>
								<td align="center">
								<app-timestamp [dateAndTime]="report.updatedTime"> </app-timestamp>
								</td>
								<td>
								<a data-toggle="tooltip" data-placement="top" title="Company profile details" (click)="getVendorCompanyProfile(report)"> 
								<i class="fa fa-building-o" style="font-size: 20px;"></i></a>
								
								<a data-toggle="tooltip" data-placement="top" title="My profile details" (click)="getVendorMyProfile(report)"> 
								<i class="fa fa fa-user-o" style="font-size: 20px;margin-left:5px"></i></a>
								
								</td>
							</tr>
							</ng-container>

						</tbody>
					</table>
				</div>
			</div>
			<app-pagination [pagination]="pagination" [type]="'admin-reports'"
				(notifyParent)="setPage($event)"
				(notifyParentDropDown)="onChangeAllContactUsers($event)"></app-pagination>
		</div>



		<section *ngIf="detailsTielsView">
				<div class="clearfix"></div>

			<div class="page-bar">
				<div class="table-responsive">
					<table class='table tgrid'>
						<thead>
							<tr>
								<th style="width: 20%;">NAME</th>
								<th>COMPANY</th>
								<th>STATUS</th>
								<th class='text-center'>REGISTRATION DATE</th>
								<th class='text-center'>LAST LOGIN</th>
								<th class='text-center'>UPDATED TIME</th>
							</tr>
						</thead>
						<tbody>
							<ng-container> <!-- this div for ngFor -->
							<tr class="selectedRow">
								<td>
								<app-user-info [userInfo]="selectedVendorRow">
								</app-user-info>
								</td>
								<td>{{selectedVendorRow.companyName}}</td>
								<td>{{selectedVendorRow.userStatus}}</td>
								<td align="center">
								<app-timestamp [dateAndTime]="selectedVendorRow.dateReg"> </app-timestamp>
								</td>
								<td align="center">
								<app-timestamp [dateAndTime]="selectedVendorRow.dateLastLogin"> </app-timestamp>
								</td>
								<td align="center">
								<app-timestamp [dateAndTime]="selectedVendorRow.updatedTime"> </app-timestamp>
								</td>
							</tr>
							</ng-container>

						</tbody>
					</table>
				</div>
			</div>
			<app-dashboard-stats></app-dashboard-stats>
		</section>

  </div>
  <app-scroll-top></app-scroll-top>
</div>

<style type="text/css">
  a.disabled {
    pointer-events: none;
    cursor: not-allowed;
  }

  .disabled {
    pointer-events: none;
    cursor: not-allowed;
  }
</style>
<div class="page-content" *ngIf="!showDealForm">
  <div *ngIf="showSandboxText" class="alert alert-info">
    <strong>{{properties?.sandboxText}}</strong>
  </div>
  <div class="page-bar p0" *ngIf="userDefaultPage.responseType != null" style="margin-bottom: 5px;">
    <div class="alert alert-dismissible" role="alert" [ngClass]="{'alert-success': userDefaultPage.responseType == 'SUCCESS',
               'alert-danger': userDefaultPage.responseType == 'ERROR'}">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"
        (click)="userDefaultPage.responseType = null"><span aria-hidden="true">&times;</span></button>
      <h4 class="flex" style="padding-top: 10px;">
        <i class="fa" [ngClass]="{'fa-check': userDefaultPage.responseType == 'SUCCESS',
               'fa-exclamation': userDefaultPage.responseType == 'ERROR'}" aria-hidden="true"
          style="padding-right: 7px;"></i>
        <span class="msg-color">{{userDefaultPage.responseMessage}}</span>
      </h4>
    </div>
  </div>
  <div class="page-bar p0" [hidden]="ngxLoading">
    <div class="col-md-12 col-xs-12 col-sm-12" style="border-radius: 0;padding: 0.4em;">
      <div
        [ngClass]="userDefaultPage.isCurrentPageDefaultPage || authenticationService.module.isPartnershipEstablishedOnlyWithVendorTier || authenticationService?.module?.deletedPartner ? 'col-md-11 col-xs-11 col-sm-11':'col-md-5 col-xs-5 col-sm-5'">
        <h4 title="{{logedInCustomerCompanyName}}" class="welcome-header text-overflow">{{'Welcome' | translate}}
          {{logedInCustomerCompanyName}}</h4>
      </div>
      <div class="col-md-6 col-xs-6 col-sm-6"
        [hidden]="userDefaultPage.isCurrentPageDefaultPage || authenticationService.module.isPartnershipEstablishedOnlyWithVendorTier || authenticationService?.module?.deletedPartner">
        <div style="display: flex;">
          <h4>Do you want to set this as your default screen?</h4>
          <div style="margin: 10px 10px 0px 5px;">
            <ui-switch [(ngModel)]="userDefaultPage.isCurrentPageDefaultPage" color="lightgreen" size="small"
              (change)="setWelcomeAsDefaultPage($event)"></ui-switch>
          </div>
        </div>
      </div>
      <app-team-member-filter-option *ngIf="!authenticationService?.module?.isOnlyPartnerCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl
        && !authenticationService?.module?.isMarketingCompany && !authenticationService?.module?.deletedPartner"
        [filterIcon]="true"
        (teamMemberFilterModalPopUpOptionEventEmitter)="getSelectedIndexFromPopup($event)"></app-team-member-filter-option>
    </div>
  </div>
  <!--XNFR-458--->
  <app-dashboard-banner-images></app-dashboard-banner-images>
  <!--XNFR-458--->
  <div class="page-bar page-bar-shadow shadow-radius">
    <app-response-message class="pg8" [customResponse]="dealResponse"
      *ngIf="dealResponse.isVisible"></app-response-message>
    <app-box-loader [countLoader]=4 *ngIf="ngxLoading"></app-box-loader>
    <app-module-analytics *ngIf="!ngxLoading" (notifyShowDealForm)="showDealForm=true"
      [applyFilter]="applyFilter"></app-module-analytics>
  </div>
   <!---XNFR-459--->
   <app-news-and-announcement-and-instant-navigation-dashboard-analytics></app-news-and-announcement-and-instant-navigation-dashboard-analytics>
   <!---XNFR-459--->
  <!------------Dashbaord Button Carusel---------------------->
  <app-dashboard-buttons-carousel></app-dashboard-buttons-carousel>
  <app-vendor-activity-analytics></app-vendor-activity-analytics>
  <app-modal-popup-loader
    *ngIf="welcomePageItemsLoader || authenticationService?.module?.contentLoader"></app-modal-popup-loader>
  <div style="position: relative; top:-10px;">
    <app-response-message [customResponse]="customResponse"
      *ngIf="customResponse.isVisible && !welcomePageItemsLoader "></app-response-message>
  </div>
  <div class="page-bar page-bar-shadow"
    *ngIf="!authenticationService?.module?.contentLoader &&!authenticationService.module.isPartnershipEstablishedOnlyWithVendorTier && !welcomePageItemsLoader && !customResponse.isVisible && showDiv">
    <div class="col-xs-12">
      <!--Partners-->
      <ng-container *ngIf="sourceType!='ALLBOUND' && welcomePageItems?.showPartners">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block">
            <div class="text-block block_align">
              <h1 title="{{authenticationService?.partnerModule?.customName}}" class="welcome-item-header" translate>
                {{authenticationService?.partnerModule?.customName | slice:0:15}}
                <span *ngIf="authenticationService?.partnerModule?.customName?.length>15">...</span>
              </h1>
              <p class="left-side  mb_left0">{{welcome_text.contacts}}</p>
              <div class="text-left tab_Flex">
                <button class="button_blue bgcolor-unset btn-xs bgcolor-unset" [routerLink]="['/home/partners/add']"
                  translate><span class="btn btn-primary transition">Add
                    {{authenticationService?.partnerModule?.customName}}</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage(11,true)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock">
            <img src="../../assets/images/welcome/distributor.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!--Content-->
      <ng-container *ngIf="welcomePageItems?.showContent">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.contentImagePosition=='left'">
            <img alt="First slide [900x500]" class="dash-img-svg"
              data-src="holder.js/900x500/auto/#777:#555/text:First slide"
              src="../../../assets/images/welcome/content.svg" data-holder-rendered="true">
          </div>
          <div class="col-sm-6 col-xs-12 block">
            <div class="text-block block_align">
              <h1 style="text-align: left" translate>Content</h1>
              <p class="mb_left0" style="position: relative;left: -19px;">{{welcome_text.videos}}</p>
              <div class="tab_Flex" style="text-align: left">
                <button class="button_blue btn-xs bgcolor-unset" [routerLink]="['/home/select-modules']" translate>
                  <!--- XBI-2315 --->
                  <span *ngIf="!authenticationService?.module?.isOnlyPartnerCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl" class="btn btn-primary transition">Upload Content</span>
                  <span *ngIf="authenticationService?.module?.isOnlyPartnerCompany || authenticationService?.module?.loggedInThroughVendorVanityUrl" class="btn btn-primary transition">Manage Content</span>
                  <!---- XBI-2315 -->
                </button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage(4,true)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.contentImagePosition=='right'">
            <img alt="First slide [900x500]" class="dash-img-svg"
              data-src="holder.js/900x500/auto/#777:#555/text:First slide"
              src="../../../assets/images/welcome/content.svg" data-holder-rendered="true">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!--Contacts---->
      <ng-container *ngIf="welcomePageItems?.showContacts">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.contactsImagePosition=='left'">
            <img src="../../../assets/images/welcome/contacts.svg" class="dash-img-svg" alt="">
          </div>
          <div class="col-sm-6 col-xs-12 block tab_right0 mb_v_right0" style="right: -46px;">
            <div class="text-block block_align">
              <h1 style="text-align: left;" translate>Contacts</h1>
              <p class="mb_v_right0" style="position: relative;right: 19px;">{{welcome_text.contacts}}</p>
              <div class="tab_Flex" style="text-align: left;">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/contacts/add')"
                  translate><span class="btn btn-primary transition">Add contacts</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage(3,true)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.contactsImagePosition=='right'">
            <img src="../../../assets/images/welcome/contacts.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!----Templates----->
      <ng-container *ngIf="welcomePageItems?.showTemplates">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.templatesImagePosition=='left'">
            <img class="dash-img-svg" alt="" src="../../../assets/images/welcome/templates.svg">
          </div>
          <div class="col-sm-6 col-xs-12 block">
            <div class="text-block block_align">
              <h1 class="text-left" translate>Templates</h1>
              <p class="left-side mb_left0">{{welcome_text.templates}}</p>
              <div class="text-left tab_Flex">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/emailtemplates/select')"
                  translate><span class="btn btn-primary transition">Create templates</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage('how_to_designing_email_template',false)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.templatesImagePosition=='right'">
            <img class="dash-img-svg" alt="" src="../../../assets/images/welcome/templates.svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!----Campaigns----->
      <ng-container *ngIf="welcomePageItems?.showCampaigns">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.campaignsImagePosition=='left'">
            <img src="../../../assets/images/welcome/campaigns.svg" alt="" class="dash-img-svg">
          </div>
          <div class="col-sm-6 col-xs-12 block tab_right0 mb_v_right0" style="right: -52px; position: relative;">
            <div class="text-block block_align">
              <h1 class="text-left" translate>Campaigns</h1>
              <p class="left-side mb_left0">{{welcome_text.campaigns}}</p>
              <div class="text-left tab_Flex">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/campaigns/select')"
                  translate><span class="btn btn-primary transition">Create campaigns</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage(2,true)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.campaignsImagePosition=='right'">
            <img src="../../../assets/images/welcome/campaigns.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!--Team Members------>
      <ng-container *ngIf="welcomePageItems?.showTeamMembers">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.teamMembersImagePosition=='left'">
            <img src="../../../assets/images/welcome/team.svg" alt="" class="dash-img-svg">
          </div>
          <div class="col-sm-6 col-xs-12 block">
            <div class="text-block block_align">
              <h1 class="text-left" translate>Team members</h1>
              <p class="left-side mb_left0">Add team members to make content and campaign management a group effort</p>
              <div class="text-left tab_Flex">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/team/add-team')"
                  translate><span class="btn btn-primary transition">Add team member</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-transparent guides_btn" data-toggle="modal"
                  (click)="goToUserGuidePage(16,true)" translate>
                  <a href="{{urlLink}}" target="_blank"><span class="btn Btn-Green transition">Tell me
                      how</span></a></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.teamMembersImagePosition=='right'">
            <img src="../../../assets/images/welcome/team.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!---Social Accounts-->
      <ng-container *ngIf="welcomePageItems?.showSocialAccounts">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.socialAccountsImagePosition=='left'">
            <img class="" class="dash-img-svg" alt="" src="../../../assets/images/welcome/social.svg">
          </div>
          <div class="col-sm-6 col-xs-12 block tab_right0 mb_v_right0" style="position: relative; right: -40px;">
            <div class="text-block block_align">
              <h1 class="text-left" translate>Social Accounts</h1>
              <p class="left-side mb_left0">{{welcome_text.socialMedia}}</p>
              <div class="text-left tab_Flex">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/social/manage/all')"
                  [class.disabled]="!authenticationService.user.hasCompany ? true : null" translate><span
                    class="btn btn-primary transition">Connect</span></button>
                <button type="button" class="button bgcolor-unset btn-xs Btn-Green guides_btn" data-toggle="modal"
                  [disabled]="true" data-target="#myModal" translate><span
                    class="btn Btn-Green transition">Tell
                    me how</span></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.socialAccountsImagePosition=='right'">
            <img src="../../../assets/images/welcome/social.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
      <!---Analytics---->
      <ng-container *ngIf="welcomePageItems?.showAnalytics">
        <div class="flex">
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.analyticsImagePosition=='left'">
            <img src="../../../assets/images/welcome/analytics.svg" alt="" class="dash-img-svg">
          </div>
          <div class="col-sm-6 col-xs-12 block">
            <div class="text-block block_align">
              <h1 class="text-left" translate>Analytics</h1>
              <p class="left-side mb_left0">{{welcome_text.analytics}}</p>
              <div class="text-left tab_Flex">
                <button class="button_blue btn-xs bgcolor-unset"
                  (click)="navigateToModule(authenticationService.module.deletedPartner,'/home/dashboard')"
                  [class.disabled]="!authenticationService.user.hasCompany ? true : null" translate><span
                    class="btn btn-primary transition">Analytics</span></button>
                <button type="button" class="button bgcolor-unset btn-xs guides_btn" data-toggle="modal" [disabled]="true"
                  data-target="#myModal" translate><span class="btn Btn-Green transition">Tell me
                    how</span></button>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12 block image-block tab_imgblock"
            *ngIf="welcomePageItems?.analyticsImagePosition=='right'">
            <img src="../../../assets/images/welcome/analytics.svg" alt="" class="dash-img-svg">
          </div>
        </div>
        <div class="divider-border"></div>
      </ng-container>
    </div>
  </div>
  <app-scroll-top></app-scroll-top>
</div>

<!-- Deal Form-->
<section *ngIf="showDealForm">
  <div class="page-content">
    <a (click)="closeDealForm()" class="pull-right close-circle"
      style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
      <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
    <app-add-deal [actionType]="'add'" (notifySubmitSuccess)="showSubmitDealSuccess()"></app-add-deal>
  </div>
</section>

<app-preview-video *ngIf="videoFile" [videoFile]="videoFile" [welcomeVideoFile]="welcomeVideoInfo"
  (notifyParent)="closeModal($event)"></app-preview-video>
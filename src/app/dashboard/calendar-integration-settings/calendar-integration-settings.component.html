<!-- Nav tabs -->
<ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<app-response-message class="pg8" [customResponse]="customResponse" *ngIf="customResponse?.isVisible"></app-response-message>
<div class="scrollbar-x">
  <ul class="nav nav-tabs hideBorder" style="margin-bottom:0px;">
    <li class="active"><a (click)="setActiveTab('home')" data-toggle="tab" href="#home">User Info</a></li>
    <li><a (click)="setActiveTab('menu1')" data-toggle="tab" href="#menu1">Settings</a></li>
    <div class="d-flex justify-content-end">
      <li class="ml_15"><button type="button" class="btn btn-warning" (click)="closeSettings()">Close</button></li>
    </div>
  </ul>
</div>

<div class="tab-content tab-bg">
  <div id="home" class="tab-pane fade in active pt-25 integration-profile">
    <div class="user-profile">
      <div class="profile-image-wrapper-color">
        <img class="profile-image" alt="No image found" src="assets/images/icon-user-default.png">
      </div>
      <div class="pl10 pt10 user-info">
        <h4 class="media-heading"><b>{{calendarDetails?.externalName}}</b></h4>
        <h5>Email: {{calendarDetails?.externalEmailId}}</h5>
      </div>
      <div class="btn-groups active-btns mb_right0" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-primary activate-btn integration-btn"
          *ngIf="!(calendarDetails?.active)" (click)="activateCalendar()">Activate</button>
        <button type="button" class="btn btn-primary inetgrations_activate_bgcolor activated-btn ActivatedBtn"
          *ngIf="calendarDetails?.active"><i class="fa fa-star"
            style="font-size: 15px !important;"></i>Activated</button>
        <button type="button" class="btn btn-secondary unlink-btn disable-btn-text-color deactivate-btn"
          (click)="unlinkCalendar()" [disabled]="!(calendarDetails?.enableUnlink)">Unlink</button>
      </div>
    </div>
  </div>
  <div id="menu1" *ngIf="showSchedulingUrlTab" class="tab-pane fade in active pt-25 integration-profile">
    <div class="form-group">
      <label for="subjectLine">Meeting Scheduling Link</label>
      <input type="text" (input)="validateURL()" [(ngModel)]="calendarDetails.userUri" placeholder="Enter Scheduling Link" class="form-control">
    </div>
    <div class="modal-footer">
      <button type="submit" class="button bgcolor-unset" (click)="submit()" [disabled]="!isValidURL"><span
          class="btn Btn-Green transition txt_pd-top3">Submit</span></button>
    </div>
  </div>
</div>

<style>
.disabled {
	pointer-events: none;
	cursor: default;
}
</style>
<div class="page-content">
	<div class="my-container">
		<ngx-loading [show]="loading"
			[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
	</div>
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li><i class="fa fa-home"></i> <a
				[routerLink]="referenseService.homeRouter">Home</a> <i
				class="fa fa-angle-right"></i></li>
			<li><a>Your Vendors</a></li>
		</ul>
		<button class="btn btn-group green pull-right" style="margin-top: 2px;"
			(click)="openRequestAsVendorModal()">Refer a vendor</button>
	</div>
	<div class="row">
		<div class="col-xs-12">
		<div class="custome-response-css">
		  <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
		</div>
			<div class="page-bar" style="padding: 10px; border: 1px solid #CCC;">
				<div>
					<div>
						<div class="row">
							<div class="col-xs-12 col-sm-4 col-md-4"
								*ngFor="let vendorReport of vendorDetails">
								<a
									class="dashboard-stat dashboard-stat-lighter dashboard-stat blue"
									[class.disabled]="!vendorReport.campaignsCount"
									(click)="navigateToVendorCampaigns(vendorReport)">
									<div class="visual">
										<img style="width: 100px; height: 66px;"
											src="{{vendorReport.companyLogo}}"
											(error)="errorHandler($event)">
										<!-- <i class="fa fa-users"></i> -->
									</div>
									<div class="details">
										<div class="number">{{vendorReport.campaignsCount}}</div>
										<div [title]="vendorReport.companyName" class="desc">
											{{vendorReport.companyName | slice:0:25}}<span
												*ngIf="vendorReport.companyName?.length>25">..</span>
										</div>
									</div> <span id="permhref" class="morePadding"> <a
										class="more"> Detailed view <i
											class="m-icon-swapright m-icon-white"></i>
									</a>
								</span>
								</a>
							</div>
						</div>

						<app-pagination [pagination]="pagination" [type]="'vendorReports'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="onChangeAllVendors($event)"></app-pagination>

					</div>
				</div>
			</div>
		</div>
	</div>
	<app-scroll-top></app-scroll-top>
</div>



<!--Requesting vendor modal-->

<div class="modal fade right" id="requestForVendor" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
	data-keyboard="false">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" (click)="closeInvitationModal()" data-dismiss="modal"> <i class="fa fa-times"></i></a>
				<h4 class="modal-title left" id="myModalLabel">Ask a vendor to join xAmplify</h4>
			</div>
			<div class="modal-body">
			<div *ngIf="isError" class="alert alert-danger alert-dismissible left">
			<a (click)="isError = false" class="close" data-dismiss="alert" aria-label="close"></a>
			Please complete the required fields.
			</div>

			<div class="form-group">
				<label for="exampleInputEmail1">To <span class="text-danger">*</span></label>
				<tag-input [(ngModel)]="emailIds" [ngModelOptions]="{standalone: true}" [inputClass]="form-control" [theme]="'foundation-theme'" 
					(input)="validateVendoorInvitation()" [placeholder]="'johndoe@example.com'" [secondaryPlaceholder]="'johndoe@example.com'" 
					[errorMessages]="errorMessages" [validators]="validators" [onTextChangeDebounce]="40"></tag-input>
				<span id="helpBlock" class="help-block"><b>Note:</b> Enter a vendorâ€™s email address & press Enter</span>
			</div>
				<div class="form-group">
				<label for="subjectLine">Email subject <span class="text-danger">*</span></label>
				<input type="text" id="subjectLine"
					[(ngModel)]="vendoorInvitation.subject" (input)="validateVendoorInvitation()" [ngModelOptions]="{standalone: true}" 
					placeholder="Subject Line" class="form-control" name="subjectLine" maxlength="200" />
				</div>
				<div class="form-group">
					<label for="subjectLine">Message</label>
					<ckeditor name="body" [(ngModel)]="vendoorInvitation.message" [ngModelOptions]="{standalone: true}" (input)="validateVendoorInvitation()"></ckeditor>
				</div>

			</div>

			<div class="modal-footer" style="border: none">
				<button class="btn btn-default" (click)="closeInvitationModal()" data-dismiss="modal">Cancel</button>
				<button type="submit" class="btn green" [disabled]="!isValidVendorInvitation" (click)="sendRequestForVendorEmail()">Send</button>
			</div>
		</div>
	</div>
</div>

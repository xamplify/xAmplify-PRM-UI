<style>
.disabled {
	pointer-events: none;
	cursor: default;
}
</style>
<div class="page-content">
	<div class="my-container">
		<ngx-loading [show]="loading"
			[config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
	</div>
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li><i class="fa fa-home"></i> <a
				[routerLink]="referenseService.homeRouter">Home</a> <i
				class="fa fa-angle-right"></i></li>
			<li><a>Your Vendors</a></li>
		</ul>
		<button class="btn btn-group green pull-right" style="margin-top: 2px; display: none;"
			(click)="openRequestAsVendorModal()">Request For Vendor</button>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<div class="page-bar" style="padding: 10px; border: 1px solid #CCC;">
				<div>
					<div>
						<div class="row">
							<div class="col-xs-12 col-sm-4 col-md-4"
								*ngFor="let vendorReport of vendorDetails">
								<a
									class="dashboard-stat dashboard-stat-lighter dashboard-stat blue"
									[class.disabled]="!vendorReport.campaignsCount"
									(click)="navigateToVendorCampaigns(vendorReport)">
									<div class="visual">
										<img style="width: 100px; height: 66px;"
											src="{{vendorReport.companyLogo}}"
											(error)="errorHandler($event)">
										<!-- <i class="fa fa-users"></i> -->
									</div>
									<div class="details">
										<div class="number">{{vendorReport.campaignsCount}}</div>
										<div [title]="vendorReport.companyName" class="desc">
											{{vendorReport.companyName | slice:0:25}}<span
												*ngIf="vendorReport.companyName?.length>25">..</span>
										</div>
									</div> <span id="permhref" class="morePadding"> <a
										class="more"> Detailed view <i
											class="m-icon-swapright m-icon-white"></i>
									</a>
								</span>
								</a>
							</div>
						</div>

						<app-pagination [pagination]="pagination" [type]="'vendorReports'"
							(notifyParent)="setPage($event)"
							(notifyParentDropDown)="onChangeAllVendors($event)"></app-pagination>

					</div>
				</div>
			</div>
		</div>
	</div>
	<app-scroll-top></app-scroll-top>
</div>


<!--------------Requesting vendor modal----------------->


<div class="modal fade right" id="request-for-vendor" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
	data-keyboard="false">
	<div class="modal-dialog" role="document"
		style="width: 60% !important;">
		<div class="modal-content">
			<div class="modal-header">
				<a class="close-circle" (click)="closeInvitationModal()" data-dismiss="modal"> <i
					class="fa fa-times"></i>
				</a>
				<h4 class="modal-title left" id="myModalLabel">Send a request email
					as vendor in xAmplify:</h4>
			</div>
			<div class="modal-body">
			<div *ngIf="isError" class="alert alert-danger alert-dismissible">
  <a (click)="isError = false" class="close" data-dismiss="alert" aria-label="close">&times;</a>
 Please fill the required fields.
</div>
				<form class="form-horizontal" autocomplete="off">
					<div class="form-group">
						<label class="col-sm-2 labal-css to-align-css p0">To<font
							style="color: red"> <b>*</b>
						</font>
						</label>
						<div class="col-sm-10">
							<tag-input [(ngModel)]="emailIds"
								[ngModelOptions]="{standalone: true}"
								[theme]="'foundation-theme'"
								(input)="validateVendoorInvitation()"
								[placeholder]="'Add a emailId & Enter'"
								[secondaryPlaceholder]="'Add a emailId & Enter'"
								[errorMessages]="errorMessages" [validators]="validators"></tag-input>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 labal-css p0 right">Email subject<font
							style="color: red"> <b>*</b>
						</font>
						</label>
						<div class="col-sm-10">
							<input type="text" id="subjectLine"
								[(ngModel)]="vendoorInvitation.subject"
								(input)="validateVendoorInvitation()"
								[ngModelOptions]="{standalone: true}" placeholder="Subject Line"
								class="form-control border-css" name="subjectLine" maxlength="200" />
						</div>
					</div>
					<div id="ck-editor">
						<div class="col-sm-12">
							<label class="col-sm-2 right" style="cursor: default" for="days" id="reply-message">Message
								<b style="color: red">*</b>
							</label>
						</div>
						<div class="col-sm-12">
							<ckeditor name="body" [(ngModel)]="vendoorInvitation.message"
								[ngModelOptions]="{standalone: true}"
								(input)="validateVendoorInvitation()"
								></ckeditor>
						</div>
					</div>
				</form>
			</div>

			<div class="modal-footer" style="border: none">
				<button class="btn btn-default" (click)="closeInvitationModal()" data-dismiss="modal">Cancel</button>
				<button type="submit" class="btn green" [disabled]="!isValidVendorInvitation"
					(click)="sendRequestForVendorEmail()">send</button>
			</div>
		</div>
	</div>
</div>

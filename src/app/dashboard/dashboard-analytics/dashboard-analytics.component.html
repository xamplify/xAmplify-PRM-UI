<ng-template #onlyUserSandBoxText>
    <div *ngIf="isOnlyUser && !authenticationService?.module?.deletedPartner && !showDealForm && !showLeadForm && !authenticationService?.module?.contentLoader"
        class="page-content">
        <ng-template [ngTemplateOutlet]="sandBoxText"></ng-template>
        <div class="page-bar" style="border-radius: 0;padding: 0.4em;margin-bottom: 10px;">
            <div class="col-xs-12 col-sm-6 p0">
                <h4 class="text-primary f-w-600 m10">{{'Welcome' | translate}} {{logedInCustomerCompanyName}}</h4>
            </div>
        </div>
        <div class="row" *ngIf="!authenticationService?.module?.agencyUserDashboard">
            <div class="clearfix"></div>
            <div class="page-bar portlet light border-radius-0" style="margin: 14px;margin-top: 1px;">
                <div class="alert alert-danger alert-dismissible" style="padding: 12px">
                    <a class="close" data-dismiss="alert" aria-label="close"></a>
                    You have only limit access please upgrade.
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #sandBoxText>
    <div *ngIf="showSandboxText" class="alert alert-info">
        <strong>{{properties?.sandboxText | translate }}</strong>
    </div>
</ng-template>

<ng-template #welcomePageHeader>
    <div class="page-bar" [hidden]="ngxLoading" *ngIf="userDefaultPage.responseType != null"
        style="margin-bottom: 5px;">
        <div class="alert alert-dismissible" role="alert" [ngClass]="{'alert-success': userDefaultPage.responseType == 'SUCCESS',
                'alert-danger': userDefaultPage.responseType == 'ERROR'}">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"
                (click)="userDefaultPage.responseType = null">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="flex">
                <i class="fa" [ngClass]="{'fa-check': userDefaultPage.responseType == 'SUCCESS',
                                'fa-exclamation': userDefaultPage.responseType == 'ERROR'}" aria-hidden="true"
                    style="padding-right: 7px;"></i>
                <span class="msg-color">{{userDefaultPage.responseMessage}}</span>
            </h4>
        </div>
    </div>
    <div class="page-bar p0 mb-height_auto margin_b0" [hidden]="ngxLoading" style="height:48px;">
        <div class="col-md-12 col-xs-12 col-sm-12" style="border-radius: 0;padding: 0.4em;">
            <div
                [ngClass]="userDefaultPage.isCurrentPageDefaultPage || authenticationService.module.isPartnershipEstablishedOnlyWithVendorTier || authenticationService?.module?.deletedPartner ? 'col-lg-6 col-md-4 col-xs-6 col-sm-6':'col-md-5 col-xs-5 col-sm-5'">
                <h4 class="welcome-header text-overflow"><span data-toggle="tooltip" data-placement="bottom"
                        title="{{logedInCustomerCompanyName}}">{{'Welcome' |
                        translate}} {{logedInCustomerCompanyName}}</span></h4>
            </div>
            <div class="col-lg-5 col-md-5 col-xs-5 col-sm-5"
                [hidden]="userDefaultPage.isCurrentPageDefaultPage || authenticationService.module.isPartnershipEstablishedOnlyWithVendorTier || authenticationService?.module?.deletedPartner">
                <div class="df-mt5 dashboardfloatRight">
                    <h4 class="defaultScreenText" style="margin: 0.3em" translate>Do you want to set this as your
                        default screen?</h4>
                    <div>
                        <ui-switch [(ngModel)]="userDefaultPage.isCurrentPageDefaultPage" color="lightgreen"
                            size="small" (change)="setDashboardAsDefaultPage($event)"></ui-switch>
                    </div>
                </div>
            </div>
            <app-team-member-filter-option
                *ngIf="!authenticationService?.module?.isOnlyPartnerCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl
                            && !authenticationService?.module?.isMarketingCompany && !authenticationService?.module?.deletedPartner"
                [filterIcon]="true"
                (teamMemberFilterModalPopUpOptionEventEmitter)="getSelectedIndexFromPopup($event)"></app-team-member-filter-option>
            <app-user-guide-help-button [mergeTag]="mergeTagForGuide"></app-user-guide-help-button>
            <button class="btn btn-primary pull-right btn_custom" aria-hidden="true" data-placement="bottom" data-toggle="tooltip"
                [title]="isDraggingEnabled ? 'Update DashBoard' : 'Customize DashBoard'"
                (click)="isDraggingEnabled ? updateCustomDashBoardLayout() : isDraggingEnabled = true">
                {{ isDraggingEnabled ? 'Update' : 'Customize' }}</button>
            <button class=" btn btn-danger pull-right mr5 btn_custom" aria-hidden="true" data-placement="bottom" data-toggle="tooltip"
                title="Reset" (click)="findCustomDashboardLayout()" *ngIf="isDraggingEnabled">Reset</button>
        </div>
    </div>
</ng-template>

<!--XNFR-458--->
<ng-template #dashBoardImages>
    <app-dashboard-banner-images
        *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"></app-dashboard-banner-images>
</ng-template>

<ng-template #moduleAnalytics>
    <div *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"
        class="page-bar page-bar-shadow margin_17" style="padding: 1em 1em 0 1em;">
        <app-response-message class="pg8" [customResponse]="customResponse" *ngIf="customResponse.isVisible">
        </app-response-message>
        <app-box-loader [countLoader]=4 *ngIf="ngxLoading"></app-box-loader>
        <app-module-analytics *ngIf="!ngxLoading" (notifyShowDealForm)="showDealForm=true"
            (notifyShowLeadForm)="showLeadForm=true" (notifyLeadSuccess)="showSubmitLeadSuccess()"
            [applyFilter]="applyFilter"></app-module-analytics>
    </div>
</ng-template>

<!---XNFR-459--->
<ng-template #newsAndAnnouncement>
    <app-news-and-announcement-and-instant-navigation-dashboard-analytics
        *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"></app-news-and-announcement-and-instant-navigation-dashboard-analytics>
</ng-template>

<ng-template #dashBoardButtons>
    <app-dashboard-buttons-carousel
        *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"></app-dashboard-buttons-carousel>
</ng-template>

<ng-template #opportunityStats>
    <div *ngIf="!authenticationService?.module?.deletedPartner &&(authenticationService?.module?.opportunitiesAccessAsPartner || authenticationService?.module?.hasOpportunityRole) 
        && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"
        class="portlet light margin_17">
        <div class="portlet-title">
            <div class="caption">
                <i class="fa fa-bar-chart" aria-hidden="true"></i>
                <span class="caption-subject" translate>Opportunity Stats</span>
            </div>
        </div>
        <div class="portlet-body clearfix">
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                    <app-funnel-chart-analytics *ngIf="!ngxLoading"
                        [applyFilter]="applyFilter"></app-funnel-chart-analytics>
                </div>
                <!----Opportunity Stats--------->
                <div class=" col-xs-12 col-sm-6 col-md-6 col-lg-6" style="float:right;margin-top: 10px;">
                    <app-pie-chart-analytics *ngIf="!ngxLoading" [applyFilter]="applyFilter"></app-pie-chart-analytics>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #vendorActivityAnalytics>
    <app-vendor-activity-analytics
        *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)"></app-vendor-activity-analytics>
</ng-template>

<ng-template #campaignsGrid>
    <div *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) && authenticationService.module.showCampaignsAnalyticsDivInDashboard"
        class="portlet light margin_17">
        <div class="portlet-title" *ngIf="authenticationService?.module?.createCampaign">
            <h4 class="pull-left m10 f-w-600 text-primary" translate>Campaigns</h4>
            <ng-container *ngIf="!topFourCampaignsLoader.isLoading">
                <a *ngIf="hasCampaignRole || authenticationService.isCompanyPartner || authenticationService.isOrgAdmin()|| authenticationService.isOrgAdminPartner() 
                || authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isMarketingRole()"
                    data-toggle="tooltip" data-placement="bottom" title="Customize campaign report" id="right">
                    <i id="customize-campaign-setting" class="fa fa-cog pull-right" data-toggle="modal"
                        data-target="#customizeCampaignModal" aria-hidden="true"></i>
                </a>
                <a *ngIf="campaigns?.length == 0 &&authenticationService?.module?.createCampaign"
                    [routerLink]="['/home/campaigns/select']" class="btn btn-sm btn-primary pull-right"
                    id="campaign-creation-dashboard">
                    Create Campaign
                </a>
            </ng-container>
        </div>
        <!---Top 4 Campaigns--------->
        <div class="portlet-body clearfix">
            <app-dynamic-grid-loader *ngIf="topFourCampaignsLoader.isLoading" [gridCount]=4></app-dynamic-grid-loader>
            <div style="position: relative; top:-4px;">
                <app-response-message [customResponse]="topFourCampaignErrorResponse"
                    *ngIf="topFourCampaignErrorResponse.isVisible"></app-response-message>
            </div>
            <ng-container *ngIf="!topFourCampaignsLoader?.isLoading">
                <section *ngFor="let campaign of campaigns; let i=index">
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 campaign_card" *ngIf="i<4">
                        <div class="portlet light border-radius-0 campaign-box" (click)="showCampaignDetails(campaign)"
                            style="cursor: pointer">
                            <div class="bookmark-ribbon">
                                <span class="camp_icon_colors" style="margin: 0px -7px; font-size: 17px; color: white;">
                                    <i *ngIf="campaign[7] ==='VIDEO'" data-toggle="tooltip" data-placement="top"
                                        title="Video" class="fa fa-video-camera" aria-hidden="true"></i>
                                    <i *ngIf="campaign[7]==='REGULAR'" data-toggle="tooltip" data-placement="top"
                                        title="Email" class="fa fa-envelope" aria-hidden="true"></i>
                                    <i *ngIf="campaign[7]==='SOCIAL'" data-toggle="tooltip" data-placement="top"
                                        title="Social" class="fa fa-globe" aria-hidden="true"></i>
                                    <i *ngIf="campaign[7]==='EVENT'" data-toggle="tooltip" data-placement="top"
                                        title="Event" class="fa fa-calendar" aria-hidden="true"></i>
                                    <i *ngIf="campaign[7]==='LANDINGPAGE'" data-toggle="tooltip" data-placement="top"
                                        title="Landing Page" class="fa fa-wpforms" aria-hidden="true"></i>
                                    <i *ngIf="campaign[7]==='SURVEY'" data-toggle="tooltip" data-placement="top"
                                        title="Survey" class="fas fa-poll-h" aria-hidden="true"></i>
                                </span>
                            </div>
                            <div class="portlet-title">
                                <div class="caption">
                                    <h3 class="caption-subject camp-title-color" style="margin: 0;"
                                        title="{{campaign[1]}}">
                                        {{campaign[1] | slice: 0: 23}}
                                        <span *ngIf="campaign[1]?.length>23">...</span>
                                    </h3>
                                </div>
                            </div>
                            <div class="portlet-body text-center">
                                <i *ngIf="campaign[2]" data-toggle="tooltip" data-placement="left"
                                    title="Through Campaign" class="fa fa-handshake-o pull-right text-primary"
                                    aria-hidden="true" style="position: absolute; right: 6px;font-size: 22px;"></i>
                                <section class="percentage-circle">
                                    <svg width="120" height="120" viewBox="0 0 120 120"
                                        style="transform: rotate(-90deg)">
                                        <circle cx="60" cy="60" r="54" fill="none" stroke="#e6e6e6" stroke-width="5" />
                                        <circle cx="60" cy="60" r="54" fill="none" stroke="#54a7e9" stroke-width="5"
                                            stroke-dasharray="339.292006588"
                                            [ngStyle]="{'stroke-dashoffset': campaign[5] === 0 ? 339.292006588 : 339.292 * (1 - campaign[4]/campaign[5])}" />
                                    </svg>
                                    <h2 class="percentage-value customePercentageValue">{{campaign[6]}}%
                                    </h2>
                                    <h6 class="percentage-text customePercentagetext">interaction</h6>
                                </section>
                                <h5 class="text-primary" style="margin-top: 3.2em;">Released on
                                    <app-timestamp [dateAndTime]="campaign[3]"> </app-timestamp>
                                </h5>
                            </div>
                        </div>
                    </div>
                </section>
            </ng-container>
        </div>
    </div>
</ng-template>

<ng-template #campaignStatistics>
    <div class="clearfix row margin_17" [ngClass]="{'mr0': authenticationService?.dashboardTypes.indexOf('Dashboard')>-1, '': authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1}">
        <!---Campaign Statistics--->
        <app-campaign-statistics-analytics *ngIf="(authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
            && authenticationService.module.showCampaignsAnalyticsDivInDashboard"></app-campaign-statistics-analytics>

        <!-- ---Email Statistics---------------->
        <div *ngIf="authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 && authenticationService.module.showCampaignsAnalyticsDivInDashboard"
            class="portlet light col-xs-12 col-sm-6">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-bar-chart" aria-hidden="true"></i>
                    <span class="caption-subject" translate>Email Statistics</span>
                </div>
            </div>
            <div class="portlet-body" style="min-height: 300px;  max-height: 100%; max-width: auto;">
                <app-modal-popup-loader [height]=220
                    [hidden]="!emailStatisticsLoader.isLoading"></app-modal-popup-loader>
                <div class="table-responsive" [hidden]="emailStatisticsLoader.isLoading">
                    <table id="trellis" aria-describedby="desc">
                        <tr>
                            <td class="first"></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
                <ng-container *ngIf="!emailStatisticsLoader.isLoading">
                    <div *ngIf="categories?.length < 1" style="max-width: 100%;text-align: center;">
                        <span style="position: absolute;top: 130px;left: 220px;">No data
                            available</span>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #partnerStatistics>
    <div class="clearfix margin_17">
        <ng-container
            *ngIf="!authenticationService?.module?.isPrm && !authenticationService?.module?.isPrmTeamMember && 
    !authenticationService?.module?.isPrmAndPartner && !authenticationService?.module?.isPrmAndPartnerTeamMember && !authenticationService?.module?.isVendorTier && 
    !authenticationService?.module?.isVendorTierTeamMember && !authenticationService?.module?.isVendorTierAndPartner && 
    !authenticationService?.module?.isVendorTierAndPartnerTeamMember && !authenticationService?.module?.isMarketingCompany">
            <app-partners-statistics [applyFilter]="applyFilter"></app-partners-statistics>
            <app-partner-contacts-statistics [applyFilter]="applyFilter"></app-partner-contacts-statistics>
        </ng-container>
        <app-mdf-statistics *ngIf="authenticationService?.mdf" [applyFilter]="applyFilter"></app-mdf-statistics>
    </div>
</ng-template>

<ng-template #redistributedCampaigns>
    <div class="clearfix margin_17"
        *ngIf="!authenticationService?.module?.isPrm && !authenticationService?.module?.isPrmTeamMember && 
    !authenticationService?.module?.isPrmAndPartner && !authenticationService?.module?.isPrmAndPartnerTeamMember && !authenticationService?.module?.isVendorTier && 
    !authenticationService?.module?.isVendorTierTeamMember && !authenticationService?.module?.isVendorTierAndPartner && 
    !authenticationService?.module?.isVendorTierAndPartnerTeamMember && !authenticationService?.module?.isMarketingCompany">
        <app-redistributed-campaigns-wordcloud-map
            [applyFilter]="applyFilter"></app-redistributed-campaigns-wordcloud-map>
    </div>
</ng-template>

<ng-template #regionalStatistics>
    <div class="clearfix row margin_17">
        <!---Regional Statistics--->
        <app-regional-statistics-analytics
            *ngIf="authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 && authenticationService.module.showCampaignsAnalyticsDivInDashboard"></app-regional-statistics-analytics>
        <div>
            <!---Video Statistics--->
            <app-video-statistics-analytics
                *ngIf="authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 && authenticationService.module.showCampaignsAnalyticsDivInDashboard"></app-video-statistics-analytics>

            <!---email Stats--->
            <app-email-stats-analytics
                *ngIf="authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 && authenticationService.module.showCampaignsAnalyticsDivInDashboard"></app-email-stats-analytics>
        </div>
    </div>
</ng-template>

<ng-template #prmMdfStatistics>
    <div class="row pd_top10" *ngIf="(authenticationService?.module?.isPrm || authenticationService?.module?.isPrmTeamMember) 
        && authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1 && 
        (authenticationService?.mdf || authenticationService?.leadsAndDeals)">
        <div class="page-bar portlet light  mmtp" *ngIf="authenticationService?.mdf">
            <app-mdf-statistics [applyFilter]="applyFilter"
                *ngIf="authenticationService?.mdf && !ngxLoading"></app-mdf-statistics>
        </div>
    </div>
</ng-template>

<ng-template #prmContent>
    <app-show-prm-content [hideRowClass]="false"
        *ngIf="(authenticationService?.module?.damAccess || authenticationService?.module?.damAccessAsPartner ||
                    authenticationService?.module?.lmsAccess ||authenticationService?.module?.lmsAccessAsPartner 
                    || authenticationService?.module?.playbookAccess || authenticationService?.module?.playbookAccessAsPartner) 
                    && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
                    || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner) 
                    && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1)">
    </app-show-prm-content>
</ng-template>

<ng-template #prmAssets>
    <app-top-4-assets [isPartnerView]="false" [hideRowClass]="false" (newItemEvent)="setManageDam($event)"
        *ngIf="authenticationService?.module?.damAccess && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-assets>
</ng-template>

<ng-template #prmSharedAssets>
    <app-top-4-assets [isPartnerView]="true" [hideRowClass]="false"
        *ngIf="authenticationService?.module?.damAccessAsPartner && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-assets>
</ng-template>

<ng-template #prmTracks>
    <app-top-4-tracks-and-play-books [isPartnerView]="false" [hideRowClass]="false" [tracks]="true"
        *ngIf="authenticationService?.module?.lmsAccess && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-tracks-and-play-books>
</ng-template>

<ng-template #prmSharedTracks>
    <app-top-4-tracks-and-play-books [isPartnerView]="true" [hideRowClass]="false" [tracks]="true"
        *ngIf="authenticationService?.module?.lmsAccessAsPartner && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-tracks-and-play-books>
</ng-template>

<ng-template #prmPlayBooks>
    <app-top-4-tracks-and-play-books [isPartnerView]="false" [hideRowClass]="false" [tracks]="false"
        *ngIf="authenticationService?.module?.playbookAccess && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-tracks-and-play-books>
</ng-template>

<ng-template #prmSharedPlayBooks>
    <app-top-4-tracks-and-play-books [isPartnerView]="true" [hideRowClass]="false" [tracks]="false"
        *ngIf="authenticationService?.module?.playbookAccessAsPartner && (authenticationService?.dashboardTypes.indexOf('Dashboard')>-1 || authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1) 
        && ((authenticationService?.module?.isPrmCompany && !authenticationService?.module?.loggedInThroughVendorVanityUrl) 
        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)"></app-top-4-tracks-and-play-books>
</ng-template>

<ng-template #leadStatistics>
    <app-leads-statistics
        *ngIf="!ngxLoading && (authenticationService?.module?.isPrm || authenticationService?.module?.isPrmTeamMember) 
            && authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1 && (authenticationService?.leadsAndDeals)"
        [applyFilter]="applyFilter"></app-leads-statistics>
</ng-template>

<ng-template #dealStatistics>
    <app-deals-statistics
        *ngIf="!ngxLoading && (authenticationService?.module?.isPrm || authenticationService?.module?.isPrmTeamMember) 
            && authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1 && (authenticationService?.leadsAndDeals)"
        [applyFilter]="applyFilter"></app-deals-statistics>
</ng-template>

<ng-template #highLevelAnalytics>
    <div class="portlet light" id="hla-adv-dashboard"
        *ngIf=" authenticationService?.dashboardTypes.indexOf('Advanced Dashboard')>-1">
        <div class="portlet-title" style="min-height: 0px;">
            <div class="caption">
                <span class="caption-subject" translate>High Level Analytics</span>
            </div>
            <span data-placement="top" class="btn btn-xs  l-g-view pull-right" data-toggle="tooltip"
                style="margin-top: -7px;" (click)="saveDownloadRequest(false);downloadRequestButtonClicked = true"
                *ngIf="!downloadRequestButtonClicked">
                <i _ngcontent-c17="" aria-hidden="true" class="fa fa-download p10"></i>
            </span>
        </div>
        <div class="portlet-body clearfix">
            <app-response-message class="pg8" [customResponse]="downloadRequestCustomResponse"
                *ngIf="downloadRequestCustomResponse.isVisible">
            </app-response-message>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-5 col-lg-6"
                    *ngIf="!(authenticationService?.module?.isPrm || authenticationService?.module?.isPrmTeamMember || authenticationService?.module?.isPrmAndPartner || authenticationService?.module?.isPrmAndPartnerTeamMember 
                        || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner) ">
                    <app-donut-pie-chart *ngIf="!authenticationService?.module?.isMarketingCompany && !ngxLoading"
                        [applyFilter]="applyFilter"></app-donut-pie-chart>
                    <app-horizontal-bat-chart *ngIf="!ngxLoading"
                        [applyFilter]="applyFilter"></app-horizontal-bat-chart>
                </div>
                <div [className]="(authenticationService?.module?.isPrm || authenticationService?.module?.isPrmTeamMember || authenticationService?.module?.isPrmAndPartner || authenticationService?.module?.isPrmAndPartnerTeamMember 
                    || authenticationService?.partnershipEstablishedOnlyWithPrm || authenticationService?.partnershipEstablishedOnlyWithPrmAndLoggedInAsPartner)?'col-xs-12 col-sm-12 col-md-12 col-lg-12': 'col-xs-12 col-sm-6 col-md-7 col-lg-6' "
                    style="padding-left: 26px;padding-right: 26px;">
                    <app-highlevel-analytics-detail-reports *ngIf="!ngxLoading"
                        [applyFilter]="applyFilter"></app-highlevel-analytics-detail-reports>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #socialAccounts *ngIf="isDashBoardOrAdvanceDashBoard">
    <app-social-accounts-analytics></app-social-accounts-analytics>
</ng-template>

<ng-template [ngTemplateOutlet]="onlyUserSandBoxText"></ng-template>

<div class="page-content"
    *ngIf="!playVideo && !editVideo && ((!showDealForm && !showLeadForm && !isOnlyUser) 
    || (authenticationService?.module?.deletedPartner && isOnlyUser)) && !authenticationService?.module?.agencyUserDashboard">
    <ng-template [ngTemplateOutlet]="sandBoxText"></ng-template>
    <ng-template [ngTemplateOutlet]="welcomePageHeader"></ng-template>
    <div #dragContainer *ngIf="isDraggingEnabled" class="dragula-container" [dragula]="dashBoardAnalytics"
        [(dragulaModel)]="defaultDashboardLayout">
        <ngx-loading [show]="ngxLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div *ngFor="let template of defaultDashboardLayout" [id]="template.name">
            <ng-template [ngTemplateOutlet]="template.ref"></ng-template>
        </div>
    </div>

    <div *ngIf="!isDraggingEnabled">
        <ngx-loading [show]="ngxLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <ng-container *ngFor="let template of defaultDashboardLayout">
            <ng-template [ngTemplateOutlet]="template.ref"></ng-template>
        </ng-container>
    </div>
</div>

<!-- Deal Form-->
<section *ngIf="showDealForm">
    <div class="page-content">
        <a (click)="closeDealForm()" class="pull-right close-circle"
            style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
            <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
        <app-add-deal [actionType]="'add'" (notifySubmitSuccess)="showSubmitDealSuccess()"></app-add-deal>
    </div>
</section>

<!-- Lead Form -->
<ng-container *ngIf="showLeadForm">
    <section>
        <div class="page-content">
            <a (click)="closeLeadForm()" class="pull-right close-circle"
                style="margin: 9px 14px; padding-top: 3px; padding-left: 5px;">
                <span class="glyphicon glyphicon-remove" style="z-index: 1; font-size: 13px; padding-top: 7px;"
                    aria-hidden="true"></span></a>
            <app-custom-add-lead [actionType]="'add'" [isVendorVersion]="false"
                (notifySubmitSuccess)="showSubmitLeadSuccess()"></app-custom-add-lead>
        </div>
    </section>
</ng-container>

<!-- Customize Campaign Modal -->
<div class="modal fade right" id="customizeCampaignModal" tabindex="-1" role="dialog"
    aria-labelledby="customizeCampaignModalLabel">
    <div class="modal-dialog modal-customize" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="userCampaignReport.response = null">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </a>
                <h4 class="modal-title" id="customizeCampaignModalLabel">Customize Campaign Report</h4>
            </div>
            <div class="modal-body">
                <div class="clearfix">
                    <div class="col-xs-12" style="margin-bottom: 10px;" *ngIf="userCampaignReport.response != null">
                        <div class="alert alert-dismissible" role="alert" [ngClass]="{'alert-success': userCampaignReport.response == 'SUCCESS',
                       'alert-danger': userCampaignReport.response == 'ERROR',
                       'alert-warning': userCampaignReport.response == 'WARNING'}">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"
                                (click)="userCampaignReport.response = null">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <h5 class="flex">
                                <i class="fa" [ngClass]="{'fa-check': userCampaignReport.response == 'SUCCESS',
                       'fa-exclamation': userCampaignReport.response == 'ERROR',
                       'fa-exclamation-triangle': userCampaignReport.response == 'WARNING'}" aria-hidden="true"
                                    style="padding-right: 7px;"></i>
                                <span>{{userCampaignReport.responseMessage}}</span>
                            </h5>
                        </div>
                    </div>
                    <div>
                        <div class="col-xs-12 col-sm-4 col-md-4" *ngFor="let item of campaignReportOptions">
                            <label class="form-check-label">
                                <input class="form-check-input radioButton_shadow" type="radio"
                                    name="campaignReportType" [value]="item"
                                    [checked]="item === userCampaignReport.campaignReportOption"
                                    (change)="onSelectionChangeCampaignReportOption(item)"> {{item}}
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-12" *ngIf="userCampaignReport.campaignReportOption == 'CUSTOM'">
                        <hr>
                        <div [hidden]="launchedCampaignsMaster?.length==0">
                            <div style="margin-bottom: 10px;"><span>Select up to 4 campaigns by dragging &
                                    dropping</span></div>
                            <div class="wrapper">
                                <div class="col-xs-6" style="padding: 0 5px 0 0">
                                    <div class="portlet light border-radius-0">
                                        <div class="portlet-title">
                                            <h5>YOUR CAMPAIGNS</h5>
                                        </div>
                                        <div class="portlet-body scrollbar launchedCampaignsMaster"
                                            [dragula]='"bag-items"'>
                                            <div class="gu-block" *ngFor="let item of launchedCampaignsMaster">
                                                <h6 data-placement="bottom" data-toggle="tooltip"
                                                    title="{{item.campaign}}" class="gu-block-content" [id]="item.id">
                                                    {{item.campaign |
                                                    slice:0:19}}<span *ngIf="item.campaign?.length>19">...</span></h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6" style="padding: 0">
                                    <div class="portlet light border-radius-0">
                                        <div class="portlet-title">
                                            <h5>SELECTED CAMPAIGNS
                                                <strong>(MAX 4)</strong>
                                            </h5>
                                        </div>
                                        <div class="portlet-body launchedCampaignsChild" style="min-height: 200px;"
                                            [dragula]='"bag-items"'>
                                            <div class="gu-block" *ngFor="let item of launchedCampaignsChild">
                                                <h6 class="gu-block-content" [id]="item.id">{{item.campaign |
                                                    slice:0:27}}<span *ngIf="item.campaign?.length>27">...</span></h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <span [hidden]="launchedCampaignsMaster.length>0">No campaigns available.</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-primary" (click)="validateUserCampaignReport(userCampaignReport)">Save
                    changes</button>
                <button type="button" class="Btn-Gray" data-dismiss="modal"
                    (click)="userCampaignReport.response = null">Close</button>
            </div>
        </div>
    </div>
</div>

<app-confirm-sweet-alert-util *ngIf="showSweetAlert"
    (notifyComponent)="saveDuplicateDownloadRequest($event)"></app-confirm-sweet-alert-util>

<div class="page-content" *ngIf="editVideo || playVideo">
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li><i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="referenceService.homeRouter" translate>Home</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li>
                <a [routerLink]="referenceService?.selectModuleRouter" translate>Select Module</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li>
                <a (click)="goToDam()" translate>DAM</a>
            </li>
            <li *ngIf="editVideo"><i class="fa fa-angle-right" aria-hidden="true"></i><a translate>Edit Video Asset</a>
            </li>
            <li *ngIf="playVideo"><i class="fa fa-angle-right" aria-hidden="true"></i><a translate>Play Video Asset</a>
            </li>
        </ul>
    </div>
    <app-edit-video *ngIf="editVideo" (notifyParent)="update($event)"></app-edit-video>
    <app-play-video *ngIf="playVideo"></app-play-video>
</div>
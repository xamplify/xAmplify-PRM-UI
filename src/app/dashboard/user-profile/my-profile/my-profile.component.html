<div class="page-content" *ngIf="!hasClientErrors" [class.ml0]="authenticationService.isSuperAdmin()">
    <div class="my-container">
        <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
    <app-topnavbar [hidden]="true" [model]="parentModel"></app-topnavbar>
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li *ngIf="hasCompany && !authenticationService.isSuperAdmin()">
                <i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="referenceService.homeRouter" translate>Home</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li *ngIf="authenticationService.isSuperAdmin()">
                <i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="['/home/dashboard/admin-report']" translate> Admin Report</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
            <li>
                <a translate>User Account</a>
            </li>
        </ul>
        <app-user-guide-help-button [searchForGuides]="searchWithModuleName"></app-user-guide-help-button>
    </div>
    <div>
        <div id="org-admin-info" class="alert alert-info" style="display: none;">
            <a (click)="hideDiv('org-admin-info')" class="close" aria-label="close">x</a>
            <strong>{{infoMessage}} <a routerLink="../../team/add-team" style="color: green;">Click Here</a></strong>
        </div>
        <!-- END PAGE HEADER-->
        <!-- BEGIN PAGE CONTENT-->
        <div class="row" *ngIf="!editXamplifyDefaultTemplate && !editCustomLoginTemplate">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <!-- BEGIN PROFILE SIDEBAR -->
                <div class="profile-sidebar" style="width:250px;" *ngIf="userData && !vendorJourneyEditOrViewAnalytics">
                    <!-- PORTLET MAIN -->
                    <div class="portlet light profile-sidebar-portlet">
                        <div class="profile-image-wrapper-color shadow-inset">
                            <ng-container *ngIf="(circleData | json) != '{}'; else showImage">
                                <img class="profile-image shadow-inset" alt=""
                                    *ngIf="!cropRounded && circleData?.image; else Other" [src]="circleData.image">
                                <ng-template #Other><img alt="" class="profile-image" [src]="userProfileImage"
                                        [width]="circleCropperSettings.croppedWidth"
                                        [height]="circleCropperSettings.croppedHeight" (error)="errorHandler($event)">
                                </ng-template>
                            </ng-container>
                            <ng-template #showImage><img alt="" [src]="userProfileImage" class="profile-image"
                                    [width]="circleCropperSettings.croppedWidth"
                                    [height]="circleCropperSettings.croppedHeight" (error)="errorHandler($event)"
                                    (click)="imageUpload('imageSelect')"></ng-template>
                            <div id="imageSelect" class="upload-btn-wrapper" (click)="fileChangeEvent()">
                                <i class="fa fa-camera" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="profile-usertitle">
                            <div class="profile-usertitle-name" style="overflow: auto">
                                <span style="font-size: 17px !important;" data-toggle="tooltip" data-placement="bottom"
                                    [title]="userData?.displayName">{{userData?.displayName | slice:0:18}}</span>
                                <span *ngIf="userData?.displayName?.length>18">...</span>
                                <h5>{{userData.emailId}}</h5>
                            </div>
                            <div class="profile-usertitle-job">
                                {{userData.occupation}}
                            </div>
                            <div class="profile-usertitle-job">
                                {{roleNames}}
                                <span
                                    *ngIf="(authenticationService?.module?.isAdmin || authenticationService?.module?.isPartnerAdmin) && authenticationService?.module?.isTeamMember">(TEAM
                                    MEMBER)</span>
                            </div>
                            <div *ngIf="authenticationService?.module?.upgradeToMarketing"
                                class="profile-usertitle-job">
                                <button class="btn btn-info" *ngIf="!isUpgradedRequestSubmitted"
                                    (click)="upgrade()">Request To Upgrade Your Account</button>
                                <button disabled class="btn btn-primary" *ngIf="isUpgradedRequestSubmitted">Upgrade
                                    Request Submitted</button>
                            </div>
                        </div>
                        <div class="profile-usermenu">
                            <ul class="nav neumorphismDark">
                                <!--------------Account Details----------------------->
                                <div class="my-profile-header-text neumorphismDark tab_alignments neg_mrg_left1"
                                    [ngClass]="[activeTabName =='personalInfo' ? 'show':'', activeTabName == 'password' ? 'show':'']">
                                    Account Details
                                    <a data-toggle="collapse" style="float: right;"
                                        href="javascript:;#accountDetailsDropdown"
                                        (click)="toggleClass('account-details-icon')">
                                        <i id="account-details-icon" class="fa fa-minus" aria-hidden="true"></i>
                                    </a>
                                </div>
                                <ul id="accountDetailsDropdown" class="nav collapse in">
                                    <!---Personal Info--->
                                    <li [ngClass]="{'active-tab': activeTabName == 'personalInfo'}">
                                        <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'personalInfo'}"
                                            (click)="activateTab('personalInfo');clearCustomResponse()">
                                            {{properties.personalInfo}}
                                            <ng-template [ngTemplateOutlet]="activeIcon"
                                                [ngTemplateOutletContext]="{'moduleName':'personalInfo'}"></ng-template>
                                        </a>
                                    </li>
                                    <!---Password--->
                                    <li [ngClass]="{'active-tab': activeTabName == 'password'}">
                                        <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'password'}"
                                            (click)="activateTab('password');clearCustomResponse()">
                                            {{properties.changePassword}}
                                            <ng-template [ngTemplateOutlet]="activeIcon"
                                                [ngTemplateOutletContext]="{'moduleName':'password'}"></ng-template>
                                        </a>
                                    </li>
                                </ul>
                                <ng-container *ngIf="!isUser">
                                    <!--------------Settings----------------------->
                                    <div class="my-profile-header-text neumorphismDark tab_alignments neg_mrg_left1"
                                        [ngClass]="[activeTabName == 'playerSettings' ? 'show':'', 
                                            activeTabName == 'settings' ? 'show': '',
                                            activeTabName == 'tags' ? 'show':'',
                                            activeTabName == 'customizeleftmenu' ? 'show':'',
                                            activeTabName == 'customskin' ? 'show':'',
                                            activeTabName == properties?.customLoginScreen ? 'show':'']">Settings
                                        <a data-toggle="collapse" style="float: right;"
                                            href="javascript:;#settingsDropdown" (click)="toggleClass('settings-icon')">
                                            <i id="settings-icon" class="fa fa-minus" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <!---Default Player Settings-->
                                    <ul id="settingsDropdown" class="nav collapse in">
                                        <li [ngClass]="{'active-tab': activeTabName == 'playerSettings'}"
                                            [class.disabled]="authenticationService.isSuperAdmin()"
                                            *ngIf="(hasAllAccess || hasVideoRole || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() ||
                                            authenticationService.isVendor() || authenticationService.isVendorPartner()) && 
                                            !authenticationService.isOnlyPartner() && authenticationService.superiorRole != 'Partner' && !authenticationService.module.isPrm && !authenticationService.module.isPrmTeamMember 
                                            &&!authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember"
                                            (click)="videojsCall()">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'playerSettings'}"
                                                (click)="activateTab('playerSettings');">
                                                <span>{{properties.defaultPlayerSettings}}</span>
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'playerSettings'}"></ng-template>
                                            </a>
                                        </li>
                                        <!---View Type-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'settings'}"
                                            [class.disabled]="authenticationService.isSuperAdmin()">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'settings'}"
                                                (click)="activateTab('settings');clearCustomResponse();getSelectedDashboardForPartner();">
                                                {{properties.viewType}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'settings'}"></ng-template>
                                            </a>

                                        </li>
                                        <!---Tags-->
                                        <li *ngIf="authenticationService.lmsAccess || authenticationService?.module?.playbookAccess"
                                            [ngClass]="{'active-tab': activeTabName == 'tags'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'tags'}"
                                                (click)="activateTab('tags');clearCustomResponse()" translate>
                                                {{properties.tags}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'tags'}"></ng-template>
                                            </a>
                                        </li>

                                        <!-- Customize left menu -->
                                        <li [ngClass]="{'active-tab': activeTabName == 'customizeleftmenu'}"
                                            [class.disabled]="authenticationService.isSuperAdmin()"
                                            *ngIf="authenticationService.module.isAnyAdminOrSupervisor">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'customizeleftmenu'}"
                                                (click)="activateTab('customizeleftmenu');clearCustomResponse()">{{properties.customizeleftmenu}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'customizeleftmenu'}"></ng-template>
                                            </a>

                                        </li>
                                        <!---Themes-->
                                        <li *ngIf="customSkinSettingOption &&  roleNames !='Partner' && authenticationService.module.isAnyAdminOrSupervisor"
                                            [ngClass]="{'active-tab': activeTabName == 'customskin'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'customskin'}"
                                                (click)="activateTab('customskin');clearCustomResponse()" translate>
                                                {{properties.customskin}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'customskin'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--XNFR-609-->
                                         <!---Campaign Analytics-->
                                         <li *ngIf="authenticationService?.module?.isCampaign" [ngClass]="{'active-tab': activeTabName == MY_PROFILE_MENU_CONSTANTS?.CAMPAIGN_ANALYTICS_MENU_HEADER}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == MY_PROFILE_MENU_CONSTANTS?.CAMPAIGN_ANALYTICS_MENU_HEADER}"
                                                (click)="activateTab(MY_PROFILE_MENU_CONSTANTS?.CAMPAIGN_ANALYTICS_MENU_HEADER);clearCustomResponse()">
                                                {{MY_PROFILE_MENU_CONSTANTS.CAMPAIGN_ANALYTICS_MENU_HEADER}}
                                                <ng-template [ngTemplateOutlet]="activeIcon" [ngTemplateOutletContext]="{'moduleName':MY_PROFILE_MENU_CONSTANTS?.CAMPAIGN_ANALYTICS_MENU_HEADER}"></ng-template>
                                            </a>
                                        </li>
                                        <!--XNFR-386--->
                                        <!--Custom Login Screen Settings-->
                                        <li [ngClass]="{'active-tab': activeTabName == properties?.customLoginScreen}"
                                            [class.disabled]="authenticationService.isSuperAdmin()"
                                            *ngIf="authenticationService?.vanityURLEnabled && authenticationService.module.isAnyAdminOrSupervisor && roleNames !='Partner'">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == properties?.customLoginScreen}"
                                                (click)="activateTab(properties?.customLoginScreen);clearCustomResponse()"
                                                translate>{{properties?.customLoginScreen}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':properties?.customLoginScreen}"></ng-template>
                                            </a>

                                        </li>
                                    </ul>
                                    <!--------------Lead/Deal Configuration----------------------->
                                    <div class="my-profile-header-text neumorphismDark tab_alignments neg_mrg_left1"
                                        *ngIf="(authenticationService?.leadsAndDeals || authenticationService?.module?.opportunitiesAccessAsPartner) && 
                                            authenticationService?.module?.isAnyAdminOrSupervisor">
                                        Lead/Deal Configuration
                                        <a data-toggle="collapse" style="float: right;"
                                            href="javascript:;#leadAndDealDropdown"
                                            (click)="toggleClass('lead-or-deal-config-icon')">
                                            <i id="lead-or-deal-config-icon" class="fa fa-minus" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <ul id="leadAndDealDropdown" class="nav collapse in">
                                        <!---Deal Registration--->
                                        <li [ngClass]="{'active-tab': activeTabName == 'dealTypes'}"
                                            *ngIf="authenticationService?.leadsAndDeals && authenticationService?.module?.isAnyAdminOrSupervisor">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'dealTypes'}"
                                                (click)="activateTab('dealTypes');clearCustomResponse()">{{properties.dealRegistration}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'dealTypes'}"></ng-template>
                                            </a>
                                        </li>
                                        <ng-container
                                            *ngIf="(authenticationService?.leadsAndDeals || authenticationService?.module?.opportunitiesAccessAsPartner) && authenticationService?.module?.isAnyAdminOrSupervisor">
                                            <!---Lead Pipelines--->
                                            <li [ngClass]="{'active-tab': activeTabName == 'leadPipelines'}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'leadPipelines'}"
                                                    (click)="activateTab('leadPipelines');clearCustomResponse()">
                                                    {{properties.leadPipelines}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'leadPipelines'}"></ng-template>
                                                </a>
                                            </li>
                                            <!---Deal Pipelines--->
                                            <li [ngClass]="{'active-tab': activeTabName == 'dealPipelines'}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'dealPipelines'}"
                                                    (click)="activateTab('dealPipelines');clearCustomResponse()">
                                                    {{properties.dealPipelines}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'dealPipelines'}"></ng-template>
                                                </a>
                                            </li>
                                            <!-- XNFR-426 -->
                                            <li [ngClass]="{'active-tab': activeTabName == 'leadDealApprove'}"
                                                *ngIf="authenticationService?.module?.isAdmin && (!authenticationService?.module?.isMarketingCompany || (!authenticationService?.module?.isMarketing && !authenticationService?.module?.isMarketingTeamMember)) && !authenticationService.isOnlyPartner()">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'leadDealApprove'}"
                                                    (click)="activateTab('leadDealApprove');getLeadApprovalstatus();">
                                                    {{properties.leadDealApprove}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'leadDealApprove'}"></ng-template>
                                                </a>
                                            </li>
                                            <!-- XNFR-592 -->
                                            <li [ngClass]="{'active-tab': activeTabName == 'leadFieldSettings'}"
                                                *ngIf="!authenticationService.isOnlyPartner()">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'leadFieldSettings'}"
                                                    (click)="activateTab('leadFieldSettings')">
                                                    {{properties.leadFieldSettings}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'leadFieldSettings'}"></ng-template>
                                                </a>
                                            </li>
                                        </ng-container>
                                    </ul>
                                    <!--------------Developers----------------------->
                                    <div class="my-profile-header-text neumorphismDark tab_alignments neg_mrg_left1"
                                        [ngClass]="[activeTabName == 'spf' ? 'show':'',
                                        activeTabName == 'gdpr' ? 'show':'',
                                        activeTabName == 'integrations' ? 'show':'',
                                        activeTabName == 'samlSettings' ? 'show':'',
                                        activeTabName == 'support' ? 'show':'']">
                                        Developers
                                        <a data-toggle="collapse" style="float: right;"
                                            href="javascript:;#developersDropdown"
                                            (click)="toggleClass('developers-icon')">
                                            <i id="developers-icon" class="fa fa-minus" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <ul id="developersDropdown" class="nav collapse in">
                                        <!--SPF Configuration-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'spf'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'spf'}"
                                                (click)="activateTab('spf');clearCustomResponse()">{{properties.spf}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'spf'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--GDPR Settings-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'gdpr'}"
                                            *ngIf="(authenticationService.isOrgAdmin() || 
                                            authenticationService.isOrgAdminPartner() || authenticationService.isVendor() || authenticationService.isVendorPartner() || 
                                            authenticationService.isOnlyPartner() || roleNames=='Partner') || authenticationService.module.isPrm || authenticationService.module.isPrmTeamMember 
                                            || authenticationService.module.isPrmAndPartner || authenticationService.module.isPrmAndPartnerTeamMember">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'gdpr'}"
                                                (click)="activateTab('gdpr');clearCustomResponse()">{{properties.gdprSettings}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'gdpr'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--Integrations-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'integrations'}" *ngIf="hasAllAccess || hasVideoRole || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() ||
                                                authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() ||
                                                authenticationService.superiorRole != 'Partner'">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'integrations'}"
                                                (click)="activateTab('integrations');clearCustomResponse()">
                                                {{properties.integrations}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'integrations'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--Saml Settings-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'samlSettings'}"
                                            *ngIf="authenticationService?.module?.allBoundSamlSettings && authenticationService.checkSamlSettingsUserRoles()">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'samlSettings'}"
                                                (click)="activateTab('samlSettings');clearCustomResponse()">{{properties.samlSettings}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'samlSettings'}"></ng-template>
                                            </a>
                                        </li>

                                        <!-- Saml 2.0 SSO Settings-->
                                        <!-- <li [ngClass]="{'active-tab': activeTabName == 'saml2SSOsettings'}"
                                            *ngIf="authenticationService?.module?.loggedInThroughOwnVanityUrl && !authenticationService?.module?.isMarketing">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'saml2SSOsettings'}"
                                                (click)="activateTab('saml2SSOsettings');clearCustomResponse()">{{properties.saml2SSOsettings}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'saml2SSOsettings'}"></ng-template>
                                            </a>
                                        </li> -->

                                        <!-- Oauth SSO Settings-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'oauthSSOConfiguration'}"
                                            *ngIf="authenticationService?.module?.loggedInThroughOwnVanityUrl && !authenticationService?.module?.isMarketing && authenticationService?.module?.ssoEnabled">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'oauthSSOConfiguration'}"
                                                (click)="activateTab('oauthSSOConfiguration');clearCustomResponse()">{{properties.oauthSSOConfiguration}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'oauthSSOConfiguration'}"></ng-template>
                                            </a>
                                        </li>

                                        <!--Support-->
                                        <li *ngIf="authenticationService?.vanityURLEnabled && authenticationService?.module?.showSupportSettingOption && !isLoggedInAsPartner"
                                            [ngClass]="{'active-tab': activeTabName == 'support'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'support'}"
                                                (click)="activateTab('support');clearCustomResponse()">{{properties.supportText}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'support'}"></ng-template>
                                            </a>
                                        </li>
                                    </ul>
                                    <!--------------Admin----------------------->
                                    <div class="my-profile-header-text neumorphismDark admin_tab_alignment neg_mrg_left1"
                                        [ngClass]="[activeTabName == properties?.dashboardButtons ? 'show':'',
                                            activeTabName == properties?.newsAndAnnouncements ? 'show':'',
                                            activeTabName == properties?.dashboardBanners ? 'show':'',
                                            activeTabName == 'templates' ? 'show':'',
                                            activeTabName == 'unsubscribeReasons' ? 'show':'',
                                            activeTabName == 'exclude' ? 'show':'',
                                            activeTabName == 'vendorJourney' ? 'show':'',
                                            activeTabName == 'landingPages' ? 'show':'',
                                            activeTabName == 'masterLandingPages' ? 'show':'',
                                            activeTabName == 'categories' ? 'show':'',
                                            activeTabName == 'team-group' ? 'show':'',
                                            activeTabName == properties?.emailNotificationSettings ? 'show':'',
                                            activeTabName == properties?.addDomainsText ? 'show':'',
                                            activeTabName == 'masterLandingPageCategories' ? 'show':'']">
                                        Admin
                                        <a data-toggle="collapse" style="float: right;"
                                            href="javascript:;#adminDropdown" (click)="toggleClass('admin-icon')">
                                            <i id="admin-icon" class="fa fa-minus" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <ul id="adminDropdown" class="nav collapse in">
                                        <ng-container
                                            *ngIf="authenticationService.vanityURLEnabled && authenticationService?.module?.isAnyAdminOrSupervisor && authenticationService.module.loggedInThroughOwnVanityUrl">
                                            <!--Dashboard Buttons-->
                                            <li [ngClass]="{'active': activeTabName == properties?.dashboardButtons}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName ==  properties?.dashboardButtons}"
                                                    (click)="activateTab(properties?.dashboardButtons);clearCustomResponse()">{{properties.dashboardButtons}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':properties?.dashboardButtons}"></ng-template>
                                                </a>
                                            </li>
                                            <!--XNFR-459-->
                                            <!--News & Announcements -->
                                            <li
                                                [ngClass]="{'active': activeTabName == properties?.newsAndAnnouncements}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == properties?.newsAndAnnouncements}"
                                                    (click)="activateTab(properties?.newsAndAnnouncements);clearCustomResponse()">{{properties?.newsAndAnnouncements}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':properties?.newsAndAnnouncements}"></ng-template>
                                                </a>
                                            </li>
                                            <!--Dashboard Banners-->
                                            <li [ngClass]="{'active': activeTabName == properties?.dashboardBanners}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == properties?.dashboardBanners}"
                                                    (click)="activateTab(properties?.dashboardBanners);clearCustomResponse()">{{properties?.dashboardBanners}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':properties?.dashboardBanners}"></ng-template>
                                                </a>
                                            </li>
                                        </ng-container>
                                        <!--XNFR-459-->
                                        <!--Your Templates-->
                                        <li *ngIf="authenticationService.vanityURLEnabled && authenticationService?.module?.isAnyAdminOrSupervisor"
                                            [ngClass]="{'active': activeTabName == 'templates'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'templates'}"
                                                (click)="activateTab('templates');clearCustomResponse()">
                                                Your Templates
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'templates'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--Unsubscribe Reasons-->
                                        <li *ngIf="authenticationService?.module?.isAnyAdminOrSupervisor"
                                            [ngClass]="{'active-tab': activeTabName == 'unsubscribeReasons'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'unsubscribeReasons'}"
                                                (click)="activateTab('unsubscribeReasons');clearCustomResponse()">{{properties.unsubscribeReasons}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'unsubscribeReasons'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--Exclusion-->
                                        <ng-container
                                            *ngIf="excludeUsersOrDomains && (authenticationService?.module?.adminOrSuperVisor || authenticationService?.isPartner())">
                                            <li [ngClass]="{'active-tab': activeTabName == 'exclude'}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'exclude'}"
                                                    (click)="activateTab('exclude');clearCustomResponse()">
                                                    {{properties.exclude}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'exclude'}"></ng-template>
                                                </a>
                                            </li>
                                        </ng-container>
                                        <!--Vendor Journey-->
                                        <ng-container>
                                            <ng-container
                                                *ngIf="vendorJourneyAccess  && ((authenticationService?.isVendorTeamMember || authenticationService?.isOrgAdminTeamMember) && authenticationService?.module?.adminOrSuperVisor || authenticationService?.module?.isVendor|| authenticationService?.isOrgAdmin())">
                                                <li [ngClass]="{'active-tab': activeTabName == 'vendorJourney'}">
                                                    <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'vendorJourney'}"
                                                        (click)="activateTab('vendorJourney');clearCustomResponse()">
                                                        {{properties.vendorJourney}}
                                                        <ng-template [ngTemplateOutlet]="activeIcon"
                                                            [ngTemplateOutletContext]="{'moduleName':'vendorJourney'}"></ng-template>
                                                    </a>
                                                </li>
                                            </ng-container>
                                            <!--Landing Pages-->
                                            <ng-container
                                                *ngIf="masterLandingPageOrVendorPages && (authenticationService?.isPartner() || (authenticationService?.module?.isTeamMember && authenticationService?.module?.vendorPagesEnabled)  || authenticationService?.module?.adminOrSuperVisor)">
                                                <li [ngClass]="{'active-tab': activeTabName == 'landingPages'}">
                                                    <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'landingPages'}"
                                                        (click)="activateTab('landingPages');clearCustomResponse()">
                                                        {{properties.landingPages}}
                                                        <ng-template [ngTemplateOutlet]="activeIcon"
                                                            [ngTemplateOutletContext]="{'moduleName':'landingPages'}"></ng-template>
                                                    </a>
                                                </li>
                                            </ng-container>

                                            <!--Master Landing Pages-->
                                            <ng-container
                                                *ngIf="masterLandingPageOrVendorPages && (authenticationService?.isPartner() || (authenticationService?.module?.isTeamMember && authenticationService?.module?.vendorPagesEnabled)|| authenticationService?.module?.adminOrSuperVisor)">
                                                <li [ngClass]="{'active-tab': activeTabName == 'masterLandingPages'}">
                                                    <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'masterLandingPages'}"
                                                        (click)="activateTab('masterLandingPages');clearCustomResponse()">
                                                        {{properties.masterLandingPages}}
                                                        <ng-template [ngTemplateOutlet]="activeIcon"
                                                            [ngTemplateOutletContext]="{'moduleName':'masterLandingPages'}"></ng-template>
                                                    </a>
                                                </li>
                                            </ng-container>
                                        </ng-container>
                                        <!--Folders-->
                                        <li *ngIf="authenticationService.folders"
                                            [ngClass]="{'active-tab': activeTabName == 'categories'}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'categories'}"
                                                (click)="activateTab('categories');clearCustomResponse()">{{properties.folders}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'categories'}"></ng-template>
                                            </a>
                                        </li>
                                        <!--Team Member Groups-->
                                        <li [ngClass]="{'active-tab': activeTabName == 'team-group'}"
                                            *ngIf="authenticationService?.user?.hasCompany &&  authenticationService?.module?.isAnyAdminOrSupervisor">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'team-group'}"
                                                (click)="activateTab('team-group');clearCustomResponse()">{{properties.teamMemberGroups}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':'team-group'}"></ng-template>
                                            </a>
                                        </li>
                                        <!---XNFR-326---->
                                        <!--Email Notification Settings-->
                                        <li *ngIf="authenticationService.user.hasCompany && authenticationService?.module?.emailNotificationSettings"
                                            [ngClass]="{'active-tab': activeTabName == properties?.emailNotificationSettings}">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == properties?.emailNotificationSettings}"
                                                (click)="activateTab(properties?.emailNotificationSettings);clearCustomResponse()">{{properties?.emailNotificationSettings}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':properties?.emailNotificationSettings}"></ng-template>
                                            </a>
                                        </li>
                                        <!--  Adding masterLandingPageCategories  -->
                                        <ng-container
                                            *ngIf="masterLandingPageOrVendorPages && (authenticationService?.isPartner() || (authenticationService?.module?.isTeamMember && authenticationService?.module?.vendorPagesEnabled)|| authenticationService?.module?.adminOrSuperVisor)">
                                            <li [ngClass]="{'active-tab': activeTabName == 'masterLandingPageCategories'}">
                                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'masterLandingPageCategories'}"
                                                    (click)="activateTab('masterLandingPageCategories');clearCustomResponse()">
                                                    {{properties.masterLandingPageCategories}}
                                                    <ng-template [ngTemplateOutlet]="activeIcon"
                                                        [ngTemplateOutletContext]="{'moduleName':'masterLandingPageCategories'}"></ng-template>
                                                </a>
                                            </li>
                                        </ng-container>
                                        <!-- Adding masterLandingPageCategories  end -->
                                        <!--Adding Domains XNFR-454-->
                                        <li *ngIf="authenticationService?.module?.isAnyAdminOrSupervisor"
                                            [ngClass]="{'active-tab': activeTabName == properties?.addDomainsText}"
                                            style="border-bottom: none !important;">
                                            <a [ngClass]="{'active-tab-anchor-text': activeTabName == properties?.addDomainsText}"
                                                (click)="activateTab(properties?.addDomainsText);clearCustomResponse()">{{properties?.addDomainsText}}
                                                <ng-template [ngTemplateOutlet]="activeIcon"
                                                    [ngTemplateOutletContext]="{'moduleName':properties?.addDomainsText}"></ng-template>
                                            </a>
                                        </li>
                                    </ul>
                                </ng-container>
                            </ul>
                        </div>
                        <!-- END MENU -->
                    </div>
                    <!-- END PORTLET MAIN -->
                </div>
                <div class="profile-content card-shadow">
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            <div class="box-shadow-unset portlet light"
                                [ngClass]="activeTabName == 'lightTheme'?'padding-bottomonly':''">
                                <div class="portlet-title tabbable-line" *ngIf="!vendorJourneyEditOrViewAnalytics">
                                    <div class="caption caption-md col-xs-12">
                                        <i class="icon-globe theme-font hide" aria-hidden="true"></i>
                                        <span class="caption-subject font-blue-madison bold" *ngIf="activeTabName=='notifyPartners'">{{authenticationService?.partnerModule?.customName}} Invitation</span>
                                        <span class="caption-subject font-blue-madison bold" *ngIf="activeTabName!='notifyPartners'">{{activeTabHeader}}</span>
                                        <div class="btn-toolbar" style="float: right;" *ngIf="activeTabName == 'customTheme'|| activeTabName == 'lightTheme'
                                        || activeTabName == 'DarkTheme' || activeTabName == 'neumorphismDark'|| activeTabName == 'neumorphismLight'">
                                            <div class="btn-group" style="padding-top: 7px;">
                                                <button class="button_blue padding align bgcolor-unset" style="border-radius: 3px;"
                                                    *ngIf="activeTabName == 'lightTheme' && themeDto?.id != activeThemeDetails?.themeId" (click)="activateThemeForCompanyWithAlert(themeDto.id)">
                                                <span class="btn btn-primary transition text_pd-top1">Activate Theme</span></button>
                                            </div>
                                            <a class="close-circle xamp-margin-left-icon" (click)="closeTheme()" aria-hidden="true">
                                                <i class="fa fa-times" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="portlet body" *ngIf="activeTabName == 'customskin' ">
                                    <app-response-message class="pg8" [customResponse]="themeResponse" *ngIf="themeResponse.isVisible"></app-response-message>
                                    {{properties?.customThemeDescription}}
                                    <br><br>
                                    <div class="div thembgc">
                                        <div class="row">
                                            <div class="themePaddings col-lg-6 col-md-6 col-sm-6"  *ngFor="let dto of defaultThemes">
                                                <div>
                                                    <div class="img_padding">
                                                        <div class="lightTheme">
                                                            <img alt="" class="img-custome" src="{{getThemeImage(dto?.name)}}">
                                                        </div>
                                                    </div>
                                                    <div class="card-bg topcard-padding">
                                                        <div class="card-body centerAlignProperty">
                                                            <span class="label label-info  selectcolor"
                                                                *ngIf="dto?.id === activeThemeDetails?.themeId">Active</span>
                                                            <br>
                                                            <h5 class="card-title themefont"
                                                                *ngIf="dto.name === 'Neumorphism Dark(Beta)'">
                                                                Neumorphism Dark</h5>
                                                            <h5 class="card-title themefont"
                                                                *ngIf="dto.name === 'Neumorphism Light'">Neumorphism
                                                                Light</h5>
                                                            <h5 class="card-title themefont"
                                                                *ngIf="dto.name != 'Neumorphism Dark(Beta)' && dto.name != 'Neumorphism Light'">
                                                                {{dto?.name}}</h5>
                                                            <td
                                                                class="mAlignView responsive-alignment centerAlignPropertyIcon">
                                                                <div
                                                                    class="actions-block override-actions ActionAlign mb_whitespace">
                                                                    <div
                                                                        class="mActionAlign ActionButtonPad iconmobile-align">
                                                                        <a class="mMobileDisable custom-icon"
                                                                            data-toggle="tooltip"
                                                                            data-placement="bottom" title="View"
                                                                            (click)="viewTheme();showDto(dto);"><i
                                                                                aria-hidden="true"
                                                                                class="fa fa-eye mDisableColor IconCustomization"></i>
                                                                            <div class="clickicons"></div>
                                                                        </a>
                                                                        <a class="custom-icon" data-toggle="tooltip"
                                                                            data-placement="bottom" title="Activate"
                                                                            (click)="activateThemeForCompanyWithAlert(dto.id)"
                                                                            *ngIf="dto?.id != activeThemeDetails?.themeId"><i
                                                                                _ngcontent-c69="" aria-hidden="true"
                                                                                class="fa fa-power-off IconCustomization"></i>
                                                                            <div class="clickicons"></div>
                                                                        </a>
                                                                        <a data-toggle="tooltip" data-placement="bottom"
                                                                            class="mMobileDisable custom-icon"
                                                                            title="Copy"
                                                                            (click)="goToCustomThemes();showDto(dto);saveTheme();"><i
                                                                                aria-hidden="true"
                                                                                class="fa fa-files-o mDisableColor IconCustomization"></i>
                                                                            <div class="clickicons"></div>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row div table-color" *ngIf="activeTabName == 'customskin' ">
                                    <table class="table tgrid table-responsive table-hover" id="manage-assets-table">
                                        <thead class="table-bgcolor">
                                            <tr>
                                                <th class="text-center">Custom Themes</th>
                                                <th class="text-center">Theme Name</th>
                                                <th class="text-center">Created On</th>
                                                <th class="text-center">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let dto of themeDtoList" id="themeListDiv_{{dto.id}}">
                                                <td> <img src="{{dto?.themeImagePath}}" alt=""
                                                        class="img-customization"> </td>
                                                <td class="text-center"><span [title]="dto.name" data-toggle="tooltip"
                                                        data-placement="bottom">{{dto.name | slice:0:18 }}</span>
                                                    <span *ngIf="dto.name?.length>18">...</span>
                                                    <br>
                                                    <h6 _ngcontent-c26=""
                                                        class="label label-info  selectcolor active-color"
                                                        *ngIf="dto?.id == activeThemeDetails?.themeId">Active</h6>
                                                </td>
                                                <td class="text-center">
                                                    <app-timestamp [dateAndTime]="dto.createdDate">
                                                    </app-timestamp>
                                                </td>
                                                <td class="mAlignView">
                                                    <div
                                                        class="actions-block override-actions ActionAlign mb_whitespace">
                                                        <div
                                                            class="mActionAlign ActionButtonPad iconmobile-align tableIconWidth">
                                                            <a class="mMobileDisable custom-icon" data-toggle="tooltip"
                                                                data-placement="bottom" title="Edit"
                                                                (click)="goToCustomThemes();showDto(dto);updateTheme();"><i
                                                                    aria-hidden="true"
                                                                    class="fa fa-edit mDisableColor IconCustomization"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon" data-toggle="tooltip"
                                                                data-placement="bottom" title="Activate"
                                                                (click)="activateThemeForCompanyWithAlert(dto.id)"
                                                                *ngIf="dto?.id != activeThemeDetails?.themeId"><i
                                                                    _ngcontent-c69="" aria-hidden="true"
                                                                    class="fa fa-power-off IconCustomization"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="mMobileDisable custom-icon" data-toggle="tooltip"
                                                                data-placement="bottom" title="Copy"
                                                                (click)="goToCustomThemes();showDto(dto);saveTheme();"><i
                                                                    aria-hidden="true"
                                                                    class="fa fa-files-o mDisableColor IconCustomization"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon" data-toggle="tooltip"
                                                                data-placement="bottom" title="Delete"
                                                                (click)="deleteByThemeIdWithAlert(dto.id)"
                                                                *ngIf="dto?.id != activeThemeDetails?.themeId"> <i
                                                                    _ngcontent-c69="" aria-hidden="true"
                                                                    class="fa fa-trash-o trashIconCustomization"></i>
                                                                <div class="del-icon"></div>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <div *ngIf="themeDtoList?.length<1" style="max-width: 100%;text-align: center;">
                                        <div class="alert alert-info">
                                            <strong>No Theme(s) Found</strong>
                                        </div>
                                    </div>
                                </div>
                                <div class="portlet-body clearfix">
                                    <app-response-message class="pg8" [customResponse]="customResponse"
                                        *ngIf="customResponse.isVisible">
                                    </app-response-message>
                                    <div class="tab-content">
                                        <!---Personal Info-->
                                        <div class="tab-pane row"
                                            [ngClass]="{'active': activeTabName == 'personalInfo'}">
                                            <form role="form" [formGroup]="updateUserProfileForm"
                                                (ngSubmit)="updateUserProfile()" aria-labelledby="personal-info-form">
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>First Name</label>
                                                        <span class="mb-star star"> *</span>
                                                        <input type="text" #first (keyup)="firstNameValue(first.value)"
                                                            placeholder="First Name" class="form-control"
                                                            formControlName="firstName" required />
                                                        <div *ngIf="formErrors.firstName" class="alert alert-danger">
                                                            {{ formErrors.firstName }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Middle Name</label>
                                                        <input type="text" placeholder="Middle Name"
                                                            class="form-control" formControlName="middleName"
                                                            maxlength="50">
                                                        <div *ngIf="formErrors.middleName" class="alert alert-danger">
                                                            {{ formErrors.middleName }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Last Name</label>
                                                        <input type="text" placeholder="Last Name" class="form-control"
                                                            formControlName="lastName" maxlength="50">
                                                        <div *ngIf="formErrors.lastName" class="alert alert-danger">
                                                            {{ formErrors.lastName }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Mobile Number</label>
                                                        <input type="text" maxlength="20" class="form-control"
                                                            [(ngModel)]="userData.mobileNumber"
                                                            [ngModelOptions]="{standalone: true}">
                                                        <div *ngIf="formErrors.mobileNumber" class="alert alert-danger">
                                                            {{ formErrors.mobileNumber }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Interests</label>
                                                        <input type="text" placeholder="Interests" class="form-control"
                                                            formControlName="interests" />
                                                        <div *ngIf="formErrors.interests" class="alert alert-danger">
                                                            {{ formErrors.interests }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Job Title</label>
                                                        <input type="text" #occ (keyup)="occupationValue(occ.value)"
                                                            placeholder="Job Title" class="form-control"
                                                            formControlName="occupation" />
                                                        <div *ngIf="formErrors.occupation" class="alert alert-danger">
                                                            {{ formErrors.occupation }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>About</label>
                                                        <textarea class="form-control" rows="3" placeholder="About You"
                                                            formControlName="description"
                                                            style="resize: none;"></textarea>
                                                        <div *ngIf="formErrors.description" class="alert alert-danger">
                                                            {{ formErrors.description }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Select Preferred
                                                            Language</label>
                                                        <select formControlName="preferredLanguage"
                                                            class="form-control depth-shadow">
                                                            <option [ngValue]="undefined" disabled selected> Select
                                                                Preferred Language </option>
                                                            <option [ngValue]="language.id"
                                                                *ngFor="let language of authenticationService.allLanguagesList">
                                                                {{language.name}}</option>
                                                        </select>
                                                        <div *ngIf="formErrors.preferredLanguage"
                                                            class="alert alert-danger">
                                                            {{ formErrors.preferredLanguage }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Website Url</label>
                                                        <input type="url" placeholder="WebSite Url" class="form-control"
                                                            formControlName="websiteUrl" />
                                                        <div *ngIf="formErrors.websiteUrl" class="alert alert-danger">
                                                            {{ formErrors.websiteUrl }}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
                                                    style="padding: left 18px;">
                                                    <button type="submit"
                                                        [disabled]="!updateUserProfileForm.valid || authenticationService.isSuperAdmin()"
                                                        class="button bgcolor-unset pd_lft2" translate>
                                                        <span class="btn Btn-Green transition txt_pd-top3">Save
                                                            Changes</span>
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                        <!---Deal Types-->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'dealTypes'}">
                                            <app-response-message [customResponse]="customResponseForm"
                                                *ngIf="customResponseForm.isVisible"></app-response-message>
                                            <form role="form" aria-labelledby="form-label">
                                                <div class="col-xs-12" *ngIf="false">
                                                    <div *ngFor="let question of defaultQuestions;let i=index">
                                                        <div class="form-group" *ngIf="i <=8 " class="col-xs-6"
                                                            style="padding: 10px">
                                                            <input type="text" placeholder="question"
                                                                class="form-control" value="{{question}}"
                                                                [disabled]="true" />
                                                        </div>
                                                        <div class="form-group" *ngIf="i>8" class="col-xs-6"
                                                            style="padding: 10px">
                                                            <input type="text" placeholder="question"
                                                                class="form-control" value="{{question}}"
                                                                [disabled]="true" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12">
                                                    <div class="form-group">
                                                        <a class="dashboard-stat "
                                                            style="padding: 9px 0;margin-top: 10px"
                                                            (click)="addQuestion()" *ngIf="questions.length==0">
                                                            <i class="fa fa-plus-square p0" aria-hidden="true"
                                                                style="margin: 0 5px;"></i> Add your questions
                                                        </a>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                                    <div *ngFor="let question of questions;let i=index">
                                                        <div class="portlet light dashboard-stat2">
                                                            <div class="portlet-title custom-change-css"
                                                                style="border-bottom: 0px">
                                                                <div class="col-lg-10 col-md-8 col-sm-6 col-xs-8">
                                                                    <div class="portlet-title custom-change-css"
                                                                        style="border-bottom: 0px">
                                                                        <form id="form-{{question.divId}}">
                                                                            <div class="col-xs-10" style="padding:0">
                                                                                <div class="form-group"
                                                                                    [attr.class]="question.class">
                                                                                    <label
                                                                                        class="control-label">Question
                                                                                        <span>
                                                                                            <strong
                                                                                                class="required">*</strong>
                                                                                        </span>
                                                                                    </label>
                                                                                    <input type="text" maxlength="300"
                                                                                        placeholder="Question"
                                                                                        class="form-control"
                                                                                        [(ngModel)]=" question.question"
                                                                                        [ngModelOptions]="{standalone: true}"
                                                                                        id="question_{{i}}"
                                                                                        (input)="validateQuestion(question)" />
                                                                                </div>

                                                                            </div>
                                                                        </form>

                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-4">
                                                                    <div class="pull-right mb-flex" id="question-icons">
                                                                        <button type="button"
                                                                            class="btn-danger button-blue btn_add mr_4 spaceTopBottom"
                                                                            (click)="removeQuestion(i+1,question)">
                                                                            <span data-toggle="tooltip"
                                                                                data-placement="top" title="Delete"
                                                                                class="glyphicon glyphicon-trash"></span>
                                                                        </button>
                                                                        <button type="button"
                                                                            class="btn-primary button-blue btn_add spaceTopBottom"
                                                                            (click)="addQuestion()"
                                                                            *ngIf="questions.length== i+1">
                                                                            <span data-toggle="tooltip"
                                                                                data-placement="top" title="Add"
                                                                                class="glyphicon glyphicon-plus"></span>
                                                                        </button>

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <button [disabled]="!formSubmiteState" class="button bgcolor-unset"
                                                    (click)="saveForm()"><span
                                                        class="btn Btn-Green transition txt_pd-top3">{{submitButtonText}}</span></button>

                                            </form>
                                            <form role="form" aria-label="">
                                                <div class="col-xs-12">
                                                    <div class="form-group">
                                                        <a class="dashboard-stat "
                                                            style="padding: 9px 0;margin-top: 10px"
                                                            (click)="addDealtype()" *ngIf="dealtypes.length== 0">
                                                            <i class="fa fa-plus-square p0" style="margin: 0 5px;"
                                                                aria-hidden="true"></i> Add Deal Types
                                                        </a>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                                    <div *ngFor="let dealType of dealtypes;let i=index">
                                                        <div class="portlet light dashboard-stat2">
                                                            <div class="portlet-title custom-change-css"
                                                                style="border-bottom: 0px">
                                                                <div class="col-lg-10 col-md-8 col-sm-6 col-xs-8">
                                                                    <div class="portlet-title custom-change-css"
                                                                        style="border-bottom: 0px">
                                                                        <form id="form-{{dealType.divId}}">
                                                                            <div class="col-xs-10" style="padding:0">
                                                                                <div class="form-group"
                                                                                    [attr.class]="dealType.class">
                                                                                    <label class="control-label"
                                                                                        translate>DealType
                                                                                        <span>
                                                                                            <strong
                                                                                                class="required">*</strong>
                                                                                        </span>
                                                                                    </label>
                                                                                    <input type="text" maxlength="300"
                                                                                        class="form-control"
                                                                                        [(ngModel)]=" dealType.dealType"
                                                                                        [ngModelOptions]="{standalone: true}"
                                                                                        id="dealType_{{i}}"
                                                                                        (input)="validateDealType(dealType)" />
                                                                                </div>

                                                                            </div>
                                                                        </form>

                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-4">
                                                                    <div class="pull-right mb-flex" id="question-icons">
                                                                        <button type="button"
                                                                            class="btn-danger button-blue btn_add mr_4 spaceTopBottom"
                                                                            (click)="deleteDealType(i+1,dealType)">
                                                                            <span data-toggle="tooltip"
                                                                                data-placement="top" title="Delete"
                                                                                class="glyphicon glyphicon-trash"></span>
                                                                        </button>
                                                                        <button type="button"
                                                                            class="btn-primary button-blue btn_add spaceTopBottom"
                                                                            (click)="addDealtype()"
                                                                            *ngIf="dealtypes.length== i+1">
                                                                            <span data-toggle="tooltip"
                                                                                data-placement="top" title="Add"
                                                                                class="glyphicon glyphicon-plus"></span>
                                                                        </button>

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <button [disabled]="!dealSubmiteState || this.dealtypes.length == 0"
                                                    class="button bgcolor-unset" (click)="saveDealTypes()"><span
                                                        class="btn Btn-Green transition txt_pd-top3">{{dealButtonText}}</span></button>
                                            </form>
                                        </div>

                                        <!-- XNFR-426 -->
                                        <div class="tab-pane" *ngIf="activeTabName == 'leadDealApprove'"
                                            [ngClass]="{'active': activeTabName == 'leadDealApprove'}">
                                            <app-response-message [customResponse]="leadApprovalCustomResponse"
                                                *ngIf="leadApprovalCustomResponse.isVisible"></app-response-message>
                                            <form action="#" novalidate="" class="ng-untouched ng-pristine ng-valid"
                                                *ngIf="!httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                                                <table class="table table-light"
                                                    style="border:0px!important;background-color:transparent!important">
                                                    <tbody class="remove_table_bg display-grid">
                                                        <fieldset class="fild-custome-borders-none">
                                                            <legend class="leg-custome-borders-bot">Turn Lead
                                                                Approval/Rejection option ON or OFF</legend>
                                                        </fieldset>
                                                        <tr class="col-md-12 col-lg-12">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 class="f-w-600" id="text-color-my-profile"
                                                                        translate>You have the ability to Approve or
                                                                        Reject the leads registered by the partners.
                                                                    </h5>
                                                                    <h5 *ngIf="!leadApprovalRejectionStatus"
                                                                        id="text-color-my-profile">
                                                                        <input type="checkbox"
                                                                            [disabled]="leadApprovalRejectionStatus"
                                                                            (change)="checkAggreeToDisableLeadApprovalFeature($event)"
                                                                            [ngModelOptions]="{standalone: true}"
                                                                            class="pointer checkBox_shadow"
                                                                            [(ngModel)]="isAggreedToDisableLeadApprovalFeature"
                                                                            value="">&nbsp;By disabling this
                                                                        option, the leads that are neither rejected nor
                                                                        approved will be automatically approved!
                                                                    </h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right"
                                                                    style="padding-top:10px">
                                                                    <section>
                                                                        <switch class="switchbtns" [(status)]="leadApprovalStatus"
                                                                            [onText]="callActionSwitch.onTextValue"
                                                                            [offText]="callActionSwitch.offTextValue"
                                                                            [onColor]="callActionSwitch.onGreenColorSwitch"
                                                                            [offColor]="callActionSwitch.offDefaultColor"
                                                                            [size]="callActionSwitch.size"
                                                                            (statusChange)="setLeadApprovalOrRejectionStatus($event)">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <div class="col-xs-12"
                                                    style="float:left; padding:0;margin-top: 17px;margin-bottom: 7px;">
                                                    <button type="submit" class="button bgcolor-unset"
                                                        [disabled]="disableSaveChangesButtonForLeadApproval"
                                                        (click)="updateLeadApprovalOrRejectionStatus()" translate><span
                                                            class="btn Btn-Green transition txt_pd-top3">Save Changes
                                                        </span>
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                        <!---Integrations-->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'integrations'}">
                                            <section class="pricing py-5 border-none" *ngIf="integrationTabIndex == 0">
                                                <div class="col-xs-12 integration-row">
                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 intg_mb_16"
                                                        [class.disabled]="isMarketoProcess" (click)="configmarketo()"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'MARKETO'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px">
                                                                <span *ngIf="integrateRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="marketoSettings()" data-toggle="tooltip"
                                                                        data-placement="top" title="Marketo Settings"><i
                                                                            class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">Marketo</h5>


                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="integrateRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{integrateRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="integrateRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{integrateRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/Mark-amplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>
                                                                <span class="arrow process-sync"
                                                                    *ngIf="isMarketoProcess">
                                                                    <img src="assets/images/Spinner.gif"
                                                                        class="loaderGif" style="height: 40px;">
                                                                    Synchronization in process...
                                                                </span>
                                                                <a class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="integrateRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="integrateRibbonText == 'configured'"
                                                                    translate>re configure</a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'HUBSPOT'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="hubSpotRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="hubspotSettings()" data-toggle="tooltip"
                                                                        data-placement="top" title="HubSpot Settings"><i
                                                                            class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">HubSpot</h5>

                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="hubSpotRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{hubSpotRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="hubSpotRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{hubSpotRibbonText}}</span>
                                                                </div>


                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/huspot-amplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>

                                                                <a (click)="configHubSpot()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="hubSpotRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="configHubSpot()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="hubSpotRibbonText == 'configured'"
                                                                    translate>re configure</a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'SALESFORCE'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="sfRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="salesforceSettings()"
                                                                        data-toggle="tooltip" data-placement="top"
                                                                        title="Salesforce Settings"><i class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">Salesforce</h5>


                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="sfRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{sfRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="sfRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{sfRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/xamplify-salesforce.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>

                                                                <a (click)="configSalesforce()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="sfRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="reConfigSalesforce()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="sfRibbonText == 'configured'" translate>re
                                                                    configure</a>
                                                            </div>
                                                        </div>
                                                    </div>



                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 tab_mt_20 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'MICROSOFT'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="microsoftRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="microsoftSettings()"
                                                                        data-toggle="tooltip" data-placement="top"
                                                                        title="Microsoft Settings"><i class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">Microsoft</h5>


                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="microsoftRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{microsoftRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="microsoftRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{microsoftRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/microsoft-dynamics-xamplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>

                                                                <a (click)="configureMicrosoft()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="microsoftRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="configureMicrosoft()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="microsoftRibbonText == 'configured'"
                                                                    translate>re configure</a>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 tab_mt_20 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'PIPEDRIVE'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="pipedriveRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="pipedriveSettings()"
                                                                        data-toggle="tooltip" data-placement="top"
                                                                        title="Pipedrive Settings"><i class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">Pipedrive</h5>

                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="pipedriveRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{pipedriveRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="pipedriveRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{pipedriveRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/pipedrive-xamplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>

                                                                <a (click)="configurePipedrive()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="pipedriveRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="configurePipedrive()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="pipedriveRibbonText == 'configured'"
                                                                    translate>re configure</a>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 tab_mt_20 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'CONNECTWISE'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="connectwiseRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="connectwiseSettings()"
                                                                        data-toggle="tooltip" data-placement="top"
                                                                        title="ConnectWise Settings"><i
                                                                            class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">ConnectWise</h5>

                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="connectwiseRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{connectwiseRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="connectwiseRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{connectwiseRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/connectwise-xamplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>
                                                                <a (click)="configureConnectWise()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="connectwiseRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="configureConnectWise()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="connectwiseRibbonText == 'configured'"
                                                                    translate>re configure</a>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 tab_mt_20 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'HALOPSA'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="halopsaRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="halopsaSettings()" data-toggle="tooltip"
                                                                        data-placement="top" title="HALOPSA Settings"><i
                                                                            class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">HALOPSA</h5>

                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="halopsaRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{halopsaRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="halopsaRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{halopsaRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/halopsa-xamplify.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>
                                                                <a (click)="configureHaloPsa()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="halopsaRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="configureHaloPsa()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="halopsaRibbonText == 'configured'"
                                                                    translate>re configure</a>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-4 col-sm-6 col-md-6 col-xs-12 tab_mt_20 intg_mb_16"
                                                        *ngIf="!httpRequestLoader.isLoading">
                                                        <div
                                                            [className]="activeCRMDetails?.type === 'ZOHO'? 'card mb-5 mb-lg-0 activeCRM' : 'card mb-5 mb-lg-0 integration_cards'">
                                                            <div class="card-body" style="padding:10px;">
                                                                <span *ngIf="zohoRibbonText == 'configured'"
                                                                    class="integration-cards">
                                                                    <a (click)="zohoSettings()" data-toggle="tooltip"
                                                                        data-placement="top" title="Zoho Settings"><i
                                                                            class="fa fa-cog"
                                                                            style="font-size: 20px !important;"></i></a>
                                                                </span>
                                                                <h5 class="card-title  text-uppercase text-center"
                                                                    style="padding-top: 4%;">Zoho</h5>


                                                                <div class="ribbon draft config integration-ribbon" style="left:10px"
                                                                    *ngIf="zohoRibbonText == 'configured'">
                                                                    <span
                                                                        [style.background-color]="'green'">{{zohoRibbonText}}</span>
                                                                </div>
                                                                <div class="ribbon draft integration-ribbon" style="left:10px"
                                                                    *ngIf="zohoRibbonText != 'configured'">
                                                                    <span
                                                                        [style.background-color]="'yello'">{{zohoRibbonText}}</span>
                                                                </div>
                                                                <div style="height: 120px;">
                                                                    <div>
                                                                        <img src="assets/images/crm/zoho-crm.png"
                                                                            style="margin-top:20px; text-align: center;width:100%">
                                                                    </div>
                                                                </div>

                                                                <a (click)="configZoho()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="zohoRibbonText == 'configure'"
                                                                    translate>configure</a>
                                                                <a (click)="reConfigZoho()"
                                                                    class="btn btn-block btn-primary text-uppercase"
                                                                    *ngIf="zohoRibbonText == 'configured'" translate>re
                                                                    configure</a>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </section>

                                            <div *ngIf="integrationTabIndex == 1">
                                                <app-marketo-authentication (closeEvent)="closeMarketoForm($event)">
                                                </app-marketo-authentication>
                                            </div>

                                            <div *ngIf="integrationTabIndex == 2">
                                                <app-response-message class="pg8"
                                                    [customResponse]="customFieldsResponse"
                                                    *ngIf="customFieldsResponse.isVisible">
                                                </app-response-message>
                                                <div align="center" style="margin-bottom:20px">
                                                    <h3>Salesforce custom fields
                                                        <span
                                                            style="color: #488fd6; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px;">
                                                            <a (click)="salesforceSettings()" data-toggle="tooltip"
                                                                data-placement="top" title="Refresh Custom Fields"><i
                                                                    class="fa fa-refresh"
                                                                    style="font-size: 15px !important;"></i> Reload</a>
                                                        </span>
                                                        <span
                                                            style="color: #ffffff; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px; background-color: #488fd6;"
                                                            *ngIf="activeCRMDetails?.type != 'SALESFORCE'">
                                                            <a (click)="activateCRM('SALESFORCE')" data-toggle="tooltip"
                                                                style="color: #ffffff !important;" data-placement="top"
                                                                title="Mark as active CRM"><i class="fa fa-check"
                                                                    style="font-size: 15px !important;"></i>
                                                                Activate</a>
                                                        </span>

                                                        <span
                                                            style="color: #ffffff; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px; background-color: #29dd50;"
                                                            *ngIf="activeCRMDetails?.activeCRM && activeCRMDetails?.type === 'SALESFORCE'">
                                                            <a data-toggle="tooltip" style="color: #ffffff !important;"
                                                                data-placement="top" title="Active CRM"><i
                                                                    class="fa fa-star"
                                                                    style="font-size: 15px !important;"></i>
                                                                Activated</a>
                                                        </span>
                                                    </h3>
                                                </div>

                                                <div>*Note: Please pick all fields that are marked required in
                                                    Salesforce. Otherwise, leads and deals will not be pushed into
                                                    Salesforce. </div>


                                                <form class="form-horizontal" autocomplete="off">
                                                    <table class='table tgrid'>
                                                        <thead>
                                                            <tr>

                                                                <th class="text-center"><input type="checkbox"
                                                                        class="checkBox_shadow" value="sfcfSelectAll"
                                                                        id="sfcfSelectAll" name="sfcfSelectAll"
                                                                        [(ngModel)]="isHeaderCheckBoxChecked"
                                                                        (change)="checkAll($event)" /></th>

                                                                <th>Field Name</th>
                                                                <th>Data Type</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngFor="let sfCustomField of sfcfPagedItems ">
                                                                <tr>

                                                                    <td align="center"><input class="checkBox_shadow"
                                                                            type="checkbox"
                                                                            value="{{sfCustomField.name}}"
                                                                            (click)="selectCf(sfCustomField.name)"
                                                                            id="{{sfCustomField.name}}" name="sfcf[]"
                                                                            [checked]="(selectedCfIds.indexOf(sfCustomField.name)>-1) || sfCustomField.required"
                                                                            [disabled]="sfCustomField.required" /></td>
                                                                    <td><span>{{sfCustomField.label}}</span></td>
                                                                    <td><span>{{sfCustomField.type}}</span></td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </form>
                                                <ul *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                    class="pagination">
                                                    <li [ngClass]="{disabled:sfcfPager.currentPage === 1}"><a
                                                            (click)="setSfCfPage(1)">First</a></li>
                                                    <li [ngClass]="{disabled:sfcfPager.currentPage === 1}"><a
                                                            (click)="setSfCfPage(sfcfPager.currentPage - 1)">Previous</a>
                                                    </li>
                                                    <li *ngFor="let page of sfcfPager.pages"
                                                        [ngClass]="{active:sfcfPager.currentPage === page}"><a
                                                            (click)="setSfCfPage(page)">{{page}}</a></li>
                                                    <li
                                                        [ngClass]="{disabled:sfcfPager.currentPage === sfcfPager.totalPages}">
                                                        <a (click)="setSfCfPage(sfcfPager.currentPage + 1)">Next</a>
                                                    </li>
                                                    <li
                                                        [ngClass]="{disabled:sfcfPager.currentPage === sfcfPager.totalPages}">
                                                        <a (click)="setSfCfPage(sfcfPager.totalPages)">Last</a>
                                                    </li>
                                                </ul>
                                                <div *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                    class="p-drop-down" style="width: max-content;">
                                                    <select class="form-control" style="cursor: pointer"
                                                        [(ngModel)]="pageNumber" [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="selectedPageNumber($event.value)">
                                                        <option *ngFor="let pageNo of paginationComponent.numberPerPage"
                                                            [ngValue]="pageNo">{{pageNo.name}}</option>
                                                    </select>
                                                </div>
                                                <div *ngIf="!sfcfPager.pages || sfcfPager.pages.length == 0"
                                                    style="margin-bottom: 10px;">
                                                    <span>There are no custom fields in your Salesforce account.</span>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-warning"
                                                        (click)="closeSfSettings()">CANCEL</button>
                                                    <button type="button" class="btn btn-primary"
                                                        *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                        (click)="submitSfSettings()">Submit</button>
                                                </div>
                                            </div>

                                            <div *ngIf="integrationTabIndex == 3">
                                                <app-microsoft-authentication [loggedInUserId]="loggedInUserId"
                                                    (closeEvent)="closeMicrosoftForm($event)">
                                                </app-microsoft-authentication>
                                            </div>

                                            <div *ngIf="integrationTabIndex == 4">
                                                <app-response-message class="pg8"
                                                    [customResponse]="customFieldsResponse"
                                                    *ngIf="customFieldsResponse.isVisible">
                                                </app-response-message>
                                                <div align="center" style="margin-bottom:20px">
                                                    <h3>Hubspot custom fields
                                                        <span
                                                            style="color: #488fd6; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px;">
                                                            <a (click)="hubspotSettings()" data-toggle="tooltip"
                                                                data-placement="top" title="Refresh Custom Fields"><i
                                                                    class="fa fa-refresh"
                                                                    style="font-size: 15px !important;"></i> Reload</a>
                                                        </span>
                                                        <span
                                                            style="color: #ffffff; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px; background-color: #488fd6;"
                                                            *ngIf="activeCRMDetails?.type != 'HUBSPOT'">
                                                            <a (click)="activateCRM('HUBSPOT')" data-toggle="tooltip"
                                                                style="color: #ffffff !important;" data-placement="top"
                                                                title="Mark as active CRM"><i class="fa fa-check"
                                                                    style="font-size: 15px !important;"></i>
                                                                Activate</a>
                                                        </span>

                                                        <span
                                                            style="color: #ffffff; border: 1px solid #eaeaea; padding: 2px 5px 2px 5px; border-radius: 2px; font-size: 15px; background-color: #29dd50;"
                                                            *ngIf="activeCRMDetails?.activeCRM && activeCRMDetails?.type === 'HUBSPOT'">
                                                            <a data-toggle="tooltip" style="color: #ffffff !important;"
                                                                data-placement="top" title="Active CRM"><i
                                                                    class="fa fa-star"
                                                                    style="font-size: 15px !important;"></i>
                                                                Activated</a>
                                                        </span>
                                                    </h3>
                                                </div>

                                                <div>*Note: Please pick all fields that are marked required in Hubspot.
                                                    Otherwise, leads and deals will not be pushed into Hubspot. </div>

                                                <form class="form-horizontal" autocomplete="off">
                                                    <table class='table tgrid'>
                                                        <thead>
                                                            <tr>
                                                                <th class="text-center"><input type="checkbox"
                                                                        class="checkBox_shadow" value="sfcfSelectAll"
                                                                        id="sfcfSelectAll" name="sfcfSelectAll"
                                                                        [(ngModel)]="isHeaderCheckBoxChecked"
                                                                        (change)="checkAll($event)" /></th>

                                                                <th>Field Name</th>
                                                                <th>Data Type</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngFor="let sfCustomField of sfcfPagedItems ">
                                                                <tr>
                                                                    <td align="center"><input class="checkBox_shadow"
                                                                            type="checkbox"
                                                                            value="{{sfCustomField.name}}"
                                                                            (click)="selectCf(sfCustomField.name)"
                                                                            id="{{sfCustomField.name}}" name="sfcf[]"
                                                                            [checked]="(selectedCfIds.indexOf(sfCustomField.name)>-1) || sfCustomField.required"
                                                                            [disabled]="sfCustomField.required" /></td>
                                                                    <td><span>{{sfCustomField.label}}</span></td>
                                                                    <td><span>{{sfCustomField.type}}</span></td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </form>
                                                <ul *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                    class="pagination">
                                                    <li [ngClass]="{disabled:sfcfPager.currentPage === 1}"><a
                                                            (click)="setSfCfPage(1)">First</a></li>
                                                    <li [ngClass]="{disabled:sfcfPager.currentPage === 1}"><a
                                                            (click)="setSfCfPage(sfcfPager.currentPage - 1)">Previous</a>
                                                    </li>
                                                    <li *ngFor="let page of sfcfPager.pages"
                                                        [ngClass]="{active:sfcfPager.currentPage === page}"><a
                                                            (click)="setSfCfPage(page)">{{page}}</a></li>
                                                    <li
                                                        [ngClass]="{disabled:sfcfPager.currentPage === sfcfPager.totalPages}">
                                                        <a (click)="setSfCfPage(sfcfPager.currentPage + 1)">Next</a>
                                                    </li>
                                                    <li
                                                        [ngClass]="{disabled:sfcfPager.currentPage === sfcfPager.totalPages}">
                                                        <a (click)="setSfCfPage(sfcfPager.totalPages)">Last</a>
                                                    </li>
                                                </ul>
                                                <div *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                    class="p-drop-down" style="width: max-content;">
                                                    <select class="form-control" style="cursor: pointer"
                                                        [(ngModel)]="pageNumber" [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="selectedPageNumber($event.value)">
                                                        <option *ngFor="let pageNo of paginationComponent.numberPerPage"
                                                            [ngValue]="pageNo">{{pageNo.name}}</option>
                                                    </select>
                                                </div>
                                                <div *ngIf="!sfcfPager.pages || sfcfPager.pages.length == 0"
                                                    style="margin-bottom: 10px;">
                                                    <span>There are no custom fields in your Hubspot account.</span>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-warning"
                                                        (click)="closeSfSettings()">CANCEL</button>
                                                    <button type="button" class="btn btn-primary"
                                                        *ngIf="sfcfPager.pages && sfcfPager.pages.length"
                                                        (click)="saveCustomFieldsSelection('hubspot')">Submit</button>
                                                </div>
                                            </div>
                                            <!---XNFR-146-->
                                            <div *ngIf="integrationTabIndex == 5">
                                                <app-integration-settings [integrationType]="integrationType"
                                                    (refreshEvent)="checkIntegrations()"
                                                    (closeEvent)="refreshIntegrationSettings($event)"
                                                    (unlinkEvent)="refreshIntegrationSettings($event)"></app-integration-settings>
                                            </div>

                                            <!-- XNFR-215 -->
                                            <div *ngIf="integrationTabIndex == 6">
                                                <app-pipedrive-authentication [loggedInUserId]="loggedInUserId"
                                                    (closeEvent)="refreshIntegrationSettings($event)">
                                                </app-pipedrive-authentication>
                                            </div>

                                            <!-- XNFR-215 -->
                                            <div *ngIf="integrationTabIndex == 7">
                                                <app-connectwise-authentication [loggedInUserId]="loggedInUserId"
                                                    (closeEvent)="refreshIntegrationSettings($event)">
                                                </app-connectwise-authentication>
                                            </div>

                                            <!--halopsa -->
                                            <div *ngIf="integrationTabIndex == 8">
                                                <app-halopsa-authentication [loggedInUserId]="loggedInUserId"
                                                    (closeEvent)="refreshIntegrationSettings($event)">
                                                </app-halopsa-authentication>
                                            </div>
                                        </div>
                                        <!---Lead Pipe Lines-->
                                        <div class="tab-pane"
                                            [ngClass]="{'active': activeTabName == 'leadPipelines' || activeTabName == 'dealPipelines'}">
                                            <ng-container>
                                                <app-response-message class="pg8" [customResponse]="pipelineResponse"
                                                    *ngIf="pipelineResponse.isVisible">
                                                </app-response-message>
                                                <div class="portlet-title" style="border-bottom: none;">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-12 col-lg-12">
                                                            <div class="col-xs-12 col-sm-5 col-lg-5 p0 mb_10">
                                                                <button class="button_blue bgcolor-unset pd_lft2"
                                                                    (click)="addPipeline()" translate><span
                                                                        class="btn btn-primary transition txt_pd-top3">Create
                                                                        Pipeline</span></button>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-7 col-lg-7 p0">
                                                                <div class="page-toolbar">
                                                                    <div class="btn-group pull-right">
                                                                        <a *ngIf="activeCRMDetails?.activeCRM && (activeCRMDetails?.type == 'HUBSPOT' || activeCRMDetails?.type == 'PIPEDRIVE' || activeCRMDetails?.type == 'HALOPSA' || activeCRMDetails?.type == 'ZOHO') && activeTabName == 'dealPipelines'"
                                                                            (click)="syncPipelines()">
                                                                            <button
                                                                                class="btn btn-white Synchronize_btn"
                                                                                data-toggle="tooltip"
                                                                                data-placement="bottom"
                                                                                title="Synchronize" translate>
                                                                                <i class="fa fa-refresh"
                                                                                    aria-hidden="true"></i> {{
                                                                                activeCRMDetails?.type | titlecase }}
                                                                            </button>
                                                                        </a>
                                                                        <div class="inputs float-right"
                                                                            style="display: inline-flex;">
                                                                            <div class="portlet-input input-inline"
                                                                                id="search-div">
                                                                                <div class="input-icon right" id="icon">
                                                                                    <input type="text" id="sort-text"
                                                                                        class="form-control"
                                                                                        [(ngModel)]="pipelineSortOption.searchKey"
                                                                                        [ngModelOptions]="{standalone: true}"
                                                                                        placeholder="search..."
                                                                                        (keypress)="pipelineEventHandler($event.keyCode)">
                                                                                    <button
                                                                                        class="glyphicon glyphicon-remove search-box-item-clear"
                                                                                        *ngIf="pipelineSortOption.searchKey"
                                                                                        (click)="pipelineSortOption.searchKey='';searchPipelines();"></button>
                                                                                    <button type="submit"
                                                                                        class="search-box-item-click"
                                                                                        (click)="searchPipelines()">
                                                                                        <i class="fa fa-search"
                                                                                            aria-hidden="true"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 p0 mScroll table-responsive"
                                                                style="padding-top: 10px !important;">
                                                                <table class='table tgrid' id="pipeline-list">
                                                                    <thead>
                                                                        <tr>
                                                                            <th class="PipelinesTablet-thWidth">
                                                                                <span>Name</span>
                                                                            </th>
                                                                            <th class="PipelinesTablet-thWidth1">Created
                                                                                By</th>
                                                                            <th
                                                                                class="PipelinesTablet-thWidth2 text-center">
                                                                                Stages
                                                                            </th>
                                                                            <th class="PipelinesTablet-thWidth3">Actions
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody *ngIf="!httpRequestLoader.isLoading">
                                                                        <tr *ngFor="let pipeline of pipelinePagination.pagedItems ;let i =index"
                                                                            id="pipeline_{{pipeline.id}}">

                                                                            <td><i class="fa fa-sort-amount-asc"
                                                                                    style="margin-right:5px;display: inline-block;
                                                                            border-radius: 50%;border: 1px solid #000000;padding: 8px 8px 8px 9px;font-size: 13px !important;"></i>
                                                                                <span class="PipelinesNameTextCu"
                                                                                    data-toggle="tooltip"
                                                                                    data-placement="top"
                                                                                    title="{{pipeline.name}}">{{pipeline.name
                                                                                    | slice:0:30}}<span
                                                                                        *ngIf="pipeline?.name?.length>30">...</span></span>
                                                                                <h6 class="view-banner pipeline-label-width"
                                                                                    *ngIf="pipeline.crmPipeline"
                                                                                    translate>
                                                                                    {{pipeline.integrationType}}</h6>
                                                                            </td>
                                                                            <td>
                                                                                <h5 class='ellipsis mb-float'
                                                                                    title="{{pipeline.createdByName}}"
                                                                                    style="margin: 7px 0 2px 0;font-weight: 400;padding: 0px;">
                                                                                    {{pipeline.createdByName |
                                                                                    slice:0:20}}
                                                                                    <span
                                                                                        *ngIf="pipeline.createdByName?.length>20">...</span>
                                                                                </h5>
                                                                                <h6 class='m0'
                                                                                    style="font-weight: 400;">
                                                                                    <a
                                                                                        title="{{pipeline.createdByEmail}}">{{pipeline.createdByEmail
                                                                                        | slice:0:30}}</a>
                                                                                    <span
                                                                                        *ngIf="pipeline.createdByEmail?.length>30">...</span>
                                                                                </h6>
                                                                                <h5
                                                                                    style="font-weight: 600; color: #676767;">
                                                                                    <app-timestamp [isOnlyDate]="false"
                                                                                        [dateAndTime]="pipeline.createdTime">
                                                                                    </app-timestamp>
                                                                                </h5>
                                                                            </td>
                                                                            <td class="mAlign text-center">
                                                                                {{pipeline.stages.length}}</td>
                                                                            <td class="mAlign tableIconsAliggnLine">
                                                                                <div
                                                                                    class="actions-block override-actions mb_whitespace tb_view_actions">
                                                                                    <ng-container>
                                                                                        <a class="custom-icon"
                                                                                            *ngIf="pipeline.canSync"
                                                                                            data-toggle="tooltip"
                                                                                            data-placement="top"
                                                                                            title="Synchronize with {{pipeline.integrationType}}"
                                                                                            (click)="syncPipeline(pipeline)">
                                                                                            <i
                                                                                                class="fa fa-refresh IconCustomization"></i>
                                                                                            <div class="clickicons">
                                                                                            </div>
                                                                                        </a>
                                                                                        <a class="custom-icon"
                                                                                            data-toggle="tooltip"
                                                                                            data-placement="top"
                                                                                            title="View"
                                                                                            (click)="viewPipeline(pipeline)">
                                                                                            <i
                                                                                                class="fa fa-eye IconCustomization"></i>
                                                                                            <div class="clickicons">
                                                                                            </div>
                                                                                        </a>
                                                                                        <a class="custom-icon"
                                                                                            *ngIf="pipeline.canUpdate"
                                                                                            data-toggle="tooltip"
                                                                                            data-placement="top"
                                                                                            title="Edit"
                                                                                            (click)="editPipeline(pipeline)">
                                                                                            <i
                                                                                                class="fa fa-pencil-square-o IconCustomization"></i>
                                                                                            <div class="clickicons">
                                                                                            </div>
                                                                                        </a>
                                                                                        <a class="custom-icon"
                                                                                            *ngIf="pipeline.canDelete"
                                                                                            id="template-delete"
                                                                                            (click)="confirmDeletePipeline(pipeline)"
                                                                                            data-toggle="tooltip"
                                                                                            data-placement="top"
                                                                                            title="Delete">
                                                                                            <i
                                                                                                class="fa fa-trash-o trashIconCustomization"></i>
                                                                                            <div class="del-icon"></div>
                                                                                        </a>
                                                                                    </ng-container>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <app-list-loader
                                                                    *ngIf="httpRequestLoader.isLoading"></app-list-loader>
                                                                <div *ngIf="pipelinePagination.pagedItems.length !== 0"
                                                                    class="pg8">
                                                                    <app-pagination [pagination]="pipelinePagination"
                                                                        (notifyParent)="setPipelinePage($event)"
                                                                        (notifyParentDropDown)="listAllPipelines($event)"></app-pagination>
                                                                </div>
                                                                <!-- End of 24 -->
                                                                <div *ngIf="pipelinePagination.totalRecords==0 && !httpRequestLoader.isLoading"
                                                                    class="alert alert-info">
                                                                    <strong translate>No Pipelines Found.</strong>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                            </ng-container>
                                        </div>
                                        <!--Pasword-->
                                        <div class="tab-pane row" [ngClass]="{'active': activeTabName == 'password'}">
                                            <form [formGroup]="updatePasswordForm" (ngSubmit)="updatePassword()"
                                                autocomplete="off">
                                                <div class="col-lg-12 col-md-13 col-sm-12 col-xs-12">
                                                    <div class="form-group" *ngIf="userData.hasPassword">
                                                        <label class="control-label" translate>Current Password</label>
                                                        <input id="oldPassword" type="password" [class]="className"
                                                            formControlName="oldPassword" required="required" />
                                                        <span toggle="#oldPassword" title="Show Password"
                                                            class="fa fa-fw fa-eye field-icon toggle-password"
                                                            (click)="referenceService.showPassword('oldPassword')"
                                                            *ngIf="!referenceService.showInputOldPassword && updatePasswordForm.get('oldPassword').value"
                                                            style="left:-30px !important"></span>
                                                        <span toggle="#oldPassword" title="Hide Password"
                                                            class="fa fa-fw fa-eye-slash field-icon toggle-password"
                                                            (click)="referenceService.showPassword('oldPassword')"
                                                            *ngIf="referenceService.showInputOldPassword && updatePasswordForm.get('oldPassword').value"
                                                            style="left:-30px !important"></span>

                                                        <div *ngIf="formErrors.oldPassword" class="alert alert-danger"
                                                            style="margin-top: 5px;">
                                                            {{formErrors.oldPassword}}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>New Password</label>
                                                        <input id="password" type="password" class="form-control"
                                                            formControlName="newPassword" required="required" />
                                                        <span toggle="#password" title="Show Password"
                                                            class="fa fa-fw fa-eye field-icon toggle-password"
                                                            (click)="referenceService.showPassword('password')"
                                                            *ngIf="!referenceService.showInputPassword && updatePasswordForm.get('newPassword').value"
                                                            style="left:-30px !important"></span>
                                                        <span toggle="#password" title="Hide Password"
                                                            class="fa fa-fw fa-eye-slash field-icon toggle-password"
                                                            (click)="referenceService.showPassword('password')"
                                                            *ngIf="referenceService.showInputPassword && updatePasswordForm.get('newPassword').value"
                                                            style="left:-30px !important"></span>

                                                        <div *ngIf="formErrors.newPassword" class="alert alert-danger"
                                                            style="margin-top: 5px;">
                                                            {{formErrors.newPassword}}</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                    <div class="form-group">
                                                        <label class="control-label" translate>Re-type New
                                                            Password</label>
                                                        <input id="comfirmPassword" type="password" class="form-control"
                                                            formControlName="confirmNewPassword" required="required" />
                                                        <span toggle="#comfirmPassword" title="Show Password"
                                                            class="fa fa-fw fa-eye field-icon toggle-password"
                                                            (click)="referenceService.showPassword('comfirmPassword')"
                                                            *ngIf="!referenceService.showInputConfirmPassword && updatePasswordForm.get('confirmNewPassword').value"
                                                            style="left:-30px !important"></span>
                                                        <span toggle="#comfirmPassword" title="Hide Password"
                                                            class="fa fa-fw fa-eye-slash field-icon toggle-password"
                                                            (click)="referenceService.showPassword('comfirmPassword')"
                                                            *ngIf="referenceService.showInputConfirmPassword && updatePasswordForm.get('confirmNewPassword').value"
                                                            style="left:-30px !important"></span>

                                                        <div *ngIf="formErrors.confirmNewPassword"
                                                            class="alert alert-danger" style="margin-top: 5px;">
                                                            {{formErrors.confirmNewPassword}}</div>
                                                        <div *ngIf="updatePasswordForm.hasError('mismatchedPasswords')"
                                                            class="alert alert-danger" style="margin-top: 5px;">Password
                                                            do not match.</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-13 col-sm-12 col-xs-12">
                                                    <div class="margin-top-10">
                                                        <button type="submit" id="register-submit-btn"
                                                            [disabled]="!updatePasswordForm.valid"
                                                            class="button bgcolor-unset pd_lft2" translate>
                                                            <span class="btn Btn-Green transition txt_pd-top3">Change
                                                                Password</span></button>
                                                        <input type="reset" class="btn Btn-Gray neg_mrg_top5"
                                                            value="Cancel">
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!-- PRIVACY SETTINGS TAB -->
                                        <!-- hidden-xs -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'settings'}">
                                            <div class="">
                                                <label class="container-checkbox-xamplify" translate>List View
                                                    <input class="radioButton_shadow" type="radio"
                                                        name="moduleDisplayType"
                                                        value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.LIST]}}"
                                                        [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.LIST]">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="container-checkbox-xamplify" translate>Grid View
                                                    <input class="radioButton_shadow" type="radio"
                                                        name="moduleDisplayType"
                                                        value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.GRID]}}"
                                                        [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.GRID]">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="container-checkbox-xamplify" translate>Folder Grid View
                                                    <input class="radioButton_shadow" type="radio"
                                                        name="moduleDisplayType"
                                                        value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_GRID]}}"
                                                        [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_GRID]">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="container-checkbox-xamplify" translate>Folder List View
                                                    <input class="radioButton_shadow" type="radio"
                                                        name="moduleDisplayType"
                                                        value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_LIST]}}"
                                                        [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_LIST]">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                            <div class="margin-top-10">
                                                <button type="submit" class="button bgcolor-unset pd_lft2"
                                                    (click)="setDefaultView()" translate><span
                                                        class="btn Btn-Green transition txt_pd-top3">Save
                                                        Changes</span></button>
                                            </div>
                                        </div>
                                        <!-- END PRIVACY SETTINGS TAB -->
                                        <!-- Customize Left Menu -->
                                        <div class="tab-pane hidden-xs"
                                            [ngClass]="{'active': activeTabName == 'customizeleftmenu'}">
                                        </div>
                                        <!-- GDPR SETTINGS TAB -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'gdpr'}">
                                            <app-dashboard-loader *ngIf="httpRequestLoader.isLoading">
                                            </app-dashboard-loader>
                                            <app-response-message [customResponse]="gdprCustomResponse"
                                                *ngIf="gdprCustomResponse.isVisible"></app-response-message>
                                            <form action="#" novalidate="" class="ng-untouched ng-pristine ng-valid"
                                                *ngIf="!httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                                                <table class="table table-light"
                                                    style="border:0px!important;background-color:transparent!important">
                                                    <tbody class="remove_table_bg display-grid">
                                                        <fieldset class="fild-custome-borders-none">
                                                            <legend class="leg-custome-borders-bot">GDPR</legend>
                                                            <tr class="col-md-12 col-lg-12">
                                                                <div class="flex row">
                                                                    <div class="col-md-9 col-lg-9">
                                                                        <h5 class="f-w-600" id="text-color-my-profile"
                                                                            translate>Our GDPR settings are designed to
                                                                            assist you in complying with the EU's
                                                                            General Data Protection Regulations. This
                                                                            includes:
                                                                        </h5>
                                                                        <ul>
                                                                            <li id="text-color-my-profile" translate>The
                                                                                ability to designate a legal basis for
                                                                                contacting each person added to a
                                                                                mailing list</li>
                                                                            <li id="text-color-my-profile"
                                                                                style="margin-top: 5px" translate>
                                                                                Automatic inclusion of an unsubscribe
                                                                                link in every campaign email</li>
                                                                        </ul>
                                                                        <h5 id="text-color-my-profile">
                                                                            <a rel="noopener noreferrer" class="link"
                                                                                href="{{properties.privacyPolicyUrl}}"
                                                                                target="_blank" translate>Privacy &
                                                                                consent</a> &nbsp;|
                                                                            <a rel="noopener noreferrer" class="link"
                                                                                href="{{properties.cookiesPolicyUrl}}"
                                                                                target="_blank" translate>Cookies &
                                                                                tracking</a> &nbsp;
                                                                        </h5>
                                                                        <h5 id="text-color-my-profile">
                                                                            <input type="checkbox"
                                                                                class="pointer checkBox_shadow"
                                                                                [(ngModel)]="gdprSetting.allowMarketingEmails"
                                                                                [ngModelOptions]="{standalone: true}"
                                                                                [disabled]="!gdprSetting.gdprStatus"
                                                                                value="">&nbsp; Only allows marketing
                                                                            emails to be sent to contacts who have legal
                                                                            basis to communicate. This setting doesn't
                                                                            apply to emails sent by the CRM
                                                                        </h5>
                                                                    </div>
                                                                    <div class="col-md-3 col-lg-3 text-right"
                                                                        style="padding-top:10px">
                                                                        <section>
                                                                            <switch class="switchbtns" [(status)]="gdprSetting.gdprStatus"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onGreenColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="setGdpr($event)">
                                                                            </switch>
                                                                        </section>
                                                                    </div>
                                                                </div>
                                                            </tr>
                                                        </fieldset><br>
                                                    </tbody>
                                                </table>
                                                <div class="col-xs-12"
                                                    style="float:left; padding:0;margin-top: 17px;margin-bottom: 7px;">
                                                    <button type="submit" class="button bgcolor-unset"
                                                        (click)="saveGdprSetting()" *ngIf="!gdprSetting.isExists"
                                                        translate><span
                                                            class="btn Btn-Green transition txt_pd-top3">Save
                                                            Settings</span></button>
                                                    <button type="submit" class="button bgcolor-unset"
                                                        (click)="updateGdprSetting()" *ngIf="gdprSetting.isExists"
                                                        translate><span
                                                            class="btn Btn-Green transition txt_pd-top3">Update
                                                            Settings</span></button>

                                                </div>
                                            </form>
                                        </div>
                                        <!-- END GDPR SETTINGS TAB -->

                                        <!-- Dashboard SETTINGS TAB -->
                                        <div class="tab-pane" *ngIf="isDashboardButtonsOptionClicked"
                                            [ngClass]="{'active': activeTabName == properties?.dashboardButtons}">
                                            <app-custom-links-util
                                                [moduleType]="properties?.dashboardButtons"></app-custom-links-util>
                                        </div>

                                        <!-- Customize Left Menu -->
                                        <div class="tab-pane"
                                            [ngClass]="{'active': activeTabName == 'customizeleftmenu'}">
                                            <app-leftsidenavbar-custom></app-leftsidenavbar-custom>
                                        </div>

                                        <!-- Lead Custom Field Settings -->
                                        <div class="tab-pane" *ngIf="showleadFieldSettings"
                                            [ngClass]="{'active': activeTabName == 'leadFieldSettings'}">
                                            <app-lead-custom-fields-settings></app-lead-custom-fields-settings>
                                        </div>

                                        <!-- Saml SETTINGS TAB -->
                                        <div class="tab-pane hidden-xs"
                                            [ngClass]="{'active': activeTabName == 'samlSettings'}">
                                            <app-samlsecurity> </app-samlsecurity>
                                        </div>

                                        <!-- saml sso 2.0 settings -->
                                        <div class="tab-pane"
                                            [ngClass]="{'active': activeTabName == 'saml2SSOsettings'}"
                                            *ngIf="showSaml2SSOsettings">
                                            <app-saml-sso-login> </app-saml-sso-login>
                                        </div>

                                        <!-- Oauth SSO settings -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'oauthSSOConfiguration'}"
                                         *ngIf="showOauthSSOConfiguration">
                                            <app-oauth-sso-configuration></app-oauth-sso-configuration>
                                        </div>

                                        <!-- Your Templates TAB -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'templates'}">
                                            <app-vanity-email-templates *ngIf="showTemplates"
                                                (editTemplate)="openBeeEditor($event)"></app-vanity-email-templates>
                                        </div>

                                        <!-- Categories -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'categories'}">
                                            <ng-container *ngIf="!isFolderPreview">
                                                <app-response-message class="pg8" [customResponse]="categoryResponse"
                                                    *ngIf="categoryResponse.isVisible">
                                                </app-response-message>
                                                <div class="portlet-title" style="border-bottom: none;">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-12 col-lg-12">
                                                            <div class="col-xs-12 col-sm-5 col-lg-5 p0 mb_10">
                                                                <button class="button_blue bgcolor-unset pd_lft2"
                                                                    (click)="addCategory()">
                                                                    <span
                                                                        class="btn btn-primary transition txt_pd-top3">Create
                                                                        a Folder</span></button>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-7 col-lg-7 p0">
                                                                <div class="page-toolbar">
                                                                    <div class="btn-group pull-right">
                                                                        <div class="inputs float-right"
                                                                            style="display: inline-flex;">
                                                                            <div id="left">
                                                                                <select class="form-control"
                                                                                    [(ngModel)]="categorySortOption.selectedCategoryDropDownOption"
                                                                                    (ngModelChange)="sortBy($event)"
                                                                                    id="select-dropdown">
                                                                                    <option
                                                                                        *ngFor="let option of categorySortOption.categorySortDropDownOptions"
                                                                                        [ngValue]="option">
                                                                                        {{option.name}}</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="portlet-input input-inline"
                                                                                id="search-div">
                                                                                <div class="input-icon right" id="icon">
                                                                                    <input type="text" id="sort-text"
                                                                                        class="form-control"
                                                                                        [(ngModel)]="categorySortOption.searchKey"
                                                                                        [ngModelOptions]="{standalone: true}"
                                                                                        placeholder="search..."
                                                                                        (keypress)="eventHandler($event.keyCode)">
                                                                                    <button
                                                                                        class="glyphicon glyphicon-remove search-box-item-clear"
                                                                                        *ngIf="categorySortOption.searchKey"
                                                                                        (click)="categorySortOption.searchKey='';searchCategories();"></button>
                                                                                    <button type="submit"
                                                                                        class="search-box-item-click"
                                                                                        (click)="searchCategories()">
                                                                                        <i class="fa fa-search"
                                                                                            aria-hidden="true"></i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                                <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
                                                <ng-container *ngIf="!httpRequestLoader.isLoading">
                                                    <div class="table-responsive">
                                                        <table class='table tgrid table-hover table-sm'
                                                            id="category-list"
                                                            *ngIf="categoryPagination.pagedItems?.length>0"
                                                            aria-describedby="">
                                                            <thead>
                                                                <tr>
                                                                    <th class="text-center" colspan="2"
                                                                        style="width: 50%" id="border-bottom">
                                                                        <span class="ui-column-resizer gray"
                                                                            (mousedown)="referenceService.onMouseDown($event,'category-list',2)">
                                                                        </span>
                                                                        <span class="gridHeader" translate>Folder</span>
                                                                    </th>
                                                                    <th class="text-center" id="border-bottom"
                                                                        translate>Created On</th>
                                                                    <th class="text-center" id="border-bottom"
                                                                        translate>Items Count</th>
                                                                    <th class="text-center border-top"
                                                                        id="border-bottom">Actions</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let category of categoryPagination.pagedItems ;let i =index"
                                                                    id="CategoryList_{{category.id}}">
                                                                    <td class="custom-icon-width">
                                                                        <i class="{{category.icon}}" aria-hidden="true"
                                                                            id="fa-custom-width"></i>
                                                                    </td>
                                                                    <td>
                                                                        <h4 class="moreipsis" title="{{category.name}}">
                                                                            <span>{{category.name}}</span>
                                                                        </h4>
                                                                        <h6 class="moreipsis">
                                                                            <span translate> Created By
                                                                                <strong>{{category.createdBy}}</strong></span>
                                                                        </h6>
                                                                    </td>
                                                                    <td class="text-center">
                                                                        <app-timestamp
                                                                            *ngIf="!referenceService.isSafariBrowser()"
                                                                            [isOnlyDate]="false"
                                                                            [dateAndTime]="category.displayTime">
                                                                        </app-timestamp>
                                                                        <span
                                                                            *ngIf="referenceService.isSafariBrowser()">{{category.displayTime}}</span>
                                                                    </td>
                                                                    <td class="text-center">
                                                                        <span>{{category.count}}</span>
                                                                    </td>
                                                                    <td>
                                                                        <div
                                                                            class="actions-block override-actions cwotpx mb_whitespace">
                                                                            <ng-container
                                                                                *ngIf="category.defaultCategory">
                                                                                <a data-placement="top"
                                                                                    class="disabled-event"
                                                                                    title="Default Folder Can't Be Edited">
                                                                                    <i class="fa fa-pencil-square-o disabled-event IconCustomization gray"
                                                                                        aria-hidden="true"></i>
                                                                                </a>
                                                                                <a id="template-delete"
                                                                                    class="disabled-event"
                                                                                    data-placement="top"
                                                                                    title="Default Folder Can't Be Deleted">
                                                                                    <i class="fa fa-trash-o disabled-event trashIconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                </a>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="!category.defaultCategory">
                                                                                <a class="custom-icon"
                                                                                    data-toggle="tooltip"
                                                                                    data-placement="top" title="Edit"
                                                                                    (click)="getCategoryById(category)">
                                                                                    <i class="fa fa-pencil-square-o IconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                    <div class="clickicons"></div>
                                                                                </a>
                                                                                <a class="custom-icon"
                                                                                    id="template-delete"
                                                                                    (click)="confirmDeleteCategory(category)"
                                                                                    data-toggle="tooltip"
                                                                                    data-placement="top" title="Delete">
                                                                                    <i class="fa fa-trash-o trashIconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                    <div class="del-icon"></div>
                                                                                </a>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="category?.count>0">
                                                                                <a class="custom-icon"
                                                                                    *ngIf="categoryPagination.previewAccess"
                                                                                    data-toggle="tooltip"
                                                                                    data-placement="top" title="Preview"
                                                                                    (click)="previewItems(category)">
                                                                                    <i class="fa fa-eye IconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                    <div class="clickicons"></div>
                                                                                </a>
                                                                                <a class="custom-icon"
                                                                                    *ngIf="!categoryPagination.previewAccess"
                                                                                    title="You do not have permission to preview">
                                                                                    <i class="fa fa-eye disabled-event IconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                    <div class="clickicons"></div>
                                                                                </a>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="category?.count==0">
                                                                                <a data-toggle="tooltip"
                                                                                    data-placement="top"
                                                                                    title="Nothing To Preview">
                                                                                    <i class="fa fa-eye disabled-event IconCustomization"
                                                                                        aria-hidden="true"></i>
                                                                                </a>
                                                                            </ng-container>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </ng-container>
                                                <div *ngIf="categoryPagination.pagedItems.length !== 0" class="pg8">
                                                    <app-pagination [pagination]="categoryPagination"
                                                        (notifyParent)="setPage($event)"
                                                        (notifyParentDropDown)="listCategories($event)"
                                                        [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                                </div>
                                                <!-- End of 24 -->
                                                <div *ngIf="categoryPagination.totalRecords==0 && !httpRequestLoader.isLoading"
                                                    class="alert alert-info">
                                                    <strong translate>No Folders Found.</strong>
                                                </div>
                                            </ng-container>
                                            <!--------------Preview Items------------------>
                                            <ng-container *ngIf="isFolderPreview">
                                                <app-dashboard-loader
                                                    *ngIf="folderPreviewLoader.isLoading"></app-dashboard-loader>
                                                <div class="portlet-title" *ngIf="!folderPreviewLoader.isLoading">
                                                    <h4 class="caption-subject font-red-sunglo f-w-600 pull-left">
                                                        {{categoryPreviewItem.categoryName}}</h4>
                                                    <a class="close-circle pull-right" (click)="isFolderPreview=false">
                                                        <i class="fa fa-times" aria-hidden="true"></i>
                                                    </a>
                                                </div>
                                                <br>
                                                <div class="table table-responsive top-padding-5px"
                                                    *ngIf="!folderPreviewLoader.isLoading">
                                                    <table class='table tgrid table-hover table-sm'>
                                                        <thead>
                                                            <tr>
                                                                <th>Module</th>
                                                                <th>Count</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let item of categoryPreviewItem.items;let i=index"
                                                                [className]="(item?.previewAccess  && item.moduleItemsCount>0)  ? 'xamplify-cursor-pointer' : 'xampify-cursor-not-allowed'"
                                                                (click)="goToFolder(categoryPreviewItem.categoryId,item)">
                                                                <td>
                                                                    <h5 class="xamplify-folder-banner">
                                                                        {{item.moduleName}}</h5>
                                                                    <img class="img-class-list"
                                                                        src="{{item.moduleIcon}}" alt="Image Not Found">
                                                                </td>
                                                                <td>
                                                                    <div
                                                                        class="override-actions justify-content-start mleft-10">
                                                                        <a class="custom-icon"
                                                                            [title]="item?.previewAccess ? 'Count' : 'You do not have permission to preview'"
                                                                            data-toggle="tooltip"
                                                                            data-placement="bottom">
                                                                            <i *ngIf="item.previewAccess"
                                                                                class="circled-number fontStyleNormal IconCustomization"
                                                                                (click)="goToFolder(categoryPreviewItem.categoryId,item)"><b>{{item.moduleItemsCount}}</b></i>
                                                                            <i *ngIf="!item.previewAccess"
                                                                                class="circled-number fontStyleNormal IconCustomization xampify-cursor-not-allowed"><b>{{item.moduleItemsCount}}</b></i>
                                                                            <div class="clickicons"></div>
                                                                        </a>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </ng-container>

                                        </div>
                                        <!-- END Categories TAB -->
                                        <div id="app-dark" class="tab-pane img-shadpw"
                                            [ngClass]="{'active': activeTabName == 'lightTheme'}"
                                            style="border-radius: 10px;">
                                            <div class="row desktop-mobile-width">
                                                <div class="col-xs-12 col-sm-12 col-lg-12">
                                                    <div class="col-md-9 col-sm-9 col-xs-12 desktopview">
                                                        <div class="desktopview-align">
                                                            <img *ngIf="themeDto.id==1"
                                                                src="assets/images/theme/1/Webp/Desktop.webp"
                                                                class="desktopimg-custome">
                                                            <img *ngIf="themeDto.id==2"
                                                                src="assets/images/theme/1/Webp/dd.webp"
                                                                class="desktopimg-custome">
                                                            <img *ngIf="themeDto.id==4"
                                                                src="assets/images/theme/Final/neumorphism-dark-preview-laptop.webp"
                                                                class="desktopimg-custome">
                                                            <img *ngIf="themeDto.id==3"
                                                                src="assets/images/theme/Final/neumorphism-light-preview-laptop.webp"
                                                                class="desktopimg-custome">
                                                            <img *ngIf="themeDto.name== 'Glassomorphism Light'"
                                                                src="assets/images/theme/Final/glassomorphism-light-preview-laptop.png"
                                                                class="desktopimg-custome">
                                                            <img *ngIf="themeDto.name== 'Glassomorphism Dark'"
                                                                src="assets/images/theme/Final/glassomorphism-dark-preview-laptop.png"
                                                                class="desktopimg-custome">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-sm-3 col-xs-12 mobileview">
                                                        <div class="mobileview-align">
                                                            <img *ngIf="themeDto.id==1"
                                                                src="assets/images/theme/1/Webp/mobile.webp"
                                                                class="mobileimg-custome">
                                                            <img *ngIf="themeDto.id==2"
                                                                src="assets/images/theme/1/Webp/dm.webp"
                                                                class="mobileimg-custome">
                                                            <img *ngIf="themeDto.id==4"
                                                                src="assets/images/theme/Final/neumorphism-dark-preview-mobile.webp"
                                                                class="mobileimg-custome">
                                                            <img *ngIf="themeDto.id==3"
                                                                src="assets/images/theme/Final/neumorphism-light-preview-mobile.webp"
                                                                class="mobileimg-custome">
                                                            <img *ngIf="themeDto.name== 'Glassomorphism Light'"
                                                                src="assets/images/theme/Final/glassomorphism-light-preview-mobile.png"
                                                                class="mobileimg-custome">
                                                            <img *ngIf="themeDto.name== 'Glassomorphism Dark'"
                                                                src="assets/images/theme/Final/glassomorphism-dark-preview-mobile.png"
                                                                class="mobileimg-custome">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="row  bar-background">
                                                <div class="col-xs-12 col-sm-12 col-lg-12">
                                                    <div class="theambg-custome">
                                                        <span class="theme-heading">{{themeName}} Theme</span>
                                                        &nbsp;&nbsp;
                                                        <span class="button-style"
                                                            *ngIf="themeDto?.id == activeThemeDetails?.themeId"> Active
                                                        </span>
                                                        <p class="pt-4" themeName
                                                            *ngIf="themeDto?.id == activeThemeDetails?.themeId">
                                                            Activated On:<app-display-date-and-time
                                                                [dateAndTimeUTCString]="activeThemeDetails?.updatedDate"></app-display-date-and-time>
                                                        </p>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!---Custom Skin Settings-->
                                        <app-custom-skin class="tab-pane" [themeDTO]="themeDto" [themeId]="themeDto.id"
                                            [isSaveTheme]="isSaveTheme" [activeThemeId]="activeThemeDetails.themeId"
                                            [ngClass]="{'active': activeTabName == 'customTheme'}"
                                            *ngIf="activeTabName == 'customTheme'"
                                            (closeEvent)="showThemeAlert($event)">
                                        </app-custom-skin>
                                        <!--Tags-->
                                        <app-tags class="tab-pane" [ngClass]="{'active': activeTabName == 'tags'}"></app-tags>
                                        <!--SPF-->
                                        <app-spf class="tab-pane" *ngIf="showSpfConfigurationDiv" [ngClass]="{'active': activeTabName == 'spf'}"></app-spf>
                                        <!--Unsubscribe Reasons-->
                                        <app-unsubscribe-reasons *ngIf="showUnsubscribeReasonsDiv" class="tab-pane" [ngClass]="{'active': activeTabName == 'unsubscribeReasons'}"></app-unsubscribe-reasons>
                                        <!--Team Member Groups-->
                                        <app-manage-team-member-group *ngIf="showTeamMemberGroups" class="tab-pane" [ngClass]="{'active': activeTabName == 'team-group'}"></app-manage-team-member-group>
                                        <!--Notify Partners-->
                                        <app-notify-partners *ngIf="showNotifyPartnersOption && authenticationService?.module.notifyPartners"
                                            class="tab-pane" [ngClass]="{'active': activeTabName == 'notifyPartners'}"></app-notify-partners>
                                        <!--XNFR-326 Email Notification Settings-->
                                        <app-email-notification-settings *ngIf="showEmailNotificationSettingsOption && authenticationService?.module?.emailNotificationSettings"
                                            class="tab-pane" [ngClass]="{'active': activeTabName == properties?.emailNotificationSettings}">
                                        </app-email-notification-settings>
                                        <!--XNFR-454 Domain Configuration-->
                                        <app-domain-whitelisting *ngIf="isAddDomainsOptionClicked" class="tab-pane"
                                            [ngClass]="{'active': activeTabName == properties?.addDomainsText}" [isMyProfileAndDomainWhitelisting]='true'>
                                        </app-domain-whitelisting>
                                        <!--Market Place-->
                                        <app-market-place-categories *ngIf="isMasterLandingPageCategories" class="tab-pane"  [ngClass]="{'active': activeTabName == 'masterLandingPageCategories'}">
                                        </app-market-place-categories>
                                        <!--XNFR-459 News & Announcements-->
                                        <div class="tab-pane" *ngIf="isNewsAndAnnouncementsOptionClicked" [ngClass]="{'active': activeTabName == properties?.newsAndAnnouncements}">
                                            <app-custom-links-util [moduleType]="properties?.newsAndAnnouncements"></app-custom-links-util>
                                        </div>
                                        <!--XNFR-459 Dashboard Banners-->
                                        <div class="tab-pane" *ngIf="isDashboardBannersOptionClicked"  [ngClass]="{'active': activeTabName == properties?.dashboardBanners}">
                                            <app-custom-links-util [moduleType]="properties?.dashboardBanners"></app-custom-links-util>
                                        </div>
                                        <!--video default player settings-->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'playerSettings'}">
                                            <div>
                                                <div>
                                                    <form role="form" [formGroup]="defaultPlayerForm" *ngIf="active"
                                                        (ngSubmit)="UpdatePlayerSettingsValues()">
                                                        <div class="col-xs-12" style="padding:0">
                                                            <fieldset class="fild-custome-borders-none">
                                                                <legend class="leg-custome-borders-bot" translate>Video
                                                                    Player Appearance</legend>
                                                                <div
                                                                    class="col-xs-12 col-sm-6 col-md-6 align-itms-center">
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 form-group"
                                                                        style="margin-bottom: 10px;">
                                                                        <label
                                                                            class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-6 control-label">
                                                                            {{'Player Color' | translate}}:</label>
                                                                        <div
                                                                            class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                                            <input
                                                                                [hidden]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                                [(colorPicker)]="compPlayerColor"
                                                                                [style.background]="compPlayerColor"
                                                                                [value]="compPlayerColor"
                                                                                formControlName="playerColor"
                                                                                (colorPickerChange)="changePlayerColor($event)"
                                                                                class="field-border-customization picker-width"
                                                                                [cpWidth]="'200px'" [cpHeight]="'265px'"
                                                                                [cpPosition]="'bottom'"
                                                                                [class.disablePlayerValues]="hasVideoRole" />
                                                                            <input
                                                                                [hidden]="!hasVideoRole && defaultVideoPlayer.enableVideoController"
                                                                                [(ngModel)]="compPlayerColor"
                                                                                [ngModelOptions]="{standalone: true}"
                                                                                [style.background]="compPlayerColor"
                                                                                [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                                class="field-border-customization picker-width" />
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-12 form-group"
                                                                        style="margin-bottom: 10px;">
                                                                        <label
                                                                            class="col-xs-12 col-sm-6 col-md-12 col-lg-6 control-label">
                                                                            {{'Enable Video Controller' |
                                                                            translate}}:</label>
                                                                        <div
                                                                            class="col-xs-12 col-sm-6 col-md-12 col-lg-6">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.enableVideoController"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="enableVideoController($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-12 form-group"
                                                                        style="margin-bottom: 10px;">
                                                                        <label
                                                                            class="col-xs-12 col-sm-6 col-md-6 col-lg-6 control-label">
                                                                            {{'Controller Color' | translate}}:</label>
                                                                        <div
                                                                            class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                                            <input
                                                                                [hidden]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                                [(colorPicker)]="compControllerColor"
                                                                                [style.background]="compControllerColor"
                                                                                formControlName="controllerColor"
                                                                                [cpWidth]="'200px'" [cpHeight]="'265px'"
                                                                                (colorPickerChange)="changeControllerColor($event, defaultVideoPlayer.enableVideoController)"
                                                                                class="field-border-customization picker-width"
                                                                                [value]="compControllerColor"
                                                                                [cpPosition]="'bottom'"
                                                                                [class.disablePlayerValues]="hasVideoRole" />
                                                                            <input
                                                                                [hidden]="!hasVideoRole && defaultVideoPlayer.enableVideoController"
                                                                                [(ngModel)]="compControllerColor"
                                                                                [ngModelOptions]="{standalone: true}"
                                                                                [style.background]="compControllerColor"
                                                                                [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                                class="field-border-customization picker-width" />
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-12 form-group"
                                                                        style="margin-bottom: 10px;">
                                                                        <label
                                                                            class="col-xs-12 col-sm-6 col-md-6 col-lg-6 control-label">{{'Transparency'
                                                                            | translate}}:</label>
                                                                        <div
                                                                            class="col-xs-12 col-sm-5 col-md-6 col-lg-6">
                                                                            <input class="ranger-width" type="range"
                                                                                id="rangeValue" min="0" max="100"
                                                                                value="{{valueRange}}"
                                                                                style="width: 100%;"
                                                                                (input)="transperancyControllBar(Transvalue.value)"
                                                                                [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                                #Transvalue>
                                                                        </div>
                                                                        <div class="col-xs-1" style="padding-left:15px">
                                                                            {{valueRange}}</div>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="col-xs-12 col-sm-6 col-md-6 col-lg-6 custome video-sidepadding">
                                                                    <video id="profile_video_player"
                                                                        class="video-js vjs-default-skin vjs-nofull custome-video"
                                                                        controls height="160" poster=""
                                                                        data-setup='{"example_option":true }'>
                                                                        <source [src]="videoUrl"
                                                                            type="application/x-mpegURL">
                                                                    </video>
                                                                    <div id="overlay-logo">
                                                                        <a [href]="logoLink" target="_blank">
                                                                            <img *ngIf="logoImageUrlPath"
                                                                                [src]="authenticationService.MEDIA_URL + logoImageUrlPath"
                                                                                class="img-responsive logo-image"
                                                                                [class.logo-video]="fullScreenMode"
                                                                                alt="">
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </fieldset>
                                                        </div>
                                                        <!-- removed bg-color white and shadow white (ss) -->
                                                        <div class="col-xs-12" style="padding:0;">
                                                            <fieldset class="fild-custome-borders-none">
                                                                <legend class="leg-custome-borders-bot">Controls of the player</legend>
                                                                <div class="col-xs-12">
                                                                    <div class="form-group">
                                                                        <label  class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Allow Sharing'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"  [(status)]="defaultVideoPlayer.allowSharing"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="allowSharing($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                        <label  class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Allow Fullscreen'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.allowFullscreen"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="changeFullscreen($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group" style="margin-top: 38px;">
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Allow  Likes'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.allowLikes"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="allowLikes($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Allow Embed'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.allowEmbed"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="enableEmbed($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="col-xs-12" style="margin-top: 4px;">
                                                                    <div class="form-group">
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Enable Settings'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.enableSettings"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="enableSettings($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Allow Comments'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.allowComments"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="allowComments($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group" style="margin-top: 37px;">
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'Enable Casting'}}:</label>
                                                                        <div class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.enableCasting"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="enableCasting($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                        <label class="col-xs-6 col-sm-3 col-md-6 col-lg-3 control-label">{{'360 video'}}:</label>
                                                                        <div
                                                                            class="col-xs-6 col-sm-3 col-md-6 col-lg-3">
                                                                            <switch class="switchbtns"
                                                                                [(status)]="defaultVideoPlayer.is360video"
                                                                                [onText]="callActionSwitch.onTextValue"
                                                                                [offText]="callActionSwitch.offTextValue"
                                                                                [onColor]="callActionSwitch.onSkyBlueColorSwitch"
                                                                                [offColor]="callActionSwitch.offDefaultColor"
                                                                                [size]="callActionSwitch.size"
                                                                                (statusChange)="enable360Video($event)"
                                                                                [disabled]="hasVideoRole">
                                                                            </switch>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 button-align" style="padding-left: 10px;">
                                                                    <button type="submit" class="button bgcolor-unset pd_lft2"  [disabled]="hasVideoRole"><span class="btn Btn-Green transition txt_pd-top3">Save Changes</span></button>
                                                                    <button type="button" class="btn Btn-Gray neg_mrg_top4" (click)="resetForm()" [disabled]="hasVideoRole">Cancel</button>
                                                                </div>
                                                            </fieldset>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>

                                        <!--Exclude functionality code-->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'exclude'}">
                                            <app-dashboard-loader *ngIf="httpRequestLoader.isLoading">
                                            </app-dashboard-loader>
                                            <app-response-message
                                                [customResponse]="excludeUserCustomResponse"></app-response-message>
                                            <table class="table table-light"
                                                *ngIf="!httpRequestLoader.isLoading && !httpRequestLoader.isServerError"
                                                style="border: 0px !important; background-color: transparent !important">
                                                <tbody class="neo-border-radius10">
                                                    <fieldset class="fild-custome-borders-none">
                                                        <div
                                                            class="col-xs-12 col-sm-12 col-md-12 col-lg-12 def-player-border pl-5">
                                                            <h4 class="col-xs-6 col-sm-6 col-md-6 col-lg-6"
                                                                style="font-weight:600;font-size:21px;padding:0">Exclude
                                                                A User</h4>
                                                            <button (click)="downloadEmptyCSV('exclude-users')"
                                                                type="button"
                                                                class="button bgcolor-unset col-xs-6 col-sm-6 col-md-6 col-lg-6 customize-btn-space mb_10 bgcolor-unset neg_mrg_rgt33 neg_mrg_rgt7"
                                                                download style="float:right"
                                                                [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}"
                                                                translate>
                                                                <span
                                                                    class="btn Btn-Green transition txt_pd-top3">Download
                                                                    User CSV
                                                                    Template <i class="fa fa-download"
                                                                        aria-hidden="true"
                                                                        style="margin-left: 5px"></i></span>
                                                            </button>
                                                        </div>

                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
                                                            <div class="col-sm-6 col-lg-6 col-md-6 btn-group p0 btn-align"
                                                                style="margin-top:10px;"
                                                                *ngIf="(authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || hasAllAccess  ||
                                                                authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() || isPartnerSuperVisor  )">
                                                                <button class="button bgcolor-unset mrgn_lft0 p0 px-9"
                                                                    [disabled]="csvExcludeUsersFilePreview"
                                                                    (click)="addContactModalOpen()" translate>
                                                                    <span
                                                                        class="btn Btn-Green transition txt_pd-top3 pd_lft8">One
                                                                        at a Time
                                                                        <i class="fa fa-plus"
                                                                            style="font-size: 12px; margin-left: 2px;"></i></span>
                                                                </button>

                                                                <button id="uploadCSV"
                                                                    class="button bgcolor-unset mrgn_lft0 p0 px-9"
                                                                    translate>
                                                                    <span class="btn Btn-Green transition txt_pd-top3">
                                                                        <span style="text-align: center"
                                                                            translate>Upload
                                                                            CSV</span> <input class="upload-file"
                                                                            type="file" title=" "
                                                                            (click)="input.value = null"
                                                                            (change)="fileChange(input, 'exclude-users')"
                                                                            accept=".csv" #input />
                                                                        <span><i class="fa fa-upload" aria-hidden="true"
                                                                                style="font-size: 12px; margin-left: 5px;"></i></span></span>
                                                                </button>

                                                            </div>

                                                            <div class="portlet-input input-inline search-class col-sm-6 col-lg-6 col-md-6 TotalSearchBoxWidth"
                                                                style="float:right;margin-top:10px;"
                                                                *ngIf="!csvExcludeUsersFilePreview"
                                                                [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
                                                                <div class="input-icon right">
                                                                    <input type="text" id="sort-text"
                                                                        [(ngModel)]="searchExcludedUserKey"
                                                                        (keypress)="searchExcludeUsersDataEventHandler($event.keyCode)"
                                                                        [ngModelOptions]="{standalone: true}"
                                                                        class="form-control"
                                                                        placeholder="Search for a user">
                                                                    <button *ngIf="searchExcludedUserKey"
                                                                        class="glyphicon glyphicon-remove search-box-item-clear"
                                                                        (click)="searchExcludedUserKey='';search('excludeUsers')"></button>
                                                                    <button type="submit" class="search-box-item-click"
                                                                        (click)="search('excludeUsers')">
                                                                        <i class="fa fa-search"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div *ngIf="excludeUserPagination.pagedItems?.length === 0"
                                                            class="alert alert-info exclusionNoRecordsFound">
                                                            <strong>No Records Found.</strong>
                                                        </div>

                                                        <!--  starting file preview -->

                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row"
                                                            id="file_preview" *ngIf="csvExcludeUsersFilePreview">
                                                            <div class="col-xs-12 p0" style="margin-top: 10px;">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet box blue">
                                                                    <div class="portlet-title">
                                                                        <div class="caption" translate>
                                                                            <i class="fa fa-edit"></i>File Preview
                                                                        </div>
                                                                        <button type="submit" class="btn Btn-Green"
                                                                            style="float:right;margin-top:4px;"
                                                                            [disabled]="excludedUsers.length === 0"
                                                                            (click)="confirmAndsaveExcludedUsers(excludedUsers)"
                                                                            translate>Save</button>
                                                                        <button class="btn Btn-Gray"
                                                                            style="float:right;margin-top:4px;"
                                                                            (click)="cancelCSVFilePreview('exclude-users')"
                                                                            translate>Cancel</button>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <app-list-loader
                                                                            *ngIf="isListLoader"></app-list-loader>
                                                                        <app-response-message
                                                                            [customResponse]="filePreviewexcludeUserCustomResponse"></app-response-message>
                                                                        <div class="table-responsive">
                                                                            <table class="table tgrid"
                                                                                id="sample_editable_2">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th translate>EMAILID</th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <ng-container
                                                                                        *ngFor="let user of csvUserPagination.pagedItems;let i=index">
                                                                                        <tr>
                                                                                            <td
                                                                                                title="{{user.emailId}}">
                                                                                                {{user.emailId |
                                                                                                slice:0:35}}
                                                                                                <span
                                                                                                    *ngIf="user.emailId?.length>35">...</span>
                                                                                            </td>
                                                                                        </tr>

                                                                                    </ng-container>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>

                                                                        <!-- paignation added-->
                                                                        <div *ngIf="csvUserPagination.pagedItems.length !== 0"
                                                                            class="pg8">
                                                                            <app-pagination [type]="'csvUsers'"
                                                                                [pagination]="csvUserPagination"
                                                                                (notifyParent)="setPage($event)"
                                                                                (notifyParentDropDown)="setPage($event)"
                                                                                [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                                                        </div>
                                                                        <!-- paignation end-->

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--  ending file preview -->
                                                        <div class="clearfix"
                                                            *ngIf="excludeUserPagination.pagedItems?.length>0 && !csvExcludeUsersFilePreview">
                                                            <div class="col-xs-12 p0" style="margin-top: 10px;">
                                                                <div class="table-responsive">
                                                                    <table class='table tgrid'
                                                                        *ngIf="excludeUserPagination.pagedItems?.length>0">
                                                                        <thead>
                                                                            <tr>

                                                                                <th style="width: 50%" translate>Name
                                                                                </th>
                                                                                <th style="width: 40%" translate>Time
                                                                                </th>
                                                                                <th style="width:10%" translate>ACTIONS
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <ng-container
                                                                                *ngFor="let user of excludeUserPagination.pagedItems ;let i =index">
                                                                                <tr class='row_{{i}}'
                                                                                    style="background-color: #FFFFFF;">

                                                                                    <td>
                                                                                        <app-user-info [userInfo]="user"
                                                                                            [isExclusion]="true">
                                                                                        </app-user-info>
                                                                                    </td>
                                                                                    <td>
                                                                                        <h6>
                                                                                            <app-timestamp
                                                                                                [dateAndTime]="user.time">
                                                                                            </app-timestamp>
                                                                                        </h6>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="actions-block override-actions mb_whitespace"
                                                                                            style="float:none;"
                                                                                            *ngIf="(authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || hasAllAccess  ||
                            authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() || isPartnerSuperVisor  )">
                                                                                            <a class="custom-icon"
                                                                                                data-toggle="tooltip"
                                                                                                data-placement="top"
                                                                                                title="delete"
                                                                                                (click)="showDeleteExcludedUserAlert(user.userId)">
                                                                                                <i class="fa fa-trash-o trashIconCustomization"
                                                                                                    aria-hidden="true"></i>
                                                                                                <div class="del-icon">
                                                                                                </div>
                                                                                            </a>
                                                                                        </div>
                                                                                    </td>

                                                                            </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>

                                                            <!-- paignation added-->
                                                            <div *ngIf="excludeUserPagination.pagedItems.length !== 0"
                                                                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pg8">
                                                                <app-pagination [type]="'excludeUsers'"
                                                                    [pagination]="excludeUserPagination"
                                                                    (notifyParent)="setPage($event)"
                                                                    (notifyParentDropDown)="listExcludedUsers($event)"
                                                                    [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                                            </div>
                                                            <!-- paignation end-->
                                                        </div>



                                                        <!-- new -->
                                                    </fieldset>
                                                    <br>
                                                </tbody>
                                            </table>


                                            <app-response-message
                                                [customResponse]="excludeDomainCustomResponse"></app-response-message>
                                            <table class="table table-light"
                                                style="border: 0px !important; background-color: transparent !important"
                                                *ngIf="!httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                                                <tbody class="neo-border-radius10">
                                                    <fieldset class="fild-custome-borders-none">
                                                        <div
                                                            class="col-xs-12 col-sm-12 col-md-12 col-lg-12 def-player-border pl-5">
                                                            <h4 class="col-xs-12 col-sm-6 col-md-6 col-lg-6"
                                                                style="font-weight:600;font-size:21px;padding:0">Exclude
                                                                A Domain</h4>
                                                            <button (click)="downloadEmptyCSV('exclude-domains')"
                                                                type="button"
                                                                class="button bgcolor-unset col-xs-6 col-sm-6 col-md-6 col-lg-6 customize-btn-space mb_10 neg_mrg_rgt33 neg_mrg_rgt7"
                                                                download style="float:right"
                                                                [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}"
                                                                translate>
                                                                <span
                                                                    class="btn Btn-Green transition txt_pd-top3">Download
                                                                    Domain
                                                                    CSV Template<i class="fa fa-download"
                                                                        aria-hidden="true"
                                                                        style="margin-left: 5px"></i></span>
                                                            </button>

                                                        </div>
                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
                                                            <div class="col-sm-6 col-lg-6 col-md-6 btn-group p0 btn-align"
                                                                style="margin-top:10px;"
                                                                *ngIf="(authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || hasAllAccess  ||
                                                                authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() || isPartnerSuperVisor  )">
                                                                <button id="add_domain"
                                                                    class="button bgcolor-unset mrgn_lft0 p0 px-9"
                                                                    [disabled]="csvExcludeDomainsFilePreview"
                                                                    (click)="addDomainModalOpen()" translate>
                                                                    <span
                                                                        class="btn Btn-Green transition txt_pd-top3 pd_lft8">One
                                                                        at a Time
                                                                        <i class="fa fa-plus"
                                                                            style="font-size: 12px; margin-left: 2px;"></i></span>
                                                                </button>

                                                                <button id="uploadCSV"
                                                                    class="button bgcolor-unset p0 px-9" translate>
                                                                    <span class="btn Btn-Green transition txt_pd-top3">
                                                                        <span style="text-align: center"
                                                                            translate>Upload
                                                                            CSV</span> <input class="upload-file"
                                                                            type="file" title=" "
                                                                            (click)="input.value = null"
                                                                            (change)="fileChange(input, 'exclude-domains')"
                                                                            accept=".csv" #input />
                                                                        <i class="fa fa-upload" aria-hidden="true"
                                                                            style="font-size: 12px; margin-left: 5px;"></i></span>
                                                                </button>

                                                            </div>

                                                            <div class="portlet-input input-inline search-class col-sm-6 col-lg-6 col-md-6 TotalSearchBoxWidth"
                                                                style="float:right;margin-top:10px;"
                                                                *ngIf="!csvExcludeDomainsFilePreview"
                                                                [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}">
                                                                <div class="input-icon right">
                                                                    <input type="text"
                                                                        [(ngModel)]="searchExcludedDomainKey"
                                                                        (keypress)="searchExcludeDomainsDataEventHandler($event.keyCode)"
                                                                        [ngModelOptions]="{standalone: true}"
                                                                        class="form-control"
                                                                        placeholder="Search for a domain">
                                                                    <button *ngIf="searchExcludedDomainKey"
                                                                        class="glyphicon glyphicon-remove search-box-item-clear"
                                                                        (click)="searchExcludedDomainKey='';search('excludedDomains')"></button>
                                                                    <button type="submit" class="search-box-item-click"
                                                                        (click)="search('excludedDomains')">
                                                                        <i class="fa fa-search"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div *ngIf="excludeDomainPagination.pagedItems?.length === 0"
                                                            class="alert alert-info exclusionNoRecordsFound">
                                                            <strong>No Records Found.</strong>
                                                        </div>

                                                        <!--  starting file preview -->

                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row"
                                                            id="file_preview" *ngIf="csvExcludeDomainsFilePreview">
                                                            <div class="col-xs-12 p0" style="margin-top: 10px;">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet box blue">
                                                                    <div class="portlet-title">
                                                                        <div class="caption" translate>
                                                                            <i class="fa fa-edit"></i>File Preview
                                                                        </div>
                                                                        <button type="submit" class="btn Btn-Green"
                                                                            style="float:right;margin-top:4px;"
                                                                            [disabled]="this.excludedDomains.length === 0"
                                                                            (click)="confirmAndsaveExcludedDomains(excludedDomains)"
                                                                            translate>Save</button>
                                                                        <button class="btn Btn-Gray"
                                                                            style="float:right;margin-top:4px;"
                                                                            (click)="cancelCSVFilePreview('exclude-domains')"
                                                                            translate>Cancel</button>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <app-list-loader
                                                                            *ngIf="isListLoader"></app-list-loader>
                                                                        <app-response-message
                                                                            [customResponse]="filePreviewexcludeUserCustomResponse"></app-response-message>
                                                                        <div class="table-responsive">
                                                                            <table class="table tgrid"
                                                                                id="sample_editable_2">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th translate>DOMAIN</th>

                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <ng-container
                                                                                        *ngFor="let domainName of csvDomainPagination.pagedItems;let i=index">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <h6>
                                                                                                    {{domainName}} </h6>
                                                                                            </td>
                                                                                        </tr>

                                                                                    </ng-container>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>

                                                                        <!-- paignation added-->
                                                                        <div *ngIf="csvDomainPagination.pagedItems.length !== 0"
                                                                            class="pg8">
                                                                            <app-pagination [type]="'csvDomains'"
                                                                                [pagination]="csvDomainPagination"
                                                                                (notifyParent)="setPage($event)"
                                                                                (notifyParentDropDown)="setPage($event)"
                                                                                [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                                                        </div>
                                                                        <!-- paignation end-->

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--  ending file preview -->

                                                        <div class="clearfix"
                                                            *ngIf="excludeDomainPagination.pagedItems?.length>0 && !csvExcludeDomainsFilePreview">
                                                            <div class="col-xs-12 p0" style="margin-top: 10px;">
                                                                <div class="table-responsive">
                                                                    <table class='table tgrid'
                                                                        *ngIf="excludeDomainPagination.pagedItems?.length>0">
                                                                        <thead>
                                                                            <tr>

                                                                                <th style="width: 50%" translate>Name
                                                                                </th>
                                                                                <th style="width: 40%" translate>Time
                                                                                </th>
                                                                                <th style="width:10%" translate>ACTIONS
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <ng-container
                                                                                *ngFor="let obj of excludeDomainPagination.pagedItems ;let i =index">
                                                                                <tr class='row_{{i}}'
                                                                                    style="background-color: #FFFFFF;">

                                                                                    <td>
                                                                                        <h6>
                                                                                            {{obj.domainName}} </h6>
                                                                                    </td>
                                                                                    <td>
                                                                                        <h6>
                                                                                            <app-timestamp
                                                                                                [dateAndTime]="obj.time">
                                                                                            </app-timestamp>
                                                                                        </h6>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="actions-block override-actions mb_whitespace"
                                                                                            style="float:none;"
                                                                                            *ngIf="(authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || hasAllAccess  ||
                            authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() || isPartnerSuperVisor  )">
                                                                                            <a class="custom-icon"
                                                                                                data-toggle="tooltip"
                                                                                                data-placement="top"
                                                                                                title="delete"
                                                                                                (click)="showDeleteExcludedDomainAlert(obj.domainName)">
                                                                                                <i class="fa fa-trash-o trashIconCustomization"
                                                                                                    aria-hidden="true"></i>
                                                                                                <div class="del-icon">
                                                                                                </div>
                                                                                            </a>
                                                                                        </div>
                                                                                    </td>

                                                                            </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- paignation added-->
                                                            <div *ngIf="excludeDomainPagination.pagedItems.length !== 0"
                                                                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pg8">
                                                                <app-pagination [type]="'excludedDomains'"
                                                                    [pagination]="excludeDomainPagination"
                                                                    (notifyParent)="setPage($event)"
                                                                    (notifyParentDropDown)="listExcludedDomains($event)"
                                                                    [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                                            </div>
                                                            <!-- paignation end-->
                                                        </div>

                                                        <!-- new -->
                                                    </fieldset>
                                                    <br>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- Vendor Journey -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'vendorJourney'}">
                                            <app-vendor-journey *ngIf="vendorJourney"
                                                [loggedInUserCompanyId]="loggedInUserCompanyId"
                                                [moduleType]="properties.vendorJourney"
                                                (vendorJourneyEditOrViewAnalytics)="vendorJourneyEditOrViewAnalytics = true"
                                                (goBackToMyProfile)="goBackToMyProfile()"></app-vendor-journey>
                                        </div>
                                        <!-- Landing Pages -->
                                        <div class="tab-pane" [ngClass]="{'active': activeTabName == 'landingPages'}">
                                            <app-vendor-journey *ngIf="isLandingPages"
                                                [loggedInUserCompanyId]="loggedInUserCompanyId"
                                                (vendorJourneyEditOrViewAnalytics)="vendorJourneyEditOrViewAnalytics = true"
                                                (goBackToMyProfile)="goBackToMyProfile()"
                                                [moduleType]="properties.landingPages"></app-vendor-journey>
                                        </div>
                                        <!--Master Landing Pages -->
                                        <div class="tab-pane"
                                            [ngClass]="{'active': activeTabName == 'masterLandingPages'}">
                                            <app-vendor-journey *ngIf="isMasterLandingPages"
                                                [loggedInUserCompanyId]="loggedInUserCompanyId"
                                                (vendorJourneyEditOrViewAnalytics)="vendorJourneyEditOrViewAnalytics = true"
                                                (goBackToMyProfile)="goBackToMyProfile()"
                                                [moduleType]="properties.masterLandingPages"></app-vendor-journey>
                                        </div>
                                        <!-- Support Settings -->
                                        <app-enable-support-access-to-vendor *ngIf="showSupportSettingOption" class="tab-pane"
                                            [ngClass]="{'active': activeTabName == 'support'}"></app-enable-support-access-to-vendor>
                                        <!--XNFR-386-->
                                        <app-custom-login-screen-settings [isTemplatesListDiv]="isTemplatesListDiv"(editLoginTemplate)="openBeeEditorForLoginTemplate($event)"
                                            *ngIf="isCustomLoginScreenSettingsOptionClicked" class="tab-pane" [ngClass]="{'active': activeTabName == properties?.customLoginScreen}">
                                        </app-custom-login-screen-settings>
                                        <!--XNFR-609 Campaign Analytics Settings-->
                                        <app-campaign-analytics-settings *ngIf="isCampaignAnalyticsOptionClicked" class="tab-pane" [ngClass]="{'active': activeTabName == MY_PROFILE_MENU_CONSTANTS?.CAMPAIGN_ANALYTICS_MENU_HEADER}"></app-campaign-analytics-settings>
                                        <!--XNFR-628 Chat GPT-->
                                        <app-chat-gpt-integration-settings *ngIf="isChatGptSettingsOptionClicked" class="tab-pane" [ngClass]="{'active': activeTabName == MY_PROFILE_MENU_CONSTANTS?.CHAT_GPT_SETTIGNS_MENU_HEADER}"></app-chat-gpt-integration-settings>
                                        <app-modal-popup-loader *ngIf="ngxloading && activeTabName != properties?.personalInfo && activeTabName != properties?.changePassword"></app-modal-popup-loader>
                                    </div>
                                </div>
                            </div>
                            <!--  XNFR-415 -->
                            <div *ngIf="(((( !authenticationService?.module?.isPartnerCompany ||  !authenticationService?.module?.isOnlyPartnerCompany) &&  !authenticationService?.module?.isTeamMember || authenticationService?.module?.adminOrSuperVisor )  && authenticationService?.module?.loggedInThroughOwnVanityUrl) && (!authenticationService?.module?.isMarketingCompany || !authenticationService?.module?.isMarketing))">
                                <div *ngIf="activeTabName === 'settings'"
                                    [ngClass]="{'active-tab': activeTabName === 'settings'}">
                                    <div class="portlet light">
                                        <div class="portlet-title tabbable-line">
                                            <span class="caption-subject font-blue-madison bold"
                                                *ngIf="activeTabName==='settings'">{{"Default Dashboard for My Partners"
                                                | translate}}</span>
                                        </div>
                                        <br>
                                        <form>
                                            <div>

                                                <label class="container-checkbox-xamplify" translate>Welcome
                                                    <input class="radioButton_shadow" type="radio"
                                                        name="dashboardSelectedOption"
                                                        value="{{DefaultDashBoardForPartnersEnum[DefaultDashBoardForPartnersEnum.WELCOME]}}"
                                                        [checked]="defaultSelectedDashboardTypeSetting === DefaultDashBoardForPartnersEnum[DefaultDashBoardForPartnersEnum.WELCOME] || defaultSelectedDashboardTypeSetting === undefined ">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="container-checkbox-xamplify"
                                                    translate>Dashboard

                                                    <input class="radioButton_shadow" type="radio"
                                                        name="dashboardSelectedOption"
                                                        value="{{DefaultDashBoardForPartnersEnum[DefaultDashBoardForPartnersEnum.ASSIGNED_DASHBOARD]}}"
                                                        [checked]="defaultSelectedDashboardTypeSetting === DefaultDashBoardForPartnersEnum[DefaultDashBoardForPartnersEnum.ASSIGNED_DASHBOARD] ">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                            <div class="margin-top-10">
                                                <button type="submit" class="button bgcolor-unset pd_lft2"
                                                    (click)="setDashboardForPartner()"><span
                                                        class="btn Btn-Green transition txt_pd-top3">Save
                                                        Changes</span></button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END PROFILE CONTENT -->
                </div>
            </div>
        </div>
        <!------Template Editor------------->
        <div *ngIf="editXamplifyDefaultTemplate">
            <div class="profile-content card-shadow">
                <div class="row">
                    <div class="col-md-12">
                        <div class="box-shadow-unset portlet light">
                            <div class="portlet-title tabbable-line">
                                <div class="caption caption-md col-xs-12">
                                    <i class="icon-globe theme-font hide" aria-hidden="true"></i>
                                    <span
                                        class="caption-subject font-blue-madison bold">{{xamplifyDefaultTemplate?.name}}</span>
                                    <a class="close-circle pull-right" (click)="goBackToMyProfile()">
                                        <i class="fa fa-times" aria-hidden="true"></i>
                                    </a>
                                </div>
                                <div class="form-group row" style="margin-left: -16px;">
                                    <label class="col-lg-2 col-md-3 col-sm-3 col-xs-5" style="margin-top: 6px;">Subject
                                        <span style="color: #f55d7a"><strong>*</strong></span></label>
                                    <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5" style="margin-left: -100px;">
                                        <input [disabled]="xamplifyDefaultTemplate.typeInString === 'ONE_CLICK_LAUNCH'"
                                            type="text" class="form-control" name="subject" placeholder="subject"
                                            [(ngModel)]="xamplifyDefaultTemplate.subject" maxlength="255">
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-2">
                                        <span style="cursor: pointer;color: #54a7e9;">
                                            <i class="fa fa-question-circle icon-fstpx" data-html="true"
                                                data-toggle="tooltip" data-placement="right"
                                                title="{{subjectLineTooltipText}}"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet-body clearfix">
                                <app-xamplify-default-templates
                                    [xamplifyDefaultTemplate]="xamplifyDefaultTemplate"></app-xamplify-default-templates>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Edit Custom Login Template -->
        <div *ngIf="editCustomLoginTemplate">
            <div class="profile-content card-shadow">
                <div class="row">
                    <div class="col-md-12">
                        <div class="box-shadow-unset portlet light">
                            <div class="portlet-title tabbable-line">
                                <div class="caption caption-md col-xs-12">
                                    <i class="icon-globe theme-font hide" aria-hidden="true"></i>
                                    <span class="caption-subject font-blue-madison bold"
                                        [title]="cutomLoginTemplate?.name" data-toggle="tooltip"
                                        data-placement="bottom">{{cutomLoginTemplate?.name | slice:0:30}}</span>
                                    <span *ngIf="cutomLoginTemplate?.name?.length>30">...</span>
                                    <a class="close-circle pull-right" (click)="goBackToMyprofileForCustomLogin()">
                                        <i class="fa fa-times" aria-hidden="true"></i>
                                    </a>
                                </div>
                                <div class="form-group row" style="margin-left: -16px;">
                                    <label class="col-lg-2 col-md-3 col-sm-3 col-xs-5" style="margin-top: 6px;">Name
                                        <span style="color: #f55d7a"><strong>*</strong></span></label>
                                    <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5" style="margin-left: -100px;">
                                        <input type="text" class="form-control" name="name" placeholder="name" id="name"
                                            #name="ngModel" [(ngModel)]="cutomLoginTemplate.name" maxlength="255"
                                            (ngModelChange)="changeLoginTemplateNameEvent($event)" required>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet-body clearfix">
                                <app-response-message class="pg8" [customResponse]="customLoginTemplateResponse"
                                    *ngIf="customLoginTemplateResponse.isVisible">
                                </app-response-message>
                                <ng-container *ngIf="jsonBody!=undefined && jsonBody?.length>0">
                                    <app-bee-template-util [beeContainerInput]="beeContainerInput"
                                        (notifyParentComponent)="readBeeTemplateData($event)"></app-bee-template-util>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Edit Custom Login Template -->
    </div>
    <app-scroll-top></app-scroll-top>
</div>
<div class="page-content" *ngIf="hasClientErrors">
    <h5 style="color: red">Something went wrong.please contact admin</h5>
</div>





<!--Modal Popup Starts Here------------>
<div class="modal right fade" id="cropProfileImage" tabindex="-1" role="dialog" aria-labelledby="cropProfileImage"
    data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog imgCrop-modal" role="document">
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="closeModal()"><i class="fa fa-times"></i></a>
                <h4 class="modal-title" id="cropProfileImage">Please add your profile image</h4>
            </div>
            <div class="modal-body">
                <button style="position: relative;top: -5px;"
                    class="button fileinput-button-css pd_left1 bgcolor-unset upload_btn_pdg"
                    *ngIf="!imageChangedEvent; else uploadButton"><span
                        class="btn Btn-Green transition txt_pd-top3">Upload
                        image</span>
                    <input style="height: 36px;" title=" " accept=".jpg,.jpeg,.png" id="custom-input" type="file"
                        (change)="fileChangeListener($event, cropper)">
                </button>
                <ng-template #uploadButton>
                    <button style="position: relative;top: -5px;"
                        class="button fileinput-button-css pd_left1 bgcolor-unset upload_btn_pdg"><span
                            class="btn Btn-Green transition txt_pd-top3">Upload
                            image</span>
                        <input style="height: 36px;" title=" " accept=".jpg,.jpeg,.png" id="custom-input" type="file"
                            (change)="fileChangeListener($event, cropper)">
                    </button>
                </ng-template>
                <div style="position: relative;top: -5px;" *ngIf="errorUploadCropper" style="color:red">*Please Upload
                    only images</div>
                <div>
                    <ngx-loading [show]="loadingcrop" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <div [hidden]="!imageChangedEvent">
                        <app-img-croppr-v2 [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true"
                            [containWithinAspectRatio]="containWithinAspectRatio" [aspectRatio]="1 / 1"
                            [resizeToWidth]="800" [cropperMinWidth]="500" [onlyScaleDown]="true" [roundCropper]="true"
                            [alignImage]="'left'" [style.display]="showCropper ? null : 'none'" format="png"
                            [transform]="transform" (imageCropped)="imageCroppedMethod($event)"
                            (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady($event)"
                            (loadImageFailed)="loadImageFailed()">
                        </app-img-croppr-v2>
                    </div>
                    <div *ngIf="!imageChangedEvent">
                        <fieldset class="fild-custome-borders-none"
                            style="background: #cacaca; height: 227px; margin-bottom: 5px;margin-top:1px;">
                        </fieldset>
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <div class="button-group" style="position: relative;text-align:left">
                        <button class="btn-info aspect_ratio" (click)="toggleContainWithinAspectRatio()"
                            [disabled]="!showCropper">

                            {{
                            containWithinAspectRatio
                            ? 'Fill Aspect Ratio'
                            : 'Contain Within Aspect Ratio'
                            }}
                        </button>
                        <button class="btn-info aspect_ratio" (click)="zoomOut()" [disabled]="!showCropper || scale <= minScale"><i
                                class="fa fa-search-minus" title="zoomOut" data-toggle="tooltip" aria-hidden="true"></i>
                        </button>
                        <button class="btn-info aspect_ratio" (click)="zoomIn()" [disabled]="!showCropper"><i
                                class="fa fa-search-plus" title="zoomIn" data-toggle="tooltip" aria-hidden="true"></i>
                        </button>
                        <button class="btn-info aspect_ratio" (click)="resetImage()" [disabled]="!showCropper"> <i
                                class="fa fa-refresh" title="reset" data-toggle="tooltip"
                                aria-hidden="true"></i></button>
                    </div>
                    <div>
                        <button class="button_blue bgcolor-unset" [disabled]="!showCropper"
                            (click)="uploadProfileImage()"><span class="btn btn-primary transition txt_pd-top3">Save
                                Changes</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!------------------------------Add/Edit Category----------->
<div class="modal fade right" id="addCategoryModalPopup" tabindex="-1" role="dialog"
    aria-labelledby="addCategoryModalPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeCategoryModal()">
                    <i class="fa fa-times"></i>
                </button>
                <h4 class="modal-title text-center">{{categoryModalTitle}}</h4>
            </div>
            <div class="modal-body">
                <app-dashboard-loader *ngIf="addCategoryLoader.isLoading"></app-dashboard-loader>
                <ng-container *ngIf="!addCategoryLoader.isLoading">
                    <div class="form-group" id="categoryNameDiv">
                        <label>Name <span class="required">*</span></label>
                        <input type="text" class="form-control" [(ngModel)]="category.name" id="categoryName"
                            placeholder="Enter Name" maxlength="55" (input)="validateCategoryNames(category.name)"
                            (keydown)="sumbitOnEnter($event)">
                        <span *ngIf="!category.isValid" class="required">{{categoryNameErrorMessage}}</span>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" placeholder="Enter Description"
                            [(ngModel)]="category.description" id="description" maxlength="1000"></textarea>
                    </div>
                </ng-container>
            </div>
            <div class="modal-footer">
                <button type="submit" [disabled]="!category.isValid || addCategoryLoader.isLoading "
                    class="button_blue bgcolor-unset" (click)="saveOrUpdateCategory()"><span
                        class="btn btn-primary transition txt_pd-top3">{{categoyButtonSubmitText}}</span></button>
            </div>
        </div>
    </div>
</div>

<!------------------------------Delete Category----------->
<div class="modal fade right" id="deleteCategoryModalPopup" tabindex="-1" role="dialog"
    aria-labelledby="deleteCategoryModalPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeDeleteCategoryModal()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-center">Move Items & Delete Folder</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>The contents of this folder must be transferred to another location. Please select a folder.
                    </label>
                    <select class="form-control" [(ngModel)]="selectedCategoryIdForTransferItems">
                        <option value="0">please select a folder</option>
                        <option *ngFor="let category of exisitingCategories" [ngValue]="category.id">{{category.name}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Btn-Gray" (click)="closeDeleteCategoryModal()">Cancel</button>
                <button type="button" class="btn btn-primary"
                    title="Move items to other foler and delete existing folder"
                    [disabled]="selectedCategoryIdForTransferItems==0" (click)="moveAndDeleteCategory()">Move &
                    Delete</button>
            </div>
        </div>
    </div>
</div>

<!------------------------------Add/Edit Pipeline----------->
<div class="modal fade right" id="addPipelineModalPopup" tabindex="-1" role="dialog"
    aria-labelledby="addPipelineModalPopup" data-backdrop="static" data-keyboard="false">
    <div class="mwidth90 modal-dialog pipelinePopupWidth" role="document">
        <!-- [ngClass]="isDeal?'pipelinePopupWidth':''" -->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closePipelineModal()">
                    <i class="fa fa-times"></i>
                </button>
                <h4 class="modal-title text-center">{{pipelineModalTitle}}</h4>
            </div>
            <div class="modal-body">
                <app-dashboard-loader *ngIf="addPipelineLoader.isLoading"></app-dashboard-loader>
                <app-response-message class="pg8" [customResponse]="pipelineModalResponse"
                    *ngIf="pipelineModalResponse.isVisible">
                </app-response-message>
                <ng-container *ngIf="!addPipelineLoader.isLoading">
                    <div class="form-group" id="pipelineNameDiv">
                        <label>Name of the Pipeline<font class="required">*</font></label>
                        <input type="text" [disabled]="pipelinePreview || pipeline.crmPipeline"
                            [(ngModel)]="pipeline.name" class="form-control" id="pipelineName" placeholder="Enter Name"
                            maxlength="100" (input)="validatePipelineName(pipeline.name)"
                            (keydown)="pipelineSumbitOnEnter($event)">
                        <span *ngIf="!pipeline.isValidName" class="required">{{pipelineNameErrorMessage}}</span>

                    </div>
                    <div class="form-group">
                        <input class="checkBox_shadow" type="checkbox"
                            [disabled]="pipelinePreview || !pipeline.enablePrivateCheckBox"
                            [(ngModel)]="pipeline.private" name="private" class="alignEqualtoText"> Private <span
                            class="fa fa-info-circle" data-toggle="tooltip" data-placement="right"
                            title="This pipeline will not be accesible by your partners if you check this option."></span>
                        <div *ngIf="pipeline.showSinglePublicPipelineMessage" class="red">You can't mark this pipeline
                            as private as this is the only public {{pipeline.integrationType}} pipeline available in
                            your account</div>
                    </div>
                    <div class="form-group" id="pipelineStageDiv">
                        <label>Stages</label>
                        <label style="text-align: center;width: 80%;">Options</label>
                        <div *ngIf="!pipeline.isValidStage" class="required">{{pipelineStageErrorMessage}}</div>
                        <ul id="sortable" [dragula]='"pipelineStagesDragula"' class="list-group"
                            [dragulaModel]='pipeline.stages'>
                            <ng-container *ngFor="let pipelineStage of pipeline.stages; let x = index">
                                <li class="list-group-item" id="stage{{x}}" *ngIf="pipelineStage != undefined">
                                    <div class="row">
                                        <!-- <span class="col-xs-1 co-sm-1 col-md-1 col-lg-1">
                                            <i class="fa fa-ellipsis-v"></i>
                                        </span> -->
                                        <span class="col-lg-5 col-md-5 col-sm-12 col-xs-12 mb_pl10">
                                            <i class="fa fa-ellipsis-v"></i>
                                            <input type="text" [disabled]="pipelinePreview || pipeline.crmPipeline"
                                                [(ngModel)]="pipelineStage.stageName" placeholder="Enter Stage Name"
                                                (input)="validateStage(pipelineStage.stageName)"
                                                (keydown)="pipelineSumbitOnEnter($event)"
                                                class="bg-color field-border-customization inputFieldWidth">
                                        </span>
                                        <span class="col-xs-12 col-sm-12 col-md-7 col-lg-7">
                                            <div class="mb_mt7 alignEqualtoFields">
                                                <input class="radioButton_shadow" type="radio"
                                                    [disabled]="pipelinePreview || pipeline.crmPipeline || pipeline?.integrationType == 'HALOPSA'"
                                                    [value]="x" [(ngModel)]="defaultStageIndex" id="defaultStage{{x}}"
                                                    name="defaultStage" class="alignEqualtoText"
                                                    (change)="defaultStageChange(pipelineStage)">
                                                <span>Default</span>&nbsp;&nbsp;
                                                <select class="formSelectCustomization"
                                                    [(ngModel)]="pipelineStage.markAs"
                                                    [disabled]="pipelinePreview || (pipeline.crmPipeline && (pipeline?.integrationType == 'PIPEDRIVE' || pipeline?.integrationType == 'HALOPSA'))"
                                                    [ngClass]="{'disabled-cursor': (pipelinePreview || (pipeline.crmPipeline && (pipeline?.integrationType == 'PIPEDRIVE' || pipeline?.integrationType == 'HALOPSA')))}"
                                                    (change)="handleMarkAsChange(x)">
                                                    <option value="markAs">Mark as</option>
                                                    <option value="won">Won</option>
                                                    <option value="lost">Lost</option>
                                                    <option value="none">None</option>
                                                </select>
                                                <button type="button"
                                                    *ngIf="!pipelineStage.defaultStage && !pipelinePreview && !pipeline.crmPipeline && pipelineStage.canDelete"
                                                    class="btn-danger button-blue deleteBntAligment"
                                                    data-toggle="tooltip" data-placement="top" title="Delete"
                                                    (click)="deleteStage(x)" style="float: right;"
                                                    [disabled]="!pipelineStage.canDelete"><span
                                                        class="glyphicon glyphicon-trash"></span></button>

                                                <span class="pdLeftforspace" *ngIf="(!pipeline.private)">Private <span
                                                        class="fa fa-info-circle pipelinedata" data-toggle="tooltip"
                                                        data-placement="right"
                                                        title="This pipeline stage will not be accesible by your partners if you check this option."></span>
                                                    <label class="toggleOnOff"
                                                        [ngClass]="{'disabled-cursor': (shouldDisableCheckbox(x) || pipelinePreview)}">
                                                        <input class="checkBox_shadow" type="checkbox"
                                                            [(ngModel)]="pipelineStage.private" name="private"
                                                            [disabled]="shouldDisableCheckbox(x) || pipelinePreview || (pipeline?.integrationType == 'HALOPSA' && pipelineStage.defaultStage)">
                                                        <span class="sliderOnOff"></span>
                                                        <span class="labels" data-on="ON" data-off="OFF"></span>
                                                    </label>
                                                </span>
                                                <div
                                                    *ngIf="(!pipelineStage.private && !pipeline.private) && (pipeline.type === 'deal' || activeTabName == 'dealPipelines') && !removeMarketingNonInteractiveBox">
                                                    <input class="checkBox_shadow" type="checkbox"
                                                        [disabled]="pipelinePreview"
                                                        [(ngModel)]="pipelineStage.nonInteractive" name="nonInteractive"
                                                        class="alignEqualtoText"> Non Interactive <span
                                                        class="fa fa-info-circle pipelinedata" data-toggle="tooltip"
                                                        data-placement="right"
                                                        title="Your partners will only be able to select the stage once and will not be able to update further for the non-interactive stage."></span>
                                                </div>
                                            </div>
                                        </span>
                                    </div>

                                </li>
                            </ng-container>
                        </ul>
                    </div>
                    <div class="form-group" *ngIf="!pipelinePreview && !pipeline.crmPipeline">
                        <a class="dashboard-stat " style="padding: 9px 0;margin-top: 10px;" (click)="addStage()">
                            <i class="fa fa-plus-square p0" style="margin: 0 5px;"></i> Add Stage
                        </a>
                    </div>
                </ng-container>
            </div>
            <div class="modal-footer" *ngIf="!pipelinePreview">
                <button type="submit" [disabled]="!pipeline.isValid || addPipelineLoader.isLoading"
                    class="button bgcolor-unset" (click)="saveOrUpdatePipeline()"><span
                        class="btn Btn-Green transition txt_pd-top3">Submit</span></button>

            </div>
        </div>
    </div>
</div>

<!------------------------------Add exclude user popup---------->
<div id="addExcludeUserPopupModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    data-keyboard="false" data-backdrop="static" style="padding-right: 0 !important;">
    <div class="modal-dialog  accounts-modal" style="position: relative !important;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" (click)="addContactModalClose()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title size-font" *ngIf="!isUpdateUser" translate>Add Email</h4>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <p class="exclusion-text-color">
                        Adding an email to your exclusion list ensures that the specified email will no longer receives
                        emails from you. <br><br>
                        <strong>Example:</strong> jane.doe@example.com
                    </p>
                </div>
                <br>
                <form class="form-horizontal" autocomplete="off">
                    <div class="form-group">
                        <label class="control-label col-xs-1 col-sm-1 required-mark-padding" for="email">
                            <span class="mb-star star">*</span>
                        </label>
                        <div class="form-group col-xs-10 col-sm-10 domain-or-email-padding">
                            <input type="email" style="border: none" class="form-control padding-mobile" id="email1"
                                (blur)="checkingEmailPattern(addContactuser.emailId)"
                                (input)="validateEmail(addContactuser.emailId)" [(ngModel)]="addContactuser.emailId"
                                [ngModelOptions]="{standalone: true}" placeholder="Email *" autocomplete="off"
                                maxlength="250">
                            <div class="textCss"></div>
                            <span class="danger" *ngIf="!validEmailPatternSuccess" translate>Please enter a valid email
                                address</span>
                            <span class="danger" *ngIf="isEmailExist" translate>This email address has already been
                                added</span>
                            <span class="danger" *ngIf="!validEmailFormat" translate>The entered email is not formatted
                                properly</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="border:none">
                <button class="btn Btn-Gray neg_mrg_top4" (click)="addContactModalClose()" translate>Cancel</button>
                <button type="button" class="button bgcolor-unset btn-top3"
                    (click)="confirmAndsaveExcludedUser(addContactuser)"
                    [disabled]="!validEmailPattern || !validEmailPatternSuccess" translate><span
                        class="btn Btn-Green transition txt_pd-top3">Add</span></button>
            </div>
        </div>
    </div>
</div>


<div id="addDomainModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    data-keyboard="false" data-backdrop="static" style="padding-right: 0 !important;">
    <div class="modal-dialog  accounts-modal" style="position: relative !important;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" (click)="addDomainModalClose()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title size-font" translate>Add Domain</h4>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <p class="exclusion-text-color">
                        Adding a domain to your exclusion list ensures that the specified domain based yours will no
                        longer receive emails from you. <br><br>
                        <strong>Example:</strong> example.com
                    </p>
                </div>
                <br>
                <form class="form-horizontal" autocomplete="off">
                    <div class="form-group">
                        <label class="control-label col-xs-1 col-sm-1 required-mark-padding" for="domain">
                            <span class="mb-star star">*</span>
                        </label>
                        <div class="form-group col-xs-10 col-sm-10 domain-or-email-padding">
                            <input type="text" style="border: none" class="form-control padding-mobile" id="domain"
                                (input)="validateDomain(domain)" [(ngModel)]="domain"
                                [ngModelOptions]="{standalone: true}" placeholder="Domain Name *" autocomplete="off"
                                maxlength="250">
                            <div class="textCss"></div>
                            <span class="danger" *ngIf="isDomainExist" translate>This domain name has already been
                                added</span>
                            <span class="danger" *ngIf="!validDomainFormat" translate>This domain name is not formatted
                                properly</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="border:none">
                <button class="btn Btn-Gray neg_mrg_top4" (click)="addDomainModalClose()" translate>Cancel</button>
                <button type="button" class="button bgcolor-unset btn-top3"
                    (click)="confirmAndsaveExcludedDomain(domain)" [disabled]="!validDomainPattern" translate><span
                        class="btn Btn-Green transition txt_pd-top3">Add</span></button>
            </div>
        </div>
    </div>
</div>

<app-confirm-sweet-alert-util *ngIf="isUpgrading" [parameterDto]="sweetAlertParameterDto"
    (notifyComponent)="receiveEvent($event)"></app-confirm-sweet-alert-util>

<ng-template #activeIcon let-moduleName="moduleName">
    <i *ngIf="activeTabName == moduleName" class="fa fa-check-circle-o success display-inline"></i>
</ng-template>
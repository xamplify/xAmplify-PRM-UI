<style type="text/css">
    .profile-usermenu {
        padding-bottom: 10px;
    }
    
    .page-bar {
        border-radius: 0;
    }
    
    .portlet.light {
        padding: 20px;
    }
    
    .disablePlayerValues {
        pointer-events: none;
        opacity: 0.6;
    }
    /* .switch {
		position: relative;
		display: inline-block;
		width: 60px;
		height: 34px;
	} */
    
    .switch input {
        display: none;
    }
    
    .slider-new {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }
    
    .slider-new:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }
    
    .logo-video {
        position: absolute;
        top: 42px;
        right: 23px;
        width: 40px;
        border: 2px solid red;
        z-index: 999999999999999999;
    }
    
    input:checked+.slider-new {
        background-color: #5cb85c;
    }
    
    input:focus+.slider-new {
        box-shadow: 0 0 1px #5cb85c;
    }
    
    input:checked+.slider-new:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }
    
    .disabled {
        pointer-events: none;
    }
    /* Rounded sliders */
    
    .slider-new.round {
        border-radius: 34px;
    }
    
    .slider-new.round:before {
        border-radius: 50%;
    }
    
    .profile-usertitle-name {
        font-size: 14px;
    }
</style>
<div class="page-content" *ngIf="!hasClientErrors" [class.ml0]="authenticationService.isSuperAdmin()">
    <div class="my-container">
        <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
    <app-topnavbar [hidden]="true" [model]="parentModel"></app-topnavbar>
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li *ngIf="hasCompany && !authenticationService.isSuperAdmin()">
                <i class="fa fa-home"></i><a [routerLink]="referenceService.homeRouter">Home</a><i class="fa fa-angle-right"></i>
            </li>
            <li *ngIf="authenticationService.isSuperAdmin()">
                <i class="fa fa-home"></i><a [routerLink]="['/home/dashboard/admin-report']">
                    Admin  Report</a><i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a>User Account</a>
            </li>
        </ul>
    </div>
    <div id="org-admin-info" class="alert alert-info" style="display: none;">
        <a (click)="hideDiv('org-admin-info')" class="close" aria-label="close">x</a>
        <strong>{{infoMessage}} <a routerLink="../../team/add-team" style="color: green;">Click Here</a></strong>
    </div>
    <!-- END PAGE HEADER-->
    <!-- BEGIN PAGE CONTENT-->
    <div class="row">
        <div class="col-md-12">
            <app-response-message class="pg8" [customResponse]="customResponse" *ngIf="customResponse.isVisible">
            </app-response-message>
            <!-- BEGIN PROFILE SIDEBAR -->
            <div class="profile-sidebar" style="width:250px;" *ngIf="userData">
                <!-- PORTLET MAIN -->
                <div class="portlet light profile-sidebar-portlet">
                    <div class="profile-image-wrapper">
                        <ng-container *ngIf="(circleData | json) != '{}'; else showImage">
                            <img class="profile-image" alt="" *ngIf="!cropRounded && circleData?.image; else Other" [src]="circleData.image">
                            <ng-template #Other><img alt="" class="profile-image" [src]="userProfileImage" [width]="circleCropperSettings.croppedWidth" [height]="circleCropperSettings.croppedHeight" (error)="errorHandler($event)">
                            </ng-template>
                        </ng-container>
                        <ng-template #showImage><img alt="" [src]="userProfileImage" class="profile-image" [width]="circleCropperSettings.croppedWidth" [height]="circleCropperSettings.croppedHeight" (error)="errorHandler($event)" (click)="imageUpload('imageSelect')"></ng-template>
                        <div id="imageSelect" class="upload-btn-wrapper" (click)="fileChangeEvent()">
                            <i class="fa fa-camera"></i>
                        </div>
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name" style="overflow: auto">
                            <span style="font-size: 17px !important;" [title]="userData.displayName">{{userData.displayName | slice:0:18}}</span><span *ngIf="userData.displayName?.length>18">...</span>
                            <h5>{{userData.emailId}}</h5>
                        </div>
                        <div class="profile-usertitle-job">
                            {{userData.occupation}}
                        </div>
                        <div class="profile-usertitle-job">
                            {{roleNames}}
                        </div>
                    </div>
                    <div class="profile-usermenu">
                        <ul class="nav">
                            <!-- commented for future work -->
                            <li [ngClass]="{'active-tab': activeTabName == 'personalInfo'}">
                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'personalInfo'}" (click)="activateTab('personalInfo');clearCustomResponse()">
                                 {{properties.personalInfo | translate}}
                                </a>
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'password'}">
                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'password'}" (click)="activateTab('password');clearCustomResponse()">
                                    {{properties.changePassword | translate}}
                                </a> 
                            </li>
                            <ng-container *ngIf="!isUser">
                            <li [ngClass]="{'active-tab': activeTabName == 'settings'}" [class.disabled]="authenticationService.isSuperAdmin()" class="hidden-xs">
                                <a  [ngClass]="{'active-tab-anchor-text': activeTabName == 'settings'}" (click)="activateTab('settings');clearCustomResponse()">{{properties.viewType | translate}}</a>
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'playerSettings'}" [class.disabled]="authenticationService.isSuperAdmin()" *ngIf="(hasAllAccess || hasVideoRole || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isVendor() || authenticationService.isVendorPartner()) && !authenticationService.isOnlyPartner() && authenticationService.superiorRole != 'Partner'"
                                (click)="videojsCall()">
                                <a  [ngClass]="{'active-tab-anchor-text': activeTabName == 'playerSettings'}"(click)="activateTab('playerSettings');">
                                    <span>{{properties.defaultPlayerSettings | translate}}</span>
                                </a> 
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'dealTypes'}" class="hidden-xs" *ngIf="(hasAllAccess || hasVideoRole || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isVendor() || authenticationService.isVendorPartner()) && !authenticationService.isOnlyPartner() && authenticationService.enableLeads &&  authenticationService.superiorRole != 'Partner'">
                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'dealTypes'}"  (click)="activateTab('dealTypes');clearCustomResponse()">{{properties.dealRegistration | translate}}</a>
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'integrations'}" class="hidden-xs" *ngIf="hasAllAccess || hasVideoRole || authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner() || authenticationService.superiorRole != 'Partner'">
                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'integrations'}" (click)="activateTab('integrations');clearCustomResponse()"> {{properties.integrations | translate}}</a>
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'gdpr'}" class="hidden-xs" *ngIf="authenticationService.isOrgAdmin() || authenticationService.isOrgAdminPartner() || authenticationService.isVendor() || authenticationService.isVendorPartner() || authenticationService.isOnlyPartner()">
                                <a [ngClass]="{'active-tab-anchor-text': activeTabName == 'gdpr'}"  (click)="activateTab('gdpr');clearCustomResponse()">{{properties.gdprSettings | translate}}</a>
                            </li>
                            <li  [ngClass]="{'active-tab': activeTabName == 'categories'}" class="hidden-xs">
                                <a  [ngClass]="{'active-tab-anchor-text': activeTabName == 'categories'}" (click)="activateTab('categories');clearCustomResponse()">{{properties.folders | translate}}</a>
                            </li>
                            <li [ngClass]="{'active': activeTabName == 'dbButtonSettings'}" class="hidden-xs" *ngIf="authenticationService.vanityURLEnabled && authenticationService.checkSamlSettingsUserRoles()">
                                <a (click)="activateTab('dbButtonSettings');clearCustomResponse()">{{properties.dashboardButtons}}</a>
                            </li>
                            <li [ngClass]="{'active-tab': activeTabName == 'samlSettings'}" class="hidden-xs" *ngIf="authenticationService.checkSamlSettingsUserRoles()">
                                <a  [ngClass]="{'active-tab-anchor-text': activeTabName == 'samlSettings'}" (click)="activateTab('samlSettings');clearCustomResponse()">{{properties.samlSettings | translate}}</a>
                            </li>		 
                            <!-- <li *ngIf="authenticationService.vanityURLEnabled && authenticationService.checkSamlSettingsUserRoles()" [ngClass]="{'active': activeTabName == 'templates'}">
                                <a (click)="activateTab('templates');clearCustomResponse()" translate>
                                    <i class="fa fa-list" aria-hidden="true"></i> Your Templates </a>
                            </li> -->

                        </ng-container>

                           <!--  <li *ngIf="(authenticationService.isOrgAdmin())">
                                <a [class.disabled]="authenticationService.isSuperAdmin()">
                                    <div class="col-xs-2 p0"><i class="icon-settings"></i></div>
                                    <div class="col-xs-5 p0">
                                        <h4 class="m0">Enable/Disable</h4>
                                        <h6 class='bold'>(Org Admin)</h6>
                                    </div>
                                    <div class="col-xs-5">
                                        <label class="switch" style="top: -8px;left: 20px;">
                                            <input type="checkbox" [(ngModel)]="status" (change)="changeStatus()"
                                                id="status">
                                            <span class="slider round" style="margin:0px !important"></span>
                                        </label>
                                    </div>
                                </a>
                            </li> -->
                        </ul>
                    </div>
                    <!-- END MENU -->
                </div>
                <!-- co -->
                <div class="portlet light" *ngIf="false">
                    <div>
                        <div class="margin-top-20 profile-desc-link">
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <h4 style="position: relative;left:-27px;font-size: 17px;font-weight: 500;">Projects
                                    </h4>
                                </div>
                                <div class="col-xs-6">
                                    <h4 style="position: relative;right: -17px;font-size: 17px;font-weight: 500;">
                                        (33/10000) </h4>
                                </div>
                            </div>
                            <div class="progress" style="width:100%;height: 7px;border-radius: 0">
                                <div class="progress-bar" role="progressbar" style="width:3%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="margin-top-20 profile-desc-link">
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <h4 style="position: relative;left:-27px;font-size: 17px;font-weight: 500;">
                                        Tasks(Min) </h4>
                                </div>
                                <div class="col-xs-6">
                                    <h4 style="position: relative;right: -26px;font-size: 17px;font-weight: 500;">
                                        (83/9999) </h4>
                                </div>
                            </div>
                            <div class="progress" style="width:100%;height: 7px;border-radius: 0">
                                <div class="progress-bar" role="progressbar" style="width:8%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="margin-top-20 profile-desc-link">
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <h4 style="position: relative;left:-27px;font-size: 17px;font-weight: 500;">
                                        Uploads(Min) </h4>
                                </div>
                                <div class="col-xs-6">
                                    <h4 style="position: relative;right:-43px;font-size: 17px;font-weight: 500;">(2/999)
                                    </h4>
                                </div>
                            </div>
                            <div class="progress" style="width:100%; height: 7px;border-radius: 0">
                                <div class="progress-bar" role="progressbar" style="width:0%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END PORTLET MAIN -->
            </div>
            <div class="profile-content">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet light">
                            <div class="portlet-title tabbable-line">
                                <div class="caption caption-md col-xs-12">
                                    <i class="icon-globe theme-font hide"></i>
                                    <span class="caption-subject font-blue-madison bold">{{activeTabHeader | translate}}</span>
                                        
                                </div>
                                
                            </div>
                            <div class="portlet-body clearfix">
                                <div class="tab-content">
                                    <!-- removed id="tab_1_1" from below code -->
                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'personalInfo'}">
                                        <form role="form" [formGroup]="updateUserProfileForm" (ngSubmit)="updateUserProfile()">
                                            <div class="form-group">
                                                <label class="control-label" translate>First Name</label>
                                                <span class="star"> *</span>
                                                <input type="text" #first (keyup)="firstNameValue(first.value)" placeholder="First Name" class="form-control" formControlName="firstName" required />
                                                <div *ngIf="formErrors.firstName" class="alert alert-danger">
                                                    {{ formErrors.firstName }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Last Name</label>
                                                <!-- <span class="star"> *</span> -->
                                                <input type="text" placeholder="Last Name" class="form-control" formControlName="lastName" maxlength="50">
                                                <div *ngIf="formErrors.lastName" class="alert alert-danger">
                                                    {{ formErrors.lastName }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Mobile Number</label>
                                                <!-- <fieldset style="padding:0 !important;border: 1px solid #ece2e2 !important">
                                                    <int-phone-prefix placeholder="Mobile Number" [(ngModel)]="userData.mobileNumber" [ngModelOptions]="{standalone: true}"></int-phone-prefix>
                                                </fieldset> -->
                                                <input type="text" maxlength="20" class="form-control" [(ngModel)]="userData.mobileNumber" [ngModelOptions]="{standalone: true}">
                                                <div *ngIf="formErrors.mobileNumber" class="alert alert-danger">
                                                    {{ formErrors.mobileNumber }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Interests</label>
                                                <input type="text" placeholder="Interests" class="form-control" formControlName="interests" />
                                                <div *ngIf="formErrors.interests" class="alert alert-danger">
                                                    {{ formErrors.interests }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Title</label>
                                                <input type="text" #occ (keyup)="occupationValue(occ.value)" placeholder="Title" class="form-control" formControlName="occupation" />
                                                <div *ngIf="formErrors.occupation" class="alert alert-danger">
                                                    {{ formErrors.occupation }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>About</label>
                                                <textarea class="form-control" rows="3" placeholder="About You" formControlName="description" style="resize: none;"></textarea>
                                                <div *ngIf="formErrors.description" class="alert alert-danger">
                                                    {{ formErrors.description }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Select Preferred Language</label>                                                
                                                <select formControlName="preferredLanguage" class="form-control">
                                                <option [ngValue]="undefined" disabled selected> Select Preferred Language </option>                                                
                                                <option [ngValue]="language.id" *ngFor="let language of authenticationService.allLanguagesList">{{language.name}}</option>
                                                </select>
                                                <div *ngIf="formErrors.preferredLanguage" class="alert alert-danger">
                                                    {{ formErrors.preferredLanguage }}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Website Url</label>
                                                <input type="url" placeholder="WebSite Url" class="form-control" formControlName="websiteUrl" />
                                                <div *ngIf="formErrors.websiteUrl" class="alert alert-danger">
                                                    {{ formErrors.websiteUrl }}</div>
                                            </div>
                                            <button type="submit" [disabled]="!updateUserProfileForm.valid || authenticationService.isSuperAdmin()" class="btn green-haze" translate>
                                                Save Changes</button>
                                        </form>
                                    </div>

                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'dealTypes'}">
                                        <app-response-message [customResponse]="customResponseForm" *ngIf="customResponseForm.isVisible"></app-response-message>

                                        <form role="form">

                                            <!-- <div class="form-group">
												<label class="control-label">Form Name</label>
												<input type="text" placeholder="Form Name" class="form-control" [(ngModel)]="form.name" [ngModelOptions]="{standalone: true}"
												 required (input)="validateDealForm(form)" />
												 <div *ngIf="formErrors.firstName" class="alert alert-danger">{{ formErrors.firstName }}</div>
											</div> -->
                                            <div class="col-xs-12" *ngIf="false">

                                                <div *ngFor="let question of defaultQuestions;let i=index">

                                                    <div class="form-group" *ngIf="i <=8 " class="col-xs-6" style="padding: 10px">

                                                        <input type="text" placeholder="question" class="form-control" value="{{question}}" [disabled]="true" />
                                                        <!-- <div *ngIf="formErrors.firstName" class="alert alert-danger">{{ formErrors.firstName }}</div> -->
                                                    </div>
                                                    <div class="form-group" *ngIf="i>8" class="col-xs-6" style="padding: 10px">

                                                        <input type="text" placeholder="question" class="form-control" value="{{question}}" [disabled]="true" />
                                                        <!-- <div *ngIf="formErrors.firstName" class="alert alert-danger">{{ formErrors.firstName }}</div> -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">
                                                <div class="form-group">
                                                    <a class="dashboard-stat " style="padding: 9px 0;margin-top: 10px" (click)="addQuestion()" *ngIf="questions.length==0">
                                                        <i class="fa fa-plus-square p0" style="margin: 0 5px;"></i> Add your questions
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">


                                                <div *ngFor="let question of questions;let i=index">
                                                    <div class="portlet light dashboard-stat2">
                                                        <div class="portlet-title custom-change-css" style="border-bottom: 0px">
                                                            <div class="col-xs-10">
                                                                <div class="portlet-title custom-change-css" style="border-bottom: 0px">
                                                                    <form id="form-{{question.divId}}">
                                                                        <div class="col-xs-10" style="padding:0">
                                                                            <div class="form-group" [attr.class]="question.class">
                                                                                <label class="control-label">Question
                                                                                    <font style="color: #f55d7a">
                                                                                        <b>*</b>
                                                                                    </font>
                                                                                </label>
                                                                                <input type="text" maxlength="300" placeholder="Question" class="form-control" [(ngModel)]=" question.question" [ngModelOptions]="{standalone: true}" id="question_{{i}}" (input)="validateQuestion(question)" />
                                                                            </div>

                                                                        </div>
                                                                    </form>

                                                                </div>
                                                            </div>
                                                            <div class="col-xs-2">
                                                                <div class="pull-right" id="question-icons">
                                                                    <button type="button" class="btn-danger button-blue" (click)="showAlert(i+1,question)">
                                                                        <span class="glyphicon glyphicon-trash"></span>
                                                                    </button>
                                                                    <button type="button" class="btn-primary button-blue" (click)="addQuestion()" *ngIf="questions.length== i+1">
                                                                        <span class="glyphicon glyphicon-plus"></span>
                                                                    </button>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <button [disabled]="!formSubmiteState" class="btn green-haze" (click)="saveForm()">{{submitButtonText}}</button>

                                        </form>
                                        <form role="form">
                                            <div class="col-xs-12">
                                                <div class="form-group">
                                                    <a class="dashboard-stat " style="padding: 9px 0;margin-top: 10px" (click)="addDealtype()" *ngIf="dealtypes.length== 0">
                                                        <i class="fa fa-plus-square p0" style="margin: 0 5px;"></i> Add Deal Types
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">


                                                <div *ngFor="let dealType of dealtypes;let i=index">
                                                    <div class="portlet light dashboard-stat2">
                                                        <div class="portlet-title custom-change-css" style="border-bottom: 0px">
                                                            <div class="col-xs-10">
                                                                <div class="portlet-title custom-change-css" style="border-bottom: 0px">
                                                                    <form id="form-{{dealType.divId}}">
                                                                        <div class="col-xs-10" style="padding:0">
                                                                            <div class="form-group" [attr.class]="dealType.class">
                                                                                <label class="control-label" translate>DealType
                                                                                    <font style="color: #f55d7a">
                                                                                        <b>*</b>
                                                                                    </font>
                                                                                </label>
                                                                                <input type="text" maxlength="300" class="form-control" [(ngModel)]=" dealType.dealType" [ngModelOptions]="{standalone: true}" id="dealType_{{i}}" (input)="validateDealType(dealType)" />
                                                                            </div>

                                                                        </div>
                                                                    </form>

                                                                </div>
                                                            </div>
                                                            <div class="col-xs-2">
                                                                <div class="pull-right" id="question-icons">
                                                                    <button type="button" class="btn-danger button-blue" (click)="deleteDealType(i+1,dealType)">
                                                                        <span class="glyphicon glyphicon-trash"></span>
                                                                    </button>
                                                                    <button type="button" class="btn-primary button-blue" (click)="addDealtype()" *ngIf="dealtypes.length== i+1">
                                                                        <span class="glyphicon glyphicon-plus"></span>
                                                                    </button>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <button [disabled]="!dealSubmiteState || this.dealtypes.length == 0" class="btn green-haze" (click)="saveDealTypes()">{{dealButtonText}}</button>
                                        </form>
                                    </div>

                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'integrations'}">
                                        <section class="pricing py-5" *ngIf="integrationTabIndex == 0">
                                            <div class="row" style="background-color: white;">
                                                <!-- Free Tier -->
                                                <div class="col-lg-4" (click)="configmarketo()">
                                                    <div class="card mb-5 mb-lg-0">
                                                        <div class="card-body" style="padding:10px">
                                                            <!-- <div class="triangle-up-right">

																</div> -->
                                                            <h5 class="card-title  text-uppercase text-center" style="padding-top: 4%;">Marketo</h5>

                                                            <div class="ribbon draft" style="left:10px">
                                                                <span [style.background-color]="integrateRibbonText == 'configured' ? 'green':'yello'">{{integrateRibbonText}}</span>
                                                            </div>
                                                            <div style="height: 120px;">
                                                                <div>
                                                                    <img src="assets/images/crm/Mark-amplify.png" style="margin-top:20px; text-align: center;width:100%">
                                                                </div>
                                                            </div>

                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="integrateRibbonText == 'configure'" translate>configure</a>
                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="integrateRibbonText == 'configured'" translate>re configure</a>
                                                               
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="col-lg-4" (click)="configHubSpot()">
                                                    <div class="card mb-5 mb-lg-4">
                                                        <div class="card-body" style="padding:10px;">
                                                            <!-- <div class="triangle-up-right">

															</div> -->
                                                            <h5 class="card-title  text-uppercase text-center" style="padding-top: 4%;">HubSpot</h5>

                                                            <div class="ribbon draft" style="left:10px">
                                                                <span [style.background-color]="hubSpotRibbonText == 'configured' ? 'green':'yello'">{{hubSpotRibbonText}}</span>
                                                            </div>
                                                            <div style="height: 120px;">
                                                                <div>
                                                                    <img src="assets/images/crm/huspot-amplify.png" style="margin-top:20px; text-align: center;width:100%">
                                                                </div>
                                                            </div>

                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="hubSpotRibbonText == 'configure'" translate>configure</a>
                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="hubSpotRibbonText == 'configured'" translate>re configure</a>
                                                                
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4" (click)="configSalesforce()">
                                                    <div class="card mb-5 mb-lg-4">
                                                        <div class="card-body" style="padding:10px;">
                                                            <!-- <div class="triangle-up-right">

															</div> -->
                                                            <h5 class="card-title  text-uppercase text-center" style="padding-top: 4%;">Salesforce</h5>

                                                            <div class="ribbon draft" style="left:10px">
                                                                <span [style.background-color]="sfRibbonText == 'configured' ? 'green':'yello'">{{sfRibbonText}}</span>
                                                            </div>
                                                            <div style="height: 120px;">
                                                                <div>
                                                                    <img src="assets/images/crm/xamplify-salesforce.png" style="margin-top:20px; text-align: center;width:100%">
                                                                </div>
                                                            </div>

                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="sfRibbonText == 'configure'" translate>configure</a>
                                                            <a class="btn btn-block btn-primary text-uppercase" *ngIf="sfRibbonText == 'configured'" translate>re configure</a>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                        </section>
                                        <div *ngIf="integrationTabIndex == 1">
                                            <app-marketo-authentication (closeEvent)="closeMarketoForm($event)">
                                            </app-marketo-authentication>
                                        </div>
                                    </div>
                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'password'}">
                                        <form [formGroup]="updatePasswordForm" (ngSubmit)="updatePassword()" autocomplete="off">
                                            <div class="form-group" *ngIf="userData.hasPassword">
                                                <label class="control-label" translate>Current Password</label>
                                                <input id="oldPassword" type="password" [class]="className" formControlName="oldPassword" required="required" />
                                                <span toggle="#oldPassword" title="Show Password" class="fa fa-fw fa-eye field-icon toggle-password" (click)="referenceService.showPassword('oldPassword')" *ngIf="!referenceService.showInputOldPassword && updatePasswordForm.get('oldPassword').value" style="left:-30px !important"></span>
                                                <span toggle="#oldPassword" title="Hide Password" class="fa fa-fw fa-eye-slash field-icon toggle-password" (click)="referenceService.showPassword('oldPassword')" *ngIf="referenceService.showInputOldPassword && updatePasswordForm.get('oldPassword').value"
                                                    style="left:-30px !important"></span>

                                                <div *ngIf="formErrors.oldPassword" class="alert alert-danger">
                                                    {{formErrors.oldPassword}}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>New Password</label>
                                                <input id="password" type="password" class="form-control" formControlName="newPassword" required="required" />
                                                <span toggle="#password" title="Show Password" class="fa fa-fw fa-eye field-icon toggle-password" (click)="referenceService.showPassword('password')" *ngIf="!referenceService.showInputPassword && updatePasswordForm.get('newPassword').value" style="left:-30px !important"></span>
                                                <span toggle="#password" title="Hide Password" class="fa fa-fw fa-eye-slash field-icon toggle-password" (click)="referenceService.showPassword('password')" *ngIf="referenceService.showInputPassword && updatePasswordForm.get('newPassword').value" style="left:-30px !important"></span>

                                                <div *ngIf="formErrors.newPassword" class="alert alert-danger">
                                                    {{formErrors.newPassword}}</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label" translate>Re-type New Password</label>
                                                <input id="comfirmPassword" type="password" class="form-control" formControlName="confirmNewPassword" required="required" />
                                                <span toggle="#comfirmPassword" title="Show Password" class="fa fa-fw fa-eye field-icon toggle-password" (click)="referenceService.showPassword('comfirmPassword')" *ngIf="!referenceService.showInputConfirmPassword && updatePasswordForm.get('confirmNewPassword').value"
                                                    style="left:-30px !important"></span>
                                                <span toggle="#comfirmPassword" title="Hide Password" class="fa fa-fw fa-eye-slash field-icon toggle-password" (click)="referenceService.showPassword('comfirmPassword')" *ngIf="referenceService.showInputConfirmPassword && updatePasswordForm.get('confirmNewPassword').value"
                                                    style="left:-30px !important"></span>

                                                <div *ngIf="formErrors.confirmNewPassword" class="alert alert-danger">
                                                    {{formErrors.confirmNewPassword}}</div>
                                                <div *ngIf="updatePasswordForm.hasError('mismatchedPasswords')" class="alert alert-danger">Password do not match.</div>
                                            </div>
                                            <div class="margin-top-10">
                                                <button type="submit" id="register-submit-btn" [disabled]="!updatePasswordForm.valid" class="btn green-haze" translate>
                                                    Change Password</button>
                                                <input type="reset" class="btn default" value="Cancel">
                                            </div>
                                        </form>
                                    </div>
                                    <!-- PRIVACY SETTINGS TAB -->
                                    <div class="tab-pane hidden-xs" [ngClass]="{'active': activeTabName == 'settings'}">
                                       <div class="container">
                                            <div id="custom-response-div">
                                                <app-response-message *ngIf="modulesDisplayViewcustomResponse.isVisible" [customResponse]="modulesDisplayViewcustomResponse"></app-response-message>
                                            </div>
                                            <label class="container-checkbox-xamplify" translate>List View
                                                <input type="radio"  name="moduleDisplayType"  
                                                 value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.LIST]}}" 
                                                 [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.LIST]">
                                                <span class="checkmark"></span>
                                              </label>
                                              <label class="container-checkbox-xamplify" translate>Grid View
                                                <input type="radio"  name="moduleDisplayType" 
                                                value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.GRID]}}" 
                                                [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.GRID]">
                                                <span class="checkmark"></span>
                                              </label>
                                              <label class="container-checkbox-xamplify" translate>Folder Grid View
                                                <input type="radio"  name="moduleDisplayType" 
                                                 value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_GRID]}}" [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_GRID]">
                                                <span class="checkmark"></span>
                                              </label>
                                              <label class="container-checkbox-xamplify" translate>Folder List View
                                                <input type="radio"  name="moduleDisplayType" 
                                                value="{{ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_LIST]}}"
                                                 [checked]="modulesDisplayTypeString == ModuleDisplayTypeEnum[ModuleDisplayTypeEnum.FOLDER_LIST]"> 
                                                <span class="checkmark"></span>
                                              </label>
                                          </div>
                                          <div class="margin-top-10">
                                            <button type="submit" class="btn green-haze" (click)="setDefaultView()" translate>Save Changes</button>
                                        </div>
                                    </div>
                                    <!-- END PRIVACY SETTINGS TAB -->

                                    <!-- GDPR SETTINGS TAB -->
                                    <div class="tab-pane hidden-xs" [ngClass]="{'active': activeTabName == 'gdpr'}">
                                        <app-dashboard-loader *ngIf="httpRequestLoader.isLoading">
                                        </app-dashboard-loader>
                                        <form action="#" novalidate="" class="ng-untouched ng-pristine ng-valid" *ngIf="!httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                                            <table class="table table-light" style="border:0px!important;background-color:transparent!important">
                                                <tbody>
                                                    <fieldset>
                                                        <legend>GDPR</legend>
                                                        <tr class="col-md-12 col-lg-12">
                                                            <!--style="border: 1px solid #ddd;"-->
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 class="f-w-600" id="text-color-my-profile" translate>Our GDPR settings are designed to assist you in complying with the EU’s General Data Protection Regulations. This includes:
                                                                    </h5>
                                                                        <ul>
                                                                            <li id="text-color-my-profile" translate>The ability to designate a legal basis for contacting each person added to a mailing list</li>
                                                                            <li id="text-color-my-profile" style="margin-top: 5px" translate>Automatic inclusion of an unsubscribe link in every campaign email</li>
                                                                        </ul>
                                                                  
                                                                    <h5 id="text-color-my-profile">
                                                                        <a class="link" href="https://www.xamplify.com/privacy-policy/" taget="_blank" translate>Privacy & consent</a>&nbsp; |
                                                                        <a class="link" href="https://www.xamplify.com/terms-conditions/" target="_blank" translate>Cookies & tracking</a> &nbsp;
                                                                    </h5>
                                                                    <h5 id="text-color-my-profile" translate>
                                                                        <input type="checkbox" [(ngModel)]="gdprSetting.allowMarketingEmails" [ngModelOptions]="{standalone: true}" [disabled]="!gdprSetting.gdprStatus" value="">&nbsp; Only allows marketing emails to be sent to contacts who have legal basis to communicate. This setting doesn't apply to emails sent by the CRM
                                                                    </h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.gdprStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setGdpr($event)">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                    </fieldset><br>
                                                    <!-- <fieldset *ngIf="gdprSetting.gdprStatus">
                                                        <legend>Available Options</legend>
                                                        <tr class="col-md-12 col-lg-12" style="border: 1px solid #ddd;margin-top: 12px;">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 style="color: #847d7d;" class="f-w-600">
                                                                        Unsubscribe links &nbsp;&nbsp;<i class="fa fa-info-circle"></i></h5>
                                                                    <h5 style="color: #847d7d;">Add/Remove Unsubscribe links in email.</h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.unsubscribeStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setAllGdprStatus()">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                        <tr class="col-md-12 col-lg-12" style="border: 1px solid #ddd;margin-top: 12px;">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 style="color: #847d7d;" class="f-w-600">
                                                                        GDPR-ready forms &nbsp;&nbsp;<i class="fa fa-info-circle"></i></h5>
                                                                    <h5 style="color: #847d7d;">GDPR-ready forms.</h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.formStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setAllGdprStatus()">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                        <tr class="col-md-12 col-lg-12" style="border: 1px solid #ddd;margin-top: 12px;">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 style="color: #847d7d;" class="f-w-600"> GDPR Terms & Conditions &nbsp;&nbsp;<i class="fa fa-info-circle"></i></h5>
                                                                    <h5 style="color: #847d7d;">Terms & Condtions.</h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.termsAndConditionStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setAllGdprStatus()">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                        <tr class="col-md-12 col-lg-12" style="border: 1px solid #ddd;margin-top: 12px;">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 style="color: #847d7d;" class="f-w-600"> GDPR Delete Functionality &nbsp;&nbsp;<i class="fa fa-info-circle"></i></h5>
                                                                    <h5 style="color: #847d7d;"> GDPR Delete Functionality.
                                                                    </h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.deleteContactStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setAllGdprStatus()">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                        <tr class="col-md-12 col-lg-12" style="border: 1px solid #ddd;margin-top: 12px;">
                                                            <div class="flex row">
                                                                <div class="col-md-9 col-lg-9">
                                                                    <h5 style="color: #847d7d;" class="f-w-600"> GDPR Event &nbsp;&nbsp;<i class="fa fa-info-circle"></i></h5>
                                                                    <h5 style="color: #847d7d;"> GDPR Event.</h5>
                                                                </div>
                                                                <div class="col-md-3 col-lg-3 text-right" style="padding-top:10px">
                                                                    <section>
                                                                        <switch [(status)]="gdprSetting.eventStatus" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="setAllGdprStatus()">
                                                                        </switch>
                                                                    </section>
                                                                </div>
                                                            </div>
                                                        </tr>
                                                    </fieldset> -->
                                                </tbody>
                                            </table>
                                            <div class="col-xs-12" style="float:left; padding:0;margin-top: 17px;margin-bottom: 7px;">
                                                <button type="submit" class="btn green-haze" (click)="saveGdprSetting()" *ngIf="!gdprSetting.isExists" translate>Save Settings</button>
                                                <button type="submit" class="btn green-haze" (click)="updateGdprSetting()" *ngIf="gdprSetting.isExists" translate>Update Settings</button>
                                                    
                                            </div>
                                        </form>
                                    </div>
                                    <!-- END GDPR SETTINGS TAB -->

                                     <!-- Dashboard SETTINGS TAB -->
                                     <div class="tab-pane hidden-xs" [ngClass]="{'active': activeTabName == 'dbButtonSettings'}">                                        
                                        <app-dashboard-buttons> </app-dashboard-buttons>
                                    </div>
                                    
                                    <!-- Saml SETTINGS TAB -->
                                    <div class="tab-pane hidden-xs" [ngClass]="{'active': activeTabName == 'samlSettings'}">                                        
                                        <app-samlsecurity> </app-samlsecurity>
                                    </div>
                                    
                                     <!-- Your Templates TAB -->
                                     <div class="tab-pane hidden-xs" [ngClass]="{'active': activeTabName == 'templates'}">                                        
                                        <app-vanity-email-templates></app-vanity-email-templates>
                                    </div>
                                    
                                    <!-- Categories -->
                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'categories'}">
                                       <ng-container *ngIf="!isFolderPreview">
                                        <app-response-message class="pg8" [customResponse]="categoryResponse" *ngIf="categoryResponse.isVisible">
                                        </app-response-message>
                                        <div class="portlet-title" style="border-bottom: none;">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-12 col-lg-12">
                                                    <div class="col-xs-12 col-sm-5 col-lg-5 p0">
                                                         <button class="add-button-xamplify"  (click)="addCategory()" translate>Create a Folder</button>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-7 col-lg-7 p0">
                                                        <div class="page-toolbar">
                                                            <div class="btn-group pull-right">
                                                                <div class="inputs float-right" style="display: inline-flex;">
                                                                    <div id="left">
                                                                        <select class="form-control" [(ngModel)]="categorySortOption.selectedCategoryDropDownOption" (ngModelChange)="sortBy($event)" id="select-dropdown">
                                                                            <option
                                                                                *ngFor="let option of categorySortOption.categorySortDropDownOptions"
                                                                                [ngValue]="option">
                                                                                {{option.name}}</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="portlet-input input-inline" id="search-div">
                                                                        <div class="input-icon right" id="icon">
                                                                            <input type="text" id="sort-text" class="form-control" [(ngModel)]="categorySortOption.searchKey" [ngModelOptions]="{standalone: true}" placeholder="search..." (keypress)="eventHandler($event.keyCode)">
                                                                            <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="categorySortOption.searchKey" (click)="categorySortOption.searchKey='';searchCategories();"></button>
                                                                            <button type="submit" class="search-box-item-click" (click)="searchCategories()">
                                                                                <i class="fa fa-search"
                                                                                    aria-hidden="true"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
                                        <ng-container *ngIf="!httpRequestLoader.isLoading">
                                            <div class="table-responsive">
                                                <table class='table tgrid table-hover table-sm' id="category-list" *ngIf="categoryPagination.pagedItems?.length>0">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center" colspan="2" style="width: 50%" id="border-bottom">
                                                                <span class="ui-column-resizer gray" (mousedown)="referenceService.onMouseDown($event,'category-list',2)"> </span>
                                                                <span class="gridHeader" translate>Folder</span>
                                                            </th>
                                                            <th class="text-center" id="border-bottom" translate>Created On</th>
                                                            <th class="text-center" id="border-bottom" translate>Items Count</th>
                                                            <th class="text-center float-right" id="border-bottom">Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let category of categoryPagination.pagedItems ;let i =index" id="CategoryList_{{category.id}}">
                                                            <td class="custom-icon-width">
                                                                <i class="{{category.icon}}" aria-hidden="true" id="fa-custom-width"></i>
                                                            </td>
                                                            <td>
                                                                <h4 class="moreipsis" title="{{category.name}}">
                                                                    <span>{{category.name}}</span>
                                                                </h4>
                                                                <h6 class="moreipsis">
                                                                    <span translate> Created By <b>{{category.createdBy}}</b></span>
                                                                </h6>
                                                            </td>
                                                            <td class="text-center">
                                                                <app-timestamp *ngIf="!referenceService.isSafariBrowser()" [isOnlyDate]="false" [dateAndTime]="category.displayTime">
                                                                </app-timestamp>
                                                                <span *ngIf="referenceService.isSafariBrowser()">{{category.displayTime}}</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{category.count}}</span>
                                                            </td>
                                                            <td>
                                                                <div class="actions-block override-actions">
                                                                    <ng-container *ngIf="category.defaultCategory">
                                                                        <a data-placement="top" class="disabled-event" title="Default Folder Can't Be Edited">
                                                                            <i class="fa fa-pencil-square-o disabled-event"></i>
                                                                        </a>
                                                                        <a id="template-delete" class="disabled-event" data-placement="top" title="Default Folder Can't Be Deleted">
                                                                            <i class="fa fa-trash-o disabled-event"></i>
                                                                        </a>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="!category.defaultCategory">
                                                                        <a data-toggle="tooltip" data-placement="top" title="Edit" (click)="getCategoryById(category)">
                                                                            <i class="fa fa-pencil-square-o"></i>
                                                                        </a>
                                                                        <a id="template-delete" (click)="confirmDeleteCategory(category)" data-toggle="tooltip" data-placement="top" title="Delete">
                                                                            <i class="fa fa-trash-o"></i>
                                                                        </a>
                                                                    </ng-container>
                                                                    <a *ngIf="categoryPagination.previewAccess" data-toggle="tooltip" data-placement="top" title="Preview" (click)="previewItems(category)">
                                                                        <i class="fa fa-eye"></i>
                                                                    </a>

                                                                    <a *ngIf="!categoryPagination.previewAccess" title="You do not have permission to preview">
                                                                        <i class="fa fa-eye disabled-event"></i>
                                                                    </a>

                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </ng-container>
                                        <div *ngIf="categoryPagination.pagedItems.length !== 0" class="pg8">
                                            <app-pagination [pagination]="categoryPagination" (notifyParent)="setPage($event)" (notifyParentDropDown)="listCategories($event)" [hidden]="httpRequestLoader.isLoading"></app-pagination>
                                        </div>
                                        <!-- End of 24 -->
                                        <div *ngIf="categoryPagination.totalRecords==0 && !httpRequestLoader.isLoading" class="alert alert-info">
                                            <strong translate>No Folders Found.</strong>
                                        </div>
                                    </ng-container>
                                    <!--------------Preview Items------------------>
                                    <ng-container *ngIf="isFolderPreview">
                                        <app-dashboard-loader *ngIf="folderPreviewLoader.isLoading"></app-dashboard-loader>
                                        <div class="portlet-title" *ngIf="!folderPreviewLoader.isLoading">
                                            <h4 class="caption-subject font-red-sunglo f-w-600 pull-left">{{categoryPreviewItem.categoryName}}</h4>
                                            <a class="close-circle pull-right" (click)="isFolderPreview=false">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                        <br>
                                        <div class="table table-responsive top-padding-5px" *ngIf="!folderPreviewLoader.isLoading">
                                            <table  class='table tgrid table-hover table-sm'>
                                                <thead>
                                                    <tr>
                                                        <th>Module</th>
                                                        <th>Count</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of categoryPreviewItem.items" [className]="(item?.previewAccess  && item.moduleItemsCount>0)  ? 'xamplify-cursor-pointer' : 'xampify-cursor-not-allowed'" (click)="goToFolder(categoryPreviewItem.categoryId,item)" >
                                                        <td>
                                                            <h5 class="xamplify-folder-banner">{{item.moduleName}}</h5>
                                                            <img class="img-class-list" src="{{item.moduleIcon}}">
                                                        </td>
                                                        <td>
                                                            <div  class="override-actions">
                                                                <a  [title]="item?.previewAccess ? 'Count' : 'You do not have permission to preview'">
                                                                   <span *ngIf="item.previewAccess" class="circled-number" (click)="goToFolder(categoryPreviewItem.categoryId,item)"><b>{{item.moduleItemsCount}}</b></span>
                                                                   <span *ngIf="!item.previewAccess" class="circled-number xampify-cursor-not-allowed"><b>{{item.moduleItemsCount}}</b></span>
                                                                </a>
                                                            </div >
                                                        </td> 
                                                    </tr>

                                                </tbody>

                                            </table>

                                        </div>
                                    </ng-container>
                                    
                                    </div>
                                    <!-- END Categories TAB -->


                                    <!--video default player settings-->
                                    <div class="tab-pane" [ngClass]="{'active': activeTabName == 'playerSettings'}">
                                        <div>
                                            <div>
                                                <form role="form" [formGroup]="defaultPlayerForm" *ngIf="active" (ngSubmit)="UpdatePlayerSettingsValues()">
                                                    <div class="col-xs-12" style="padding:0">
                                                        <fieldset>
                                                            <legend translate>Video Player Apperance</legend>
                                                            <div class="col-xs-12 col-sm-6 col-md-8" style="padding:0">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 form-group" style="margin-bottom: 10px;">
                                                                    <label class="form-group col-xs-3 col-sm-6 col-md-6 control-label">
                                                                        {{'Player Color' | translate}}:</label>
                                                                    <div class="col-xs-9 colsm-6 col-md-6">
                                                                        <input [hidden]="hasVideoRole || !defaultVideoPlayer.enableVideoController" [(colorPicker)]="compPlayerColor" [style.background]="compPlayerColor" [value]="compPlayerColor" formControlName="playerColor" (colorPickerChange)="changePlayerColor($event)"
                                                                            [cpWidth]="'200px'" [cpHeight]="'265px'" [cpPosition]="'bottom'" [class.disablePlayerValues]="hasVideoRole" />
                                                                        <input [hidden]="!hasVideoRole && defaultVideoPlayer.enableVideoController" [(ngModel)]="compPlayerColor" [ngModelOptions]="{standalone: true}" [style.background]="compPlayerColor" [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                        />
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 form-group" style="margin-bottom: 10px;">
                                                                    <label class="col-xs-3 col-sm-6 col-md-6 control-label">
                                                                        {{'Enable Video Controller' | translate}}:</label>
                                                                    <div class="col-xs-9 col-sm-6 col-md-6">
                                                                        <switch [(status)]="defaultVideoPlayer.enableVideoController" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="enableVideoController($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 form-group" style="margin-bottom: 10px;">
                                                                    <label class="col-xs-3 col-sm-6 col-md-6 control-label">
                                                                        {{'Controller Color' | translate}}:</label>
                                                                    <div class="col-xs-9 colsm-6 col-md-6">
                                                                        <input [hidden]="hasVideoRole || !defaultVideoPlayer.enableVideoController" [(colorPicker)]="compControllerColor" [style.background]="compControllerColor" formControlName="controllerColor" [cpWidth]="'200px'" [cpHeight]="'265px'" (colorPickerChange)="changeControllerColor($event, defaultVideoPlayer.enableVideoController)"
                                                                            [value]="compControllerColor" [cpPosition]="'bottom'" [class.disablePlayerValues]="hasVideoRole" />
                                                                        <input [hidden]="!hasVideoRole && defaultVideoPlayer.enableVideoController" [(ngModel)]="compControllerColor" [ngModelOptions]="{standalone: true}" [style.background]="compControllerColor" [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController"
                                                                        />
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 form-group" style="margin-bottom: 10px;">
                                                                    <label class="col-xs-5 col-sm-6 col-md-6 control-label">{{'Transparency' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-5 col-md-5">
                                                                        <input type="range" id="rangeValue" min="0" max="100" value="{{valueRange}}" style="width: 100%;" (input)="transperancyControllBar(Transvalue.value)" [class.disablePlayerValues]="hasVideoRole || !defaultVideoPlayer.enableVideoController" #Transvalue>
                                                                    </div>
                                                                    <div class="col-xs-1" style="padding:0">
                                                                        {{valueRange}}</div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-6 col-md-4">
                                                                <video id="profile_video_player" class="video-js vjs-default-skin vjs-nofull" controls height="160" poster="" data-setup='{"example_option":true }'>
                                                                    <source [src]="videoUrl"
                                                                        type="application/x-mpegURL">
                                                                </video>
                                                                <div id="overlay-logo">
                                                                    <a [href]="logoLink" target="_blank">
                                                                        <img *ngIf="logoImageUrlPath" [src]="authenticationService.MEDIA_URL + logoImageUrlPath" class="img-responsive logo-image" [class.logo-video]="fullScreenMode" alt="">
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                    <div class="col-xs-12" style="background: white; box-shadow: 0px 4px 5px rgba(251, 251, 251, 0.4);padding:0;">
                                                        <fieldset>
                                                            <legend translate>Controls of the player</legend>
                                                            <div class="col-xs-12">
                                                                <div class="form-group">
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Allow Sharing' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.allowSharing" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="allowSharing($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Allow Fullscreen' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.allowFullscreen" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="changeFullscreen($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" style="margin-top: 38px;">
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Allow Likes' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.allowLikes" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="allowLikes($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Allow Embed' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.allowEmbed" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="enableEmbed($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-xs-12" style="margin-top: 4px;">
                                                                <div class="form-group">
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Enable Settings' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.enableSettings" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="enableSettings($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Allow Comments' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.allowComments" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="allowComments($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" style="margin-top: 37px;">
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'Enable Casting' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.enableCasting" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="enableCasting($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                    <label class="col-xs-6 col-sm-3 col-md-3 control-label">{{'360 video' | translate}}:</label>
                                                                    <div class="col-xs-6 col-sm-3 col-md-3">
                                                                        <switch [(status)]="defaultVideoPlayer.is360video" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onSkyBlueColorSwitch" [offColor]="callActionSwitch.offDefaultColor" [size]="callActionSwitch.size"
                                                                            (statusChange)="enable360Video($event)" [disabled]="hasVideoRole">
                                                                        </switch>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-12" style="float:left; padding:0;margin-top: 17px;margin-bottom: 7px;">
                                                                <button type="submit" class="btn green-haze" [disabled]="hasVideoRole" translate>Save Changes</button>
                                                                <button type="button" class="btn default" (click)="resetForm()" [disabled]="hasVideoRole" translate>Cancel</button>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END PROFILE CONTENT -->
            </div>
        </div>
        <!-- END PAGE CONTENT-->
    </div>
    <app-scroll-top></app-scroll-top>
</div>
<div class="page-content" *ngIf="hasClientErrors">
    <h5 style="color: red">Something went wrong.please contact admin</h5>
</div>

<div class="modal right fade" id="cropProfileImage" tabindex="-1" role="dialog" aria-labelledby="cropProfileImage" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog imgCrop-modal" role="document">
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="closeModal()"><i class="fa fa-times"></i></a>
                <h4 class="modal-title" id="cropProfileImage">Please add your profile image</h4>
            </div>
            <div class="modal-body">
                <div style="position: relative;top: -5px;" class="btn green fileinput-button-css" *ngIf="(circleData | json) === '{}'"><span>Select
                        image</span>
                    <input style="height: 36px;" title=" " accept=".jpg,.jpeg,.png" id="custom-input" type="file" (change)="fileChangeListener($event, cropper)">
                </div>
                <div style="position: relative;top: -5px;" *ngIf="errorUploadCropper" style="color:red">*Please Upload only images</div>
                <div>
                    <ngx-loading [show]="loadingcrop" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <img-cropper #cropper *ngIf="!cropRounded" [image]="circleData" [settings]="circleCropperSettings">
                    </img-cropper>
                </div>
                <div>
                    <button class="btn btn-primary" [disabled]="(circleData | json) === '{}'" (click)="uploadProfileImage()">Upload Image</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!------------------------------Add/Edit Category----------->
<div class="modal fade right" id="addCategoryModalPopup" tabindex="-1" role="dialog" aria-labelledby="addCategoryModalPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeCategoryModal()">
                    <i class="fa fa-times"></i>
                </button>
                <h4 class="modal-title text-center">{{categoryModalTitle}}</h4>
            </div>
            <div class="modal-body">
                <app-dashboard-loader *ngIf="addCategoryLoader.isLoading"></app-dashboard-loader>
                <ng-container *ngIf="!addCategoryLoader.isLoading">
                    <div class="form-group" id="categoryNameDiv">
                        <label>Name <font class="required">*</font></label>
                        <input type="text" class="form-control" [(ngModel)]="category.name" id="categoryName" placeholder="Enter Name" maxlength="55" (input)="validateCategoryNames(category.name)" (keydown)="sumbitOnEnter($event)">
                        <span *ngIf="!category.isValid" class="required">{{categoryNameErrorMessage}}</span>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" placeholder="Enter Description" [(ngModel)]="category.description" id="description" maxlength="1000"></textarea>
                    </div>
                </ng-container>
            </div>
            <div class="modal-footer">
                <button type="submit" [disabled]="!category.isValid || addCategoryLoader.isLoading " class="btn green-haze" (click)="saveOrUpdateCategory()">{{categoyButtonSubmitText}}</button>
            </div>
        </div>
    </div>
</div>

<!------------------------------Delete Category----------->
<div class="modal fade right" id="deleteCategoryModalPopup" tabindex="-1" role="dialog" aria-labelledby="deleteCategoryModalPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeDeleteCategoryModal()">
                    <i class="fa fa-times"></i>
                </button>
                <h4 class="modal-title text-center">Move Items & Delete Folder</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Select Folder</label>
                    <select class="form-control" [(ngModel)]="selectedCategoryIdForTransferItems">
                        <option value="0">Please select a folder</option>
                        <option *ngFor="let category of exisitingCategories" [ngValue]="category.id">{{category.name}}</option>
                        </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" (click)="closeDeleteCategoryModal()">Cancel</button>
                <button type="button" class="btn btn-primary" title="Move items to other foler and delete existing folder" [disabled]="selectedCategoryIdForTransferItems==0" (click)="moveAndDeleteCategory()">Move & Delete</button>
            </div>
        </div>
    </div>
</div>
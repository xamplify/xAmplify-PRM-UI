<div>
  <!-- <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message> -->
  
  <!-- Leads & Stage Details Start -->
  <div class="row m0">
    <fieldset class="scheduler-borders">
      <legend class="scheduler-borders campaign_boxes">Lead Form Settings</legend>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0 mb-15">
        <div class="form-group mb0">
        <label>Lead Form Description</label>
        <textarea [(ngModel)]="leadDescription" rows="4" cols="4" class="form-control mb10" maxlength="500"></textarea>
      </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
        <div class="portlet light mb0" style="padding: 0px !important;">
          <div class="portlet-title leads-bgcolor mb0">
            <div class="row m0">
              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-inlines">
                  <div class="form-group mb0 mr-20">
                    <span class="lead-label">Show Lead Pipeline</span>
                    <i class="fa fa-info-circle info_circle"  data-toggle="tooltip" data-placement="top"
                    title="Enabling this option will allow you to view the select pipeline option in the lead registration form"></i>
                  </div>
                  <app-custom-ui-switch [customSwitch]="showLeadPipeline" (customUiSwitchEventEmitter)="onChangeLeadPipelines($event)"
                [isSwitchOptionDisabled]="!showLeadPipelineStage"></app-custom-ui-switch>
                </div>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-inlines">
                  <div class="form-group mb0 mr-20">
                    <span class="lead-label">Show Lead Stage</span>
                    <i class="fa fa-info-circle info_circle"  data-toggle="tooltip" data-placement="top"
                    title="Enabling this option will allow you to view the select stage option in the lead registration form"></i>
                  </div>
                  <app-custom-ui-switch [customSwitch]="showLeadPipelineStage" (customUiSwitchEventEmitter)="onChangeLeadPipelineStage($event)">
                  </app-custom-ui-switch>
                </div>
              </div>
            </div>
          </div>
          <div class="row m0" *ngIf="!showLeadPipeline">
            <div class="col-xs-12 col-sm-6 col-md-6 col-xs-12  pt10">
              <div class="form-group">
                <label>Lead Pipeline
                  <strong class="required">*</strong>
                </label>
                <select class="form-control" [(ngModel)]="integrationDetails.leadPipelineId"
                  [ngModelOptions]="{standalone: true}" placeholder="pipelineId" id="leadPipelineId" [disabled]="false"
                  (ngModelChange)="onChangeLeadPipeline();validateField()">
                  <option [value]="0">Select Lead Pipeline</option>
                  <option *ngFor="let pipeline of leadPipelines" [value]="pipeline.id">
                    {{pipeline.name}}</option>
                </select>
              </div>
              <div class="alert alert-info"><span>
                Please select the pipeline, in order to synchronize the data into the CRM system. You can not view the 'Select Pipeline' option in the lead registration form.</span></div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-xs-12  pt10" *ngIf="!showLeadPipelineStage">
              <div class="form-group">
                <label>Lead Pipeline Stage
                  <strong class="required">*</strong>
                </label>
                <select class="form-control" [(ngModel)]="integrationDetails.leadPipelineStageId"
                  [ngModelOptions]="{standalone: true}" placeholder="leadPipelineStageId" id="leadPipelineStageId"
                  [disabled]="false" (ngModelChange)="validateField()">
                  <option [value]="0">Select Stage</option>
                  <option *ngFor="let stage of leadPipelineStages" [value]="stage.id">
                    {{stage.stageName}}</option>
                </select>
              </div>
              <div class="alert alert-info"><span>
                Please select the stage, in order to synchronize the data into the CRM system. You can not view the 'Select Stage' option in the lead registration form.</span></div>
            </div>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
  <!-- END -->
  <!-- Deal & Stage Details Start -->
  <div class="row m0">
    <fieldset class="scheduler-borders">
      <legend class="scheduler-borders campaign_boxes">Deal Form Settings</legend>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0 mb-15">
        <div class="form-group mb0">
          <label>Deal Form Description</label>
          <textarea [(ngModel)]="dealDescription" rows="4" cols="4" class="form-control mb10" maxlength="500"></textarea>
      </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
        <div class="portlet light mb0" style="padding: 0px !important;">
          <div class="portlet-title leads-bgcolor mb0">
            <div class="row m0">
              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-inlines">
                  <div class="form-group mb0 mr-20">
                    <span class="lead-label">Show Deal Pipeline</span>
                    <i class="fa fa-info-circle info_circle"  data-toggle="tooltip" data-placement="top"
                    title="Enabling this option will allow you to view the select pipeline option in the deal registration form"></i>
                  </div>
                  <app-custom-ui-switch [customSwitch]="showDealPipeline" (customUiSwitchEventEmitter)="onChangeDealPipelines($event)"
                  [isSwitchOptionDisabled]="!showDealPipelineStage"></app-custom-ui-switch>
                </div>
  
              </div>
              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-inlines">
                  <div class="form-group mb0 mr-20">
                    <span class="lead-label">Show Deal Stage</span>
                    <i class="fa fa-info-circle info_circle"  data-toggle="tooltip" data-placement="top"
                    title="Enabling this option will allow you to view the select stage option in the deal registration form"></i>
                  </div>
                  <app-custom-ui-switch [customSwitch]="showDealPipelineStage" (customUiSwitchEventEmitter)="onChangeDealPipelineStage($event)">
                  </app-custom-ui-switch>
                </div>
              </div>
            </div>
          </div>
          <div class="row m0" *ngIf="!showDealPipeline">
            <div class="col-xs-12 col-sm-6 col-md-6 col-xs-12  pt10">
              <div class="form-group">
                <label>Deal Pipeline
                  <strong class="required">*</strong>
                </label>
                <select class="form-control" [(ngModel)]="integrationDetails.dealPipelineId"
                  [ngModelOptions]="{standalone: true}" placeholder="pipelineId" id="dealPipelineId" [disabled]="false"
                  (ngModelChange)="onChangeDealPipeline();validateField()">
                  <option [value]="0">Select Deal Pipeline</option>
                  <option *ngFor="let pipeline of dealPipelines" [value]="pipeline.id">
                    {{pipeline.name}}</option>
                </select>
              </div>
              <div class="alert alert-info"><span>
                Please select the pipeline, in order to synchronize the data into the CRM system. You can not view the 'Select Pipeline' option in the deal registration form.</span></div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-xs-12  pt10" *ngIf="!showDealPipelineStage">
              <div class="form-group">
                <label>Deal Pipeline Stage
                  <strong class="required">*</strong>
                </label>
                <select class="form-control" [(ngModel)]="integrationDetails.dealPipelineStageId"
                  [ngModelOptions]="{standalone: true}" placeholder="dealPipelineStageId" id="dealPipelineStageId"
                  [disabled]="false" (ngModelChange)="validateField()">
                  <option [value]="0">Select Stage</option>
                  <option *ngFor="let stage of dealPipelineStages" [value]="stage.id">
                    {{stage.stageName}}</option>
                </select>
              </div>
              <div class="alert alert-info"><span>
                Please select the stage, in order to synchronize the data into the CRM system. You can not view the 'Select Stage' option in the deal registration form.</span></div>
            </div>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
  <!-- END -->
  <!-- Deal Register Start -->
  <div class="row m0">
    <fieldset class="scheduler-borders">
      <legend class="scheduler-borders campaign_boxes">Deal Registration</legend>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0">
        <div class="portlet light mb0" style="padding: 0px !important;">
          <div class="portlet-title leads-bgcolor mb0">
            <div class="row m0">
              <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                <div class="form-inlines">
                  <div class="form-group mb10 mr-20">
                    <span class="lead-label">Show Register Deal</span>
                    <i class="fa fa-info-circle info_circle"  data-toggle="tooltip" data-placement="top"
                    title="Enabling this option will allow you to view the 'Register Deal' option"></i>
                  </div>
                  <app-custom-ui-switch [customSwitch]="showRegisterDeal" (customUiSwitchEventEmitter)="onChangeRegisterDeal($event)">
                  </app-custom-ui-switch>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="alert alert-info">
          <p *ngIf="showRegisterDeal">'Register Deal' option will be shown at the opportunities module.</p>
          <p *ngIf="!showRegisterDeal">'Register Deal' option will not be shown at the opportunities module.</p>
        </div>
      </div>
    </fieldset>
    <button type="button" class="button_blue bgcolor-unset pr0 px-9 pull-right mt10" (click)="updateCRMSettings()"
      [disabled]="!isValid"><span class="btn btn-primary transition txt_pd-top3">Submit</span></button>
  </div>
  <!-- END -->

</div>

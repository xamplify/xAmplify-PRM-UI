<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div [className]="hideRowClass ? '':'row pd_top10'">
	<div class="page-bar portlet light  tfamt">
		<div class="portlet-title" *ngIf="!assetsLoader">
			<h4 class="pull-left m10 f-w-600 text-primary" translate>
				<a (click)="goToManage()">{{title}}</a>
				<a (click)="goToManage()" style="font-size: 13px;">( {{manageAssetsText}} )</a>
			</h4>
			<span class="close-circle pointer" title="Refresh" (click)="refresh()" translate>
				<a><i class="fa fa-refresh" aria-hidden="true"></i></a>
			</span>
			<button *ngIf="!isPartnerView" class="btn btn-primary add-design-upload btns_border_radius"
				(click)="goToAddDam()">
				<i class="fa fa-plus" data-toggle="tooltip" aria-hidden="true"></i>
				<span class="hidden-xs" translate>Design / Upload</span>
			</button>
		</div>
		<div style="position: relative; top: -10px;">
			<app-response-message [customResponse]="customResponse"
				*ngIf="customResponse.isVisible"></app-response-message>
		</div>
		<div class="portlet-body clearfix">
			<app-grid-loader [count]="4" *ngIf="assetsLoader"></app-grid-loader>
			<section *ngIf="!assetsLoader">
				<div *ngIf="assets?.length==0" class="alert alert-info text-center">
					<strong>No Data Found</strong>
				</div>
				<div *ngFor="let asset of assets ;let i =index;"
					class="col-xs-12 col-sm-6 col-md-4 col-lg-3 GridviewSidePaddings">
					<div class="grid-box min-h default-cursor mHeight box-shadow">
						<div class="gridViewImgpositioning image_effect">
							<img *ngIf="!asset?.videoId" class="img-class mxv" src="{{asset?.thumbnailPath}}"
								onerror="this.src='assets/images/no-preview.jpg';" alt="Image Not Found">
							<img *ngIf="asset?.videoId>0" class="img-class mxv" src="{{asset?.thumbnailPath}}"
								onerror="this.src='assets/images/default-image.jpg';" alt="Image Not Found">
						</div>
						<h4 class="xamplify-ellipsis overflow-hidden GridViewCotent gridViewTextAlignmnent"
							data-toggle="tooltip" data-placement="top" title="{{asset?.assetName}}">
							<b>Asset Name: </b>{{asset?.assetName}}
						</h4>
						<div class="divapdding-or-cards">
							<div class="aligntowbtns">
								<ng-container *ngIf="asset?.whiteLabeledAssetReceivedFromVendor">
									<h6 class="xamplify-ellipsis GridViewCotent" data-toggle="tooltip"
										data-placement="top"
										title="{{asset?.whiteLabeledAssetSharedByVendorCompanyName}}">
										<span><b>Received From:</b>
											{{asset?.whiteLabeledAssetSharedByVendorCompanyName}} </span>
									</h6>
									<span class="view-banner-white-labeled LableSpaceings">White-Labeled</span>
								</ng-container>
								<span
									class="view-banner-dam assettype-bgcolor LableSpaceings">{{asset?.assetType}}</span>
							</div>

							<h6 class="xamplify-ellipsis GridViewCotent" data-toggle="tooltip" data-placement="top"
								title="{{asset?.displayName}}"><b>By:</b> {{asset?.displayName}}</h6>
							<h6 class="xamplify-ellipsis GridViewCotent">
								<span data-toggle="tooltip" data-placement="top" title="{{asset?.categoryName}}"
									translate> <b>Folder:</b> {{asset?.categoryName}}</span>
							</h6>
							<h6 class="GridViewCotent" *ngIf="!isPartnerView && asset?.beeTemplate">
								<span translate> <b>Version:</b> {{asset?.versionInString}} </span>
							</h6>
							<h6 *ngIf="isPartnerView" class="xamplify-ellipsis GridViewCotent" data-toggle="tooltip"
								data-placement="top" title="{{asset?.vendorCompanyName}}">
								<b>From:</b><span>{{asset?.vendorCompanyName}}</span>
							</h6>
						</div>
						<h6 class="xamplify-ellipsis GridViewCotent pt10">
							<span *ngIf="isPartnerView"> <b>Published On: </b></span>
							<span *ngIf="!isPartnerView"> <b>Created On: </b></span>
							<app-timestamp [showInLine]="'true'" [dateAndTime]="asset?.displayTime"></app-timestamp>
						</h6>
						<div class="ribbon tab-ribbon">
							<span
								*ngIf="asset?.published && !asset?.publishingOrWhiteLabelingInProgress && !asset?.publishingToPartnerList"
								translate>Published</span>
							<span
								*ngIf="asset?.published && (asset?.publishingOrWhiteLabelingInProgress || asset?.publishingToPartnerList)"
								translate>Processing</span>
						</div>
						<div class="bar auto-height">
							<app-asset-grid-view-actions [isPartnerView]="isPartnerView" [asset]="asset"
								(assetGridViewActionsEmitter)="assetGridViewActionsEmitter($event)"
								(assetGridViewActionsPdfEmitter)="assetGridViewActionsPdfEmitter($event)"
								(assetGridViewActionsDeleteActionEmitter)="assetGridViewActionsDeleteActionEmitter($event)"
								(assetGridViewRefreshListEmitter)="refresh()">
							</app-asset-grid-view-actions>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>

<!--Preview Popup-->
<ng-container *ngIf="isPreview">
	<app-preview-asset-popup [asset]="asset"
		(previewAssetPopupEmitter)="previewAssetPopupEmitter()"></app-preview-asset-popup>
</ng-container>

<!---Download PDF Popup-->
<ng-container *ngIf="showPdfModalPopup">
	<app-download-asset-popup [asset]="asset" [isPartnerView]="isPartnerView"
		(downloadAssetPopupEventEmitter)="downloadAssetPopupEventEmitter()"></app-download-asset-popup>
</ng-container>

<!-----Delete-------->
<ng-container *ngIf="deleteAsset">
	<app-delete-assets [asset]="asset" (deleteAssetLoaderEmitter)="deleteAssetLoaderEmitter()"
		(deleteAssetSuccessEmitter)="deleteAssetSuccessEmitter($event)"
		(deleteAssetCancelEmitter)="deleteAssetCancelEmitter()"
		(deleteAssetFailEmitter)="deleteAssetFailEmitter($event)">
	</app-delete-assets>
</ng-container>
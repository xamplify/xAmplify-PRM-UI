<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div [className]="hideRowClass ? '':'row'">
	<div class="page-bar portlet light  tfamt">
		<div class="portlet-title" *ngIf="!assetsLoader">
			<h4 class="pull-left m10 f-w-600 text-primary" translate>
				<a (click)="goToManage()">{{title}}</a> 
				<a  (click)="goToManage()" style="font-size: 13px;">( {{manageAssetsText}} )</a>
			</h4>
			<span class="close-circle" title="Refresh"  (click)="refresh()" translate>
				 <i class="fa fa-refresh" aria-hidden="true"></i>
			</span>
			<button *ngIf="!isPartnerView" class="btn btn-primary add-design-upload" (click)="goToAddDam()">
				<i class="fa fa-plus" data-toggle="tooltip" aria-hidden="true"></i>
				<span class="hidden-xs" translate>Design / Upload</span>
			</button>
		</div>
		<div style="position: relative; top: -10px;">
			<app-response-message [customResponse]="customResponse"	*ngIf="customResponse.isVisible"></app-response-message>
		</div>
		<div class="portlet-body clearfix">
			<app-grid-loader [count]="4" *ngIf="assetsLoader"></app-grid-loader>
			<section *ngIf="!assetsLoader">
				<div *ngIf="assets?.length==0" class="alert alert-info text-center">
					<strong>No Data Found</strong>
				</div>
				<div *ngFor="let asset of assets ;let i =index;"   class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="grid-box min-h box-shadow">
						<app-image-loader [moduleName]="'top-4-assets'" image="{{asset?.thumbnailPath}}"></app-image-loader>
							<h4 class="ellipsis mt5 mb5 f-w-600" title="{{asset?.assetName}}">
								{{asset?.assetName | slice:0:25}} 
								<span *ngIf="asset?.assetName?.length>25">...</span>
								<br>
								<br>
							</h4>
							<!---XNFR-255-->
							<ng-container *ngIf="asset?.whiteLabeledAssetReceivedFromVendor">
								<h6 class="moreipsis"  title="{{asset?.whiteLabeledAssetSharedByVendorCompanyName}}">
									<span translate>Received From <strong>{{asset?.whiteLabeledAssetSharedByVendorCompanyName}}</strong></span>
								</h6>
								<span class="view-banner-white-labeled mb5">White-Labeled</span>
							</ng-container>
							 <!---XNFR-255-->
							<div>
								<span class="view-banner-dam">{{asset?.assetType}}</span>
								<h6 translate>
									<span *ngIf="isPartnerView">Published On</span> <span
										*ngIf="!isPartnerView">Created On</span> <strong> <app-timestamp
											[showInLine]="'true'" [dateAndTime]="asset?.displayTime">
										</app-timestamp>
									</strong>
								</h6>
								<h6  translate title="{{asset?.displayName}}">
									By <strong>{{asset?.displayName | slice:0:17}}</strong> <span
										*ngIf="asset?.displayName?.length>17">..</span>
								</h6>
								<h6 class="moreipsis"
									*ngIf="!isPartnerView && asset?.beeTemplate">
									<span translate> Version <strong>{{asset?.versionInString}}</strong></span>
								</h6>
								<h6 *ngIf="isPartnerView" title="{{asset?.vendorCompanyName}}">
									From <strong>{{asset?.vendorCompanyName | slice:0:17}}</strong> <span
										*ngIf="asset?.vendorCompanyName?.length>17">..</span>
								</h6>
							</div>
							<div class="ribbon">
								<span *ngIf="asset?.published && !asset?.publishingOrWhiteLabelingInProgress" translate>Published</span>
								<span *ngIf="asset?.published && asset?.publishingOrWhiteLabelingInProgress" translate>Publishing</span>
							</div>
							<div class="bar auto-height">
								<app-asset-grid-view-actions [isPartnerView]="isPartnerView" [asset]="asset" (assetGridViewActionsEmitter)="assetGridViewActionsEmitter($event)"
								(assetGridViewActionsPdfEmitter)="assetGridViewActionsPdfEmitter($event)"
								(assetGridViewActionsDeleteActionEmitter) = "assetGridViewActionsDeleteActionEmitter($event)"
								>
								</app-asset-grid-view-actions>
							</div>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>

<!--Preview Popup-->
<ng-container *ngIf="isPreview">
	<app-preview-asset-popup [asset]="asset" (previewAssetPopupEmitter)="previewAssetPopupEmitter()"></app-preview-asset-popup>
</ng-container>

<!---Download PDF Popup-->
<ng-container *ngIf="showPdfModalPopup">
	<app-download-asset-popup [asset]="asset" [isPartnerView]="isPartnerView" (downloadAssetPopupEventEmitter)="downloadAssetPopupEventEmitter()"></app-download-asset-popup>
</ng-container>
<!--Publish To Partners Popup-->
<ng-container *ngIf="showPublishPopup"> 
<app-partner-company-and-groups-modal-popup
	[companyId]="loggedInUserCompanyId" [inputId]="selectedAssetId" [moduleName]="'dam'"
	(notifyOtherComponent)="notificationFromPublishToPartnersComponent()"></app-partner-company-and-groups-modal-popup>
</ng-container>

<!-----Delete-------->
<ng-container *ngIf="deleteAsset">
	<app-delete-assets [asset]="asset" (deleteAssetLoaderEmitter)="deleteAssetLoaderEmitter()"
	 (deleteAssetSuccessEmitter)="deleteAssetSuccessEmitter()" 
	 (deleteAssetCancelEmitter)="deleteAssetCancelEmitter()">
	</app-delete-assets>
</ng-container>
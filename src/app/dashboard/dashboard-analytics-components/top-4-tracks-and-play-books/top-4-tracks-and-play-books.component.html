<div [ngClass]="{ '': hideRowClass, 'row pd_top10': !hideRowClass, 'margin_17': isDashboardView }">
    <div class="page-bar portlet light border-radius-0 shadow tfamt" [ngClass]="{'border_dashed': isDraggingEnabled}">
        <div class="portlet-title" *ngIf="!loader">
            <h4 class="pull-left m10 f-w-600 text-primary" translate>
                <a (click)="goToManage()">{{headerTitle}}</a>
                <a class="fstpx" (click)="goToManage()">( {{subHeaderTitle}} )</a>
            </h4>
            <div class="mb-upload-btns">
            <a class="close-circle" title="Refresh" (click)="refresh()">
                <i class="fa fa-refresh" aria-hidden="true"></i>
            </a>
            <button *ngIf="!isPartnerView" class="btn btn-primary add-design-upload btns_border_radius"
                (click)="goToCreate()">
                <i class="fa fa-plus" data-toggle="tooltip" aria-hidden="true"></i>
                <span class="hidden-xs" translate>{{addButtonText}}</span>
            </button>
            </div>
        </div>
        <div style="position: relative; top: -10px;">
            <app-response-message [customResponse]="customResponse"
                *ngIf="customResponse.isVisible"></app-response-message>
        </div>
        <div class="portlet-body clearfix">
            <app-grid-loader [count]="4" *ngIf="loader"></app-grid-loader>
            <section *ngIf="!loader">
                <div *ngIf="contents?.length==0" class="alert alert-info text-center">
                    <strong>No Data Found</strong>
                </div>
                <div *ngFor="let learningTrack of contents ;let i =index;"
                    class="col-lg-3 col-md-4 col-sm-4 col-xs-12 tab_mt_grid GridviewSidePaddings">
                    <div class="grid-box box-shadow grid-card-shadow">
                        <img class="img-grid-track" [src]="learningTrack.featuredImage"
                            onerror="this.src='assets/images/content/image.png';" alt="{{learningTrack.title}}">
                        <h4 class="xamplify-ellipsis GridViewCotent gridViewTextAlignmnent1" data-toggle="tooltip"
                            data-placement="bottom" title="{{learningTrack.title}}"
                            style="margin-bottom: 0px;padding: 0;margin-top: 10px;">
                            <span><b>{{titleHeader}} Title: </b>{{learningTrack.title}}</span>
                        </h4>
                        <div class="mt5">
                            <div *ngIf="isPartnerView && tracks"
                                style="margin: 4px 15px 0px 15px;">
                                <div class="progress">
                                    <div class="progress-bar" data-toggle="tooltip" data-placement="top"
                                        title="{{learningTrack.progress}}%"
                                        [ngStyle]="{'width': learningTrack.progress + '%'}" style="border-radius:1px;"
                                        role="progressbar"></div>
                                </div>
                                <span class="progresleft"
                                    *ngIf="learningTrack.progress != undefined">{{learningTrack.progress}}%</span>
                                <span class="progresleft" *ngIf="learningTrack.progress == undefined">0%</span>
                                <br>
                            </div>
                            <h6 class="xamplify-ellipsis GridViewCotent" data-toggle="tooltip" data-placement="top"
                                title="{{learningTrack?.category?.name}}">
                                <b>Folder: </b>{{learningTrack?.category?.name}}
                            </h6>
                            <h6 class="xamplify-ellipsis GridViewCotent" data-toggle="tooltip" data-placement="top"
                                title="{{learningTrack.createdByName}}">
                                <b>By: </b>{{learningTrack.createdByName}}
                            </h6>
                            <!-- XNFR-824 -->
                            <span *ngIf="isApprovalRequiredForType() && !isPartnerView" class="view-banner" [ngClass]="{
                                    'bgc-green': learningTrack?.approvalStatus === approvalStatus.APPROVED,
                                    'bgc-red': learningTrack?.approvalStatus === approvalStatus.REJECTED,
                                    'bgc-orange': learningTrack?.approvalStatus === approvalStatus.CREATED}"
                                style="white-space: nowrap; float: left; margin-left: 12px;" translate>
                                {{getApprovalStatusText(learningTrack.approvalStatus)}}
                            </span>
                            <span style="white-space: nowrap; float: left; margin-left: 12px;"
                                *ngIf="!isApprovalRequiredForType() && !isPartnerView && learningTrack.approvalStatus == approvalStatus.REJECTED"
                                class="view-banner asset-approval-labele-spacing bgc-red" translate>
                                {{getApprovalStatusText(learningTrack.approvalStatus)}}
                            </span>
                            <h6 class="xamplify-ellipsis GridViewCotent">
                                <b> Created On: </b><app-timestamp [isOnlyDate]="true"
                                    [dateAndTime]="learningTrack.createdDateString"></app-timestamp>
                            </h6>
                            <h6 class="xamplify-ellipsis GridViewCotent">
                                <span class="text-danger" data-toggle="tooltip" data-placement="top"
                                        title="{{expireDescription(learningTrack.expireDate,learningTrack?.createdDateString)}}">
                                        {{expireDescription(learningTrack?.expireDate, learningTrack?.createdDateString)}}
                                    </span>
                            </h6>
                        </div>
                        <!---XNFR-327--->
                        <div class="ribbon tab-ribbon">
                            <span
                                *ngIf="learningTrack.published && !isPartnerView && !learningTrack?.publishingOrWhiteLabelingInProgress">Published</span>
                            <span *ngIf="learningTrack?.publishingOrWhiteLabelingInProgress && !isPartnerView">
                                <img src="assets/images/loading.gif" class="margin-0-ht5px" alt="Processing">Processing
                            </span>
                        </div>
                        <!---XNFR-327--->
                        <div class="bar auto-height gridIconCustomization">
                            <!---XNFR-327--->
                            <ng-container
                                *ngIf="!learningTrack?.publishingOrWhiteLabelingInProgress && !learningTrack?.publishingToPartnerList">
                                <a class="Iconhover custom-grid-icon" *ngIf="learningTrack.canUpdate && !isPartnerView"
                                    data-toggle="tooltip" data-placement="top" title="Preview & Edit"
                                    (click)="edit(learningTrack.id)">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    <div class="clickicons"></div>
                                </a>
                                <a class="Iconhover custom-grid-icon"
                                    *ngIf="learningTrack.published && !isPartnerView && learningTrack.canPublish"
                                    data-toggle="tooltip" data-placement="top" title="Unpublish"
                                    (click)="confirmChangePublish(learningTrack.id, false)">
                                    <i class="fa fa-reply" aria-hidden="true"></i>
                                    <div class="clickicons"></div>
                                </a>
                                <a class="Iconhover custom-grid-icon"
                                    *ngIf="!learningTrack.published && !isPartnerView && learningTrack.canPublish"
                                    data-toggle="tooltip" data-placement="top" title="{{(!learningTrack?.createdByAnyApprovalManagerOrApprover && learningTrack?.approvalStatus != 'APPROVED') ? 'Requires approval for publishing.' : 'Publish'}}"
                                    (click)="((isApprovalRequiredForType() && !learningTrack?.createdByAnyApprovalManagerOrApprover && learningTrack?.approvalStatus != 'APPROVED') || (!isApprovalRequiredForType() && learningTrack?.approvalStatus != 'APPROVED')) ? '' : confirmChangePublish(learningTrack.id, true, learningTrack)"
                                    [ngClass]="((isApprovalRequiredForType() && !learningTrack?.createdByAnyApprovalManagerOrApprover && learningTrack?.approvalStatus != 'APPROVED') || (!isApprovalRequiredForType() && learningTrack?.approvalStatus != 'APPROVED')) ? 'disabled gray':''">
                                    <i class="fa fa-share" aria-hidden="true"></i>
                                    <div class="clickicons"></div>
                                </a>
                                <a class="Iconhover custom-grid-icon" data-toggle="tooltip" data-placement="top" title="View"
                                    (click)="view(learningTrack)">
                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                    <div class="clickicons"></div>
                                </a>
                                <a class="Iconhover custom-grid-icon" *ngIf="!isPartnerView" data-toggle="tooltip" data-placement="top"
                                    title="View Analytics" (click)="goToAnalytics(learningTrack)">
                                    <i class="fa fa-line-chart" aria-hidden="true"></i>
                                    <div class="clickicons"></div>
                                </a>
                                <!-- XNFR-824 -->
                                <a *ngIf="isApprovalRequiredForType() && !isPartnerView" (click)="showCommentsAndHistoryModalPopup(learningTrack)"
                                    data-toggle="tooltip" data-placement="top"
                                    title="{{(!authenticationService?.module?.isAdmin || learningTrack?.createdByAnyApprovalManagerOrApprover) ? 'Comments/History' : 'Approve/Reject'}}">
                                    <i class="{{fontAwesomeClassName.comments}}" aria-hidden="true"></i>
                                </a>
                                <a *ngIf="learningTrack.canDelete && !isPartnerView" data-toggle="tooltip"
                                    data-placement="top" title="Delete" class="delete custom-icon"
                                    (click)="confirmDelete(learningTrack)">
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                    <div class="del-icon"></div>
                                </a>
                            </ng-container>
                            <!---XNFR-327--->
                            <ng-container
                                *ngIf="learningTrack?.publishingOrWhiteLabelingInProgress || learningTrack?.publishingToPartnerList">
                                <a data-toggle="tooltip" data-placement="top" title="Refresh"
                                    (click)="listLearningTracks(pagination)">
                                    <i class="fa fa-refresh" aria-hidden="true"></i>
                                </a>
                            </ng-container>
                            <!---XNFR-327--->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
<app-confirm-unpublish-tracks-or-playbooks-model-popup *ngIf="isOptionClicked"
    [selectedTrackOrPlayBookId]="selectedTrackOrPlayBookId" [isPublishing]="isPublishing"
    (eventOutput)="toCallChangePublishFromUnpublishPopup($event)" [type]="type" (cancelEmitter)="resetUnPublishOptionInputValues()">
</app-confirm-unpublish-tracks-or-playbooks-model-popup>

<app-content-status-history-modal-popup
    *ngIf="callCommentsComponent && isApprovalRequiredForType() && !isPartnerView"
    [entityId]="entityId" [moduleType]="moduleType" [createdByAnyApprovalManagerOrApprover]="createdByAnyApprovalManagerOrApprover" [title]="trackOrPlaybookTitle"
    [createdById]="trackOrPlaybookCreatedById" [createdByName]="trackOrPlaybookCreatedByFullName" [videoId]="videoId"
    (closeModalPopup)="closeCommentsAndHistoryModalPopup()"
    (closeModalPopupAndRefresh)="closeCommentsAndHistoryModalPopupAndRefreshList()">
</app-content-status-history-modal-popup>
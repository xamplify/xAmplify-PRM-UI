<div [className]="hideRowClass ? '':'row'">
	<div class="page-bar portlet light border-radius-0 shadow tfamt">
		<div class="portlet-title" *ngIf="!loader">
			<h4 class="pull-left m10 f-w-600 text-primary" translate>
                <a (click)="goToManage()">{{headerTitle}}</a>
                <a class="fstpx" (click)="goToManage()">( {{subHeaderTitle}} )</a>
            </h4>
			<a class="close-circle" title="Refresh"  (click)="refresh()">
				 <i class="fa fa-refresh" aria-hidden="true"></i>
            </a>
            <button *ngIf="!isPartnerView" class="btn btn-primary add-design-upload" (click)="goToCreate()">
				<i class="fa fa-plus" data-toggle="tooltip" aria-hidden="true"></i>
				<span class="hidden-xs" translate>{{addButtonText}}</span>
			</button>
        </div>
        <div style="position: relative; top: -10px;">
			<app-response-message [customResponse]="customResponse"	*ngIf="customResponse.isVisible"></app-response-message>
		</div>
		<div class="portlet-body clearfix">
			<app-grid-loader [count]="4" *ngIf="loader"></app-grid-loader>
			<section *ngIf="!loader">
				<div *ngIf="contents?.length==0" class="alert alert-info text-center">
					<strong>No Data Found</strong>
				</div>
				<div *ngFor="let learningTrack of contents ;let i =index;"  class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
					<div class="grid-box box-shadow">
                        <img class="img-grid-track " [src]="learningTrack?.featuredImage" onerror="this.src='assets/images/content/image.png';" alt="{{learningTrack?.title}}">
                        <h4 class="ellipsis mt5 mb5 f-w-600" title="{{learningTrack?.title}}" style="float: none !important;" translate>
                            {{learningTrack?.title | slice:0:25}} <span *ngIf="learningTrack?.title?.length>25">...</span><br><br>
                        </h4>
                        <div>
                            <div *ngIf="isPartnerView && tracks" style="margin: 0px 15px 0px 15px;">
                                <div class="progress">
                                    <div class="progress-bar" data-toggle="tooltip" data-placement="top" title="{{learningTrack.progress}}%" [ngStyle]="{'width': learningTrack.progress + '%'}" style="border-radius:1px;" role="progressbar">
                                    </div>
                                </div>
                                <span *ngIf="learningTrack?.progress != undefined">{{learningTrack?.progress}}%</span>
                                <span *ngIf="learningTrack?.progress == undefined">0%</span>
                                <br>
                            </div>
                            <h6  translate title="{{learningTrack?.category?.name}}">
                                Folder <strong>{{learningTrack?.category?.name | slice:0:17}}</strong>
                                <span *ngIf="learningTrack?.category?.name?.length>17">..</span>
                            </h6>
                            <h6 translate>
                                Created On <strong>
                                    <app-timestamp [isOnlyDate]="true" [dateAndTime]="learningTrack?.createdDateString">
                                    </app-timestamp>
                                </strong>
                            </h6>
                            <h6  translate title="{{learningTrack?.createdByName}}">
                                By <strong>{{learningTrack?.createdByName | slice:0:17}}</strong>
                                <span *ngIf="learningTrack?.createdByName?.length>17">..</span>
                            </h6>
                        </div>
                        <div class="ribbon tab-ribbon">
                            <!---XNFR-327--->
                            <span style="background-color: #5cb85c;" *ngIf="learningTrack?.published && !isPartnerView &&
                             !learningTrack?.publishingOrWhiteLabelingInProgress && !learningTrack?.publishingToPartnerList" translate>Published</span>
                            <span *ngIf="(learningTrack?.publishingOrWhiteLabelingInProgress || learningTrack?.publishingToPartnerList)
                                         && !isPartnerView">
                                <img src="assets/images/loading.gif" class="margin-0-ht5px" alt="Processing">Processing
                            </span>
                            <!---XNFR-327--->
                        </div>
                        <div class="bar auto-height gridIconCustomization">
                             <!---XNFR-327--->
                            <ng-container *ngIf="!learningTrack?.publishingOrWhiteLabelingInProgress && !learningTrack?.publishingToPartnerList">
                                <a class="Iconhover" *ngIf="learningTrack.canUpdate && !isPartnerView" data-toggle="tooltip" data-placement="top" title="Preview & Edit" (click)="edit(learningTrack.id)">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                                <a class="Iconhover" *ngIf="learningTrack.published && !isPartnerView && learningTrack.canPublish" data-toggle="tooltip" data-placement="top" title="Unpublish" (click)="confirmChangePublish(learningTrack.id, false)">
                                    <i class="fa fa-reply" aria-hidden="true"></i>
                                </a>
                                <a class="Iconhover" *ngIf="!learningTrack.published && !isPartnerView && learningTrack.canPublish" data-toggle="tooltip" data-placement="top" title="Publish" (click)="confirmChangePublish(learningTrack.id, true)">
                                    <i class="fa fa-share" aria-hidden="true"></i>
                                </a>
                                <a class="Iconhover" data-toggle="tooltip" data-placement="top" title="View" (click)="view(learningTrack)">
                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                </a>
                                <a class="Iconhover" *ngIf="!isPartnerView" data-toggle="tooltip" data-placement="top" title="View Analytics" (click)="goToAnalytics(learningTrack)">
                                    <i class="fa fa-line-chart" aria-hidden="true"></i>
                                </a>
                                <a *ngIf="learningTrack.canDelete && !isPartnerView" data-toggle="tooltip" data-placement="top" title="Delete" class="delete" (click)="confirmDelete(learningTrack.id)">
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                </a>
                            </ng-container>
                            <!---XNFR-327--->
                            <ng-container *ngIf="learningTrack?.publishingOrWhiteLabelingInProgress || learningTrack?.publishingToPartnerList">
                                <a  data-toggle="tooltip" data-placement="top" title="Refresh"	(click)="listLearningTracks(pagination)"> 
                                    <i class="fa fa-refresh" aria-hidden="true"></i>
                                </a> 
                            </ng-container>
                            <!---XNFR-327--->
                        </div>
					</div>
				</div>
			</section>
		</div>
	</div>
</div>

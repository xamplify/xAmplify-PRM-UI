<div class="page-content">
	<div class="page-bar">
		<ul class="page-breadcrumb">
			<li><i class="fa fa-home"></i> <a [routerLink]="refService.homeRouter">Home</a> <i class="fa fa-angle-right"></i></li>
			<li style="color:#888">Upload Video</li>
		</ul>
	</div>
	<!--record model poopup -->
	<div class="modal right fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog" role="document">
			<div class="modal-content" style="border-radius:0">
				<div class="modal-header">
					<button [ngClass]="{customDisableCss: !closeModalId }" [disabled]="closeModalId ==false" type="button" class="closeModal close-circle"
					 data-dismiss="modal" aria-hidden="true" (click)="closeRecordPopup()"><i class="fa fa-times"></i></button>
					<h4 class="modal-title" id="myModalLabel"><strong>Record Video from WebCam</strong></h4>
				</div>
				<div class="modal-body" style="padding: 0px 10px 0px 10px;">
					<form>
						<div class="input-group" style="width: 100%;">
							<div>
								<div id="script" style="display: block;">
									<textarea id="script-text" class="record-textarea" [(ngModel)]="textAreaValue" (ngModelChange)="textAreaEmpty()" [ngModelOptions]="{standalone:true}"
									 placeholder=" Don't forget what you want to say. Add your script here.">
						                </textarea>
								</div>
								<div id="scrollSpeedDiv" class="col-xs-12 col-md-12" style="padding:0">
									<div class="col-xs-12 col-sm-4 col-md-4" style="padding:0">Scroll Speed: 1
										<font style="color: red;"> [fast]</font> - 10
										<font style="color: red;"> [slow]</font>
									</div>
									<div class="col-xs-11 col-sm-7 col-md-7" style="padding:0">
										<input type="range" [class.customDisableCss]="RecordSave==true || rageDisabled==true" id="rangeDisabled" min="1" max="10"
										 value="1" step="1" [(ngModel)]="changeVolume" [ngModelOptions]="{standalone:true}" style="border: 0px solid #cecece; width:100%">
									</div>
									<div class="col-xs-1 col-sm-1 col-md-1" style="padding:0">
										<span style="color: red;font-weight: bold;float:right">{{changeVolume}}</span>
									</div>
								</div>
								<div class="col-xs-12 col-sm-6 col-md-3" style="float:right;padding:0">
									<button class="btn btn-primary" type="button" value="Test Scroll Speed" (click)="testSpeed()" style="float: right; margin-bottom: 4px;"
									 *ngIf="testSpeedshow" [disabled]="testSpeeddisabled ==true">Test Scroll Speed</button>
									<button class="btn btn-primary" type="button" value="Stop" (click)="stop()" style="float: right; margin-bottom: 4px;" *ngIf="stopButtonShow"
									 [disabled]="stopButtonDisabled ==true">Stop</button>
								</div>
							</div>
							<video id="myVideo" class="col-xs-12 video-js vjs-default-skin"></video>
						</div>
						<div style="text-align: right;margin-bottom: 3px;margin-top: 3px;">
							<div>
								<button [disabled]="saveVideo==false" class="btn btn-primary" (click)="uploadRecordedVideo()">Upload</button>
								<button [disabled]="discardVideo==false" class="btn btn-danger" role="button" (click)="removeRecordVideo()">Discard</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- record modal popup end  -->
	<div class="portlet light">
		<div class="portlet-body mt-5">
			<div>
				<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" *ngIf="MultipleVideo">
					<div class="addfiles" style="float: left; width: 113px;">
						<div class="btn green fileinput-button"><span> <i class="fa fa-plus"></i>Add A Video</span>
							<input type="file" ng2FileSelect [uploader]="uploader" accept=".mp4,.mpg,.m4v,.flv,.avi,.mov,.wmv,.divx,.f4v,.mpeg,.vob, .mkv"
							 [class.customDisableCss]="isFileProgress==true" *ngIf="uploader.queue.length==0" [disabled]="loading==true||isDisable == true || isSelectedVideo == true"
							 (change)="fileSizeCheck($event)" title=" " #input />
						</div>
					</div>
					<div style="float: left; width: 113px;">
						<button type="button" class="btn btn-success btn-s" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length || loading==true">
							<span class="glyphicon glyphicon-upload"></span> Upload all
						</button> </div>
					<div  style="float: left; width: 113px;">
						<button type="button" class="btn btn-danger btn-s" (click)="uploader.clearQueue();removefileUploadVideo()" [disabled]="!uploader.queue.length || loading==true">
							<span class="glyphicon glyphicon-trash"></span> Remove all
						</button> </div>
				</div>
				<div class="col-xs-12">
					<div *ngIf="processing || contentProcessing" class="row">
            <div class="alert alert-success alertMessageCustom loaderSymbol mb10">
              <span><img src="assets/images/loadbar.gif" class="loader-image-tag"></span>
              <span class="text-css" *ngIf="processing">{{properties.VIDEO_PROCESS_MESSAGE}}</span>
              <span class="text-css" *ngIf="contentProcessing">Your files has been uploaded and we are processing, please wait..</span>
            </div>
					</div>
					<div style="position: relative; top:-17px;" *ngIf="!processing">
					<app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
		           </div>
					<!-- changes   -->
					<div class="col-xs-12 row" [ngClass]="{'upload-video-css': uploader.queue.length !== 0}">
						<div *ngIf="isDisable==false">
							<div *ngFor="let item of uploader.queue">
								<div class="col-xs-12 col-sm-4 col-md-4 video-padding">
									<video *ngIf="!videoDisabled && browserInfo!=='safari'" id="my-video" controls preload="auto">
										<source [src]='videoPreviewPath' type='video/mp4'>
										<source [src]='videoPreviewPath' type='video/quicktime'>
										<source [src]="videoPreviewPath" type='video/x-msvideo'>
										<source [src]="videoPreviewPath" type='video/mpeg'>
										<source [src]="videoPreviewPath" type='video/dvd'>
										<source [src]="videoPreviewPath" type='video/xvid'>
									</video>
									<img *ngIf="!previewDisabled || browserInfo==='safari'" src="assets/images/no-preview.jpg" style="border: 2px solid #00a6e8;" id="my-video">
                </div>
                <div class="col-xs-12 col-sm-8 col-md-8">
								<div class="col-xs-12 col-sm-12 col-md-6">
									<h3 [title]="item?.file?.name" style=" color: #00a6e8;font-weight: 550;font-size: 19px; ">{{ trimVideoTitle(item?.file?.name) }}</h3>
									<h5 style="font-weight: 700;color: #929292;letter-spacing: 1px;">{{(item?.file?.size/1024/1024).toFixed(2) }} MB</h5>
									<div class="progress">
										<div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0"
										 aria-valuemax="100" [ngStyle]="{ 'width': item.progress + '%' }">
											<span *ngIf="item.progress !== 0">{{item.progress}} %</span>
										</div>
									</div>
								</div>
								<div class="col-xs-12 col-sm-12 col-md-6 upload-button" nowrap style="float: right;">
									<button class="text-center" style="background-color:white; cursor:default">
											<span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
											<span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
											<span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
										</button>
									<button type="button" class="btn btn-success btn-sm" (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
											<span class="glyphicon glyphicon-upload"></span> Upload
										</button>
									<button type="button" class="btn btn-danger btn-sm" [disabled]="loading==true" (click)="item.remove();removefileUploadVideo()">
											<span class="glyphicon glyphicon-trash"></span> Remove
										</button>
                </div>
                </div>
							</div>
						</div>
					</div>
					<!-- changes done  -->
					<div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12 col-sm-6 pu0" >
					<div [class.customDisableCss]='isDisable==true || isFileProgress ==true || isSelectedVideo ==true' ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
					 (fileOver)="fileOverBase($event)" (onFileDrop)="fileDropPreview($event)" [uploader]="uploader" class="well my-drop-zone"
					 style="position: relative; background-color: #00a6e8; cursor:pointer; margin-bottom:0" (click)="dropClick()">
						<input type="file" ng2FileSelect [uploader]="uploader" accept=".mp4,.mpg,.m4v,.flv,.avi,.mov,.wmv,.divx,.f4v,.mpeg,.vob"
						 *ngIf="uploader.queue.length==0" (change)="fileSizeCheck($event)" style="opacity: 0.0; position: absolute;" title=" " id="file-upload">
						<div class="text-center">
              <!-- <i class="fa fa-cloud-upload fa-6" aria-hidden="true"></i> -->
              <img src="../../../assets/images/upload-video.png" >
							<h2 class="upload-video" style="margin:-5px;padding-top: 5px;">Upload a video </h2>
							<h6 style="color:#fff">Drag and drop a video file here or click to select a Video file.</h6>
							<h6 style="color:#fff" class="m0">These plugins only work with the latest versions of Chrome, Firefox, Safari, Opera, Microsoft Edge & Internet Explorer 10.
							</h6>
						</div>
					</div>
				</div>

        <div class="col-xs-12 col-sm-6" >
					<div [class.customDisableCss]='isDisable==true || isFileProgress ==true || isSelectedVideo ==true' (drop)="contentUpload($event)"
				    class="well my-drop-zone"
					 style="position: relative; background-color: #00a6e8; cursor:pointer; margin-bottom:0" (click)="contentDropClick()">
           <input type="file"  (change)="contentUpload($event)" multiple="multiple" accept="image/*,application/pdf,application/vnd.ms-excel"
						  style="opacity: 0.0; position: absolute;" title=" " id="content-upload">
						<div class="text-center">
              <!-- <i class="fa fa-cloud-upload fa-6" aria-hidden="true"></i> -->
              <img src="../../../assets/images/upload-content.png">
							<h2 class="upload-video" style="margin:-5px;padding-top: 5px;">Content Upload</h2>
							<h6 style="color:#fff">Drag and drop files here or click to select files.</h6>
							<h6 style="color:#fff" class="m0">These plugins only work with the latest versions of Chrome, Firefox, Safari, Opera, Microsoft Edge & Internet Explorer 10.
							</h6>
						</div>
					</div>
        </div>
        <div class="col-xs-12 col-sm-6 pu0">
					<div class="box-border">
					<div class="col-xs-6 col-sm-3 text-center hidden-xs" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/record.png"  data-toggle="tooltip" data-placement="bottom" title="Click here to record using your webcam" (click)="cameraChange()"
						 height="70" width="auto" class="camera" style=" border: 5px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;color: #ea7b92; margin: 9px 12px;">WebCam</div>
					</div>
					<div class="col-xs-4 col-sm-3 text-center" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/Dropbox.png" class="dropBox"  data-toggle="tooltip" data-placement="bottom" title="Click here to access videos from your Dropbox account" (click)="dropBoxChange()"
						 height="70" width="auto" style="cursor:pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;color: #55bede;margin: 9px 13px;">DropBox</div>
					</div>
					<div class="col-xs-4 col-sm-3 text-center margin-top-16" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/box.png" class="box"  data-toggle="tooltip" data-placement="bottom" title="Click here to access videos from your Box account" (click)="boxChange()"
						 height="70" width="auto" style="cursor:pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;margin: 9px 24px;color: #6eabd7;">Box</div>
					</div>
					<div class="col-xs-4 col-sm-3 text-center margin-top-16" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/GoogleDrive.png"  data-toggle="tooltip" data-placement="bottom" class="googleDrive" title="Click here to access videos from your GoogleDrive account"
						 (click)="googleDriveChange()" height="70" width="auto" style="cursor: pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1"
						 onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600; color: #eec24c; margin: 9px 3px">GoogleDrive</div>
          </div>
          <!-- commented for future work -->
					<!-- <div class="col-sm-5ths" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/onedrive.png" class="oneDrive" title="Click here to access videos from your OneDrive account" height="70"
						 width="auto" style="cursor: pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;margin: 9px 9px; color: #5280c8;">OneDrive</div>
					</div> -->
					</div>
        </div>
				<div class="col-xs-12 col-sm-6">
					<div class="box-border">
					<div class="col-xs-4 col-sm-4 text-center" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/Dropbox.png" class="dropBox"  data-toggle="tooltip" data-placement="bottom" title="Click here to access files from your Dropbox account" (click)="dropBoxContentChange()"
						 height="70" width="auto" style="cursor:pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;color: #55bede;margin: 9px 13px;">DropBox</div>
					</div>
					<div class="col-xs-4 col-sm-4 text-center margin-top-16" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/box.png" class="box"  data-toggle="tooltip" data-placement="bottom" title="Click here to access files from your Box account" (click)="boxContentChange()"
						 height="70" width="auto" style="cursor:pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1" onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600;margin: 9px 24px;color: #6eabd7;">Box</div>
					</div>
					<div class="col-xs-4 col-sm-4 text-center margin-top-16" [class.customDisableCss]='uploader.queue.length'>
						<img src="assets/images/GoogleDrive.png"  data-toggle="tooltip" data-placement="bottom" class="googleDrive" title="Click here to access files from your GoogleDrive account"
						 (click)="googleDriveChange()" height="70" width="auto" style="cursor: pointer; border: 1px; margin: 10px;" onMouseOver="this.style.opacity= 1"
						 onMouseOut="this.style.opacity= 0.7">
						<div style="font-weight: 600; color: #eec24c; margin: 9px 3px">GoogleDrive</div>
          </div>
					</div>
				</div>
      </div>

      <div class="clearfix" style="margin: 5px;"></div>
      <!-- class="panel panel-success" -->
			<div  style="border-radius: 0" style="background-color: #ffffff">
				<div class="panel-heading" hidden>
					<h3 class="panel-title">**Notes</h3>
        </div>
        <!-- class="panel-body" -->
				<div style="position: relative;right: 23px;">
					<ul style="color:#4c4b4b;">
						<li>Maximum video file size is {{maxVideoSize}} MB. For larger files please <a  href="mailto:admin@xamplify.io" target="_top">contact us</a>.</li>
						<li>Supported video file types are <b>mp4, mpg, m4v, flv, avi, mov, wmv, divx, f4v, mpeg, vob, mkv </b>.</li>
					</ul>
				</div>
			</div>
		</div>
  </div>
  <app-scroll-top></app-scroll-top>
</div>

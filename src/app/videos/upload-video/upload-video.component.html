<style type="text/css">
	.customDisableCss {
		cursor: not-allowed !important;
		opacity: 0.6;
		pointer-events: none;
	}
	</style>
<div class="page-content">
		<div class="page-bar">
			<ul class="page-breadcrumb">
				<li><i class="fa fa-home"></i> <a [routerLink]="['/']">Home</a> <i class="fa fa-angle-right"></i></li>
				<li style="color:#888">Upload Video</li>
			</ul>
		</div>
		<!--record model poopup -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog" role="document">
				<div class="modal-content" style="border-radius:0">
					<div class="modal-header">
						<button [class.customDisableCss]="closeModalId ==false" [disabled]="closeModalId ==false" type="button" class="closeModal"
						 data-dismiss="modal" aria-hidden="true" (click)="closeRecordPopup()">×</button>
						<h4 class="modal-title" id="myModalLabel"><strong>Record Video from WebCam</strong></h4>
					</div>
					<div class="modal-body" style="padding: 0px 10px 0px 10px;">
						<form>
							<div class="input-group" style="width: 100%;">
								<div>
									<div id="script" style="display: block;">
										<textarea id="script-text" class="record-textarea" [(ngModel)]="textAreaValue" (ngModelChange)="textAreaEmpty()" [ngModelOptions]="{standalone:true}"
										 placeholder=" Don't forget what you want to say. Add your script here.">
						                </textarea>
									</div>
									<div id="scrollSpeedDiv" class="col-xs-12 col-md-12" style="padding:0">
										<div class="col-xs-12 col-sm-4 col-md-4" style="padding:0">Scroll Speed: 1
											<font style="color: red;"> [fast]</font> - 10
											<font style="color: red;"> [slow]</font>
										</div>
										<div class="col-xs-11 col-sm-7 col-md-7" style="padding:0">
											<input type="range" [class.customDisableCss]="RecordSave==true || rageDisabled==true" id="rangeDisabled" min="1" max="10"
											 value="1" step="1" [(ngModel)]="changeVolume" [ngModelOptions]="{standalone:true}" style="border: 0px solid #cecece; width:100%">
										</div>
										<div class="col-xs-1 col-sm-1 col-md-1" style="padding:0">
											<span style="color: red;font-weight: bold;float:right">{{changeVolume}}</span>
										</div>
									</div>
									<div class="col-xs-12 col-sm-6 col-md-3" style="float:right;padding:0">
										<button class="btn btn-primary" type="button" value="Test Scroll Speed" (click)="testSpeed()" style="float: right; margin-bottom: 4px;"
										 *ngIf="testSpeedshow" [disabled]="testSpeeddisabled ==true">Test Scroll Speed</button>
										<button class="btn btn-primary" type="button" value="Stop" (click)="stop()" style="float: right; margin-bottom: 4px;" *ngIf="stopButtonShow"
										 [disabled]="stopButtonDisabled ==true">Stop</button>
									</div>
								</div>
								<video id="myVideo" class="col-xs-12 video-js vjs-default-skin"></video>
							</div>
							<div style="text-align: right;margin-bottom: 3px;margin-top: 3px;">
								<div>
									<button [disabled]="saveVideo==false" class="btn btn-primary" (click)="uploadRecordedVideo()">Upload</button>
									<button [disabled]="discardVideo==false" class="btn btn-danger" role="button" (click)="removeRecordVideo()">Discard</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- record modal popup end  -->
		<div class="portlet light">
			<div class="portlet-body">
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
						<div class="addfiles" style="float: left; width: 113px;">
							<div class="btn green fileinput-button"><span> <i class="fa fa-plus"></i>Add file...</span>
								<input type="file" ng2FileSelect [uploader]="uploader" accept=".mp4,.mpg,.m4v,.flv,.avi,.mov,.wmv,.divx,.f4v,.mpeg,.vob"
								 [class.customDisableCss]="isFileProgress==true" *ngIf="uploader.queue.length==0" [disabled]="loading==true||isDisable == true || isSelectedVideo == true"
								 (change)="fileSizeCheck($event)" #input />
							</div>
						</div>
						<div *ngIf="MultipleVideo" style="float: left; width: 113px;">
							<button type="button" class="btn btn-success btn-s" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length || loading==true">
							<span class="glyphicon glyphicon-upload"></span> Upload all
						</button> </div>
						<div *ngIf="MultipleVideo" style="float: left; width: 113px;">
							<button type="button" class="btn btn-danger btn-s" (click)="uploader.clearQueue();removefileUploadVideo()" [disabled]="!uploader.queue.length || loading==true">
							<span class="glyphicon glyphicon-trash"></span> Remove all
						</button> </div>
					</div>
					<br />
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top: 25px;">
						<div *ngIf="processing">
							<div class="alert alert-success alertMessageCustom loaderSymbol" style="background: #dff0d8">
								<img src="assets/images/loadbar.gif" class="loader-image-tag">
								<p class="p-tag-loaderCss">Please wait ..!!! your video got uploaded & we are processing..!!!!</p>
							</div>
						</div>
						<div *ngIf="maxSubscription || noSpaceOnDevice || maxSizeOver|| errorNull || codecSupport" class="alert alert-danger alert-dismissable" style="position: relative;top: -13px;">
							{{failedtoUploadMessage}}
							<a class="close" data-dismiss="alert" aria-label="close" title="close" (click)="closeBannerAlert()">×</a>
						</div>
						<div class="col-xs-12" style="padding: 0; margin-bottom: 10px;">
							<div *ngIf="isDisable==false">
								<div *ngFor="let item of uploader.queue">
									<div class="col-xs-12 col-sm-3 col-md-3">
										<video *ngIf="!videoDisabled" id="my-video" style="margin: -7px;" controls preload="auto" width="250" height="150">
											<source [src]='videoPreviewPath' type='video/mp4'>
											<source [src]='videoPreviewPath' type='video/quicktime'>
											<source [src]="videoPreviewPath" type='video/x-msvideo'>
											<source [src]="videoPreviewPath" type='video/mpeg'>
											<source [src]="videoPreviewPath" type='video/dvd'>
											<source [src]="videoPreviewPath" type='video/xvid'>
										</video>
										<img *ngIf="!previewDisabled" src="assets/images/no-preview.jpg" style="border: 2px solid #00a6e8;" width="250" height="150">
									</div>
									<div class="col-xs-12 col-sm-4 col-md-4">{{ trimVideoTitle(item?.file?.name) }}</div>
									<div class="col-xs-12 col-sm-2 col-md-2">
										<div>{{(item?.file?.size/1024/1024).toFixed(2) }} MB</div>
										<div class="progress" style="width:50%">
											<div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
										</div>
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3" nowrap style="padding:0">
										<button class="text-center" style="background-color:white; cursor:default">
											<span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
											<span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
											<span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
										</button>
										<button type="button" class="btn btn-success btn-xs" (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
											<span class="glyphicon glyphicon-upload"></span> Upload
										</button>
										<button type="button" class="btn btn-danger btn-xs" [disabled]="loading==true" (click)="item.remove();removefileUploadVideo()">
											<span class="glyphicon glyphicon-trash"></span> Remove
										</button>
									</div>
								</div>
							</div>
						</div>
						<div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p>
						<span class="label label-danger"> NOTE: </span>
						 &nbsp; This plugins works only on Latest Chrome, Firefox, Safari, Opera & Internet Explorer 10.
						</p>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-6">
						<div [class.customDisableCss]='isDisable==true || isFileProgress ==true || isSelectedVideo ==true' ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
						 (fileOver)="fileOverBase($event)" (onFileDrop)="fileDropPreview($event)" [uploader]="uploader" class="well my-drop-zone"
						 style="position: relative;top: -5px; background-color: #00a6e8;">
							<div class="text-center">
								<i class="fa fa-cloud-upload fa-6" aria-hidden="true"></i>
								<h2 class="upload-video">Upload a video </h2>
								<h6 style="color:#fff">Drop your video here</h6>
							</div>	
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-8 col-lg-6" style="padding-top: 42px;">
						<div class="col-xs-4 col-sm-4 col-md-2 ">
							<img src="assets/images/record.png" title="Click here To Record from computer acttached camera" (click)="cameraChange()"
							 height="80" width="auto" class="camera" style=" border: 5px; margin: 10px;">
							<div style="position: relative;left: 18px;">Camera</div>
						</div>
						<div class="col-xs-4 col-sm-4 col-md-2 ">
							<img src="assets/images/Dropbox.png" class="dropBox" title="Click here To access videos from your Dropbox account" (click)="dropBoxChange()"
							 height="80" width="auto" style="cursor:pointer; border: 1px; margin: 10px;">
							<div style="position: relative;left: 14px;">DropBox</div>
						</div>
						<div class="col-xs-4 col-sm-4 col-md-2 ">
							<img src="assets/images/box.png" class="box" title="Click here To access videos from your Box.com account" (click)="boxChange()"
							 height="80" width="auto" style="cursor:pointer; border: 1px; margin: 10px;">
							<div style="position: relative;left: 28px;">Box</div>
						</div>
						<div class="col-xs-5 col-sm-5 col-md-2  ">
							<img src="assets/images/GoogleDrive.png" class="googleDrive" title="Click here To access videos from your GoogleDrive account"
							 (click)="googleDriveChange()" height="80" width="auto" style="cursor: pointer; border: 1px; margin: 10px;">
							<div style=" position: relative;left: 7px;">GoogleDrive</div>

						</div>
						<div class="col-xs-7 col-sm-7 col-md-2  ">
							<img src="assets/images/onedrive.png" class="oneDrive" title="Click here To access videos from your OneDrive account" height="80"
							 width="auto" style="cursor: pointer; border: 1px; margin: 10px;">
							<div style="position: relative;left: 11px;">OneDrive</div>
						</div>
					</div>
				</div>
				<div class="clearfix" style="margin: 5px;"></div>
				<div class="panel panel-success">
					<div class="panel-heading">
						<h3 class="panel-title">**Notes</h3>
					</div>
					<div class="panel-body">
						<ul>
							<li>The maximum video file size ({{maxVideoSize}} MB) allowed for uploads depends on your account.</li>
							<li>Only Video files (<strong>.mp4, .flv, .mpeg and
									soon</strong>) are allowed to upload.
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
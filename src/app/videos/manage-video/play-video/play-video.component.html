<style type="text/css">
	.overlaySet {
		margin-top: -372px;
	}
	a.disabled {
		pointer-events: none;
	}
</style>
<div class="portlet light">
	<div class="portlet-body">
		<div class="row margin-bottom-30">
			<div class="col-md-7">
        <app-play-video-loader [isPlaying]="true" *ngIf="isVideoChanged"></app-play-video-loader>
				<div style="margin-bottom: 1em;" [hidden]="isVideoChanged">
					<div id="overLayImage"></div>
					<div id="overlay-logo" class="video-js"  [ngClass]="{'logoCssplay':!fullScreenMode , 'logoFullscreen' :fullScreenMode}">
						<a [href]="logoLink" *ngIf="this.videoFileService.videoType ==='partnerVideos'" target="_blank" [class.disabled]="logoLink===null">
							<img id="imageDivHide" *ngIf="logoImageUrlPath"  [src]="authenticationService.MEDIA_URL + logoImageUrlPath" class="img-responsive" >
						</a>
						<a [href]="selectedVideo.brandingLogoDescUri" *ngIf="this.videoFileService.videoType !=='partnerVideos'"  target="_blank" [class.disabled]="selectedVideo.brandingLogoDescUri===null">
							<img  id="imageDivHide" *ngIf="selectedVideo.brandingLogoUri"  [src]="authenticationService.MEDIA_URL + selectedVideo.brandingLogoUri" class="img-responsive" >
						</a>
					</div>
					<div id="newPlayerVideo"></div>
				</div>
				<div id="modalDialog" [hidden]="isVideoChanged"></div>
				<!-- modal popup  -->
				<div id="overlay-modal" class="video-js overlay is360video"  [hidden]="isVideoChanged" [class.overlaySet]="overLaySet==false" style="height: 360px; width: 100% !important;color:white !important; background-color:rgba(29, 25, 25, 0.72);">
					<form #f="ngForm" novalidate>
						<div class="col-xs-12 overlay-main" [ngClass]="{'bottomCss':fullScreenMode}">
							<h2 class="upper-text-heading upperText">{{selectedVideo.upperText}}</h2>
							<div class="flex" *ngIf="callAction.isFistNameChecked==true">
								<input type="text" name="firstName" style="margin-right: 0;" [(ngModel)]="callAction.firstName" (ngModelChange)="checkingCallToActionValues()"
								 class="form-control text-box m21" placeholder="First Name">
								<input type="text" name="lastName" [(ngModel)]="callAction.lastName" (ngModelChange)="checkingCallToActionValues()" class="form-control text-box m21"
								 placeholder="Last Name">
							</div>
							<div class="flex m02">
								<div class="w-8">
									<input type="text" name="email_id" [(ngModel)]="callAction.email_id" (ngModelChange)="checkingCallToActionValues()" class="form-control text-box"
									 placeholder="Email Address" pattern="^[a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,15})+$" #email_id="ngModel">
								</div>
								<div class="w-4">
									<button type="button" id="playorsubmit" class="btn play-button text-box" [disabled]="callAction.isOverlay==true" (click)="saveCallToActionUserForm()">{{callAction.videoOverlaySubmit}}</button>
								</div>
							</div>
							<h4 class="upper-text-heading lowerText">{{selectedVideo.lowerText}}</h4>
						</div>
					</form>
					<div [hidden]="isVideoChanged">
						<div *ngIf="callAction.videoOverlaySubmit=='SUBMIT'" id="repeatPlay" style="cursor: pointer">
							<i class="fa fa-repeat" aria-hidden="true"></i>
						</div>
						<div *ngIf="callAction.isSkipChecked==true" id="skipOverlay" style="cursor: pointer">
							<i class="fa fa-forward" aria-hidden="true"></i>
							<b style="font-size: 13px; color:white;">skip</b>
						</div>
					</div>
				</div>
				<!-- modal popup end-->
				<div [hidden]="isVideoChanged">
					<h3 style="word-break: break-all;color:#777">{{selectedVideo.title}}</h3>
				</div>
				<div class="col-xs-12 col-sm-7 col-md-8" style="padding: 0;" [hidden]="isVideoChanged">
					<div *ngIf="hasAllAccess || (hasVideoRole && loggedInUserId == selectedVideo.uploadedUserId ) || authenticationService.isOnlyPartner">
						<button *ngIf="shareVideo==true" class="btn btn-primary shareVideoButton" (click)="shareClick()" [disabled]="isThisDraftVideo==true">
							<i class="fa fa-share-alt" aria-hidden="true"></i> Share
						</button>
						<button *ngIf="embedVideo==true" class="btn btn-primary embedVideoButton" data-toggle="modal" data-target="#myModal" [disabled]="isThisDraftVideo"
						 (click)="embedModal()">
							<i class="fa fa-external-link" aria-hidden="true"></i> Embed
						</button>
					</div>
				</div>
				<div class="col-xs-12 col-sm-5 col-md-4" style="padding: 0;" [hidden]="isVideoChanged">
					<div class="col-xs-12" style="padding: 0;">
						<span class="pull-right videoViews">
							<h4 class="viewsh4">{{selectedVideo.views}} views</h4>
						</span>
					</div>
					<div class="col-xs-12" style="padding: 0;">
						<span class="pull-right">
							<button style="color: #337ab7; background: #fff;" title="I like this" (click)="likesValuesDemo()">
								<a style="text-decoration:none;">
									<i class="fa fa-thumbs-up" aria-hidden="true"></i>
									{{likesValues}}</a>
							</button>
							<button style="color: #f3565d; background: #fff;padding: 0;" title="I dislike this" (click)="disLikesValuesDemo()">
								<a style="text-decoration:none; color: #f3565d; background: #fff;padding: 0;">
									<i class="fa fa-thumbs-down" aria-hidden="true"></i>
									{{disLikesValues}}</a>
							</button>
						</span>
					</div>
				</div>
				<!-- emebd src Modal Start-->
				<app-embed-modal *ngIf="embedModelVideo" [video]="embedModelVideo" (notifyParent)="closeEmbedModal($event)"></app-embed-modal>
				<!-- Modal End-->
				<div [hidden]="isVideoChanged">
					<strong>Uploaded on :{{selectedVideo.uploadedDate}}</strong>
					<p align="justify" style="word-break: break-all;"> {{selectedVideo.description}}</p>
				</div>
				<div [hidden]="isVideoChanged">
					<p>Category : {{selectedVideo.category.name}}</p>
				</div>
				<div>
					<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto;" *ngIf="false">
						<div class="scroller" style="max-height: 800px; overflow: hidden; width: auto;" data-always-visible="0" data-rail-visible="0"
						 data-handle-color="#dae3e7" data-initialized="1">
							<form action="#" class="form-horizontal">
								<div class="tabbable-line">
									<ul class="nav nav-tabs ">
										<li class="active">
											<a href="#tab_1" data-toggle="tab" aria-expanded="true"> Comments </a>
										</li>
									</ul>
									<div *ngIf="!comments">
										<h2>
											<pre style="border-radius: 0;color:#3e2525;">Comments are disabled for this video.!!! </pre>
										</h2>
									</div>
									<div class="tab-content" *ngIf="comments">
										<div class="tab-pane active" id="tab_1">
											<!-- TASK COMMENTS -->
											<div class="form-group">
												<div class="col-md-12">
													<ul class="media-list">
														<li class="media">
															<a class="pull-left" href="javascript:;">
																<img class="todo-userpic" src="assets/admin/layout2/img/avatar8.jpg" width="27px" height="27px">
															</a>
															<div class="media-body todo-comment">
																<button type="button" class="todo-comment-btn btn btn-circle btn-default btn-xs">&nbsp; Reply &nbsp;</button>
																<p class="todo-comment-head">
																	<span class="todo-comment-username">Christina Aguilera
																	</span> &nbsp;
																	<span class="todo-comment-date">17 Sep 2014 at 2:05pm</span>
																</p>
																<p class="todo-text-color">
																	Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum
																	in vulputate at, tempus viverra turpis.
																	<br>
																</p>
																<!-- Nested media object -->
																<div class="media">
																	<a class="pull-left" href="javascript:;">
																		<img class="todo-userpic" src="assets/admin/layout2/img/avatar4.jpg" width="27px" height="27px">
																	</a>
																	<div class="media-body">
																		<p class="todo-comment-head">
																			<span class="todo-comment-username">Carles Puyol
																			</span> &nbsp;
																			<span class="todo-comment-date">17 Sep 2014 at 4:30pm</span>
																		</p>
																		<p class="todo-text-color">Thanks so much my dear!
																		</p>
																	</div>
																</div>
															</div>
														</li>
														<li class="media">
															<a class="pull-left" href="javascript:;">
																<img class="todo-userpic" src="assets/admin/layout2/img/avatar5.jpg" width="27px" height="27px">
															</a>
															<div class="media-body todo-comment">
																<button type="button" class="todo-comment-btn btn btn-circle btn-default btn-xs">&nbsp; Reply &nbsp;</button>
																<p class="todo-comment-head">
																	<span class="todo-comment-username">Andres Iniesta
																	</span> &nbsp;
																	<span class="todo-comment-date">18 Sep 2014 at 9:22am</span>
																</p>
																<p class="todo-text-color">
																	Cras sit amet nibh libero, in gravida nulla. Scelerisque ante sollicitudin commodo Nulla vel metus scelerisque ante sollicitudin
																	commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
																	<br>
																</p>
															</div>
														</li>
														<li class="media">
															<a class="pull-left" href="javascript:;">
																<img class="todo-userpic" src="assets/admin/layout2/img/avatar6.jpg" width="27px" height="27px">
															</a>
															<div class="media-body todo-comment">
																<button type="button" class="todo-comment-btn btn btn-circle btn-default btn-xs">&nbsp; Reply &nbsp;</button>
																<p class="todo-comment-head">
																	<span class="todo-comment-username">Olivia Wilde</span> &nbsp;
																	<span class="todo-comment-date">18 Sep 2014 at 11:50am</span>
																</p>
																<p class="todo-text-color">
																	Cras sit amet nibh libero, in gravida nulla. Scelerisque ante sollicitudin commodo Nulla vel metus scelerisque ante sollicitudin
																	commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis.
																	<br>
																</p>
															</div>
														</li>
													</ul>
												</div>
											</div>
											<!-- END TASK COMMENTS -->
											<!-- TASK COMMENT FORM -->
											<div class="form-group">
												<div class="col-md-12">
													<ul class="media-list">
														<li class="media">
															<img class="todo-userpic pull-left" src="assets/admin/layout2/img/avatar4.jpg" width="27px" height="27px">
															<div class="media-body">
																<textarea class="form-control todo-taskbody-taskdesc" rows="4" placeholder="Type comment..."></textarea>
															</div>
														</li>
													</ul>
													<button type="button" class="pull-right btn btn-sm btn-circle green-haze">
														&nbsp; Submit &nbsp;</button>
												</div>
											</div>
											<!-- END TASK COMMENT FORM -->
										</div>
									</div>
								</div>
							</form>
						</div>
						<div class="slimScrollBar" style="width: 7px; position: absolute; top: 102px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 583.941605839416px; background: rgb(218, 227, 231);">
						</div>
						<div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; opacity: 0.2; z-index: 90; right: 1px; background: rgb(234, 234, 234);">
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-5" style="margin-top: -10px;">
				<div class="tabbable tabbable-custom tabbable-noborder" style="box-shadow: 0 0 0px rgba(0,0,0,.4)!important;">

					<div class="tab-content">
						<div class="tab-pane active" style="margin-top: -13px;">
							<!-- BEGIN FILTER -->
							<div class="margin-top-10">
								<div style="display: inline">
									<h4>Related Videos:</h4>
									<div>
										<div class="row mix-grid" style="margin-top: 10px">
                      <app-play-video-loader [playVideo]="true" *ngIf="httpRequestLoader.isLoading"></app-play-video-loader>
											<div *ngIf="allVideos && !httpRequestLoader.isLoading">
												<div class="col-md-6 col-sm-8 mix category_1 mix_all" style="display:block; opacity: 1;" *ngFor="let videoFile of pagination.pagedItems; let i = index;">
													<div class="mix-inner">
														<img class="img-responsive" src="{{videoFile.imagePath}}" alt="No Image" class="imagePath">
														<div class="mix-details">
															<h4 title={{videoFile.title}}>{{titleCheckLength(videoFile.title)}}</h4>
															<a class="mix-preview" (click)="showVideo(videoFile, i)" title="play video" data-rel="">
																<i class="fa fa-play" style="margin-right:0px"></i>
															</a>
															<span align="right" style="bottom: 4px; float: right; position: absolute; right: 10px;">{{videoUtilService.truncateHourZeros(videoFile.videoLength)}}</span>
															<span align="left" style="bottom: 17px; left: 10px; position: absolute;">#{{videoFile.views}}</span>
															<br>
															<span align="left" style="bottom: 3px; left: 10px; position: absolute;">by {{videoFile.uploadedUserName}}</span>
														</div>
													</div>
												</div>
											</div>
										</div>
										<!-- END FILTER -->
									</div>
								</div>
								<div *ngIf="showRelatedMessage == false">
									<app-pagination [pagination]="pagination" [type]="'playvideos'" (notifyParent)="setPage($event)" (notifyParentDropDown)="loadAllVideos($event)"></app-pagination>
								</div>
								<p *ngIf="showRelatedMessage" class="notFoundVideo">No Related videos Found</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

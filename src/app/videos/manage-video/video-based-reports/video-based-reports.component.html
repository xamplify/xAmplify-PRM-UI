<style>
	.td-new,
	th {
		border: 1px solid #dddddd;
		text-align: center;
		padding: 2px;
	}

	.td-new-n {
		border: 2px solid #dddddd;
		text-align: center;
		padding: 20px;
	}
    .td-color{
		color: white;
		background-color:rgb(0,0,255);
	}
	.td-chart {
		position: relative;
		cursor: pointer;
	}

	.bg {
		position: absolute;
		left: 0;
		top: 0;
		bottom: 0;
		color: #000;
		background-color: rgb(255,255,0);
		z-index: 0;
		text-align: center;
	}
	/* tr:nth-child(odd) {
    background-color: #f8f8f8;
    opacity: .999;
} */
</style>
<div class="row">
	<div class="col-xs-12 col-sm-6 p5">
		<div class="portlet light">
			<div id="newPlayerVideo"></div>
			<div>
				<div>
					<h4 class="videoTitle">{{selectedVideo.title}}</h4>
					<h5 align="justify" style="word-break: break-all;">{{selectedVideo.description}}</h5>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<h6> <b>Uploaded on :</b> {{selectedVideo.uploadedDate}}</h6>
						<h6> <b>Category :</b> {{selectedVideo.category.name}}</h6>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-12 col-sm-6 p5">
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<i class="icon-equalizer font-purple-plum hide"></i>
					<span class="caption-subject font-red-sunglo uppercase">Day Stats</span>
					<span class="caption-helper">Video related</span>
				</div>
			</div>
			<div class="portlet-body">
				<div class="row">
					<div class="col-xs-6 text-center">
						<table id="trellis" style="min-width: 250px; max-width: 300px; height: 200px;"><tr><td class="first"></td></tr></table>
						<h5 class="title" style="margin-top: -2px;color: #3d3d3e;font-weight: 400;"> Total minutes watched by top {{minutesWatchedUsers}} users </h5>
					</div>
					<div class="col-xs-3 text-center" style="padding: 0">
						<section class="percentage-circle" style="margin-top: 10px;">
							<svg width="120" height="120" viewBox="0 0 120 120" style="transform: rotate(-90deg)">
								<circle cx="60" cy="60" r="54" fill="none" stroke="#e6e6e6" stroke-width="5" />
								<circle cx="60" cy="60" r="54" fill="none" stroke-width= "5" stroke="#00a6e8" stroke-dasharray="339.292006588" [ngStyle]="{'stroke-dashoffset': 339.292 * (1 - watchedFully/100)}"
								/>
							</svg>
							<h2 class="percentage-value">{{watchedFully}}%</h2>
						</section>
						<h5 style="margin-top: 116px;font-weight: 400;">Watched Fully</h5>
					</div>
					<div class="col-xs-3 text-center">
						<h1 style="margin-top: 48px;">{{videoUtilService.nFormatter(selectedVideo.views)}}</h1>
						<h5 style="margin-top: 8.8em; font-weight: 400;">TotalViews</h5>
					</div>
				</div>
			</div>
		</div>
		<div style="background: white;box-shadow: none;margin-top: 14px;">
			<table class="table-new" style="width: 100%;" height=120>
				<tr>
					<th class="td-new-n" rowspan="2">N/A users</th>
					<th class="td-new-n">views</th>
					<th class="td-new-n">minutes watched</th>
				</tr>
				<tr>
					<td class="td-new-n">5</td>
					<td class="td-new-n">4.0</td>
				</tr>
			</table>
		</div>
	</div>

</div>

<div class="row">
	<div class="col-xs-12 col-sm-6 p5">
		<!-- BEGIN PORTLET-->
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<i class="icon-bar-chart font-green-sharp hide"></i>
					<span class="caption-subject font-green-sharp uppercase">minutes watched Views</span>
					<span class="caption-helper"></span>
				</div>
				<div class="panel-title pull-right">
					<span style="float:right; font-size: 13px;">
						<select style="cursor: pointer" [(ngModel)]="minutesSort" (ngModelChange)="selectedSortByValue($event.value)">
							<option *ngFor="let sort of sortMintuesDates" [ngValue]="sort"> {{sort.name}} </option>
						</select>
				   </span>
					<span style="float:right; font-size: 13px;" *ngIf="sortInnerDates.length>0">
						<select style="cursor: pointer" [(ngModel)]="minutesinnerSort" (ngModelChange)="selectedDropdown(minutesinnerSort)">
							<option *ngFor="let sort of sortInnerDates; let i = index" [ngValue]="sort"> {{sort}} </option>
						</select>
				   </span>
				</div>
			</div>
			<div class="portlet-body">
				<div style="max-width: 100%; min-height: 300px;">
					<table style="width:100%;">
						<thead>
						<tr>
							<th>Name </th>
							<th>Views</th>
							<th>Minutes watched</th>
						</tr>
						</thead>
					   <tbody>
					    <ng-container *ngFor="let videoViews of viewsMinutesData; let i = index">  
							<tr (click)="clickedMinutesWatched(videoViews)">
								<td class="td-new td-chart" width="30%" height="10">{{videoViews.name}}</td>
								<td class="td-new td-chart td-color" [style.opacity]="(videoViews.views/viewsMaxValues)">{{videoViews.views}}</td>
								<td class="td-new td-chart">
								 <div class="bg" [style.width.%]="(videoViews.minutesWatched/maxValueViews)*100" [style.opacity] ="(videoViews.minutesWatched/maxValueViews)">
									{{videoViews.minutesWatched}}</div>
								</td>
							</tr>
					    </ng-container>  
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-12 col-sm-6 p5">
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<i class="icon-bar-chart font-green-sharp hide"></i>
					<span class="caption-subject font-green-sharp uppercase">video skipped duration</span>
					<span class="caption-helper">per maximum users ...</span>
				</div>
			</div>
			<div class="portlet-body">
				<div id="video-skipped" style="max-width: 100%; min-height: 300px;"></div>
			</div>
		</div>
	</div>

</div>
<div class="row">
	<div class="col-xs-12 col-sm-6 p5">
		<!-- BEGIN PORTLET-->
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<i class="icon-bar-chart font-green-sharp hide"></i>
					<span class="caption-subject font-green-sharp uppercase">video Views</span>
					<span class="caption-helper">stats...</span>
				</div>
				<div class="panel-title pull-right">
					<span style="float:right; font-size: 13px;">
					<select style="cursor: pointer" [(ngModel)]="daySort" (ngModelChange)="selectedCampaignWatchedUsers($event.value)">
						<option *ngFor="let sort of sortMonthDates" [ngValue]="sort"> {{sort.name}} </option>
					</select>
				</span>
				</div>
			</div>
			<div class="portlet-body">
				<div id="monthly-views-bar" style="max-width: 100%; min-height: 300px;"></div>
			</div>
		</div>
		<!-- END PORTLET-->
	</div>
	<div class="col-xs-12 col-sm-6 p5">
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption">
					<span class="caption-subject font-red-sunglo">VIEWERSHIP MAP</span>
				</div>
			</div>
			<div class="portlet-body text-center">
				<div id="world-map" style="max-width: 100%; min-height: 300px;"></div>
			</div>
		</div>
	</div>
</div>
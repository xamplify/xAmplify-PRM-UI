<div class="portlet light" id="del-profile-div">
  <ngx-loading [show]="isLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
  <div class="portlet-title">
    <div class="caption"  *ngIf="submitButtonText == 'SAVE'">Lead Registration</div>
    <div class="caption"  *ngIf="submitButtonText != 'SAVE'">Lead Details</div>
  </div>
  <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
  <div class="alert alert-danger" id="company-profile-error-div" style="display: none;">
    <a class="close" aria-label="close">x</a>
    <strong>Please complete the required (*) fields. </strong>
  </div>
  <div class="portlet-body clearfix">
    <div>
      <form role="form" id="deal-registration-form">
          <!-- <div class="row" style="margin: 20px;" *ngIf="!dealRegistration.pushToMarketo" >
              <div class="col-xs-12 col-md-8" >
                <h4 style="float:right;">Push lead to Marketo :</h4>
              </div>
              <div class="col-xs-12 col-md-4">
                  <switch [status]="false" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
                  [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushMarketo(pushToMarketo)" id="falseAction" *ngIf="!pushToMarketo">
                   </switch>
                   <switch [status]="true" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
                  [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" (click)="pushMarketo(pushToMarketo)" id="trueAction" *ngIf="pushToMarketo">
                   </switch>
              </div>
          </div>
          <div class="row" style="margin: 20px;pointer-events:none" *ngIf="dealRegistration.pushToMarketo" >
              <div class="col-xs-12 col-md-10" >
                <h4 style="float:right;">Push lead to Marketo :</h4>
               
              </div>
              <div class="col-xs-12 col-md-2" style="opacity: 0.5;">
                  <switch [status]="dealRegistration.pushToMarketo" [onText]="callActionSwitch.onTextValue" [offText]="callActionSwitch.offTextValue" [onColor]="callActionSwitch.onGreenColorSwitch"
                  [offColor]="callActionSwitch.onDefaultColorSwitch" [size]="callActionSwitch.size" >
                   </switch>
                   
              </div>
          </div> -->
        <div class="row">
          <!-- left page -->
          <div class="col-sm-6 col-xs-12">
            <div class="form-group">
              <label class="control-label">Campaign Name
                <font style="color: #f55d7a">
                  <b>*</b>
                </font>
              </label>
              <input type="text" disabled="disabled" name="campaignName"  value="{{campaign.campaignName}}"
                class="form-control" id="campaignName" />
            </div>

            
            <div class="form-group" [attr.class]="firstName">
              <label class="control-label">First Name
                
              </label>
              <input type="text" maxlength="100" name="companyName"  class="form-control" [(ngModel)]=" dealRegistration.firstName"
                [ngModelOptions]="{standalone: true}" id="firstName"  [disabled]="parent"/>
            </div>

            <div class="form-group" [attr.class]="lastName">
              <label class="control-label">Last Name
               
              </label>
              <input type="text" maxlength="100"  class="form-control" [(ngModel)]=" dealRegistration.lastName"
                [ngModelOptions]="{standalone: true}" id="lastName" [disabled]="parent"/>
            </div>
            <div class="form-group" [attr.class]="lastName">
              <label class="control-label">Company
                <font style="color: #f55d7a">
                  <b>*</b>
                </font>
              </label>
              <input type="text" maxlength="100"  class="form-control" [(ngModel)]=" dealRegistration.company"
                [ngModelOptions]="{standalone: true}" id="company" (input)="validateField('company',false)" [disabled]="parent"/>
            </div>
            

            <div class="form-group" *ngIf="dealRegistration.email">
              <label class="control-label">Email
                <font style="color: #f55d7a">
                  <b>*</b>
                </font>
              </label>
              <input type="text" maxlength="100"  class="form-control" [(ngModel)]=" dealRegistration.email" [ngModelOptions]="{standalone: true}"
                id="email" disabled/>
            </div>

            <div class="form-group" [attr.class]="phoneDivClass">
              <label class="control-label">Phone Number
                <!-- <font style="color: #f55d7a">
                  <b>*</b>
                </font> -->
              </label>
              <fieldset style="padding:0 !important;border: 1px solid #ece2e2 !important">
                <!-- (input)="validateField('phone',false)" (blur)="validateField('phone',false)" -->
                <int-phone-prefix [(ngModel)]="dealRegistration.phone" 
                  [ngModelOptions]="{standalone: true}" ></int-phone-prefix>
              </fieldset>
              <span *ngIf="phoneError" style="color: #f55d7a">{{phoneErrorMessage}}</span>
            </div>



          </div>
          <!-- right page -->
          <div class="col-sm-6 col-xs-12">

            
            <div class="form-group" [attr.class]="leadStreet">
              <label class="control-label">Lead Address

              </label>
              <textarea type="text" maxlength="100"  class="form-control" name="leadstreet" [(ngModel)]=" dealRegistration.leadStreet"
                [ngModelOptions]="{standalone: true}" id="leadStreet" [disabled]="parent"></textarea>
            </div>
            <div class="form-group" [attr.class]="leadCity">
              <label class="control-label">Lead City

              </label>
              <input type="text" maxlength="100" name="city"  class="form-control" [(ngModel)]=" dealRegistration.leadCity"
                [ngModelOptions]="{standalone: true}" id="leadCity" [disabled]="parent"/>
            </div>

            <div class="form-group" [attr.class]="leadState">
              <label class="control-label">Lead State/Province

              </label>
              <input type="text" maxlength="100" class="form-control" name="lead state" [(ngModel)]=" dealRegistration.leadState"
                [ngModelOptions]="{standalone: true}" id="leadState" [disabled]="parent"/>
            </div>
            <div class="form-group" [attr.class]="leadPostalCode">
              <label class="control-label">Lead Postal Code

              </label>
              <input type="text" maxlength="10" name="companyName"  class="form-control" [(ngModel)]=" dealRegistration.postalCode"
                [ngModelOptions]="{standalone: true}" id="leadPostalCode" [disabled]="parent"/>
            </div>

            <div class="form-group" [attr.class]="country">
              <label class="control-label">Lead Country

              </label>
              <select class="form-control"  [(ngModel)]="dealRegistration.leadCountry" [ngModelOptions]="{standalone: true}"
                placeholder="Country" id="leadCountry" [disabled]="parent">
                <option *ngFor="let country of countryNames.countries" [value]="country" [selected]="dealRegistration.leadCountry==country">{{country}}</option>
              </select>
            </div>
           
            
          </div>


          
          <div class="pull-right" style="margin: 15px" *ngIf="!parent" >
            <button type="submit" id="saveDeal" [disabled]=" !isDealRegistrationFormValid" (click)="save()" class="btn green-haze">{{submitButtonText}}</button>
            <!--  <button type="submit" id="updateDeal" (click)="update()"class="btn green-haze">Update</button> -->
          </div>
          </div>
      </form>
   

      </div>
    </div>
  </div>

  

  <!-- END CONTENT -->
<!-- 
<div class="modal right fade" id="templateRetrieve" tabindex="-1" role="dialog" aria-labelledby="templateRetrieve" data-keyboard="false"
data-backdrop="static">
 <div class="modal-dialog template-modal" role="document" style="width: 50%">
   <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
   <div class="modal-content rounded-0">
     <div class="modal-header">
       <a class="close-circle" data-dismiss="modal" (click)="closeModal()" id="closeButton"><i class="fa fa-times"></i></a>
       <h4 class="modal-title" id="templateRetrieve">Push Lead</h4>
     </div>
     <div class="modal-body" style="padding: 39px;">
       <form class="form-horizontal">
         <div *ngIf="templateError" class="alert alert-danger"><span>{{templateError}}</span></div>
         <div *ngIf="templateSuccessMsg" class="alert alert-success"><span>{{templateSuccessMsg}}</span></div>
         <div [attr.class]="clientIdClass" class="form-group">
           <label class="control-label col-sm-3" for="email">Client Id:</label>
           <div class="col-sm-8">
             <input type="email" class="form-control" id="email" placeholder="Client Id" [(ngModel)]="clientId" [ngModelOptions]="{standalone: true}"
              (input)="validateModelForm('email')">
           </div>
         </div>
         <div [attr.class]="secretIdClass" class="form-group">
           <label class="control-label col-sm-3" for="pwd">Secret Id:</label>
           <div class="col-sm-8">
             <input type="password" class="form-control" id="pwd" placeholder="Secret Id" [(ngModel)]="secretId" [ngModelOptions]="{standalone: true}"
              (input)="validateModelForm('pwd')">
           </div>
         </div>

         <div [attr.class]="marketoInstanceClass" class="form-group">
           <label class="control-label col-sm-3" for="instance">Marketo Instance:</label>
           <div class="col-sm-8">
             <input type="text" class="form-control" id="instance" placeholder="Marketo Instance" [(ngModel)]="marketoInstance" [ngModelOptions]="{standalone: true}"
              (input)="validateModelForm('instance')">
           </div>
         </div>
       </form>

     </div>
     <div class="modal-footer">
       <div style="text-align: right;">
         <button class="btn btn-default" (click)="clearValues()">Clear</button>
         <button class="btn btn-primary" [disabled]="!isModelFormValid || !clientId || !secretId || !marketoInstance" (click)="submitMarketoCredentials()">Submit</button>
       </div>
     </div>
   </div>
 </div>
</div> -->

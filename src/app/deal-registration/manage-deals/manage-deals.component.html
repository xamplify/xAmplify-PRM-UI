<div class="page-content" *ngIf="  !isDealForm ">
	<div id="deals-page-content-div">
	<div>
		<div class="page-bar">
			<ul class="page-breadcrumb">
				<li *ngIf="!authenticationService.isSuperAdmin()">
					<i class="fa fa-home"></i>
					<a [routerLink]="referenceService.homeRouter">Home</a><i class="fa fa-angle-right"></i>
				</li>
				<li>
					<ng-container *ngIf="!allApisLoader">
						<a (click)="showCampaigns()">Opportunities</a><i class="fa fa-angle-right"></i>
					</ng-container>
				</li>

				<li *ngIf="leadList">
					<a>Leads</a>
				</li>
			</ul>
			<ul class="mix-filter col-xs-6 p0 m0" style="float: right" *ngIf="isCompanyPartner && isVendor && !allApisLoader">
				<li class="filter" (click)="showPartner()" [class.campaign-type-selected]="isPartnerVersion" style="float: right;
						margin-top: 5px;" *ngIf="isCompanyPartner">Partner View </li>
				<li class="filter" (click)="showVendor()" [class.campaign-type-selected]="isVendorVersion" style="float: right;
						margin-top: 5px;" *ngIf=" isVendor && enableLeads">Vendor View</li>
				<p class="filter" style="float: right;
						margin: 10px;background-color: white">Opportunities: </p>
			</ul>
		</div><!-- -End Of 2 -->


		<div class="row">
			<div class="col-xs-12  p5">
				<div class="row">
					<!-- -------Total Leads------- -->
					<app-count-loader *ngIf="totalLeadsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!totalLeadsError &&!totalLeadsLoader" [style.pointer-events]="totalLeads != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter purple-soft" [class.greay]="1!=selectedTabIndex" (click)="showCampaigns()" >
							<div class="visual">

								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 1==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 1==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{totalLeads}}</span>
								</div>
								<div class="desc">Total Leads</div>
							</div>
							<span id="permhref" class="morePadding ">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="totalLeadsError">
						Please contact admin for "Total Leads"
					</div>
					<!-- -------Total Deals------- -->
					<app-count-loader *ngIf="totalDealsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!totalDealsError &&!totalDealsLoader" [style.pointer-events]="totalDeals != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter blue-soft" (click)="showCampaignsByDeals()" [class.greay]="2!=selectedTabIndex">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 2==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 2==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{totalDeals}}</span>
								</div>
								<div class="desc">Total Deals</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="totalDealsError">
						Please contact admin for "Total Deals"
					</div>
					<!-- -------Opened Deals------- -->
					<app-count-loader *ngIf="openedDealsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!openedDealsError &&!openedDealsLoader" [style.pointer-events]="openedDeals != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter yellow-gold" (click)="showOpenedLeads()" [class.greay]="3!=selectedTabIndex" [class.disabled]="openedDeals == 0">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 3==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 3==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{openedDeals}}</span>
								</div>
								<div class="desc">Opened Deals</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="openedDealsError">
						Please contact admin for "Opened Deals"
					</div>
					<!-- -------Closed Deals------- -->
					<!-- <app-count-loader *ngIf="closedDealsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!closedDealsError &&!closedDealsLoader" [style.pointer-events]="closedDeals != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter green-soft" (click)="showClosedLeads()" [class.greay]="4!=selectedTabIndex" [class.disabled]="closedDeals == 0">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 4==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 4==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{closedDeals}}</span>
								</div>
								<div class="desc">Closed Deals</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="closedDealsError">
						Please contact admin for "Closed Deals "
					</div> -->
					<!-- -------Hold Deals------- -->
					<app-count-loader *ngIf="dealsOnHoldLoader"><br><br></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!dealsOnHoldError &&!dealsOnHoldLoader" [style.pointer-events]="dealsOnHold != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter blue-sharp" (click)="showDealsOnHold()" [class.greay]="5!=selectedTabIndex" [class.disabled]="dealsOnHold == 0">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 5==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 5==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{dealsOnHold}}</span>
								</div>
								<div class="desc"> Deals On Hold</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="dealsOnHoldError">
						Please contact admin for "Deals On Hold"
					</div>
					<!-- -------Approved Deals------- -->
					<app-count-loader *ngIf="approvedDealsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!approvedDealsError && !approvedDealsLoader" [style.pointer-events]="approvedDeals != 0 ? 'auto' : 'none' " >
						<a class="dashboard-stat dashboard-stat-lighter green-soft" (click)="showApprovedLeads()" [class.greay]="6!=selectedTabIndex" [class.disabled]="approvedDeals == 0">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 6==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 6==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{approvedDeals}}</span>
								</div>
								<div class="desc">Approved Deals</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="approvedDealsError">
						Please contact admin for "Opened Deals"
					</div>
					<!-- -------Rejected Deals------- -->
					<app-count-loader *ngIf="rejectedDealsLoader"></app-count-loader>
					<div class="col-xs-8 col-sm-4 col-md-3" *ngIf="!rejectedDealsError &&!rejectedDealsLoader " [style.pointer-events]="rejectedDeals != 0 ? 'auto' : 'none' ">
						<a class="dashboard-stat dashboard-stat-lighter red-soft" (click)="showRejectedLeads()" [class.greay]="7!=selectedTabIndex" [class.disabled]="rejectedDeals == 0">
							<div class="visual">
								<i class="fa fa-check-circle" style="margin-left: 0px;font-size: 40px;line-height: 60px;opacity: 1" [ngStyle]="{'color': 7==selectedTabIndex ? '#white' : '#ccc' }"
								 *ngIf=" 7==selectedTabIndex"></i>
							</div>
							<div class="details">
								<div class="number">
									<span>{{rejectedDeals}}</span>
								</div>
								<div class="desc">Rejected Deals</div>
							</div>
							<span id="permhref" class="morePadding">
								<a class="more"> Detailed view <i class="m-icon-swapright m-icon-white"></i></a>
							</span>
						</a>
					</div>
					<div class="col-xs-8 col-sm-4 col-md-3" id="box" *ngIf="closedDealsError">
						Please contact admin for "Closed Deals"
					</div>
				</div>
			</div>
		</div>
		<!-- -----------------------------Campaigns List-------------------------------------- -->
		<div class="row" *ngIf="campaingnList">
			<div class="col-md-12">
				<div class="tabbable tabbable-custom tabbable-noborder" id="header">
					<div class="tab-content">
						<div class="page-bar m10" *ngIf="!httpRequestLoader.isLoading &&  !httpRequestLoader.isServerError">
							<ul class="mix-filter col-xs-6 p0 m0">
								<li class="hidden-xs" style="background: white; color: #616161;cursor: default;font-size: 14px;">Campaign Type:</li>
								<li class="filter" (click)="filterCampaigns('NONE',0)" [class.campaign-type-selected]="0 == sortOption.selectedCampaignTypeIndex">All</li>
								<li class="filter" (click)="filterCampaigns('REGULAR',1)" [class.campaign-type-selected]="1 == sortOption.selectedCampaignTypeIndex">Email</li>
								<li class="filter" (click)="filterCampaigns('VIDEO',2)" [class.campaign-type-selected]="2 == sortOption.selectedCampaignTypeIndex">Video</li>
								<!-- <li class="filter" (click)="filterCampaigns('SOCIAL',3)" [class.campaign-type-selected]="3 == sortOption.selectedCampaignTypeIndex">Social</li> -->
								<li class="filter" (click)="filterCampaigns('EVENT',4)" [class.campaign-type-selected]="4 == sortOption.selectedCampaignTypeIndex">Event</li>
								<li *ngIf="authenticationService.module.hasLandingPageAccess || authenticationService.module.hasPartnerLandingPageAccess" class="filter" (click)="filterCampaigns('LANDINGPAGE',5)" [class.campaign-type-selected]="5 == sortOption.selectedCampaignTypeIndex">Page</li>
								<li class="filter" style="display: none;">Own Template</li>
							</ul>
							<div class="page-toolbar col-xs-6 col-sm-12 col-md-6">
								<div class="btn-group pull-right">
									<ng-container class='m10'>
										<span class="btn btn-xs hidden-xs" data-toggle="tooltip" data-placement="bottom" title="List View" [class.disabled]="isListView"
										 (click)="isListView = true" style="background-color:#e2e2e2"><i class="fa fa-th-list p10" aria-hidden="true"></i></span>
										<span class="btn btn-xs hidden-xs" data-toggle="tooltip" data-placement="bottom" title="Grid View" [class.disabled]="!isListView"
										 *ngIf="false" (click)="isListView = false" style="background-color:#e2e2e2"><i class="fa fa-th-large p10"
											 aria-hidden="true"></i></span>
									</ng-container>
									<div class="inputs" align="right" style="float: right">
										<div style="float: left;">
											<select class="form-control" [(ngModel)]="sortOption.dealCampaignSortOption" (ngModelChange)="sortCampaigns($event)" style="position: relative;right: -3px;" *ngIf="isCampaignByLeads" >
												<option *ngFor="let option of sortOption.dealCampaignsSortDropDown" [ngValue]="option">{{option.name}}</option>
											</select>
										</div>
										<div class="portlet-input input-inline input-small" style="width: 176px !important;">
											<div class="input-icon right" style="position: relative;right: -11px;">
												<input type="text" class="form-control" [(ngModel)]="sortOption.searchKey" [ngModelOptions]="{standalone: true}" placeholder="Search"
												 (keypress)="searchCampaignsKeyPress($event.keyCode)">
												<button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="sortOption.searchKey" (click)="sortOption.searchKey=''"></button>
												<button type="submit" class="search-box-item-click" (click)="searchCampaigns()">
													<i class="fa fa-search"></i>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row" id="box" *ngIf="httpRequestLoader.isServerError">
							Please contact admin for "Campaings"
						</div>
						<app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView && !httpRequestLoader.isServerError"></app-grid-loader>
						<app-list-loader *ngIf="httpRequestLoader.isLoading && isListView && !httpRequestLoader.isServerError"></app-list-loader>
						<section class='m10' *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">

							<div class="table-responsive" *ngIf="isCampaignByLeads">
								<table class='table tgrid table-hover table-sm' *ngIf="isListView">
									<thead>

										<tr>
											<th class="hidden-xs" colspan="2" style="width: 50%">Campaign</th>
											<th class="visible-xs" colspan="1" style="width: 50%">Campaign</th>
											<th class="hidden-xs">Status </th>
											<th class="hidden-xs">Leads Count </th>
										</tr>

									</thead>

									<tbody>
										<ng-container *ngFor='let campaign of campaignsPagination.pagedItems; let i=index'>
											<tr>
												<td style="width: 10%;" class="hidden-xs">
													<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1" src="assets/images/video-email.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1" src="assets/images/regular-email.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 " src="assets/images/social-campaign.png" style="height: 50px;"
													 alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('EVENT') > -1 " src="assets/images/event-campaign.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1 " src="assets/images/landing-page.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
												</td>
												<td>
													<h4 class="ellipsis mt5 mb5 f-w-600" style="font-size: 14px;" title="{{campaign.campaignName}}">{{campaign.campaignName|
														slice:0:25}}
														<span *ngIf="campaign.campaignName?.length>25">...</span>
													</h4>
													<h5 class='m0' style="float:left">{{campaign.companyName | slice:0:15}}
														<span class='f-w-300'>{{campaign.launchedBy | slice:0:25}}<span *ngIf="campaign.launchedBy?.length>25">...</span></span>
													</h5>
												</td>
												<td class="center hidden-xs">
													<span align="right">
														<b>Launched On</b>
													</span>
													<span align="right" title="Upload Date">
														<b>
															<app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.launchedOn"> </app-timestamp>
														</b>
													</span>
												</td>
												<td>
													<a data-toggle="tooltip" data-placement="top" title="Number of Leads" style="cursor: default">
														<span class="circled-number"><b>{{campaign.dealsCount}}</b></span>
													</a>

													<a (click)="showPartners(campaign)" data-toggle="tooltip" data-placement="top" title="View leads for this campaign" *ngIf="campaign.dealsCount > 0">
														<span class="circled-number"><i class="fa" [ngClass]="{'fa-plus': !campaign.expand, 'fa-minus': campaign.expand}"></i></span>
													</a>
												</td>
											</tr>
											<tr [ngClass]="{'hidden': !campaign.expand}">
												<td colspan="8">
													<div class="row" *ngIf="!isPartner && partnerList" style="width: 100%;">
														<app-manage-partners [campaignId]="campaign.id" [isCampaignByLeads]="isCampaignByLeads" (leadObj)="showLeads($event)"></app-manage-partners>
													</div>
												</td>
											</tr>


										</ng-container>
									</tbody>

								</table>
							</div>
							<div class="table-responsive" *ngIf="isCampaignByDeals">
								<table class='table tgrid table-hover table-sm' *ngIf="isListView">
									<thead>
										<tr>
											<th class="hidden-xs" colspan="2" style="width: 50%">Campaign</th>
											<th class="visible-xs" colspan="1" style="width: 50%">Campaign</th>
											<th class="hidden-xs">Status</th>
											<th class="hidden-xs">Deals Count</th>

										</tr>
									</thead>
									<tbody>
										<ng-container *ngFor='let campaign of campaignsPaginationByDeals.pagedItems; let i=index'>
											<tr>
												<td style="width: 10%;" class="hidden-xs">
													<img *ngIf="campaign.campaignType.indexOf('VIDEO') > -1" src="assets/images/video-email.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('REGULAR') > -1" src="assets/images/regular-email.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 " src="assets/images/social-campaign.png" style="height: 50px;"
													 alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('EVENT') > -1 " src="assets/images/event-campaign.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
													<img *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1 " src="assets/images/landing-page.png" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
												</td>
												<td>
													<h4 class="ellipsis mt5 mb5 f-w-600" style="font-size: 14px;" title="{{campaign.campaignName}}">{{campaign.campaignName|
														slice:0:25}}
														<span *ngIf="campaign.campaignName?.length>25">...</span>
													</h4>
													<h5 class='m0' style="float:left">{{campaign.companyName | slice:0:15}}
														<span class='f-w-300'>{{campaign.launchedBy | slice:0:25}}<span *ngIf="campaign.launchedBy?.length>25">...</span></span>
													</h5>
												</td>
												<td class="center hidden-xs">
													<span align="right">
														<b>Launched On</b>
													</span>
													<span align="right" title="Upload Date">
														<b>
															<app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.launchedOn"> </app-timestamp>
														</b>
													</span>
												</td>
												<td>
													<a data-toggle="tooltip" data-placement="top" title="Number of Deals" style="cursor: default">
														<span class="circled-number"><b>{{campaign.dealsCount}}</b></span>
													</a>

													<a (click)="showPartners(campaign)" data-toggle="tooltip" data-placement="top" title="View deals for this campaign" *ngIf="!isPartnerVersion  && (campaign.dealsCount > 0 )">
														<span class="circled-number"><i class="fa" [ngClass]="{'fa-plus': !campaign.expand, 'fa-minus': campaign.expand}"></i></span>
													</a>
													<a (click)="showPartners(campaign)" data-toggle="tooltip" data-placement="top" title="View Deals" *ngIf="isPartnerVersion && (campaign.dealsCount > 0)">
														<span class="circled-number"><i class="fa" [ngClass]="{'fa-plus': !campaign.expand, 'fa-minus': campaign.expand}"></i></span>
													</a>
												</td>
											</tr>
											<tr [ngClass]="{'hidden': !campaign.expand}">
												<td colspan="8">
													<div class="row" *ngIf="!isPartner && partnerList" style="width: 100%;">
														<app-manage-partners [campaignId]="campaign.id" [isCampaignByLeads]="isCampaignByLeads" (leadObj)="showLeads($event)"></app-manage-partners>
													</div>
												</td>
											</tr>


										</ng-container>
									</tbody>

								</table>
							</div>
						</section>
						<div *ngIf="sortOption.totalRecords <= 0 && isListView && !httpRequestLoader.isLoading " class="alert alert-info">
							<strong>No campaigns found</strong>
						</div>
						<!-- ------------------------------List View----------------------- -->
						<div class="tab-pane active" *ngIf="!isListView">
							<div class="margin-top-10">
								<div class="row mix-grid p10">
									<ng-container *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
										<div *ngFor="let campaign of campaignsPagination.pagedItems; let i= index" class="col-xs-12 col-sm-4 col-lg-3">
											<div class="grid-box">
												<img src="https://cdn2.iconfinder.com/data/icons/facebook-ads-1/204/1-48.png">
												<h4 class="ellipsis" title="{{campaign.campaignName}}">{{campaign.campaignName | slice:0:25}}
													<span *ngIf="campaign.campaignName?.length>25">...</span>
												</h4>
												<h6 class="mt10 mb0" [title]="campaign.launchedBy">By {{campaign.launchedBy | slice:0:15}}<span *ngIf="campaign.launchedBy?.length>15">...</span></h6>
												<h6 class="mt0"><b>{{campaign.companyName | slice:0:15}}<span *ngIf="campaign.companyName?.length>15">...</span></b></h6>
												<h6>
													<span>
														<span>Launched On</span>
													</span>
													<span title="Upload date">
														<span>
															<app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.launchedOn"> </app-timestamp>
														</span>
													</span>
												</h6>
												<div class="bookmark-ribbon">
													<span style="margin: 0px -7px; font-size: 17px; color: white;">
														<i *ngIf="campaign.campaignType.indexOf('VIDEO') > -1" class="fa fa-video-camera" aria-hidden="true"></i>
														<i *ngIf="campaign.campaignType.indexOf('REGULAR') > -1" class="fa fa-envelope" aria-hidden="true"></i>
														<i *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1" class="fa fa-globe" aria-hidden="true"></i>
													</span>
												</div>
												<div class="ribbon" [class.active]="false">
													<span>Launched</span>
												</div>
												<div class="bar">
													<a data-toggle="tooltip" data-placement="top" title="Number of Deals">
														<span style="color: white;"><b>{{campaign.dealsCount}}</b></span>
													</a>
													<a (click)="referenseService.goToCampaignAnalytics(campaign)" data-toggle="tooltip" data-placement="top" title="Campaign Based Reports">
														<i class="fa fa-line-chart"></i>
													</a>

													<a (click)="showPartners(campaign)" data-toggle="tooltip" data-placement="top" title="View leads for this campaigns">
														<i class="fa" [ngClass]="{'fa-plus': !campaign.expand, 'fa-minus': campaign.expand}"></i>
													</a>
												</div>

												<!--<div [ngClass]="{'hidden': !campaign.expand}">

												   <td class="row" colspan="8" *ngIf="partnerList"  style="width: 100%;">
														   <app-manage-partners [campaignId]="campaign.id" (leadObj)="showLeads($event)"></app-manage-partners>
												   </td>

										   </div> -->
											</div>
										</div>
									</ng-container>
								</div>
							</div>
							<!-- End of 24 -->
							<div *ngIf="sortOption.totalRecords <= 0 && !isListView && !httpRequestLoader.isLoading"  class="alert alert-info">
								<strong>No campaigns found</strong>
							</div>
						</div>
						<!-- --------------------Pagination0-------------------- -->
						<div *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError" style="background:white">
							<div *ngIf="isCampaignByLeads && campaignsPagination.pagedItems.length !== 0" style="padding: 0 13px;">
								<app-pagination class="pg8" [pagination]="campaignsPagination" [type]="'campaign'" [isDropdown]="true" (notifyParent)="navigatePages($event)"
								 (notifyParentDropDown)="listThroughPartnerCampaigns($event)"></app-pagination>
								<select class="form-control" style="float: right; width: auto;" [(ngModel)]="sortOption.itemsSize" (ngModelChange)="changeSize($event)">
									<option *ngFor="let itemPerPage of sortOption.numberOfItemsPerPage" [ngValue]="itemPerPage">{{itemPerPage.name}}</option>
								</select>
							</div>
							<div *ngIf="!isCampaignByLeads && campaignsPaginationByDeals.pagedItems.length !== 0" style="padding: 0 13px;">
								<app-pagination class="pg8" [pagination]="campaignsPaginationByDeals" [type]="'campaign'" [isDropdown]="true" (notifyParent)="navigatePages($event)"
								 (notifyParentDropDown)="listThroughPartnerCampaigns($event)"></app-pagination>
								<select class="form-control" style="float: right; width: auto;" [(ngModel)]="sortOption.itemsSize" (ngModelChange)="changeSize($event)">
									<option *ngFor="let itemPerPage of sortOption.numberOfItemsPerPage" [ngValue]="itemPerPage">{{itemPerPage.name}}</option>
								</select>
							</div>
						</div>
					</div><!-- End Of Tab Content -->
				</div>
			</div>
		</div><!-- -End Of row (Campaigns List) -->
		<!-- --------------------------------Partner List -------------------------------- -->
		<div class="row" *ngIf="leadList" style="background-color:white">

			<app-response-message [customResponse]="customResponse" *ngIf="customResponse?.isVisible"></app-response-message>
			<div class="caption col-md-6" style="margin: 9px 14px;padding-top: 3px;padding-left: 5px
				;font-size: 18px;font-weight: 600">
				<span class="caption-subject font-red-sunglo uppercase" *ngIf="filterDeals.length >0">{{filterDeals}} Deals</span>
				<span class="caption-subject font-red-sunglo uppercase" *ngIf="filterDeals.length == 0">Total Leads</span>
			</div>

			<a (click)="closeLeads()" class="pull-right close-circle" style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
				<span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
			<app-manage-leads [partner]="partner" [campaignId]="selectedCampaignId" [selectedCampaign]="campaign" [filter]="filterDeals"
			 [isPartner]="isPartner" (dealObj)="dealAnalytics($event)" [isCampaignByLeads]="isCampaignByLeads" (dealPushObj)="dealRegistration($event)"></app-manage-leads>
		</div>

	</div>
	</div>
</div>

<div *ngIf="isDealAnalytics && !isDealRegistration">
	<div *ngIf="selectedDealId != undefined && selectedCampaign != undefined && user != undefined">
		<app-deal-analytics [dealId]="selectedDealId" [selectedcampaign]="selectedCampaign" [lead]="user" (isDealAnalytics)="dealAnalyticsDisable()"
		 (dealObj)="dealAnalytics($event)"></app-deal-analytics>
	</div>
</div>

<!-- --Lead Registration -->
<div class="modal right" id="leadFormModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-keyboard="false"
 data-backdrop="static" *ngIf="isDealRegistration && !isDealAnalytics && selectedCampaign!=null" style="display: block">

	<div class="modal-dialog modal-css" role="document" style="float: right;position: relative">
		<div class="modal-content">

			<div class="modal-body">
				<section >


						<a (click)="disableDealRegistrationForm()" class="pull-right close-circle" style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
							<span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
						<app-add-leads [campaign]="selectedCampaign" [lead]="user" [dealId]="selectedDealId" [parent]="isVendor"></app-add-leads>

				</section>
			</div>
		</div>
	</div>
</div>

<!-- --_Deal Registration -->

<section *ngIf="isDealForm  && selectedCampaign!=null">
	<div class="page-content">


		<a (click)="disableDealPushRegistrationForm()" class="pull-right close-circle" style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
			<span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
		<app-deal-registration [campaign]="selectedCampaign" [lead]="user" [dealId]="selectedDealId" [isVendor]="isVendorVersion"
		 (dealReg)="resetCounters($event)"></app-deal-registration>
	</div>
</section>

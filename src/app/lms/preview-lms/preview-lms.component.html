<div *ngIf="showLearningTrack" class="page-content" [style.background-color]="referenceService.pageContnetBgColor">
    <div class="my-container">
        <ngx-loading [show]="httpRequestLoader.isLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="referenceService.homeRouter">Home</a>
                <!-- <i *ngIf="!isPartnerView" class="fa fa-angle-right" aria-hidden="true"></i>
                <a *ngIf="!isPartnerView" [routerLink]="['/home/lms/manage']">Manage Learning Track</a>
                <i *ngIf="isPartnerView" class="fa fa-angle-right" aria-hidden="true"></i>
                <a *ngIf="isPartnerView" [routerLink]="['/home/lms/shared']">Shared Learning Track</a> -->
                <i class="fa fa-angle-right" aria-hidden="true"></i>
                <a>View Learning Track</a>
            </li>
        </ul>
    </div>
    <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible">
    </app-response-message>
    <div class="page-bar padding">
        <ng-container *ngIf="learningTrack != undefined">
            <div class="title padding_bottom">{{learningTrack.title}}</div>
            <div class="padding_bottom">
                <div [innerHTML]="sanitizer.bypassSecurityTrustHtml(learningTrack.description)"></div>
            </div>
            <app-grid-loader *ngIf="httpRequestLoader.isLoading">
            </app-grid-loader>
            <div class="row padding_bottom" *ngIf="!httpRequestLoader.isLoading">
                <div class="col-md-3 col-sm-4 col-xs-12" *ngFor="let content of learningTrack.contents ;let i =index" id="ContentListDiv_{{content.id}}">
                    <div class="grid-box">
                        <img class="img-class" [src]="content.thumbnailPath" onerror="this.src='learningTrack.featuredImage';" alt="{{content.title}}">
                        <h4 class="ellipsis mt5 mb5 f-w-600" title="{{content.assetName}}">
                            {{content.assetName | slice:0:25}} <span *ngIf="content.assetName?.length>25">...</span><br><br>
                        </h4>
                        <div>
                            <h6 title="{{content.assetType}}" translate>
                                Type: <strong>{{content.assetType}}</strong>
                            </h6>
                        </div>
                        <div class="bar">
                            <a [ngClass]="{'isDisabled' : i != 0 && learningTrack.followAssetSequence && !learningTrack.contents[i-1].finished && !isCreatedUser}" data-toggle="tooltip" data-placement="top" title="View" (click)="viewContent(content)">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-4 col-xs-12">
                    <div class="grid-box" *ngIf="learningTrack.quiz">
                        <img class="img-class" [src]="learningTrack.featuredImage" alt="{{learningTrack.quiz.name}}">
                        <h4 class="ellipsis mt5 mb5 f-w-600" title="{{learningTrack.quiz.name}}">
                            {{learningTrack.quiz.name | slice:0:25}} <span *ngIf="learningTrack.quiz.name?.length>25">...</span><br><br>
                        </h4>
                        <div class="bar">
                            <a [ngClass]="{'isDisabled' : !takeQuiz || learningTrack.progress == 100}" data-toggle="tooltip" data-placement="top" title="View" (click)="viewQuiz()">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>

<section *ngIf="!showLearningTrack">
    <a (click)="closeView()" class="pull-right close-circle" style="margin: 9px 14px;padding-top: 3px;padding-left: 5px;">
        <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
    <app-form-preview *ngIf="!showAsset" [learningTrackId]="learningTrack.id" (notifyParent)="closeView($event)">
    </app-form-preview>
    <div *ngIf="showAsset" class="page-content" style="background: #fff;">
        <app-modal-popup-loader [hidden]="!assetViewLoader"></app-modal-popup-loader>
        <div [hidden]="assetViewLoader">
            <div class="row">
                <div class="col-md-8 col-lg-8 cpdam">
                    <div class="portlet light cphdam">
                        <div class="portlet-title port-heading">
                            <div class="caption" style="color:#000!important;">
                                Overview
                            </div>
                        </div>
                        <div style="margin-left: 10px;">
                            <h2>
                                <strong>{{assetDetails?.assetName | slice:0:50}}</strong>
                                <span *ngIf="assetDetails?.assetName?.length>50">..</span>
                            </h2><br>
                            <div>
                                {{assetDetails?.description}}
                                <br>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-4" style="padding: 6px 40px 0px 17px;">
                    <div>
                        <div class="grid-box" style="min-height: 200px;">
                            <img class="img-class" src="{{assetDetails?.thumbnailPath}}" alt="No Image Found"><br>
                            <a class="btn btn-info">Download</a>
                            <h4>Published On :
                                <app-timestamp [showInLine]="'true'" [dateAndTime]="assetDetails?.displayTime">
                                </app-timestamp>
                            </h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- <div class="portlet light ">
    <div class="row">
        <div class="timeline">
            <div class="line text-muted"></div>
            <article *ngFor="let content of learningTrack.contents" class="panel panel-default panel-outline">
                <div class="panel-heading icon">
                    <img class="img-circle mdf-style" src="{{content.thumbnailPath}}" alt="">
                </div>
                <div class="panel-body">
                    <p>
                        <ng-container *ngIf="content?.assetName">
                            <strong> {{content.assetName}}</strong>
                        </ng-container>
                        <button class="btn btn-primary" (click)="previewContent()">View</button>
                    </p>
                    <p>
                        <span translate>
                            <strong style="color:#65b6e4;">{{content?.assetType}}</strong></span>
                    </p>
                </div>
            </article>
            <article *ngIf="learningTrack.quiz" class="panel panel-default panel-outline">
                <div class="panel-heading icon">
                    <img class="img-circle mdf-style" src="{{learningTrack.featuredImage}}" alt="">
                </div>
                <div class="panel-body">
                    <p style="color: #65b6e4;">QUIZ</p>
                    <p>
                        <ng-container *ngIf="learningTrack.quiz?.name">
                            <strong> {{learningTrack.quiz.name}}</strong>
                        </ng-container>
                        <button class="btn btn-primary" (click)="previewQuiz()">View</button>
                    </p>
                </div>
            </article>
        </div>
    </div>
</div> -->
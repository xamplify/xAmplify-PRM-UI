<div class="page-content">
    <!-- --------------Heading -->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home" aria-hidden="true"></i>
                <a [routerLink]="referenceService.homeRouter">Home</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
                <a [routerLink]="['/home/lms/manage']">Manage Learning Track</a>
                <i class="fa fa-angle-right" aria-hidden="true"></i>
            </li>
        </ul>
    </div>
    <div style="position: relative; top: -10px">
        <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
    </div>
    <div class="row">
        <ngx-loading [show]="ngxloading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
        <div class="col-md-12">
            <div class="portlet light clearfix" style="min-height: 644px;">
                <ng-container *ngIf="modulesDisplayType.isFolderGridView || modulesDisplayType.isFolderListView">
                    <app-category-folder-view-util [moduleType]="exportObject" (valueUpdate)="getUpdatedValue($event)">
                    </app-category-folder-view-util>
                </ng-container>
                <div class="portlet-title" style="border-bottom: none">
                    <div class="row">
                        <div class="page-toolbar col-xs-12" *ngIf="!modulesDisplayType.isFolderGridView && !modulesDisplayType.isFolderListView">
                            <div class="btn-group pull-right">
                                <ng-container class='m10'>
                                    <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" data-placement="bottom" title="List View" [class.disabled]="modulesDisplayType.isListView" (click)="setViewType('List')">
                                        <i class="fa fa-th-list p10" aria-hidden="true"></i></span> &nbsp;
                                    <span class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" title="Grid View" [class.disabled]="modulesDisplayType.isGridView" (click)="setViewType('Grid')">
                                        <i class="fa fa-th-large p10" aria-hidden="true"></i>
                                    </span>
                                    <!-- <ng-container *ngIf="(pagination.categoryId==0 || pagination.categoryId=='undefined') && showFolderView">
                                        <span class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" title="Folder Grid View" [class.disabled]="modulesDisplayType.isFolderGridView" (click)="setViewType('Folder-Grid')">
                                            <i class="fa fa-folder p10" aria-hidden="true"></i>
                                        </span>
                                        <span class="btn btn-xs hidden-xs l-g-view margin-space folder-list-span-custom-width" data-toggle="tooltip" data-placement="bottom" title="Folder List View" [class.disabled]="modulesDisplayType.isFolderListView" (click)="setViewType('Folder-List')">
                                            <img src="assets/images/folder-list.png"
                                                class="folder-list-image-custom-css" />
                                        </span>
                                    </ng-container> -->

                                    <span *ngIf="pagination.categoryId>0" class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip" data-placement="bottom" title="Go back" (click)="setViewType('Folder-Grid')">
                                        <i class="fa fa-arrow-up p10" aria-hidden="true"></i></span>
                                </ng-container>
                                <div class="inputs" style="float: right">
                                    <!-- <div style="float: left;">
                                        <select class="form-control" [(ngModel)]="sortOption.formsSortOption" (ngModelChange)="sortBy($event)" style="position: relative;right: -3px;">
                                        <option *ngFor="let option of sortOption.manageFormsSortOptions" [ngValue]="option">
                                            {{option.name}}</option>
                                        </select>
                                    </div> -->
                                    <div class="portlet-input input-inline input-small" style="margin-right: 10px;">
                                        <div class="input-icon right" style="position: relative;right: -11px;">
                                            <input type="text" style="height:34px;" class="form-control" [(ngModel)]="sortOption.searchKey" [ngModelOptions]="{standalone: true}" placeholder="search..." (keypress)="eventHandler($event.keyCode)">
                                            <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="sortOption.searchKey" (click)="sortOption.searchKey='';searchLearningTracks();"></button>
                                            <button type="submit" class="search-box-item-click" (click)="searchLearningTracks()">
                                                <i class="fa fa-search" aria-hidden="true"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <app-landing-page-loader [maxBoxLength]=4 *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isGridView"></app-landing-page-loader>
                <app-list-loader *ngIf=" httpRequestLoader.isLoading && modulesDisplayType.isListView ">
                </app-list-loader>
                <app-grid-loader *ngIf="httpRequestLoader.isLoading && modulesDisplayType.isFolderGridView">
                </app-grid-loader>
                <section *ngIf="modulesDisplayType.isListView">
                    <ng-container *ngIf="!httpRequestLoader.isLoading">
                        <div class="table-responsive">
                            <table class='table tgrid table-hover table-sm' id="manage-lms-list-table" *ngIf="pagination.pagedItems?.length>0">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs" colspan="2" style="width: 35%" id="border-bottom">
                                            <span class="ui-column-resizer gray" (mousedown)="referenceService.onMouseDown($event,'manage-lms-list-table',2)">
                                            </span>
                                            <span class="gridHeader" translate>Learning Track</span>
                                        </th>
                                        <th class="visible-xs" colspan="1" style="width: 45%" id="border-bottom">
                                            <span class="ui-column-resizer gray" (mousedown)="referenceService.onMouseDown($event,'manage-lms-list-table',1)">
                                            </span>
                                            <span class="gridHeader" translate>Learning Track</span>
                                        </th>

                                        <th class="hidden-xs text-center" translate>Created On</th>
                                        <th *ngIf="!pagination.campaignForm" class="text-center" id="min-width" translate>Actions</th>
                                        <th *ngIf="pagination.campaignForm" class="text-center" id="right-corner" translate>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let learningTrack of pagination.pagedItems ;let i =index">
                                        <td class="hidden-xs" style="width: 10%;">
                                            <img class="img-class-list" [src]="learningTrack.featuredImage" onerror="this.src='assets/images/form.png';" alt="Image Not Found">
                                        </td>
                                        <td>
                                            <h4 class="moreipsis mt5 mb5 f-w-600" title="{{learningTrack.title}}">
                                                <span><b>{{learningTrack.title}}</b></span>
                                            </h4>
                                            <!--<h6 class="moreipsis" title="{{learningTrack.categoryName}}">
                                                <span translate> Folder <b>{{learningTrack.categoryName}}</b></span>
                                            </h6>
                                            <h6 class="moreipsis" title="{{earningTrack.createdName}}">
                                                <span translate> Created By <b>{{learningTrack.createdName}}</b></span>
                                            </h6>
                                            <h6 class="view-banner" translate>Learning Track</h6> -->
                                        </td>
                                        <!-- <td class="hidden-xs text-center">
                                            <app-timestamp [isOnlyDate]="true" [dateAndTime]="learningTrack.createdDateString">
                                            </app-timestamp>
                                        </td> -->
                                        <td id="actions-row">
                                            <div class="actions-block override-actions custom-width-icon">
                                                <a *ngIf="learningTrack.canUpdate" data-toggle="tooltip" data-placement="top" title="Edit" (click)="edit(learningTrack.id)">
                                                    <i class="fa fa-pencil-square-o"></i>
                                                </a>
                                                <a data-toggle="tooltip" data-placement="top" title="Preview">
                                                    <i class="fa fa-eye"></i>
                                                </a>
                                                <a *ngIf="" data-toggle="tooltip" data-placement="top" title="Copy Link">
                                                    <i class="fa fa-clipboard"></i>
                                                </a>
                                                <!-- <ng-container *ngIf="">
                                                    <a class="cursor">
                                                        <i class="fa fa-line-chart"></i>
                                                        <span class="badge" id="notification">{{learningTrack.count}}</span>
                                                    </a>
                                                </ng-container>
                                                <ng-container *ngIf=""> -->
                                                <!-------------Disable onclick if count==0   ----->
                                                <!-- <ng-container *ngIf="form.count==0">
                                                        <a class="cursor">
                                                            <i class="fa fa-line-chart"></i>
                                                            <span class="badge" id="notification">{{form.count}}</span>
                                                        </a>
                                                    </ng-container>
                                                    <ng-container *ngIf="learningTrack.count>0">
                                                        <a data-rel="fancybox-button" data-toggle="tooltip" data-placement="top" title="Analytics">
                                                            <i class="fa fa-line-chart"></i>
                                                            <span class="badge" id="notification">{{learningTrack.count}}</span>
                                                        </a>
                                                    </ng-container>
                                                </ng-container> -->
                                                <a *ngIf="learningTrack.canDelete" id="template-delete" data-toggle="tooltip" data-placement="top" title="Delete">
                                                    <i class="fa fa-trash-o"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </ng-container>
                </section>

                <div class="row" *ngIf="modulesDisplayType.isGridView && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                    <div class="col-md-3 col-sm-4 col-xs-12" *ngFor="let learningTrack of pagination.pagedItems ;let i =index" id="LearningTrackListDiv_{{learningTrack.id}}">
                        <div class="grid-box">
                            <img class="img-class" [src]="learningTrack.featuredImage" onerror="this.src='assets/images/form.png';" alt="{{learningTrack.title}}">
                            <h4 class="ellipsis mt5 mb5 f-w-600" title="{{learningTrack.title}}">
                                {{learningTrack.title | slice:0:25}} <span *ngIf="learningTrack.title?.length>25">...</span><br><br>
                            </h4>
                            <div>
                                <!-- <h6 title="{{learningTrack.categoryName}}" translate>
                                    Folder <b>{{learningTrack.categoryName | slice:0:17}}</b>
                                    <span *ngIf="learningTrack.categoryName?.length>17">..</span>
                                </h6>
                                <h6 translate>
                                    Created On <b>
                                        <app-timestamp [isOnlyDate]="true"
                                            [dateAndTime]="learningTrack.createdDateString"> </app-timestamp>
                                    </b>
                                </h6>
                                <h6 title="{{learningTrack.createdName}}" translate>
                                    By <b>{{learningTrack.createdName | slice:0:17}}</b>
                                    <span *ngIf="learningTrack.createdName?.length>17">..</span>
                                </h6> -->
                            </div>
                            <div class="ribbon">
                                <span translate>Learning Track</span>
                            </div>
                            <div class="bar">
                                <a *ngIf="learningTrack.canUpdate" data-toggle="tooltip" data-placement="top" title="Edit" (click)="edit(learningTrack.id)">
                                    <i class="fa fa-pencil-square-o"></i>
                                </a>
                                <a data-toggle="tooltip" data-placement="top" title="Preview">
                                    <i class="fa fa-eye"></i>
                                </a>
                                <a *ngIf="" data-toggle="tooltip" data-placement="top" title="Copy Link">
                                    <i class="fa fa-clipboard"></i>
                                </a>
                                <!-- <ng-container *ngIf="">
                                    <a class="cursor">
                                        <i class="fa fa-line-chart"></i>
                                    </a>
                                    <span class="badge" id="notification-list">{{learningTrack.count}}</span> -->
                                <!-- <a id="disabled-icon" class="blur" data-toggle="tooltip" data-placement="top" title="Data Sharing Disabled">
                                        <img src="../assets/images/disabled-icon.png">
                                    </a> -->
                                <!-- </ng-container>
                                <ng-container *ngIf="">
                                    <ng-container *ngIf="learningTrack.count==0">
                                        <a class="cursor">
                                            <i class="fa fa-line-chart"></i>
                                        </a>
                                        <span class="badge" id="notification-list">{{learningTrack.count}}</span>
                                    </ng-container>
                                    <ng-container *ngIf="learningTrack.count>0">
                                        <a data-rel="fancybox-button" title="Analytics" data-toggle="tooltip" data-placement="top">
                                            <i class="fa fa-line-chart"></i>
                                        </a>
                                        <span class="badge" id="notification-list">{{learningTrack.count}}</span>
                                    </ng-container>
                                </ng-container> -->
                                <a *ngIf="learningTrack.canDelete" data-toggle="tooltip" data-placement="top" title="Delete" class="delete">
                                    <i class="fa fa-trash-o"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <ng-container *ngIf="modulesDisplayType.isListView || modulesDisplayType.isGridView">
                    <div *ngIf="pagination.pagedItems.length !== 0" class="pg8">
                        <app-pagination [pagination]="pagination" (notifyParent)="setPage($event)" (notifyParentDropDown)="listLearningTracks($event)" [hidden]="httpRequestLoader.isLoading">
                        </app-pagination>
                    </div>
                    <!-- End of 24 -->
                    <div *ngIf="pagination.totalRecords==0 && !httpRequestLoader.isLoading" class="alert alert-info">
                        <strong translate>No Learning Tracks Found.</strong>
                    </div>
                </ng-container>
            </div>
            <!-- END PAGE CONTENT-->
        </div>
    </div>
</div>
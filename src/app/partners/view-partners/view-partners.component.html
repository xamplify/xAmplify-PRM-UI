<div class="col-xs-12 col-sm-12 col-lg-12 col-md-12 p5">
  <div class="portlet light">
    <div class="portlet-title">
      <div class="caption">
        <i class="icon-bar-chart font-green-sharp hide" aria-hidden="true"></i>
        <span class="caption-subject font-green-sharp uppercase">
          {{authenticationService?.partnerModule?.customName}} 
        </span>
      </div>
      <div class="panel-title pull-right">
        <div class="portlet-input input-inline input-small"	style="margin-right: 10px;">
          <div class="input-icon right mDamSearch rSearch" style="position: relative; right: -6px;">
            <input type="text" style="height: 34px;" class="form-control"	[(ngModel)]="sortOption.searchKey"	[ngModelOptions]="{standalone: true}" placeholder="search..." (keypress)="partnersSearchOnKeyEvent($event.keyCode)">
            <button	class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="sortOption.searchKey" (click)="sortOption.searchKey='';searchPartners();"></button>
            <button type="submit" class="search-box-item-click"	(click)="searchPartners()">
              <i class="fa fa-search" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="portlet-body">
      <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
      <ng-container *ngIf="!httpRequestLoader.isLoading">
        <div class="table-responsive">
          <table class="table tgrid table-hover table-sm" *ngIf="pagination?.pagedItems?.length>0" id="all-parnter-companies" aria-describedby="">
            <thead>
              <tr>
                 <th scope="col">Company Logo</th>
                 <th scope="col" class="text-center">Company Name (Added By Your Company)</th>
                 <th scope="col" class="text-center">Company Name</th>
                 <th scope="col" class="text-center">Created Time</th>
              </tr>
           </thead>
           <tbody>
              <ng-container *ngFor="let partner of pagination?.pagedItems ;let i =index">
                <tr title="Please click on the row to see the journey" class="pointer" (click)="showJourney(partner)">
                  <!--Partner Company Logo-->
                  <td style="width: 10%;" title="{{partner?.companyName}}">
                    <div class="thumbnail-wrapper">
                       <img alt="No image found" onerror="this.src='assets/images/company-profile-logo.png';" [src]="authenticationService?.MEDIA_URL+partner?.companyLogo">
                    </div>
                 </td>
                 <td title="{{partner?.companyNameAddedByVendor}}" class="text-center">
                  <span>{{partner?.companyNameAddedByVendor | slice:0:20}}</span>
                  <span *ngIf="partner?.companyNameAddedByVendor?.length>20">...</span>
                </td>
                <td title="{{partner?.companyName}}" class="text-center">
                  <span>{{partner?.companyName | slice:0:20}}</span>
                  <span *ngIf="partner?.companyName?.length>20">...</span>
              </td>
               <td>
                <app-display-date-and-time [dateAndTimeUTCString]="partner?.createdTimeInString"></app-display-date-and-time>
               </td>
                </tr>
              </ng-container>
           </tbody>
          </table>  
        </div>
      </ng-container>
      <div *ngIf="pagination?.pagedItems.length !== 0 && !httpRequestLoader.isLoading" class="pg8">
        <app-pagination [pagination]="pagination" (notifyParent)="navigateToNextPage($event)" (notifyParentDropDown)="findAllPartnerCompanies($event)">
        </app-pagination>
    </div>
    </div>
    </div>
  </div>
<!--Journey Modal PopUp-->
<div class="modal fade right" id="partner-journey-modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog full-width-modal-popup">
    <div class="modal-content" id="over-flow-y">
      <div class="modal-header">
        <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
        <h4 class="modal-title" class="center-aligned">Journey Of {{selectedPartner?.companyNameAddedByVendor}}</h4>
      </div>
      <div class="modal-body">
        <app-modal-popup-loader *ngIf="journeyLoader?.isLoading"></app-modal-popup-loader>
        <div class="row" *ngIf="!journeyLoader?.isLoading">
          <div class="timeline">
              <div class="line text-muted"></div>
              <article *ngFor="let timeLine of journeyHistroies" class="panel panel-default panel-outline">
                  <div class="panel-heading icon">
                      <img class="img-circle mdf-style" src="../../../assets/images/event-success.png" alt="">
                  </div>
                  <div class="panel-body pt0">
                      <p>
                        <strong style="color:#65b6e4;">{{timeLine?.journeyType}}</strong>
                         <strong>
                           <app-display-date-and-time [dateAndTimeUTCString]="timeLine?.createdTimeInString"></app-display-date-and-time>
                         </strong>
                         </p>
                  </div>
              </article>
          </div>
      </div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" id="float-right" data-dismiss="modal"  class="btn Btn-Gray" translate>Close</a>
      </div>
    </div>
  </div>
</div>
<style>
    a.disabled {
        pointer-events: none;
        cursor: not-allowed;
    }

    .imageblurNormal {
        -webkit-filter: grayscale(0%);
        filter: grayscale(0%);
        -webkit-filter: blur(0px);
        -moz-filter: blur(0px);
        -o-filter: blur(0px);
        -ms-filter: blur(0px);
        filter: blur(0px);
    }

    .imageblur {
        -webkit-filter: grayscale(100%);
        filter: grayscale(100%);
        opacity: 0.9;
    }

    /* .textWhite {
        color: white;
    } */

    img:hover {
        -webkit-filter: grayscale(0%);
        /* background-image: url('assets/images/crm/dynamics.png'); */
        background-color: #3598dc;
        filter: grayscale(0%);
        opacity: 2;
    }
</style>

<div class="page-content" style="overflow: hidden !important;">
    <ngx-loading [show]="pageLoader" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    <div class="my-container">
        <ngx-loading [show]="loading || contactService.isLoadingList"
            [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <!--XNFR-224-->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li><i class="fa fa-home" aria-hidden="true"></i> <a [routerLink]="referenceService.homeRouter"
                    translate>Home</a> <i class="fa fa-angle-right" aria-hidden="true"></i></li>
            <li><a translate>Onboarding
                    {{authenticationService?.partnerModule?.customName}}</a></li>
        </ul>
        <div id="download-partners-csv" class="hidden-xs dwnload-csv_btn" style="padding-right: 3px;padding-top:1px;">
            <a (click)="downloadEmptyCsv()">
                <button type="button" class="button p-rgt_p-top bgcolor-unset" download
                    [ngStyle]="{'width':referenceService.isMobileScreenSize()? '100%': 'unset'}" translate>
                    <span class="btn Btn-Green transition">Download CSV Template <i class="fa fa-download"
                            aria-hidden="true" style="margin-left: 5px"></i></span>
                </button>
            </a>
        </div>
        <app-user-guide-help-button [searchForGuides]="searchWithModuleName"></app-user-guide-help-button>
    </div>
    <div class="">
        <!----XNFR-222-->
        <div class="portlet-body">
            <form #f="ngForm">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-5">
                        <div class="portlet light add-options">
                            <div class="portlet-title" translate>How would you like to
                                add your {{authenticationService?.partnerModule?.customName}}?</div>
                            <div class="portlet-body">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-4 col-md-4 SideParddings1">
                                        <div class="card_effect_bg_color">
                                            <button class="btn-primary btn-block SidePaddings card_effect"
                                                id="addContacts" (click)="addPartnerModalOpen()"
                                                [disabled]="selectedAddPartnerOption != 1 && selectedAddPartnerOption != 5 || disableOtherFuctionality">
                                                <i class="fa fa-user-plus IconTopMargin" aria-hidden="true"></i> <span
                                                    translate>One at a Time</span>
                                            </button>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="!referenceService.isMobileScreenSize()">
                                        <div class="col-xs-12 col-sm-4 col-md-4 hidden-xs SideParddings2">
                                            <div class="card_effect_bg_color">
                                                <button class="Btn-Green btn-block SidePaddings card_effect"
                                                    id="copyFromClipBoard" (click)="copyFromClipboard()"
                                                    [disabled]="selectedAddPartnerOption != 5">
                                                    <i class="fa fa-users IconTopMargin" aria-hidden="true"></i> <span
                                                        translate>Copy list from clipboard</span>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 col-sm-4 col-md-4 hidden-xs SideParddings3">
                                            <div class="card_effect_bg_color">
                                                <button
                                                    class="btn-primary fileinput-button btn-block SidePaddings card_effect"
                                                    id="uploadCSV"
                                                    [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality">
                                                    <i class="fa fa-file-excel-o cct IconTopMargin"
                                                        aria-hidden="true"></i> <span
                                                        style="display: block; text-align: center" translate>Upload a
                                                        CSV</span> <input type="file" ng2FileSelect
                                                        [uploader]="uploader" title=" "
                                                        (click)="input.value = null;resetResponse();"
                                                        (change)="fileChange(input)" accept=".csv" #input
                                                        [disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality" />
                                                </button>
                                            </div>
                                            <div style="margin-top: 5px;">
                                                <a (click)="downloadEmptyCsv()"> <i class="fa fa-download"
                                                        aria-hidden="true"
                                                        style="display: contents !important; font-size: 15px !important"></i>
                                                    <strong translate>&nbsp;CSV Template</strong>
                                                </a>
                                            </div>
                                        </div>
                                    </ng-container>


                                    <!-- The global file processing state -->
                                    <span class="fileupload-process"> </span>

                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-7">
                        <div class="portlet light cloud-services" style="padding-bottom: 33px !important;">
                            <div class="portlet-title" translate>Import
                                {{authenticationService?.partnerModule?.customName}} from the
                                cloud:
                                <a href="#showCRM" data-toggle="collapse" style="float: right;"> <i
                                        class="fa fa-chevron-down" aria-hidden="true"
                                        style="display: contents !important; font-size: 15px !important"></i></a>
                            </div>
                            <div class="portlet-body">
                                <div class="row">

                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                        style="margin-top: 10px;">
                                        <a *ngIf="sfImageNormal" id="salesforceContact_buttonNormal"
                                            class="setting_icon_color" style="background-color: white"
                                            (click)="salesforceContacts()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 7 ">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :sfImageBlur==true}"
                                                src="assets/images/crm/sf.png" class="salesForceImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Salesforce account"
                                                height="86" width="90" alt="">
                                        </a> <a *ngIf="sfImageBlur" id="salesforceContact_button"
                                            style="background-color: white" (click)="salesforceContacts()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 7">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :sfImageBlur==true}"
                                                src="assets/images/crm/sf.png" class="salesForceImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Salesforce account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/sf.png';" alt="">
                                        </a>
                                        <div id="salesforceGear" style="position: absolute" *ngIf="sfImageNormal">
                                            <a [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality"
                                                (click)="settingSocialNetworkOpenModal('Salesforce')"> <i id="SgearIcon"
                                                    class="fa fa-cog cloud-css cloud-items gear_mbv"
                                                    aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                        style="margin-top: 10px;">
                                        <a *ngIf="googleImageBlur" id="googleContact_button"
                                            style="background-color: white" (click)="googleContacts()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || selectedAddPartnerOption == 3 || disableOtherFuctionality">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :googleImageBlur==true}"
                                                src="assets/images/crm/google.png" class="googleImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Google account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/google.png';" alt="">
                                        </a> <a id="googleContact_buttonNormal" class="setting_icon_color"
                                            *ngIf="googleImageNormal" style="background-color: white"
                                            (click)="googleContacts()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || selectedAddPartnerOption == 3 || disableOtherFuctionality">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :googleImageBlur==true}"
                                                src="assets/images/crm/google.png" class="googleImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Google account"
                                                height="86" width="90" alt="">
                                        </a>
                                        <div id="GoogleGear" style="position: absolute" *ngIf="googleImageNormal">
                                            <a [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality"
                                                (click)="settingSocialNetworkOpenModal('Google')"> <i id="GgearIcon"
                                                    class="fa fa-cog cloud-css cloud-items gear_mbv"
                                                    aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                        style="margin-top: 10px;">
                                        <a *ngIf="zohoImageBlur" id="zohoContact_button" style="background-color: white"
                                            (click)="checkingZohoContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || selectedAddPartnerOption == 6 || disableOtherFuctionality">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :zohoImageBlur==true}"
                                                src="assets/images/crm/Zoho.png" class="zohoImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Zoho account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/Zoho.png';" alt="">
                                        </a> <a *ngIf="zohoImageNormal" id="zohoContact_buttonNormal"
                                            style="background-color: white"
                                            (click)="checkingZohoContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || selectedAddPartnerOption == 6 || disableOtherFuctionality">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :zohoImageBlur==true}"
                                                src="assets/images/crm/Zoho.png" class="zohoImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Zoho account"
                                                height="86" width="90" alt="">
                                        </a>
                                        <div id="zohoGear" style="position: absolute" *ngIf="zohoImageNormal">
                                            <a [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality"
                                                (click)="settingSocialNetworkOpenModal('Zoho')"> <i id="ZgearIcon"
                                                    class="fa fa-cog cloud-css cloud-items gear_mbv"
                                                    aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Microsoft -->
                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                        style="margin-top: 10px;">
                                        <a *ngIf="microsoftDynamicsImageBlur" id="microsoftDynamicsContact_button"
                                            style="background-color: white"
                                            (click)="checkingMicrosoftDynamicsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 10">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :microsoftDynamicsImageBlur==true}"
                                                src="assets/images/crm/microsoft.png" style="border-radius:8px;"
                                                class="microsoftDynamicsImageClass" data-toggle="tooltip"
                                                data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Microsoft Dynamics account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/microsoft.png';">
                                        </a> <a *ngIf="microsoftDynamicsImageNormal"
                                            id="microsoftDynamicsContact_buttonNormal" style="background-color: white"
                                            (click)="checkingMicrosoftDynamicsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 10">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :microsoftDynamicsImageBlur==true}"
                                                src="assets/images/crm/microsoft.png" style="border-radius:8px;"
                                                class="microsoftDynamicsImageClass" data-toggle="tooltip"
                                                data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Microsoft Dynamics account"
                                                height="86" width="90">
                                        </a>
                                    </div>

                                    <!-- Hubspot -->
                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect "
                                        style="margin-top: 10px;">
                                        <a *ngIf="hubspotImageBlur" id="hubspotContact_button"
                                            style="background-color: white"
                                            (click)="checkingHubSpotContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 9">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :hubspotImageBlur==true}"
                                                src="assets/images/crm/hubspot.png" class="hubspotImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your HubSpot account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/hubspot.png';">
                                        </a> <a *ngIf="hubspotImageNormal" id="HubspotContact_buttonNormal"
                                            style="background-color: white"
                                            (click)="checkingHubSpotContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 9">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :hubspotImageBlur==true}"
                                                src="assets/images/crm/hubspot.png" class="hubspotImageClass"
                                                style="border-radius:8px;" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your HubSpot account"
                                                height="86" width="90">
                                        </a>
                                    </div>
                                    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                        style="margin-top: 10px;">
                                        <a *ngIf="connectWiseImageBlur" id="connectWiseContact_button"
                                            style="background-color: white"
                                            (click)="checkingConnectWiseContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 12">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :connectWiseImageBlur==true}"
                                                src="assets/images/crm/connectwise.png" style="border-radius:8px;"
                                                class="connectWiseImageClass" data-toggle="tooltip" data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your ConnectWise account"
                                                height="86" width="90"
                                                onmouseover="this.src='assets/images/crm/connecting.png';"
                                                onmouseout="this.src='assets/images/crm/connectwise.png';">
                                        </a> <a *ngIf="connectWiseImageNormal" id="connectwise_buttonNormal"
                                            style="background-color: white"
                                            (click)="checkingConnectWiseContactsAuthentication()"
                                            [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 12">
                                            <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :connectWiseImageBlur==true}"
                                                src="assets/images/crm/connectwise.png" style="border-radius:8px;"
                                                class="connnectWiseImageClass" data-toggle="tooltip"
                                                data-placement="top"
                                                title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Connetwise account"
                                                height="86" width="90">
                                        </a>
                                    </div>
                                    <!-- XNFR-230 -->
                                    <div id="showCRM" class="collapse">
                                        <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                            style="margin-top: 10px;">
                                            <a *ngIf="pipedriveImageBlur" id="pipedriveContact_button"
                                                style="background-color: white"
                                                (click)="checkingPipedriveContactsAuthentication()"
                                                [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 11">
                                                <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :pipedriveImageBlur==true}"
                                                    src="assets/images/crm/pipedrive.png" style="border-radius:8px;"
                                                    class="pipedriveImageClass" data-toggle="tooltip"
                                                    data-placement="right"
                                                    title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Pipedrive account"
                                                    height="86" width="90"
                                                    onmouseover="this.src='assets/images/crm/connecting.png';"
                                                    onmouseout="this.src='assets/images/crm/pipedrive.png';">
                                            </a> <a *ngIf="pipedriveImageNormal" id="pipedrive_buttonNormal"
                                                style="background-color: white"
                                                (click)="checkingPipedriveContactsAuthentication()"
                                                [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 11">
                                                <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :pipedriveImageBlur==true}"
                                                    src="assets/images/crm/pipedrive.png" style="border-radius:8px;"
                                                    class="pipedriveImageClass" data-toggle="tooltip"
                                                    data-placement="right"
                                                    title="Click here to access {{authenticationService?.partnerModule?.customName}} from your pipedrive account"
                                                    height="86" width="90">
                                            </a>
                                        </div>

                                        <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2 mlm8 image_effect"
                                            style="margin-top: 10px;">
                                            <a *ngIf="marketoImageBlur" id="marketoContact_button"
                                                style="background-color: white"
                                                (click)="checkingMarketoContactsAuthentication()"
                                                [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 8">
                                                <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :marketoImageBlur==true}"
                                                    src="assets/images/crm/marketo.png" class="marketoImageClass"
                                                    style="border-radius:8px;" data-toggle="tooltip"
                                                    data-placement="right"
                                                    title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Marketo account"
                                                    height="86" width="90"
                                                    onmouseover="this.src='assets/images/crm/connecting.png';"
                                                    onmouseout="this.src='assets/images/crm/marketo.png';" alt="">
                                            </a> <a *ngIf="marketoImageNormal" id="MarketoContact_buttonNormal"
                                                style="background-color: white"
                                                (click)="checkingMarketoContactsAuthentication()"
                                                [class.disabled]="selectedAddPartnerOption != 5 || disableOtherFuctionality || selectedAddPartnerOption == 8">
                                                <img [ngClass]="{imageblurNormal:googleImageNormal==true ,imageblur :marketoImageBlur==true}"
                                                    src="assets/images/crm/marketo.png" class="marketoImageClass"
                                                    style="border-radius:8px;" data-toggle="tooltip"
                                                    data-placement="right"
                                                    title="Click here to access {{authenticationService?.partnerModule?.customName}} from your Marketo account"
                                                    height="86" width="90">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>

                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="btn-group pull-right" style="padding-bottom: 3px; width: 100%">
            <span style="float: left; width: 70%" *ngIf="referenceService.isMobileScreenSize()"> <select
                    class="form-control SeclectBoxPaddingsAbj" [(ngModel)]="sortOption"
                    (ngModelChange)="sortByOption($event)">
                    <ng-container *ngFor="let sort of sortOptions; let i = index">
                        <option [ngValue]="sort">{{sort.name}}</option>
                    </ng-container>
                </select>
            </span>
            <ng-template #actionsButton>
                <button class="btn dropdown-toggle mb-btn" id="save&delete_button"
                    style="color: white; float: right; margin-left: 10px;"
                    [ngClass]="{'Btn-Green': !referenceService.isMobileScreenSize()}" data-toggle="dropdown">
                    <span *ngIf="!referenceService.isMobileScreenSize()" translate>Actions
                        <i class="fa fa-angle-down"></i>
                    </span> <span *ngIf="referenceService.isMobileScreenSize()"><i
                            style="font-size: 25px; color: #3598dc;" class="fa fa-cog mb-gear"></i></span>
                </button>
                <ul class="dropdown-menu pull-right">
                    <li><a id="save_button" *ngIf="selectedAddPartnerOption != 5" (click)="saveContacts()"
                            translate>Save </a></li>
                    <li><a id="cancel_button" *ngIf="selectedAddPartnerOption != 5 || clipBoard"
                            (click)="cancelPartners()" translate>Cancel </a></li>
                    <li><a id="saveAs_button" [class.disabled]="isSaveAsList"
                            *ngIf="selectedAddPartnerOption == 5 && !clipBoard"
                            (click)="saveAsChange(true); editContactComponent.addPartnerSave = true" translate>Create
                            New List </a></li>
                    <li><a id="exportToExcel"
                            *ngIf="selectedAddPartnerOption == 5 && pagination.pagedItems?.length != 0 && !clipBoard"
                            (click)="downloadPartnerList()" translate>Export To Excel </a></li>
                    <li><a id="exportToExcel"
                            *ngIf="selectedAddPartnerOption == 5 && pagination.pagedItems?.length != 0 && !clipBoard && editContactComponent.selectedContactListIds.length != 0"
                            (click)="showAlert()" translate> Delete</a></li>

                    <!---XNFR-278-->
                    <li
                        *ngIf="isPartner && selectedAddPartnerOption == 5 && pagination?.pagedItems?.length != 0 && !clipBoard && editContactComponent.selectedContactListIds.length != 0">
                        <a (click)="openMergePopup()" translate> Add To Lists</a>
                    </li>
                    <!---XNFR-278-->
                </ul>
            </ng-template>
            <ng-template *ngIf="referenceService.isMobileScreenSize()" [ngTemplateOutlet]="actionsButton"></ng-template>

        </div>
        <div class="col-xs-12 p0 mb_10" *ngIf="referenceService.isMobileScreenSize()">
            <input type="text" [(ngModel)]="searchKey" [ngModelOptions]="{standalone: true}" class="form-control"
                placeholder="Search" (keypress)="eventHandler($event.keyCode)">
            <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey"
                (click)="searchKey='';search()"></button>
            <button type="submit" class="search-box-item-click" (click)="search()">
                <!-- Removed style="color: black !important"-->
                <i class="fa fa-search" aria-hidden="true"></i>
            </button>
        </div>
        <app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible"></app-response-message>
        <div *ngIf="deleteErrorMessage" id="campaignError" class="col-xs-12 alert alert-danger alert-dismissable">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Danger!</strong>{{Campaign}}
        </div>
        <div *ngIf="zohoAuthStorageError" class="col-xs-12 alert alert-danger">
            <span>{{zohoAuthStorageError}}</span>
        </div>
        <div *ngIf="fileTypeError" id="csvFileTypeError" class="alert alert-danger alert-dismissable"
            style="width: 50%">
            <b translate>File type not allowed please select the .csv file
                only..</b>
        </div>
        <div *ngIf="dublicateEmailId" class="col-md-6" class="col-md-9 alert alert alert-danger alert-dismissable"
            style="width: 100%">
            <a class="close" data-dismiss="alert" aria-label="close"
                (click)="closeDuplicateEmailErrorMessage()">&times;</a>
            <h4 class="m0 alert-rd" translate>
                Duplicate EmailId Exist Please Remove..<u>{{duplicateEmailIds}}</u>
            </h4>
        </div>
        <!-----Legal Basis Options -->
        <div *ngIf=" (gdprStatus && filePreview) || (clipBoard&&gdprStatus) || (gdprStatus && selectedAddPartnerOption==2)"
            class="col-sm-12 form-group portlet light">
            <a class="close-circle" *ngIf="clipBoard" data-dismiss="modal" (click)="cancelPartners()"><i
                    class="fa fa-times"></i></a>
            <div class="form-group">
                <label for="name" class="col-xs-12 col-sm-3 control-label" translate>Legal
                    Basis Options <span class="danger">*</span>
                </label>
                <div id="multiselect-sample" class="control-section">
                    <div class="col-lg-6 content-wrapper">
                        <div class="control-styles">
                            <ejs-multiselect [(ngModel)]='selectedLegalBasisOptions'
                                [ngModelOptions]="{standalone: true}" [allowFiltering]='true' [ignoreAccent]='true'
                                id='multiselectelement' [dataSource]='legalBasisOptions' [fields]='fields'
                                [placeholder]='placeHolder' (blur)='validateLegalBasisOptions()'></ejs-multiselect>
                            <span class="custom-error-message chagneText" *ngIf="!isValidLegalOptions" translate>Please
                                select at
                                least one option</span>
                        </div>
                    </div>
                </div>
            </div>
            <ng-template *ngIf="clipBoard" [ngTemplateOutlet]="copyTextFromClipBoard"></ng-template>
        </div>
        <ng-template #saveCancel>
            <div class="pull-right">
                <button class="button bgcolor-unset" id="save_button" *ngIf="selectedAddPartnerOption != 5"
                    (click)="saveContacts()" translate><span
                        class="btn Btn-Green transition txt_pd-top3">Save</span></button>
                <button class="btn Btn-Gray" id="cancel_button" *ngIf="selectedAddPartnerOption != 5 || clipBoard"
                    (click)="cancelPartners()" translate>Cancel</button>
            </div>
        </ng-template>
        <div class="row" id="Gfile_preview">
            <div class="col-md-12 col-sm-12">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div class="portlet light">
                    <div class="portlet-title">
                        <div class="caption" translate>
                            <i class="fa fa-edit"></i>File Preview
                        </div>
                        <div>
                            <ng-template [ngTemplateOutlet]="saveCancel"></ng-template>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover table-bordered" id="google-contacts-table">
                                <thead>
                                    <tr>
                                        <td align="center"><input type="checkbox" name="all"
                                                [(ngModel)]="isHeaderCheckBoxChecked" class="checkBox_shadow"
                                                (change)="checkAll($event)" id="checkAllExistingContacts" /></td>
                                        <th translate>EMAIL</th>
                                        <th translate>FIRST NAME</th>
                                        <th translate>LAST NAME</th>
                                        <th *ngIf="selectedAddPartnerOption === 6" translate>COMPANY</th>
                                        <th *ngIf="selectedAddPartnerOption == 8 || selectedAddPartnerOption == 9"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngFor="let user of pagedItems;let i = index">
                                        <tr class='row_{{i}}'>
                                            <td *ngIf="selectedAddPartnerOption != 8 && selectedAddPartnerOption != 9"
                                                align="center"><input type="checkbox"
                                                    [checked]="selectedContactListIds.indexOf(user.id)>-1"
                                                    class="chk checkBox_shadow"
                                                    [class.contact-list-selected]="selectedContactListIds.indexOf(user.id)>-1"
                                                    lang="{{user.name}}" name="campaignContact[]" value="{{user.id}}"
                                                    id="{{user.id}}"
                                                    (click)="highlightRow(user.id,user.emailId,user.firstName,user.lastName,user.company,user.contactCompany,user,$event)" />
                                            </td>
                                            <td *ngIf="selectedAddPartnerOption == 8 || selectedAddPartnerOption == 9"
                                                align="center"><input type="checkbox"
                                                    [checked]="selectedContactListIds.indexOf(user.id)>-1"
                                                    class="chk checkBox_shadow"
                                                    [class.contact-list-selected]="selectedContactListIds.indexOf(user.id)>-1"
                                                    lang="{{user.name}}" name="campaignContact[]" value="{{user.id}}"
                                                    id="{{user.id}}" (click)="highlightMarketoRow(user,$event, i)" />
                                            </td>
                                            <td>{{user.emailId}}</td>
                                            <td>{{user.firstName}}</td>
                                            <td>{{user.lastName}}</td>
                                            <td *ngIf="selectedAddPartnerOption === 6">{{user.contactCompany}}</td>
                                            <td
                                                *ngIf="selectedAddPartnerOption == 8 || selectedAddPartnerOption == 9 || selectedAddPartnerOption == 11 || selectedAddPartnerOption == 12">
                                                <button class="lightgray-btn" id='more_less_button_{{i}}'
                                                    (click)="user.isShowDetails = ! user.isShowDetails">
                                                    <span *ngIf="!user.isShowDetails" translate>More</span> <span
                                                        *ngIf="user.isShowDetails" translate>Less</span>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr *ngIf="pagedItems"
                                            [ngClass]="{'hidden': !user.isShowDetails, 'show-more': user.isShowDetails}">
                                            <td colspan="12">
                                                <table cellpadding="5" cellspacing="0" class="border border-none">
                                                    <tbody>
                                                        <tr *ngIf="user?.company">
                                                            <td class='pt10 pb10 bold' translate>Company:</td>
                                                            <td class='pt10 pb10' style="padding-left: 20px;">
                                                                {{user.company}}</td>
                                                        </tr>
                                                        <tr *ngIf="user?.title">
                                                            <td class='pt10 pb10 bold' translate>Job Title:</td>
                                                            <td class='pt10 pb10' style="padding-left: 20px;">
                                                                {{user.title}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td class='pt10 pb10 bold' translate>Phone:</td>
                                                            <td class='pt10 pb10'>
                                                                <!-- <div *ngIf="user?.mobilePhone" [class.disabled]="true" style="pointer-events: none !important; cursor: auto;">
                                                                        <int-phone-prefix [(ngModel)]="user.mobilePhone" [ngModelOptions]="{standalone: true}"></int-phone-prefix>
                                                                    </div> -->
                                                                {{user?.mobilePhone}}
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class='pt10 pb10 bold' translate>Address:</td>
                                                            <td align="center" class="hidden-xs">
                                                                <h5 *ngIf="user?.address" class='mb0'>{{user.address}}
                                                                </h5>
                                                                <h5 class='m0' *ngIf="user?.city">
                                                                    {{user.city}}<span
                                                                        *ngIf="user.city && user.state">,&nbsp;</span>{{user.state}}
                                                                </h5>
                                                                <h5 *ngIf="user?.postalCode || user?.country"
                                                                    class='mt0'>
                                                                    {{user.postalCode}}<span
                                                                        *ngIf="user?.postalCode && user.country">,&nbsp;</span>{{user.country}}
                                                                </h5>
                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="user?.website">
                                                            <td class='pt10 pb10 bold' translate>Website:</td>
                                                            <td class='pt10 pb10'>{{user.website}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </ng-container>
                                </tbody>
                            </table>
                        </div>

                        <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                            <li [ngClass]="{disabled:pager.currentPage === 1}"><a (click)="setSocialPage(1)">First</a>
                            </li>
                            <li [ngClass]="{disabled:pager.currentPage === 1}"><a
                                    (click)="setSocialPage(pager.currentPage - 1)">Previous</a></li>
                            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}"><a
                                    (click)="setSocialPage(page)">{{page}}</a></li>
                            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                <a (click)="setSocialPage(pager.currentPage + 1)">Next</a>
                            </li>
                            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                <a (click)="setSocialPage(pager.totalPages)">Last</a>
                            </li>
                        </ul>

                        <div class="p-drop-down" style="width: max-content">
                            <select class="form-control" style="cursor: pointer" [(ngModel)]="pageNumber"
                                [ngModelOptions]="{standalone: true}"
                                (ngModelChange)="selectedPageNumber($event.value)">
                                <option *ngFor="let pageNo of paginationComponent.numberPerPage" [ngValue]="pageNo">
                                    {{pageNo.name}}</option>
                            </select>
                        </div>

                    </div>
                </div>
                <!-- END EXAMPLE TABLE PORTLET-->
            </div>
        </div>
        <div class="row">
            <ng-template #copyTextFromClipBoard>
                <div *ngIf="clipBoard" style="margin-bottom: 15px;">
                    <div class="col-sm-12" style="padding-left: 0px">
                        <h3 style="margin-left: 30px;" translate>Copy from text --
                            paste below</h3>
                        <div class="col-xs-12 col-sm-9">
                            <div class="col-xs-6" style="margin-bottom: 10px">
                                <select class="opts form-control">
                                    <option selected value="DEFAULT" translate>Delimiter
                                        Type</option>
                                    <option value="CommaSeperated" translate>Comma
                                        Separated</option>
                                    <option value="TabSeperated" translate>Tab Separated</option>
                                </select>
                            </div>
                            <div class="col-xs-6" style="margin-bottom: 10px">
                                <button class="button bgcolor-unset" type="button" (click)="clipboardShowPreview()"
                                    translate><span class="btn Btn-Green transition txt_pd-top3">Verify
                                        Data</span></button>
                            </div>
                            <div class="col-xs-12">
                                <textarea id="copyFromclipTextArea" class="textareaNumber" title="Calendar View"
                                    [(ngModel)]="clipboardTextareaText" title="please fill out this field"
                                    placeholder="FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,Type,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,Type,Category,Address,City,State,Zip,Country,Phone       FirstName,LastName,Company,Jobtitle,Email,Vertical,Region,Type,Category,Address,City,State,Zip,Country,Phone"
                                    [ngModelOptions]="{standalone: true}"
                                    style="height: 150px; font-size: 12px; line-height: 1.4; min-width: 100%; max-width: 100%; width: 100%;"
                                    required="required">
                                        </textarea>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-3" style="margin-top: 30px; padding-left: 0px">
                            <span id="clipBoardValidationMessage"></span>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
        <div class="clearfix">
            <div class="col-xs-12 pl0 pr0" *ngIf="(selectedAddPartnerOption == 2 || selectedAddPartnerOption == 4)">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div *ngIf="newPartnerUser?.length == 0 && selectedAddPartnerOption == 2 && isListLoader">
                    <app-list-loader></app-list-loader>
                </div>
                <div class="portlet light" *ngIf="newPartnerUser?.length != 0">
                    <div class="portlet-title height">
                        <div class="caption" translate>
                            <i class="fa fa-edit"
                                style="font-size: 19px;"></i>{{authenticationService?.partnerModule?.customName}}
                            Preview
                        </div>
                        <div>
                            <ng-template [ngTemplateOutlet]="saveCancel"></ng-template>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="btn-group pull-right" style="left: -16px;">
                            <div class="inputs" align="right" style="float: right"></div>
                        </div>
                        <div class="clearfix">
                            <div class="col-xs-12" style="padding: 15px 0 0;">
                                <div class="table-responsive">
                                    <table class='table tgrid'>
                                        <thead *ngIf="newPartnerUser?.length != 0">
                                            <tr>
                                                <th style="width: 25%; text-align: left;">Entity info</th>
                                                <th>PHONE</th>
                                                <!-- <th>JOB TITLE</th> -->
                                                <th class="hidden-xs" translate>VERTICAL</th>
                                                <th class="hidden-xs" translate>REGION</th>
                                                <th class="hidden-xs" translate>TYPE</th>
                                                <th class="hidden-xs" translate>CATEGORY</th>
                                                <th class='hidden-xs hidden-sm text-left' translate>ADDRESS</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container *ngFor="let newContact of pagedItems; let i = index">
                                                <tr class='row_{{i}}'>
                                                    <td><app-user-info [isPartnerEntityInfo]="true"
                                                            [isPartnerInfo]="true" [isPartnerInfo]="true"
                                                            [userInfo]="newContact"> </app-user-info></td>
                                                    <td class="hidden-xs">
                                                        <h5>
                                                            <span *ngIf="newContact?.mobileNumber; else NA"> <a
                                                                    href="tel:{{newContact?.mobileNumber}}"><i
                                                                        class="fa fa-phone" aria-hidden="true"
                                                                        style="padding-right: 4px;"></i>{{newContact?.mobileNumber}}</a>
                                                            </span>
                                                        </h5>
                                                    </td>
                                                    <td class="hidden-xs">{{newContact.vertical |
                                                        slice:0:15}} <span
                                                            *ngIf="newContact.vertical?.length>15">...</span>
                                                    </td>
                                                    <td class="hidden-xs">{{newContact.region |
                                                        slice:0:15}} <span
                                                            *ngIf="newContact.region?.length>15">...</span>
                                                    </td>
                                                    <td class="hidden-xs">{{newContact.partnerType |
                                                        slice:0:15}} <span
                                                            *ngIf="newContact.partnerType?.length>15">...</span>
                                                    </td>
                                                    <td class="hidden-xs hidden-sm">{{newContact.category |
                                                        slice:0:15}} <span
                                                            *ngIf="newContact.category?.length>15">...</span>
                                                    </td>
                                                    <td class="hidden-xs">
                                                        <h5 *ngIf="newContact?.address" class='mb0'>
                                                            {{newContact.address}}</h5>
                                                        <h5 class='mb0'>
                                                            <span
                                                                *ngIf="newContact?.city">{{newContact.city}},&nbsp;</span><span
                                                                *ngIf="newContact?.state">{{newContact.state}},</span>
                                                        </h5>
                                                        <h5 class='mt0'>
                                                            <span
                                                                *ngIf="newContact?.zipCode">{{newContact.zipCode}},&nbsp;</span><span
                                                                *ngIf="newContact?.country">{{newContact.country}}</span>
                                                        </h5>
                                                    </td>
                                                    <ng-template #NA>
                                                        <span>N/A</span></ng-template>
                                                </tr>
                                            </ng-container>

                                        </tbody>
                                    </table>

                                    <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                                        <li [ngClass]="{disabled:pager.currentPage === 1}"><a
                                                (click)="setSocialPage(1)">First</a></li>
                                        <li [ngClass]="{disabled:pager.currentPage === 1}"><a
                                                (click)="setSocialPage(pager.currentPage - 1)">Previous</a></li>
                                        <li *ngFor="let page of pager.pages"
                                            [ngClass]="{active:pager.currentPage === page}"><a
                                                (click)="setSocialPage(page)">{{page}}</a></li>
                                        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                            <a (click)="setSocialPage(pager.currentPage + 1)">Next</a>
                                        </li>
                                        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                            <a (click)="setSocialPage(pager.totalPages)">Last</a>
                                        </li>
                                    </ul>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END EXAMPLE TABLE PORTLET-->
            </div>
        </div>

        <div class="clearfix">
            <div class="col-xs-12 pl0 pr0" [class.p0]="referenceService.isMobileScreenSize()" style=""
                *ngIf="selectedAddPartnerOption == 5 && !clipBoard">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div class="portlet light remove_cardBgcolor padding_0 mrgn-lft-rgt6">
                    <div class="portlet-title" style="border-bottom: none !important;">
                        <div class="caption" style="padding-top: 11px !important;" translate>
                            <i class="fa fa-edit" style="font-size: 19px;" aria-hidden="true"></i>
                            List of {{authenticationService?.partnerModule?.customName}}
                        </div>
                        <div class="inputs" align="right" style="float: right; padding: 4px;display:flex;"
                            *ngIf="!referenceService.isMobileScreenSize()">
                            <!---XNFR-222-->
                            <app-team-member-filter-option *ngIf="showFilter"
                                (teamMemberFilterOptionEventEmitter)="getSelectedIndex($event)"></app-team-member-filter-option>

                            <div style="float: left; margin: 3px 10px;">
                                <select class="form-control SeclectBoxPaddingsAbj search_sort_shadows"
                                    [(ngModel)]="sortOption" (ngModelChange)="sortByOption($event)">
                                    <ng-container *ngFor="let sort of sortOptions; let i = index">
                                        <option [ngValue]="sort">{{sort.name}}</option>
                                    </ng-container>
                                </select>
                            </div>
                            <div class="portlet-input input-inline" style="margin:3px;">
                                <div class="input-icon right search_sort_shadows">
                                    <input type="text" style="height: 34px;" [(ngModel)]="searchKey"
                                        [ngModelOptions]="{standalone: true}" class="form-control PartnerSearchBox"
                                        placeholder="Search" (keypress)="eventHandler($event.keyCode)">
                                    <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="searchKey"
                                        (click)="searchKey='';search()"></button>
                                    <button type="submit" class="search-box-item-click" (click)="search()">
                                        <i class="fa fa-search" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="btn-group pull-right" style="margin:3px;">
                                <ng-template [ngTemplateOutlet]="actionsButton"></ng-template>
                            </div>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="btn-group pull-right" style="margin-bottom: 10px; left: -16px;">
                            <div class="inputs" align="right" style="float: right"></div>
                        </div>
                        <div class="clearfix">
                            <div class="col-xs-12" style="padding: 0px 0;">
                                <div class="alert alert-info" *ngIf="isLoadingList">
                                    <strong>Please wait while we process your request</strong>
                                </div>
                                <div *ngIf="pagination.pagedItems?.length == 0 && newPartnerUser?.length == 0 && !isLoadingList"
                                    class="alert alert-info alert-dismissable text-center">No
                                    {{authenticationService?.partnerModule?.customName}} found.</div>
                                <div class="table-responsive">
                                    <table class='table tgrid' aria-describedby="">
                                        <thead *ngIf="pagination.pagedItems?.length != 0">
                                            <tr>
                                                <th class='text-center'>
                                                    <input type="checkbox" name="all" class="checkBox_shadow"
                                                        [(ngModel)]="editContactComponent.isHeaderCheckBoxChecked"
                                                        (change)="editContactComponent.checkAll($event, partners)"
                                                        id="checkAllExistingContacts" />
                                                </th>
                                                <th style="width: 20%;" translate>Entity info</th>
                                                <th class="hidden-xs" translate>VERTICAL</th>
                                                <th class="hidden-xs" translate>REGION</th>
                                                <th class="hidden-xs" translate>TYPE</th>
                                                <th class="hidden-xs hidden-sm" translate>CATEGORY</th>
                                                <th></th>
                                                <th class='text-center' translate>ACTIONS</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container *ngFor="let contact of partners;let i = index"
                                                id="listPartners">
                                                <tr class='row_{{i}}'>
                                                    <td class="text-center" *ngIf="!isCampaignDraftContactList">
                                                        <input type="checkbox"
                                                            [checked]="editContactComponent.selectedContactListIds.indexOf(contact.id)>-1"
                                                            class="chk checkBox_shadow"
                                                            [class.contact-list-selected]="editContactComponent.selectedContactListIds.indexOf(contact.id)>-1"
                                                            lang="{{contact.id}}" name="campaignContact[]"
                                                            (change)="editContactComponent.saveAsSelectedContacts($event, contact)"
                                                            value="{{contact.id}}" id="{{contact.id}}"
                                                            (click)="editContactComponent.highlightRow(contact.id,$event)" />
                                                    </td>
                                                    <td><app-user-info [isPartnerEntityInfo]="true"
                                                            [isPartnerInfo]="true" [userInfo]="contact">
                                                        </app-user-info>
                                                        <!-- -XNFR-85 -->
                                                        <ng-container
                                                            *ngIf="!contact?.multipleTeamMemberGroupsAssigned">
                                                            <span
                                                                [className]="contact?.teamMemberGroupId>0 ?'active-status':'inactive-status'">
                                                                <ng-container *ngIf="contact?.teamMemberGroupId>0">
                                                                    <strong
                                                                        title="{{contact?.selectedTeamMemberGroupName}}">Group
                                                                        Name : {{contact?.selectedTeamMemberGroupName |
                                                                        slice:0:10}}
                                                                        <span
                                                                            *ngIf="contact?.selectedTeamMemberGroupName?.length>10">..</span>
                                                                    </strong>
                                                                    <br>
                                                                    <strong>Team Members :
                                                                        {{contact?.selectedTeamMembersCount}}</strong>
                                                                </ng-container>
                                                                <ng-container *ngIf="contact?.teamMemberGroupId==0">
                                                                    <strong>No Group Selected</strong>
                                                                </ng-container>
                                                            </span>
                                                        </ng-container>
                                                        <ng-container *ngIf="contact?.multipleTeamMemberGroupsAssigned">
                                                            <span class="inactive-status">
                                                                <strong>Please contact admin</strong>
                                                            </span>
                                                        </ng-container>
                                                    </td>
                                                    <td class="hidden-xs white-space-transform"
                                                        title="{{contact.vertical}}">{{contact.vertical | slice:0:14}}
                                                        <span *ngIf="contact.vertical?.length>14">..</span>
                                                    </td>
                                                    <td class="hidden-xs white-space-transform"
                                                        title="{{contact.region}}">{{contact.region | slice:0:14}}
                                                        <span *ngIf="contact.region?.length>14">..</span>
                                                    </td>
                                                    <td class="hidden-xs white-space-transform"
                                                        title="{{contact.partnerType}}">{{contact.partnerType |
                                                        slice:0:14}}
                                                        <span *ngIf="contact.partnerType?.length>14">..</span>
                                                    </td>
                                                    <td class="hidden-xs hidden-sm white-space-transform"
                                                        title="{{contact.category}}">{{contact.category | slice:0:14}}
                                                        <span *ngIf="contact.category?.length>14">..</span>
                                                    </td>

                                                    <td>
                                                        <button id='more_less_button_{{i}}'
                                                            class="hidden-xs lightgray-btn"
                                                            (click)="contact.isShowDetails = ! contact.isShowDetails">
                                                            <span *ngIf="!contact.isShowDetails" translate>More</span>
                                                            <span *ngIf="contact.isShowDetails" translate>Less</span>
                                                        </button>
                                                    </td>
                                                    <td class="white-space-transform">
                                                        <div class="actions-block override-actions"
                                                            style="display: flex;">
                                                            <a class="custom-icon"
                                                                *ngIf="!contact.unsubscribed && authenticationService?.module?.adminOrSuperVisor"
                                                                data-toggle="tooltip" data-placement="bottom"
                                                                title="unsubscribe" (click)="unsubscribeUser(contact)">
                                                                <i class="fa fa-bell-slash-o IconCustomization"
                                                                    aria-hidden="true"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon"
                                                                *ngIf="contact.unsubscribed && authenticationService?.module?.adminOrSuperVisor"
                                                                data-toggle="tooltip" data-placement="bottom"
                                                                title="subscribe" (click)="resubscribeUser(contact)">
                                                                <i class="fa fa-bell-o IconCustomization"
                                                                    aria-hidden="true"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon" id="envolope_{{i}}"
                                                                aria-hidden="true" data-toggle="tooltip"
                                                                data-placement="bottom" title="Send Email Notification"
                                                                (click)="sendMail(contact.id)">
                                                                <i class="fa fa-envelope IconCustomization"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon" id="edit_{{i}}" data-toggle="tooltip"
                                                                data-placement="bottom"
                                                                title="Edit {{authenticationService?.partnerModule?.customName}}"
                                                                (click)="editUserDetails(contact)"> <i
                                                                    class="fa fa-pencil-square-o IconCustomization"
                                                                    aria-hidden="true"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <a class="custom-icon" id="delete_{{i}}"
                                                                data-toggle="tooltip" data-placement="bottom"
                                                                title="Delete {{authenticationService?.partnerModule?.customName}}"
                                                                (click)="deleteUserShowAlert(contact.id)">
                                                                <i class="fa fa-trash-o trashIconCustomization"
                                                                    aria-hidden="true"></i>
                                                                <div class="del-icon"></div>
                                                            </a>
                                                            <!--XNFR-342-->
                                                            <ng-container *ngIf="authenticationService?.module?.isCampaign ||
                                                                 authenticationService?.module?.damAccess || authenticationService?.module?.lmsAccess
                                                                 || authenticationService?.module?.playbookAccess">
                                                                <a class="custom-icon" data-toggle="tooltip"
                                                                    data-placement="bottom"
                                                                    title="{{actionsDescription?.shareUnPublishedContent}}"
                                                                    [title]="(authenticationService?.module?.isCampaign && !authenticationService?.module?.damAccess 
                                                                        && !authenticationService?.module?.lmsAccess && !authenticationService?.module?.playbookAccess)
                                                                         ?  actionsDescription?.send_campaigns:actionsDescription?.shareUnPublishedContent"
                                                                    (click)="openUnPublishedContentModalPopUp(contact)">
                                                                    <i [ngClass]="(authenticationService?.module?.isCampaign && !authenticationService?.module?.damAccess 
                                                                        && !authenticationService?.module?.lmsAccess && !authenticationService?.module?.playbookAccess) 
                                                                         ? 'fa fa-bullhorn IconCustomization':'fa fa-share IconCustomization'"
                                                                        aria-hidden="true"></i>
                                                                    <div class="clickicons"></div>
                                                                </a>
                                                            </ng-container>
                                                            <!--XNFR-342-->
                                                            <a class="custom-icon"
                                                                *ngIf="authenticationService.module.isCampaign && !authenticationService.module.isPrmAndPartner && !authenticationService.module.isPrmAndPartnerTeamMember"
                                                                data-toggle="tooltip" data-placement="bottom"
                                                                title="Campaign Analytics"
                                                                (click)="goToCampaigns(contact)"> <i
                                                                    class="fa fa-line-chart IconCustomization"
                                                                    aria-hidden="true"></i>
                                                                <div class="clickicons"></div>
                                                            </a>
                                                            <app-login-as-partner [contact]="contact"
                                                                [showLoginAsButton]="true"></app-login-as-partner>
                                                            <!---XNFR-224--->
                                                        </div>
                                                    </td>
                                                    <ng-template #NA>N/A</ng-template>
                                                </tr>
                                                <tr
                                                    [ngClass]="{'hidden': !contact.isShowDetails, 'show-more': contact.isShowDetails}">
                                                    <td colspan="12">
                                                        <table cellpadding="5" cellspacing="0" class="border"
                                                            style="border:none !important;">
                                                            <tbody>
                                                                <tr class="hidden-sm hidden-md hidden-lg bg-unset">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Vertical:
                                                                    </td>
                                                                    <td>{{contact.vertical}}</td>
                                                                </tr>
                                                                <tr class="hidden-sm hidden-md hidden-lg bg-unset">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Region:
                                                                    </td>
                                                                    <td>{{contact.region}}</td>
                                                                </tr>
                                                                <tr class="hidden-sm hidden-md hidden-lg bg-unset">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Type:
                                                                    </td>
                                                                    <td>{{contact.partnerType}}</td>
                                                                </tr>
                                                                <tr class="hidden-sm hidden-md hidden-lg bg-unset">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Category:
                                                                    </td>
                                                                    <td>{{contact.category}}</td>
                                                                </tr>
                                                                <tr class="bg-unset" *ngIf="gdprStatus">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Legal
                                                                        Basis :</td>
                                                                    <td align="center" class="pt10 pb10">
                                                                        {{contact.legalBasisString}}</td>
                                                                </tr>
                                                                <tr class="bg-unset">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Address:
                                                                    </td>
                                                                    <td align="center">
                                                                        <h5 *ngIf="contact?.address" class='mb0'>
                                                                            {{contact.address}}</h5>
                                                                        <h5 class='m0'>
                                                                            {{contact.city}}<span
                                                                                *ngIf="contact.city && contact.state">,&nbsp;</span>{{contact.state}}
                                                                        </h5>
                                                                        <h5 *ngIf="contact?.zipCode || contact.country"
                                                                            class='mt0'>
                                                                            {{contact.zipCode}}<span
                                                                                *ngIf="contact.zipCode && contact.country">,&nbsp;</span>{{contact.country}}
                                                                        </h5>
                                                                    </td>
                                                                </tr>
                                                                <tr class="bg-unset"
                                                                    *ngIf="authenticationService.contactsCount">
                                                                    <td class='pt10 pb10 bold mr_10' translate>Contacts
                                                                        Limit:</td>
                                                                    <td align="center" class="pt10 pb10">
                                                                        {{contact.contactsLimit}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </ng-container>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <app-pagination [pagination]="pagination" [type]="'contacts'" (notifyParent)="setPage($event)"
                        (notifyParentDropDown)="onChangeAllPartnerUsers($event)"></app-pagination>
                </div>
                <!-- END EXAMPLE TABLE PORTLET-->

            </div>
        </div>
        <app-scroll-top></app-scroll-top>
    </div>

    <!-- Modal -->
    <div *ngIf="contactService.isContactModalPopup && !updatePartnerUser">
        <app-add-contact-modal [mdfAccess]="mdfAccess" [gdprInput]="parentInput"
            [totalUsers]="contactService.allPartners" [isContactTypeEdit]="true" [isUpdateUser]="updatePartnerUser"
            [partnerListId]="partnerListId" (notifyParent)="addRow($event)"></app-add-contact-modal>
    </div>

    <div *ngIf="contactService.isContactModalPopup && updatePartnerUser">
        <app-add-contact-modal [mdfAccess]="mdfAccess" [gdprInput]="parentInput"
            [totalUsers]="contactService.allPartners" [contactDetails]="partnerAllDetails"
            [isUpdateUser]="updatePartnerUser" [partnerListId]="partnerListId"
            (notifyParent)="updatePartnerListUser($event)"></app-add-contact-modal>
    </div>

    <div id="zohoId">
        <div class="modal right" id="zohoShowLoginPopup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog modal-css" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <a class="close-circle" data-dismiss="modal" (click)="hideZohoModal()"><i
                                class="fa fa-times"></i></a>
                        <div>
                            <img src="assets/images/zoho.png" alt="Picture of a happy monkey" style="height: 65px"
                                width="90px" />
                            <h4 class="modal-title" id="myModalLabel" align="center">
                                <b translate>Sign in</b>
                            </h4>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div *ngIf="zohoCredentialError" class="alert alert-danger">
                                <span>{{zohoCredentialError}}</span>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="email" translate>Email:</label>
                                <div class="col-sm-8">
                                    <input type="email" style="width: 75%" class="form-control" id="email"
                                        placeholder="email" [(ngModel)]="userName"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="pwd" translate>Password:</label>
                                <div class="col-sm-8">
                                    <input type="password" style="width: 75%" class="form-control" id="pwd"
                                        placeholder="password" [(ngModel)]="password"
                                        [ngModelOptions]="{standalone: true}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="pwd" translate>
                                    Import From:</label>
                                <div class="col-sm-8">
                                    <select class="opts form-control" style="width: 75%">
                                        <option selected value="DEFAULT" translate>Select</option>
                                        <option value="contact" translate>Contacts</option>
                                        <option value="lead" translate>Leads</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn Btn-Gray" data-dismiss="modal" (click)="hideZohoModal()"
                            translate>Close</button>
                        <button type="button" class="button_blue bgcolor-unset" (click)="zohoContacts()" translate><span
                                class="btn btn-primary transition">Authorize</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal right" id="zohoShowAuthorisedPopup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-css" role="document">
            <ngx-loading [show]="zohoPopupLoader" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
            <div class="modal-content">
                <div>
                    <div class="modal-header">
                        <a class="close-circle" data-dismiss="modal" (click)="hideZohoAuthorisedPopup()"><i
                                class="fa fa-times"></i></a>
                        <div class="col-sm-3" style="margin-top:10px;">
                            <img src="assets/images/zoho.png" alt="Picture of a happy monkey" style="height: 65px"
                                width="90px" />
                        </div>
                        <div class="col-sm-12 salesforce">
                            <h4 class="modal-title" id="myModalLabel" align="center" translate>Import From Zoho</h4>
                        </div>
                    </div>
                    <div class="modal-body">
                        <app-response-message class="pg8" [customResponse]="zohoErrorResponse"
                            *ngIf="zohoErrorResponse.isVisible"> </app-response-message>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="pwd" translate>
                                    Import From:</label>
                                <div class="col-sm-8">
                                    <select class="opts form-control" style="width: 75%"
                                        (change)="onChangeZohoDropdown($event)">
                                        <option selected value="DEFAULT" translate>Select</option>
                                        <option value="contact" translate>Contacts</option>
                                        <option value="lead" translate>Leads</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" style="border-top:0px !important">
                        <button type="button" class="btn Btn-Gray" data-dismiss="modal"
                            (click)="hideZohoAuthorisedPopup()" translate>Close</button>
                        <button type="button" class="button_blue bgcolor-unset" (click)="checkingZohoPopupValues()"
                            translate><span class="btn btn-primary transition">Submit</span></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal right" id="dd" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog modal-css" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="border-bottom: none;">
                        <a class="close-circle" data-dismiss="modal"><i class="fa fa-times"></i></a>
                        <div class="col-sm-3" style="margin-top: 10px">
                            <img src="assets/images/Salesforce-01.png" alt="Picture of a happy monkey"
                                style="height: 65px" width="100px" />
                        </div>
                        <div class="col-sm-12" style="margin-left: 136px; margin-top: -44px">
                            <h4 class="modal-title" translate>import from salesforce:</h4>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-sm-3" for="email" translate>
                                    Select Option:</label>
                                <div class="col-sm-8">
                                    <select class="opts form-control" (change)="onChangeSalesforceDropdown($event)">
                                        <option selected value="DEFAULT" translate>Select</option>
                                        <option value="contact" translate>Contacts</option>
                                        <option value="lead" translate>Leads</option>
                                        <option value="contact_listviews" translate>Contacts_listViews</option>
                                        <option value="lead_listviews" translate>Leads_listViews</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" *ngIf="salesforceListViewsData?.length > 0">
                                <label class="control-label col-sm-3" for="salesforce-dropdown-2" translate> Select
                                    Option:</label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="salesforce-dropdown-2"
                                        (change)="onChange($event.target.value)">
                                        <option selected value="DEFAULT" translate>Select</option>
                                        <option *ngFor="let item of salesforceListViewsData"
                                            value='{{item.listViewId}}'>{{item.listViewName}}</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn Btn-Gray" data-dismiss="modal" translate>Close</button>
                        <button type="button" id="salesforce_save_button" class="button_blue bgcolor-unset"
                            (click)="checkingPopupValues()" data-dismiss="modal" translate><span
                                class="btn btn-primary transition">Submit</span></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal right" id="settingSocialNetworkPartner" tabindex="-1" role="dialog"
            aria-labelledby="settingSocialNetworkModalLabel1" data-keyboard="false" data-toggle="modal"
            data-target="settingSocialNetworkPartner" data-backdrop="static">
            <div class="modal-dialog modal-css" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <a class="close-circle" data-dismiss="modal"><i class="fa fa-times"></i></a>
                        <div>
                            <h4 class="modal-title" id="settingSocialNetworkModalLabel1" translate>
                                {{settingSocialNetwork}} Account Settings</h4>
                        </div>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <h4 style="margin-left: 20px;" translate>
                                    <span class="glyphicon glyphicon-triangle-right"></span>You are
                                    about to unlink your {{settingSocialNetwork}} account from
                                    xAmplify.
                                </h4>
                                <h4 style="margin-left: 20px;" translate>
                                    <span class="glyphicon glyphicon-triangle-right"></span>If you
                                    decide to relink your account, you will need to reenter your
                                    credentials.
                                </h4>

                                <button type="button" class="button_blue bgcolor-unset"
                                    style="margin-left: 38%; margin-top: 2%" (click)="unlinkSocailAccount()"
                                    translate><span class="btn btn-primary transition">Unlink
                                        Account</span></button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn Btn-Gray" data-dismiss="modal" translate>Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<app-save-as *ngIf="saveAsListName" [listName]="'Partner'" [saveAsListName]="saveAsListName" [gdprInput]="parentInput"
    [isPartner]="true" [showGDPR]="showGDPR" (notifyParentSaveAs)="closeSaveAsModal()"></app-save-as>


<!-- Testing Modal -->
<div class="modal right fade" id="TestSalesForceModal" tabindex="-1" role="dialog"
    aria-labelledby="TestSalesForceModal">
    <div class="modal-dialog modal-css" role="document">
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" style="position: relative;"><i class="fa fa-times"></i></a>
                <div class="col-sm-3" style="margin-top: 10px">
                    <img src="assets/images/Salesforce-01.png" alt="Picture of a happy monkey" style="height: 65px"
                        width="100px" />
                </div>
                <div class="col-sm-12 salesforce">
                    <h4 class="modal-title" translate>Import from salesforce:</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="clearfix">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="email" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="opts form-control" id="salesforce-dropdown-1"
                                    (change)="onChangeSalesforceDropdown($event)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option value="contact" translate>Contacts</option>
                                    <option value="lead" translate>Leads</option>
                                    <option value="contact_listviews" translate>Contacts_listViews</option>
                                    <option value="lead_listviews" translate>Leads_listViews</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="salesforceListViewsData?.length > 0">
                            <label class="control-label col-sm-3" for="salesforce-dropdown-2" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="form-control" id="salesforce-dropdown-2"
                                    (change)="onChange($event.target.value)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option *ngFor="let item of salesforceListViewsData" value='{{item.listViewId}}'>
                                        {{item.listViewName}}</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="border-top:none !important;">
                <button type="button" class="btn Btn-Gray" data-dismiss="modal" translate>Close</button>
                <button type="button" id="salesforce_save_button" class="button_blue bgcolor-unset"
                    (click)="checkingPopupValues()" data-dismiss="modal" translate><span
                        class="btn btn-primary transition">Submit</span></button>
            </div>
        </div>
    </div>
</div>

<div *ngIf="contactListAssociatedCampaignsList?.length && openCampaignModal">
    <app-contacts-campaigns-mails [associatedCampaignDetails]="contactListAssociatedCampaignsList" [isPartner]="true"
        [users]="newUserDetails" [contactListId]="partnerListId"
        (notifyParent)="closeModal($event)"></app-contacts-campaigns-mails>
</div>



<!-- MARKETO -->
<div id="marketoId">
    <div class="modal right" id="marketoShowLoginPopup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-css" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a class="close-circle" data-dismiss="modal" (click)="hideMarketoModal()"><i
                            class="fa fa-times"></i></a>
                    <h4 class="modal-title" id="templateRetrieve" translate>Marketo
                        integration with xAmplify</h4>
                    <div>
                        <div>
                            <img src="assets/images/crm/Mark-amplify.png"
                                style="margin: 30px 30% 0; width: 50%; text-align: center;">
                        </div>

                    </div>
                </div>
                <div class="modal-body">
                    <ngx-loading [show]="loadingMarketo" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
                    <form class="form-horizontal">
                        <div *ngIf="marketoContactError" class="alert alert-danger">
                            <span>{{marketoContactError}}</span>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="email" translate>Client
                                Id:</label>
                            <div class="col-sm-8">
                                <input type="email" style="width: 75%" class="form-control" id="email"
                                    placeholder="Client Id" [(ngModel)]="marketoClientId"
                                    [ngModelOptions]="{standalone: true}" (input)="validateModelForm('email')">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="pwd" translate>Client
                                Secret:</label>
                            <div class="col-sm-8">
                                <input type="password" style="width: 75%" class="form-control" id="pwd"
                                    placeholder="Secret Id" [(ngModel)]="marketoSecretId"
                                    [ngModelOptions]="{standalone: true}" (input)="validateModelForm('pwd')">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="instance" translate>Marketo
                                Instance:</label>
                            <div class="col-sm-8">
                                <input type="password" style="width: 75%" class="form-control" id="instance"
                                    placeholder="Marketo Instance" [(ngModel)]="marketoInstance"
                                    [ngModelOptions]="{standalone: true}" (input)="validateModelForm('instance')">
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn Btn-Gray" data-dismiss="modal" (click)="hideMarketoModal()"
                        translate>Close</button>
                    <button type="button" class="button_blue bgcolor-unset"
                        [disabled]="!isMarketoModelFormValid || !marketoClientId || !marketoSecretId || !marketoInstance"
                        (click)="getMarketoContacts()" translate><span
                            class="btn btn-primary transition">Authorize</span></button>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="showMicrosoftAuthenticationForm">
    <app-microsoft-authentication-popup (closeEvent)="closeMicrosoftForm($event)"></app-microsoft-authentication-popup>
</div>
<!-- XNFR-230-->
<div *ngIf="showPipedriveAuthenticationForm">
    <app-pipedrive-authentication-popup (closeEvent)="closePipedriveForm($event)"></app-pipedrive-authentication-popup>
</div>

<!-- XNFR-403-->
<div *ngIf="showConnectWiseAuthenticationForm">
    <app-connectwise-authentication-popup
        (closeEvent)="closeConnectWiseForm($event)"></app-connectwise-authentication-popup>
</div>

<!-- T&C Modal -->
<div class="modal fade" id="tcModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"
    aria-labelledby="tcModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-copy" role="document">
        <div class="modal-content mSweetalertWid" style="width: 80%; top: 100px; left: 60px">
            <div class="modal-header">
                <h4 class="modal-title f-w-600" id="saveAsModalLabel" translate>
                    Are you sure?</h4>
            </div>
            <div class="modal-body">
                <div>
                    <h4 class="modal-title f-w-600" translate>You are agreeing to
                        xAmplify's Terms and Conditions.</h4>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <input type="checkbox" [(ngModel)]="isCheckTC" class="checkBox_shadow"
                        [ngModelOptions]="{standalone: true}" name="xamplifyTC" value="tc" checked translate> By
                    onboarding a
                    {{authenticationService?.partnerModule?.customName}} you confirm
                    that you have read and agree to the <a (click)="navigateToTermsOfUse()" translate>xAmplify Terms of
                        Use</a> and agree to the processing of your personal data by xAmplify
                    as described in the <a (click)="navigateToPrivacy()" translate>Privacy
                        Policy</a> . Furthermore, you agree to use xAmplify in compliance with
                    <a (click)="navigateToGDPR()" translate>GDPR</a> and <a (click)="navigateToCCPA()">CCPA</a>. <br>
                </div>
                <div *ngIf="!isCheckTC" style="color: red" translate>You must
                    agree</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Btn-Gray btn-hvr-text" data-dismiss="modal" (click)="cancelPartners()"
                    translate>Decline</button>
                <button type="button" [disabled]="!isCheckTC" class="button_blue bgcolor-unset"
                    (click)="saveContactsWithPermission()" translate><span
                        class="btn btn-primary transition">Accept</span></button>
            </div>
        </div>
    </div>
</div>

<!-- HubSpot Modal -->
<div class="modal right fade" id="ContactHubSpotModal" tabindex="-1" role="dialog" aria-labelledby="TestHubSpotModal">
    <div class="modal-dialog modal-css" role="document">
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" (click)="hideHuspotModal()" style="position: relative;"><i
                        class="fa fa-times"></i></a>
                <div class="col-sm-3" style="margin-top: 25px">
                    <img src="assets/images/crm/hubspot-logo.png" alt="Picture of a happy monkey" style="height: 60px"
                        width="150px" />
                </div>
                <div class="col-sm-12 salesforce">
                    <h4 class="modal-title" translate>Import from HubSpot:</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="clearfix">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="email" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="opts form-control" id="hubspot-dropdown-1"
                                    (change)="onChangeHubSpotDropdown($event)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option value="contacts" translate>Contacts</option>
                                    <option value="lists" translate>Lists</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="hubSpotContactListsData?.length > 0">
                            <label class="control-label col-sm-3" for="hubspot-dropdown-2" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="form-control" id="hubspot-dropdown-2"
                                    (change)="onChangeHubSpotListsDropdown($event.target.value)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option *ngFor="let item of hubSpotContactListsData" value='{{item.id}}'>
                                        {{item.name}}</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="border-top:none !important">
                <button type="button" class="btn Btn-Gray" data-dismiss="modal" (click)="hideHuspotModal()"
                    translate>Close</button>
                <button type="button" id="hubspot_save_button" class="button_blue bgcolor-unset"
                    (click)="getHubSpotData()" data-dismiss="modal" translate><span
                        class="btn btn-primary transition">Submit</span></button>
            </div>
        </div>
    </div>
</div>

<!-- ConnectWise Modal -->
<div class="modal right fade" id="ContactConnectWiseModal" tabindex="-1" role="dialog"
    aria-labelledby="TestConnectWiseModal">
    <div class="modal-dialog modal-css" role="document">
        <div class="modal-content rounded-0">
            <div class="modal-header">
                <a class="close-circle" data-dismiss="modal" style="position: relative;"><i class="fa fa-times"></i></a>
                <div class="col-sm-3" style="margin-top: 25px">
                    <img src="assets/images/crm/connectwise-logo.png" alt="Picture of a happy monkey"
                        style="height: 60px" width="150px" />
                </div>
                <div class="col-sm-12 salesforce">
                    <h4 class="modal-title" translate>Import from ConnectWise:</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="clearfix">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-sm-3" for="email" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="opts form-control" id="connectwise-dropdown-1"
                                    (change)="onChangeConnectWiseDropdown($event)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option value="contacts" translate>Contacts</option>
                                    <option value="lists" translate>Groups</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="connectWiseContactListsData?.length > 0">
                            <label class="control-label col-sm-3" for="connecwise-dropdown-2" translate>Select
                                Option:</label>
                            <div class="col-sm-8">
                                <select class="form-control" id="connectwise-dropdown-2"
                                    (change)="onChangeConnectWiseListsDropdown($event.target.value)">
                                    <option selected value="DEFAULT" translate>Select</option>
                                    <option *ngFor="let item of connectWiseContactListsData" value='{{item.id}}'>
                                        {{item.name}}</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button>
                <button type="button" id="connectwise_save_button" class="btn btn-primary"
                    (click)="getConnectWiseData()" data-dismiss="modal" translate>Submit</button>
            </div>
        </div>
    </div>
</div>

<!---XNFR-342---->
<app-share-unpublished-content #shareUnPublishedComponent
    [hasCampaignAccess]="authenticationService?.module?.isCampaign"
    [hasDamAccess]="authenticationService?.module?.damAccess" [hasLmsAccess]="authenticationService?.module?.lmsAccess"
    [hasPlaybookAccess]="authenticationService?.module?.playbookAccess">
</app-share-unpublished-content>

<!--Open Pop up-->
<app-send-campaigns #sendCampaignComponent></app-send-campaigns>


<!-- Cloud Partner Saving Modal Popup -->
<div class="modal fade" id="cloudPartnersModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"
    aria-labelledby="tcModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-copy" role="document">
        <div class="modal-content" style="width: 80%; top: 100px; left: 60px">
            <div class="modal-header">
                <h4 class="modal-title f-w-600" style="color: red;" translate>
                    Are you sure?</h4>
            </div>
            <div class="modal-body">
                <div>
                    <h4 class="modal-title f-w-600" translate>All imported
                        {{authenticationService?.partnerModule?.customName}} will
                        automatically receive an invitation to join our xAmplify network.</h4>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <input type="checkbox" [(ngModel)]="cloudPartnersModalCheckBox"
                        [ngModelOptions]="{standalone: true}" class="checkBox_shadow"
                        name="cloudPartnersModalCheckBoxTC" checked translate>
                    <font style="color: red;">*</font> I acknowledge that these
                    {{authenticationService?.partnerModule?.customName}} will gain
                    access to campaigns and related materials shared via xAmplify. <br>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn Btn-Gray btn-hvr-text" data-dismiss="modal" (click)="cancelPartners()"
                    translate>Cancel</button>
                <button type="button" [disabled]="!cloudPartnersModalCheckBox" class="button_blue bgcolor-unset"
                    (click)="proceed()" translate><span class="btn btn-primary transition">Accept</span></button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade right" id="assignContactAndMdfPopup" tabindex="-1" role="dialog"
    aria-labelledby="assignContactAndMdfPopup" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" [ngClass]="isPartnerPopupShow ? 'custom-width-modal-popup' : 'full-width-modal-popup'"
        role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" (click)="closeAssignContactAndMdfAmountPopup()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body" style="margin-bottom: -12px;">
                <div class="alert alert-danger" *ngIf="contactAndMdfPopupResponse.isVisible">
                    <strong class="pre-wrap-next-line">{{contactAndMdfPopupResponse?.responseMessage}}</strong>
                </div>
                <app-modal-popup-loader *ngIf="processingPartnersLoader"></app-modal-popup-loader>
                <div class="table-responsive" *ngIf="!processingPartnersLoader">
                    <table class="table tgrid table-hover table-sm beige dark-beige" id="assignContactAndTable"
                        aria-describedby="assignContactAndTable">
                        <thead>
                            <tr>
                                <th scope="row" translate>Entity Info</th>
                                <th *ngIf="authenticationService.contactsCount" scope="row" translate>#Contacts <span
                                        id="tooltip-helper"> <i class="fa fa-question-circle" aria-hidden="true"
                                            data-toggle="tooltip" data-placement="bottom"
                                            title="Assign number of contacts to each {{authenticationService?.partnerModule?.customName}} (Minimum 1)"></i>
                                    </span>
                                </th>
                                <th scope="row" translate>Sign up Notification <span id="tooltip-helper"> <i
                                            class="fa fa-question-circle" aria-hidden="true" data-toggle="tooltip"
                                            data-placement="bottom"
                                            title="Send/Unsend signup email notifications to your newly onboarded {{authenticationService?.partnerModule?.customName}}"></i>
                                    </span>
                                </th>
                                <th *ngIf="authenticationService?.module?.adminOrSuperVisor" style="text-align: center;"
                                    scope="row" translate>Team Member Group <span id="tooltip-helper"> <i
                                            class="fa fa-question-circle" aria-hidden="true" data-toggle="tooltip"
                                            data-placement="bottom"
                                            title="Assign team member groups to your newly onboarded {{authenticationService?.partnerModule?.customName}}"></i>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let partner of newPartnerUser;let i=index">
                                <tr id="partner-row-{{i}}">
                                    <td><app-user-info [isPartnerEntityInfo]="true" [userInfo]="partner">
                                        </app-user-info></td>
                                    <td *ngIf="authenticationService.contactsCount" class="contact-count error"
                                        id="contact-count-{{i}}"><input type="number"
                                            [(ngModel)]="partner.contactsLimit" [ngModelOptions]="{standalone: true}"
                                            class="form-control" name="contactsLimit" placeholder="Contacts" min="1"
                                            oninput="validity.valid||(value='');"></td>
                                    <td *ngIf="showNotifyPartnerOption">
                                        <switch [status]="partner.notifyPartners"
                                            [onText]="callActionSwitch.onTextValue"
                                            [offText]="callActionSwitch.offTextValue"
                                            [onColor]="callActionSwitch.onGreenColorSwitch"
                                            [offColor]="callActionSwitch.onDefaultColorSwitch"
                                            [size]="callActionSwitch.defaultSize"
                                            (statusChange)="setNotifyPartnerOption(partner,$event)">
                                        </switch>
                                    </td>
                                    <!--- (XNFR-85) ----->
                                    <td *ngIf="authenticationService?.module?.adminOrSuperVisor"
                                        id="team-member-group-error-count-{{i}}">
                                        <div class="input-group">
                                            <select id="partner-tm-group-{{i}}"
                                                class="form-control decressOptionfont borderColorsCU"
                                                [(ngModel)]="partner.teamMemberGroupId"
                                                (ngModelChange)="getTeamMembersByGroupId(partner,i)">
                                                <option *ngFor="let teamMemberGroup of teamMemberGroups"
                                                    [ngValue]="teamMemberGroup.id">
                                                    {{teamMemberGroup?.name}}
                                                    ({{teamMemberGroup?.teamMembersCount}})</option>
                                            </select> <span class="input-group-btn">
                                                <button [disabled]="partner.teamMemberGroupId==0" class="btn btn-info"
                                                    type="button" tabindex="-1"
                                                    (click)="previewModules(partner.teamMemberGroupId)">
                                                    <i title="Preview Modules" data-toggle="tooltip"
                                                        data-placement="top" class="fa fa-eye white"
                                                        aria-hidden="true"></i>
                                                </button>
                                            </span> <span class="input-group-btn">
                                                <button [disabled]="partner.teamMemberGroupId==0" class="btn btn-info"
                                                    type="button" tabindex="-1" (click)="getTeamMembers(partner,i)">
                                                    <i title="Select Team Members" data-toggle="tooltip"
                                                        data-placement="top" class="fa"
                                                        [ngClass]="{'fa-plus': !partner.expand, 'fa-minus': partner.expand}"
                                                        aria-hidden="true"></i>
                                                </button>
                                            </span>
                                        </div> <span class="active-status"
                                            *ngIf="partner?.selectedTeamMemberIds?.length>0"> <strong>Selected
                                                Team Members: {{partner?.selectedTeamMemberIds?.length}}</strong> <a
                                                *ngIf="newPartnerUser?.length>1" (click)="applyForAll(partner)">
                                                <strong><i class="fa fa-check"></i>Apply For All</strong>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <!---XNFR-131-->
                                <tr *ngIf="partner?.expand">
                                    <td colspan="5" class="bgc-lg"><app-partner-team-member-group-team-members
                                            [currentPartner]="currentPartner"
                                            (partnerTeamMemberGroupTeamMemberEventEmitter)="receiveTeamMemberIdsEntity($event)"></app-partner-team-member-group-team-members>
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
                <!-- <br> -->
            </div>
            <ngx-loading [show]="processingPartnersLoader || previewLoader"
                [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
            <div class="modal-footer">
                <button type="submit" class="button bgcolor-unset" (click)="validatePartners()" translate><span
                        class="btn Btn-Green transition txt_pd-top3">Continue</span></button>
                <button type="submit" class="btn Btn-Gray" (click)="closeAssignContactAndMdfAmountPopup()"
                    translate>Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Group Preview Popup  (XNFR-85)-->
<app-team-member-group-preview-popup *ngIf="showModulesPopup" [teamMemberGroupId]="teamMemberGroupId"
    (previewGroupPopupEventEmitter)="hideModulesPreviewPopUp()"></app-team-member-group-preview-popup>
<!-- End of  Group Preview Popup -->
<app-confirm-sweet-alert-util *ngIf="showSweetAlert" [parameterDto]="sweetAlertParameterDto"
    (notifyComponent)="receiveEvent($event)"></app-confirm-sweet-alert-util>

<!---XNFR-278-->
<ng-container *ngIf="mergeOptionClicked">
    <app-copy-group-users-modal-popup [userListId]="partnerListId" [selectedUserIds]="selectedUserIdsForMerging"
        (copyGroupUsersModalPopupEventEmitter)="copyGroupUsersModalPopupEventReceiver($event)"></app-copy-group-users-modal-popup>
</ng-container>

<div *ngIf="contactService.isUnsubscribeContactModalPopup">
    <app-unsubscribe-contact-modal [selectedUser]="selectedUser" (notifyParent)="unsubscribeUserResult($event)">
    </app-unsubscribe-contact-modal>
</div>

<div *ngIf="contactService.isresubscribeContactModalPopup">
    <app-resubscribe-contact-modal [selectedUser]="selectedUser" (notifyParent)="resubscribeUserResult($event)">
    </app-resubscribe-contact-modal>
</div>
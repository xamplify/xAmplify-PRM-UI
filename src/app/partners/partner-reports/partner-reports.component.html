<style>
  .hideDiv {
    display: none;
  }
</style>

<div *ngIf="!showDetailedAnalytics" class="page-content" [class.ml0]="authenticationService.isSuperAdmin()">
  <!-- --------------------Breadcrumb-------- -->
  <div class="page-bar filteralign mb-height_auto" style="height:48px;">
    <ul class="page-breadcrumb">
      <li *ngIf="!authenticationService.isSuperAdmin()">
        <i class="fa fa-home" aria-hidden="true"></i>
        <a [routerLink]="referenseService.homeRouter">Home</a>
        <i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li *ngIf="authenticationService.isSuperAdmin()">
        <i class="fa fa-home" aria-hidden="true"></i>
        <a [routerLink]="['/home/dashboard/admin-report']">Admin
          Report</a><i class="fa fa-angle-right" aria-hidden="true"></i>
      </li>
      <li>
        <a>{{authenticationService?.partnerModule?.customName}} Analytics</a>
      </li>
    </ul>
    <app-team-member-filter-option [filterIcon]="true"
      (teamMemberFilterModalPopUpOptionEventEmitter)="getSelectedIndexFromPopup($event)"></app-team-member-filter-option>
    <div *ngIf="authenticationService?.module?.showWorkFlow" class="float-right">
      <a [routerLink]="['/home/partners/partner-workflow']">
        <button type="button" class="btn Btn-Green" style="margin-right: 3px;">
          Create Workflow<i class="fa fa-sitemap" aria-hidden="true" style="margin-left: 5px"></i>
        </button>
      </a>
    </div>
  </div>

  <!-- --------------------Counts-------- -->
  <div class="row">
    <div class="col-xs-12 col-md-12 col-sm-12">
      <div>
        <div>
          <div class="page-bar" style="padding-right: 12px;padding-bottom: 10px;">
            <app-box-loader [countLoader]=5 *ngIf="activePartnersLoader"></app-box-loader>
            <!---Active Partners Count-->
            <div *ngIf="!activePartnersLoader" class="col-xs-6 col-sm-2 col-lg-2  pr0 col-sm-5ths pd-l"
              (click)="activePartnersCount>0 ? goToActivePartnersDiv() : ''">
              <a [className]="activePartnersCount > 0 ? 'dashboard-stat dashboard-stat-lighter yellow-gold' : 'dashboard-stat dashboard-stat-lighter yellow-gold disable-tile-pj'"
                [class.greay]="0!=selectedTabIndex">
                <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                    [ngStyle]="{'color': 0===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 0"
                    aria-hidden="true"></i>
                </div>
                <div class="details">
                  <div class="number">{{activePartnersCount}}</div>
                  <div class="desc" data-toggle="tooltip" data-placement="top"
                    title="Active {{authenticationService?.partnerModule?.customName}}" style="font-size: 13px">Active
                    {{authenticationService?.partnerModule?.customName | slice:0:10}}
                    <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                  </div>
                </div>
                <span id="permhref" class="morePadding">
                  <a [className]="activePartnersCount > 0 ? 'more' : 'more disable-tile-pj'" 
                     (click)="activePartnersCount > 0 ? goToActivePartnersDiv() : ''">Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true" 
                       title="{{authenticationService?.module.isPrm ? properties?.activePartnerTileDescriptionForPrm : properties?.activePartnerTileDescription}}"></i>
                  </a>
                </span>
              </a>
            </div>

            <!--InActive Partner Campaigns Count-->
            <app-box-loader [countLoader]=5 *ngIf="inActivePartnersCountLoader"></app-box-loader>
            <div *ngIf="!inActivePartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2  pr0 col-sm-5ths CardCustomeWidth"
              (click)="inActivePartnersCount>0 ? goToInActivePartnersDiv() : ''">
              <a [className]="inActivePartnersCount>0 ? 'dashboard-stat dashboard-stat-lighter blue-soft' : 'dashboard-stat dashboard-stat-lighter blue-soft disable-tile-pj'"
                [class.greay]="1!=selectedTabIndex">
                <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                    [ngStyle]="{'color': 1===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 1"
                    aria-hidden="true"></i>
                </div>
                <div class="details">
                  <div class="number">{{inActivePartnersCount}}</div>
                  <div class="desc" data-toggle="tooltip" data-placement="top"
                    title="Dormant {{authenticationService?.partnerModule?.customName}}" style="font-size: 13px">
                    Dormant
                    {{authenticationService?.partnerModule?.customName | slice:0:10}}
                    <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                  </div>
                </div>
                <span id="permhref" class="morePadding">
                  <a [className]="inActivePartnersCount>0 ? 'more' : 'more disable-tile-pj'"
                    (click)="inActivePartnersCount>0 ? goToInActivePartnersDiv() : ''"> Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true"
                      title="{{authenticationService?.module.isPrm ? properties?.dormantPartnertileDescriptionForPrm : properties?.dormantpartnertileDescription}}"></i>
                  </a>
                </span>
              </a>
            </div>

            <!--companyProfileIncomplete Count-->
            <app-box-loader [countLoader]=5 *ngIf="PendingSignupAndCompanyProfilePartnersLoader"></app-box-loader>
            <div *ngIf="!PendingSignupAndCompanyProfilePartnersLoader"
              class="col-xs-6 col-sm-2 col-lg-2   pr0 col-sm-5ths CardCustomeWidth">
              <a [className]="companyProfileIncompletePartnersCount > 0 ? 'dashboard-stat dashboard-stat-lighter green-soft' : 'dashboard-stat dashboard-stat-lighter green-soft disable-tile-pj'"
                [class.greay]="6!=selectedTabIndex"
                (click)="companyProfileIncompletePartnersCount>0 ?  goToIncompleteCompanyProfilePartnersDiv() : ''">
                <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                    [ngStyle]="{'color': 6===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 6"
                    aria-hidden="true"></i>
                </div>
                <div class="details">
                  <div class="number">{{companyProfileIncompletePartnersCount}}</div>
                  <div class="desc" style="font-size:13px" data-toggle="tooltip" data-placement="top"
                    title=" Company Profile Incomplete">
                    Company Profile Incomplete
                  </div>
                </div>
                <span id="permhref" class="morePadding">
                  <a [className]="companyProfileIncompletePartnersCount > 0 ? 'more' : 'more disable-tile-pj' "
                    (click)="companyProfileIncompletePartnersCount > 0 ?  goToIncompletecompanyProfilePartnersDiv() : ''">
                    Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true"
                      title="{{properties?.companyProfileIncompletepartnertileDescription}}"></i>
                  </a>
                </span>
              </a>
            </div>
                    <!--PendingSignup Count-->
                    <app-box-loader [countLoader]=5 *ngIf="PendingSignupAndCompanyProfilePartnersLoader"></app-box-loader>
                    <div *ngIf="!PendingSignupAndCompanyProfilePartnersLoader"
                      class="col-xs-6 col-sm-2 col-lg-2 pr0 col-sm-5ths CardCustomeWidth"
                      (click)="PendingSignupPartnersCount>0 ? goToSignupPendingPartnersDiv() : ''">
                      <a [className]="PendingSignupPartnersCount>0 ? 'dashboard-stat dashboard-stat-lighter red-soft' : 'dashboard-stat dashboard-stat-lighter red-soft disable-tile-pj'"
                        [class.greay]="7!=selectedTabIndex">
                        <div class="visual">
                          <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                            [ngStyle]="{'color': 7===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 7"
                            aria-hidden="true"></i>
                        </div>
                        <div class="details">
                          <div class="number">{{PendingSignupPartnersCount}}</div>
                          <div class="desc" data-toggle="tooltip" data-placement="top"
                            title="Pending Signup" style="font-size: 13px">Pending Signup
                          </div>
                        </div>
                        <span id="permhref" class="morePadding">
                          <a [className]="PendingSignupPartnersCount>0 ? 'more' : 'more disable-tile-pj'"
                            (click)="PendingSignupPartnersCount>0 ?  goToSignupPendingPartnersDiv() : ''">
                            Detailed view
                            <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                            <i class="fa fa-info-circle" aria-hidden="true" title="{{properties?.signupPartnertileDescription}}"></i>
                          </a>
                        </span>
                      </a>
                    </div>

                    <!--Through Partner Campaigns Count-->
                    <app-box-loader [countLoader]=5
                      *ngIf="throughPartnerCampaignsCountLoader && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-box-loader>
                    <div
                      *ngIf="!throughPartnerCampaignsCountLoader && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"
                      class="col-xs-6 col-sm-2 col-lg-2   pr0 col-sm-5ths CardCustomeWidth">
                      <a [className]="throughPartnerCampaignsCount > 0 ? 'dashboard-stat dashboard-stat-lighter green-soft' : 'dashboard-stat dashboard-stat-lighter green-soft disable-tile-pj'"
                        [class.greay]="3!=selectedTabIndex" (click)="throughPartnerCampaignsCount>0 ? goToThroughPartnersDiv() : ''">
                        <div class="visual">
                          <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                            [ngStyle]="{'color': 3===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 3"
                            aria-hidden="true"></i>
                        </div>
                        <div class="details">
                          <div class="number">{{throughPartnerCampaignsCount}}</div>
                          <div class="desc" style="font-size:13px" data-toggle="tooltip" data-placement="top"
                            title="{{throughPartnerCampaignsTabName}}">
                            {{throughPartnerCampaignsTabName | slice:0:20}}
                            <span *ngIf="throughPartnerCampaignsTabName?.length>20">...</span>
                          </div>
                        </div>
                        <span id="permhref" class="morePadding">
                          <a [className]="throughPartnerCampaignsCount > 0 ? 'more' : 'more disable-tile-pj' "
                            (click)="throughPartnerCampaignsCount>0 ? goToThroughPartnersDiv() : ''"> Detailed view
                            <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                            <i class="fa fa-info-circle" aria-hidden="true" title="Total Through Partner Campaigns Launched by Vendor"></i></a>
                        </span>
                      </a>
                    </div>

            <!--Redistributed Campaigns Count-->
            <app-box-loader [countLoader]=5
              *ngIf="redistributedCampaignsCountLoader && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-box-loader>
            <div
              *ngIf="!redistributedCampaignsCountLoader && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"
              class="col-xs-6 col-sm-2 col-lg-2   pr0 col-sm-5ths CardCustomeWidth">
              <a [className]="redistributedCampaignsCount > 0 ? 'dashboard-stat dashboard-stat-lighter purple-soft' : 'dashboard-stat dashboard-stat-lighter purple-soft disable-tile-pj'"
                [class.greay]="2!=selectedTabIndex"
                (click)="redistributedCampaignsCount>0 ? goToReDistributedPartnersDiv() : ''">
                <div class="visual">
                  <i *ngIf="selectedTabIndex == 2" class="fa fa-check-circle fontCustom"
                    style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                    [ngStyle]="{'color': 2===selectedTabIndex ? '#white' : '#ccc' }" aria-hidden="true">
                  </i>
                </div>
                <div class="details">
                  <div class="number"><span
                      *ngIf="redistributedCampaignsCount">{{redistributedCampaignsCount}}</span><span
                      *ngIf="!redistributedCampaignsCount">0</span></div>
                  <div class="desc mlabelWidth" data-toggle="tooltip" data-placement="top"
                    title="Redistributed Campaigns" style="font-size: 13px">Redistributed Campaigns</div>
                </div>
                <span id="permhref" class="morePadding">
                  <a [className]="redistributedCampaignsCount > 0 ? 'more' : 'more disable-tile-pj'"
                    (click)="redistributedCampaignsCount>0 ? goToReDistributedPartnersDiv() : ''"> Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true" title="Total Campaigns Redistributed by All Partner Companies"></i>
                    </a>
                </span>
              </a>
            </div>

            <!--Active Partner Campaigns Count-->
            <app-box-loader [countLoader]=5 *ngIf="approvePartnersCountLoader"></app-box-loader>
            <div *ngIf="!approvePartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2 pr0 col-sm-5ths CardCustomeWidth"
              (click)="approvePartnersCount>0 ? goToApprovePartnersDiv() : ''">
              <a [className]="approvePartnersCount>0 ? 'dashboard-stat dashboard-stat-lighter red-soft' : 'dashboard-stat dashboard-stat-lighter red-soft disable-tile-pj'"
                [class.greay]="5!=selectedTabIndex">
                <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                    [ngStyle]="{'color': 5===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 5"
                    aria-hidden="true"></i>
                </div>
                <div class="details">
                  <div class="number">{{approvePartnersCount}}</div>
                  <div class="desc" data-toggle="tooltip" data-placement="top"
                    title="Approve {{authenticationService?.partnerModule?.customName}}" style="font-size: 13px">Approve
                    {{authenticationService?.partnerModule?.customName | slice:0:10}}
                    <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                  </div>
                </div>
                <span id="permhref" class="morePadding">
                  <a [className]="approvePartnersCount>0 ? 'more' : 'more disable-tile-pj'"
                    (click)="approvePartnersCount>0 ? goToApprovePartnersDiv() : ''"> Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true" title="{{properties?.approvePartnerDescription}}"></i>
                  </a>
                </span>
              </a>
            </div>
             <!--TotalPartner Count-->
             <app-box-loader [countLoader]=5 *ngIf="totalPartnersCountLoader"></app-box-loader>
             <div *ngIf="!totalPartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2 pr0 col-sm-5ths CardCustomeWidth"
             (click)="totalPartnersCount>0 ? goToAllPartnersDiv() : '' ">
             <a [className]="totalPartnersCount>0 ? 'dashboard-stat dashboard-stat-lighter blue-soft greay' :'dashboard-stat dashboard-stat-lighter red-soft disable-tile-pj'"
                [class.greay]="8!=selectedTabIndex">
                 <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                  [ngStyle]="{'color': 8===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 8"
                  aria-hidden="true"></i>
                 </div>
                 <div class="details">
                   <div class="number">{{totalPartnersCount}}</div>
                   <div class="desc" data-toggle="tooltip" data-placement="top"
                     title="All {{authenticationService?.partnerModule?.customName}}s" style="font-size: 13px">
                     All {{authenticationService?.partnerModule?.customName | slice:0:10}}s
                     <span *ngIf="authenticationService?.partnerModule?.customName?.length>10">...</span>
                   </div>
                 </div>
                 <span id="permhref" class="morePadding">
                  <a [className]="totalPartnersCount>0 ? 'more' : 'more disable-tile-pj'"
                    (click)="totalPartnersCount>0 ? goToAllPartnersDiv() : ''"> Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true" title="{{properties?.totalPartnersDescription}}"></i>
                  </a>
                </span>
               </a>
              </div>

             <!--Deactive partner journey-->
             <app-box-loader [countLoader]=5 *ngIf="totalDeactivatePartnersCountLoader"></app-box-loader>
             <div *ngIf="!totalDeactivatePartnersCountLoader" class="col-xs-6 col-sm-2 col-lg-2 pr0 col-sm-5ths CardCustomeWidth"
             (click)="totalDeactivatePartnersCount>0 ? goToDeactivatePartnersDiv() : '' ">
             <a [className]="totalDeactivatePartnersCount>0 ? 'dashboard-stat dashboard-stat-lighter purple-soft' :'dashboard-stat dashboard-stat-lighter red-soft disable-tile-pj'"
                [class.greay]="9!=selectedTabIndex">
                 <div class="visual">
                  <i class="fa fa-check-circle fontCustom" style="margin-left: 0px;font-size: 40px;line-height: 46px;opacity: 1"
                  [ngStyle]="{'color': 9===selectedTabIndex ? '#white' : '#ccc' }" *ngIf="selectedTabIndex == 9"
                  aria-hidden="true"></i>
                 </div>
                 <div class="details">
                   <div class="number">{{totalDeactivatePartnersCount}}</div>
                   <div class="desc" data-toggle="tooltip" data-placement="top"
                     title="Deactivated {{authenticationService?.partnerModule?.customName}}s" style="font-size: 13px">
                     Deactivated {{authenticationService?.partnerModule?.customName}}s
                   </div>
                 </div>
                 <span id="permhref" class="morePadding">
                  <a [className]="totalDeactivatePartnersCount>0 ? 'more' : 'more disable-tile-pj'"
                    (click)="totalDeactivatePartnersCount>0 ? goToDeactivatePartnersDiv() : ''"> Detailed view
                    <i class="m-icon-swapright m-icon-white detailedarrow" aria-hidden="true"></i>
                    <i class="fa fa-info-circle" aria-hidden="true" title="{{properties?.totalDeactivatePartnersDescription}}"></i>
                  </a>
                </span>
               </a>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <app-modal-popup-loader *ngIf="loadAllCharts"></app-modal-popup-loader>
  <div class="row" style="padding-right: 12px;padding-bottom: 10px;">
    <ng-container *ngIf="reloadWithFilter && !loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9 )">
      <app-active-partners-table *ngIf="isActivePartnerDiv" [applyFilter]="applyFilter" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
        [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [fromDateFilter]="partnerfromDateFilter" [fromActivePartnersDiv]="isActivePartnerDiv"
        [toDateFilter]="partnertoDateFilter" (notifySelectedPartnerCompanyIds)="getSelectedPartnerCompanyIds($event)"
        (notifySelectedDateFilters)="getDateFilterOptions($event)"></app-active-partners-table>
      <app-deactivated-partners-table *ngIf="isdeactivatePartnersDiv" [applyFilter]="applyFilter" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
        [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [fromDateFilter]="partnerfromDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv"
        [toDateFilter]="partnertoDateFilter" (notifySelectedPartnerCompanyIds)="getSelectedPartnerCompanyIds($event)"
        (notifySelectedDateFilters)="getDateFilterOptions($event)"></app-deactivated-partners-table>
    </ng-container>
  </div>
  <!--******************All Counts - Tiles*******************-->
  <app-partner-journey-count-tiles [partnerCompanyId]="'0'" [applyFilter]="applyFilter" [isDetailedAnalytics]="false"
    [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [fromDateFilter]="partnerfromDateFilter"
    [toDateFilter]="partnertoDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
    *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)"></app-partner-journey-count-tiles>

  <!-- --------------------Active Partners Analytics-------- -->
  <div 
    *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember && (isActivePartnerDiv || isdeactivatePartnersDiv)"
    style="padding-right: 12px;">
    <div class="row">
      <div class="">
        <!---XNFR-220----->
        <!-- <app-view-partners></app-view-partners> -->
        <!---XNFR-220----->


        <div class="col-xs-12 col-sm-5" style="padding-right: 5px;">
          <!-- Word Cloud Map-->
          <div class="portlet light" style="margin-bottom: 20px;">
            <div class="portlet-title pjCardTitlebg">
              <div class="caption">
                <i class="icon-bar-chart font-green-sharp hide" aria-hidden="true"></i>
                <span class="caption-subject font-red-sunglo uppercase">
                  {{authenticationService?.partnerModule?.customName}} by Country
                </span>
              </div>
              <div class="panel-title pull-right">
              </div>
            </div>
            <div class="portlet-body text-center">
              <app-modal-popup-loader *ngIf="worldMapLoader"></app-modal-popup-loader>
              <app-worldmap *ngIf="worldMapdataReport && !worldMapLoader"
                [partnerModuleName]="authenticationService?.partnerModule?.customName"
                [worldMapData]='worldMapdataReport' (notifyParent)="clickWorldMapReports($event)"></app-worldmap>
            </div>
          </div>
          <!---Bar Chart-->

          <div class="portlet light mAlignGraph" style="margin-bottom: 15px;">
            <div class="portlet-body" style="padding-top: 0;">
              <div id="campaign-type-chart" class="campaign-type mGraphwidth" style="margin: -5px;"></div>
            </div>
          </div>
          <!-- END PORTLET-->
        </div>
      </div>
      <app-campaigns-launched-by-partners (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
        [applyFilter]="applyFilter" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)"></app-campaigns-launched-by-partners>
    </div>
  </div>

  <!-- --------------------Inactive Partners Analytics-------- -->
  <div *ngIf="isInactivePartnersDiv">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-lg-12 p5">
        <div class="portlet light" style="padding: 10px !important;">
          <div class="portlet-title">
            <div class="caption margin_top7">
              <span class="caption-subject font-red-sunglo uppercase"> Dormant
                {{authenticationService?.partnerModule?.customName}}</span>
            </div>
            <div class="inputs mb5" style="float: right">
              <div class="portlet-input d-flex">
                 <button class="btn btn-xs l-g-view pos_mar_rgt4" data-placement="bottom" (click)="downloadInActivePartnersReport()">
                <i aria-hidden=" true" class="fas fa-file-export p10" data-toggle="tooltip" title=""
                  data-original-title="Export to Excel"></i>
              </button>
                <button class=" btn btn-primary mr10" [disabled]="!isSendReminderEnabled" (click)="sendReminder()"
                   >Send Reminder</button>
                <div class="input-icon right mTop">
                  <input type="text" style="height: 34px;" class="form-control" [(ngModel)]="inActivePartnersSearchKey"
                    [ngModelOptions]="{standalone: true}" placeholder="Search"
                    (keypress)="inActivePartnersSearch($event.keyCode)">
                  <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="inActivePartnersSearchKey"
                    (click)="inActivePartnersSearchKey='';searchInActivePartnerAnalytics()"></button>
                  <button type="submit" class="search-box-item-click" (click)="searchInActivePartnerAnalytics()">
                    <i class="fa fa-search" aria-hidden="true"></i></button>
                </div>
              </div>
            </div>
          </div>
          <div class="alert alert-info">List Of
            {{authenticationService?.module.isPrm ? properties?.dormantPartnertileDescriptionForPrm
            :properties?.dormantpartnertileDescription}}
          </div>
          <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
          <app-response-message style="position: relative; bottom: 9px;" [customResponse]="customResponse"
            *ngIf="customResponse.isVisible"></app-response-message>
          <div class="portlet-body" *ngIf="!httpRequestLoader.isLoading">
            <div class="table-responsive">
              <table class="table tgrid" *ngIf="inActivePartnersPagination.pagedItems.length != 0" aria-describedby="">
                <thead>
                  <tr>
                    <th class='text-center' scope="col"><input type="checkbox" class="checkBox_shadow" name="all"
                        [(ngModel)]="isHeaderCheckBoxChecked" (change)="toggleSelectAll($event)" />
                    </th>
                    <th class="center-aligned" style="width:50%" scope="col">
                      {{authenticationService?.partnerModule?.customName}}</th>
                    <th class="hidden-xs text-center" scope="col">LAST REMINDER SENT</th>
                    <th class="mAlign text-center" scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of inActivePartnersPagination.pagedItems" style="cursor: pointer;">
                    <td class='text-center' scope="col"><input type="checkbox" class="checkBox_shadow" name="all"
                        [(ngModel)]="item.isSelected" (change)="updateSelectionState()">
                    </td>
                    <td>
                      <app-user-info [userInfo]="item" [isPartnerEntityInfo]="true" [isPartnerInfo]="true">
                      </app-user-info>
                    </td>
                    <td class="hidden-xs text-center">
                      <app-timestamp [isOnlyDate]="false" [dateAndTime]="item.time"> </app-timestamp>
                      <h4 *ngIf="!item.time"><strong>-</strong></h4>
                    </td>
                    <td class="mAlign text-center" (click)="openSendTestEmailModalPopup(item)">
                      <div class="actions-block float-none">
                        <a class="custom-icon" data-toggle="tooltip" data-placement="left" title="Send reminder email">
                          <i class="fa fa-envelope IconCustomization" aria-hidden="true"></i>
                          <div class="clickicons"></div>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <app-pagination class="pg8" [pagination]="inActivePartnersPagination" [type]="'userInteraction'"
            (notifyParentDropDown)="inActivePartnerDropDownList($event)"
            (notifyParent)="setInActivePartnesPage($event)"></app-pagination>
        </div>
      </div>
    </div>
  </div>

  <!-- --------------------Approve Partners Analytics-------- -->
  <div *ngIf="isApprovePartnersDiv">
    <div class="row">
      <div class="col-xs-12 p5">
        <div class="portlet light">
          <div class="portlet-title">
            <div class="caption">
              <span class="caption-subject font-red-sunglo uppercase">Approve
                {{authenticationService?.partnerModule?.customName}}</span>
            </div>
          </div>
          <div class="alert alert-info">
            <span>List Of {{properties?.approvePartnerDescription}}</span>
          </div>
          <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
          <app-response-message style="position: relative; bottom: 9px;" [customResponse]="customResponse"
            *ngIf="customResponse.isVisible"></app-response-message>
          <div class="portlet-body" *ngIf="!httpRequestLoader.isLoading">
            <div class="table-responsive">
              <table class="table tgrid" *ngIf="approvePartnersPagination.pagedItems.length != 0" style="overflow: inherit;">
                <thead>
                  <tr>
                    <th class="center-aligned">partners</th>
                    <th style="text-align: center;">status</th>
                    <th style="text-align: center;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of approvePartnersPagination.pagedItems" style="cursor: pointer;">
                    <td>
                      <app-user-info [userInfo]="item" [isPartnerEntityInfo]="true" [isPartnerInfo]="true">
                      </app-user-info>
                    </td>
                    <td style="text-align: center;text-transform: capitalize;">
                      {{item.invitationStatus}}
                    </td>
                    <td style="text-align: center;">
                      <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" [disabled]="item.invitationStatus === 'approved'"
                          style="text-transform: capitalize" type="button"
                          data-toggle="dropdown">{{item.invitationStatus}}
                          <span class="caret"></span></button>
                        <ul class="dropdown-menu" style="left: 68px;" *ngIf="item.invitationStatus != 'approved'">
                          <li *ngIf="item.invitationStatus != 'approved'"><a
                              (click)="requestText='Approve';approveAndDeclineRequest(item.partnerId, item.firstName,authenticationService.partnerModule.customName)">Approve</a>
                          </li>
                          <li *ngIf="item.invitationStatus != 'declined'"><a
                              (click)="requestText='Decline';approveAndDeclineRequest(item.partnerId, item.firstName,authenticationService.partnerModule.customName)">Decline</a>
                          </li>
                        </ul>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <app-pagination class="pg8" [pagination]="approvePartnersPagination" [type]="'userInteraction'"
            (notifyParentDropDown)="approvePartnerDropDownList($event)" (notifyParent)="setApprovePartnesPage($event)">
          </app-pagination>
        </div>
      </div>
    </div>
  </div>
  <!-- ------****************Redistribute Partner Analytics************************** -->
  <div *ngIf="isRedistributePartnersDiv">
    <app-modal-popup-loader *ngIf="!reloadRedistributeCampaigns"></app-modal-popup-loader>
    <app-redistributed-campaigns *ngIf="selectedTabIndex==2 && reloadRedistributeCampaigns" [selectedIndex]="2"
      [applyFilter]="applyFilter"></app-redistributed-campaigns>
  </div>

  <!-- ------****************Through Partner Analytics************************** -->
  <div *ngIf="isThroughPartnerDiv">
    <div class="row">
      <div class="col-md-12">
        <!--tabbable tabbable-custom tabbable-noborder-->
        <div class="page-bar p10" id="header">
          <div class="tab-content">
            <app-grid-loader *ngIf="httpRequestLoader.isLoading && !isListView"></app-grid-loader>
            <app-list-loader *ngIf="httpRequestLoader.isLoading && isListView"></app-list-loader>
            <div class="" [hidden]="httpRequestLoader.isLoading">
              <ul class="mix-filter col-xs-12 col-sm-12 col-md-5 p0 m0 mDisplay pd_btm_8" style="display: inline-flex;">
                <li class="filter" (click)="filterCampaigns('NONE',0)"
                  [class.campaign-type-selected]="0 == sortOption.selectedCampaignTypeIndex">All</li>
                <li class="filter" (click)="filterCampaigns('REGULAR',1)"
                  [class.campaign-type-selected]="1 == sortOption.selectedCampaignTypeIndex">Email</li>
                <li class="filter" (click)="filterCampaigns('VIDEO',2)"
                  [class.campaign-type-selected]="2 == sortOption.selectedCampaignTypeIndex">Video</li>
                <li class="filter" (click)="filterCampaigns('SOCIAL',3)"
                  [class.campaign-type-selected]="3 == sortOption.selectedCampaignTypeIndex">Social</li>
                <li class="filter" *ngIf="referenseService.eventCampaign || referenseService.eventCampaignTabAccess"
                  (click)="filterCampaigns('EVENT',4)"
                  [class.campaign-type-selected]="4 == sortOption.selectedCampaignTypeIndex">Event</li>
                <li class="filter" (click)="filterCampaigns('LANDINGPAGE',5)"
                  [class.campaign-type-selected]="5 == sortOption.selectedCampaignTypeIndex" *ngIf="landingPage">Page
                </li>
                <li class="filter" (click)="filterCampaigns('SURVEY',6)"
                  [class.campaign-type-selected]="6 == sortOption.selectedCampaignTypeIndex" *ngIf="survey">Survey</li>
                <li class="filter" style="display: none;">Own Template</li>
              </ul>
              <div class="page-toolbar col-xs-12 col-sm-12 col-md-7 p0 mb_6">
                <div class="btn-group pull-right">
                  <ng-container class='m10 hidden-xs'>
                    <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" data-placement="bottom"
                      title="List View" [class.disabled]="isListView" (click)="isListView = true"><i
                        class="fa fa-th-list p10" aria-hidden="true"></i></span>
                    <span class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip"
                      data-placement="bottom" title="Grid View" [class.disabled]="!isListView"
                      (click)="isListView = false"><i class="fa fa-th-large p10" aria-hidden="true"></i></span>
                  </ng-container>
                  <div class="inputs" style="float: right;display: inline-flex;">
                    <div style="float: left;">
                      <select class="form-control" [(ngModel)]="sortOption.selectedSortedOption"
                        (ngModelChange)="getSortedResultForPartnerCampaigns($event,'through-partner')"
                        style="position: relative;right: -3px;">
                        <option *ngFor="let option of sortOption.sortByDropDown" [ngValue]="option">{{option.name}}
                        </option>
                      </select>
                    </div>
                    <div class="portlet-input input-inline input-medium ml10" style="display: inline-flex;">
                      <div class="input-icon right mr5" style="position: relative;">
                        <input type="text" class="form-control" [(ngModel)]="sortOption.searchKey"
                          [ngModelOptions]="{standalone: true}" placeholder="Search for a Campaign"
                          (keypress)="searchPartnerCampaignKeyPress($event.keyCode,'through-partner')">
                        <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="sortOption.searchKey"
                          (click)="sortOption.searchKey='';searchPartnerCampaigns('through-partner')"></button>
                        <button type="submit" class="search-box-item-click"
                          (click)="searchPartnerCampaigns('through-partner')">
                          <i class="fa fa-search" aria-hidden="true"></i></button>
                      </div>
                      <span data-placement="bottom" class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip"
                        title="Filter" (click)="toggleFilterOption()">
                        <i _ngcontent-c17="" aria-hidden="true" class="fa fa-filter p10"></i>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- -------------------- Apply Filters Box-------------------- -->
            <div class="row"
              *ngIf="showFilterOption && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
              <div class="col-xs-12 col-sm-12">
                <div class="portlet light m10 m0 mt10">
                  <div class="portlet-title">
                    <div class="caption" translate>Apply Filters</div>
                    <button type="button" class="close-circle pull-right filter_close mb10" (click)="closeFilterOption()">
                      <i class="fa fa-times mt0" aria-hidden="true"></i>
                    </button>
                  </div>
                  <div class="portlet box">
                    <app-response-message class="pg8" [customResponse]="filterResponse"
                      *ngIf="filterResponse.isVisible">
                    </app-response-message>
                    <form role="form" class="form-horizontal form-bordered form-label-stripped">
                      <div class="form-group">
                        <div class="form-inline col-sm-12 mt10">
                          <div class="form-group col-sm-4">
                            <label class="control-label mr5">From Date
                              <span class="required">*</span>
                            </label>
                            <app-date-picker [(dataField)]="fromDateFilter" [isFromFilter]='true'>
                            </app-date-picker>
                          </div>
                          <div class="form-group col-sm-4">
                            <label class="control-label mr5">To Date
                              <span class="required">*</span>
                            </label>
                            <app-date-picker [(dataField)]="toDateFilter" [isFromFilter]='true'>
                            </app-date-picker>
                          </div>
                          <div class="form-group col-sm-4">
                            <button type="button" class="btn Btn-Green" [disabled]=""
                              (click)="validateDateFilters()" translate>Filter</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <section class='col-xs-12 p0'
              *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
              <div class="table-responsive">
                <table class='table tgrid table-hover table-sm mt10' *ngIf="isListView" aria-describedby="">
                  <thead>
                    <tr>
                      <th scope="col" class="hidden-xs" colspan="2" style="width: 50%">Campaign</th>
                      <th scope="col" class="visible-xs" colspan="1" style="width: 50%">Campaign</th>
                      <th scope="col" class="hidden-xs">Status</th>
                      <th scope="col" class="hidden-xs">Created On</th>
                      <th scope="col" style="text-align:left">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor='let campaign of throughPartnerCampaignPagination.pagedItems; let i=index'>
                      <td style="width: 10%;" class="hidden-xs">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && campaign.launched "
                          src="assets/images/video-email.svg" style="height: 50px;"
                          alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('VIDEO') > -1 && !campaign.launched "
                          src="assets/images/video-email.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">

                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && campaign.launched"
                          src="assets/images/regular-email.svg" style="height: 50px;"
                          alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('REGULAR') > -1 && !campaign.launched"
                          src="assets/images/regular-email.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">

                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && campaign.launched"
                          src="assets/images/social-campaign.svg" style="height: 50px;"
                          alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1 && !campaign.launched"
                          src="assets/images/social-campaign.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">

                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('EVENT') > -1 && campaign.launched"
                          src="assets/images/event-campaign.svg" style="height: 50px;"
                          alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('EVENT') > -1 && !campaign.launched"
                          src="assets/images/event-campaign.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">

                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1 && campaign.launched"
                          src="assets/images/landing-page.svg" style="height: 50px;"
                          alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1 && !campaign.launched"
                          src="assets/images/landing-page.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">

                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('SURVEY') > -1 && campaign.launched"
                          src="assets/images/survey.svg" style="height: 50px;" alt="{{campaign.campaignType}} Campaign">
                        <img class="imageClass image-padding"
                          *ngIf="campaign.campaignType.indexOf('SURVEY') > -1 && !campaign.launched"
                          src="assets/images/survey.svg"
                          style="height: 50px;-webkit-filter: grayscale(100%);filter: grayscale(100%);"
                          alt="{{campaign.campaignType}} Campaign">
                      </td>
                      <td>
                        <h4 class="ellipsis mt5 mb4 f-w-600" style="font-size: 14px;padding-left: 0px !important;" title="{{campaign.campaignName}}">
                          <b>Campaign Name:</b> {{campaign.campaignName
                          | slice:0:25}}
                          <span *ngIf="campaign.campaignName?.length>25">...</span>
                        </h4>
                        <h5 class='m0 ellipsis p0'><b>From:</b> {{campaign.companyName | slice:0:15}}
                         <span *ngIf="campaign.companyName?.length>25">...</span>
                        </h5>
                        <h5 class='f-w-300 mt5 ellipsis p0'><b>By:</b> {{campaign.createdBy | slice:0:25}}
                          <span *ngIf="campaign.createdBy?.length>25">...</span>
                        </h5>
                      </td>
                      <td class="center hidden-xs" style="text-align: center">
                        <span align="right">
                          <strong *ngIf="campaign.launched">Launched On</strong>
                          <strong *ngIf="!campaign.launched && campaign.launchedOn?.length > 0">Scheduled For</strong>
                          <strong *ngIf="!campaign.launched && campaign.launchedOn?.length==0">Saved On</strong>
                        </span>
                        <span align="right" title="Upload Date">
                          <strong *ngIf="campaign.scheduleType=='NOW' || campaign.scheduleType=='SCHEDULE'">
                            <app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.displayTime"> </app-timestamp>
                          </strong>
                          <strong *ngIf="campaign.scheduleType=='SAVE'">
                            <app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.displayTime"> </app-timestamp>
                          </strong>
                        </span>
                      </td>
                      <td class="text-center hidden-xs">
                        <app-timestamp [isOnlyDate]="true" [dateAndTime]="campaign.createdDate"> </app-timestamp>
                      </td>
                      <td class="text-center">
                        <a class="custom-icon" data-rel="fancybox-button"
                          (click)="referenseService.goToCampaignAnalytics(campaign)" data-toggle="tooltip"
                          data-placement="top" title="Campaign Based Reports">
                          <i class="circled-number fa fa-line-chart IconCustomization" aria-hidden="true"></i>
                          <div class="clickicons"></div>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <div *ngIf="sortOption.totalRecords <= 0 && isListView" class="alert alert-info col-xs-12 mt5">
              <strong>No campaigns found</strong>
            </div>

            <div class="tab-pane active" *ngIf="!isListView">
              <div class="margin-top-10">
                <div class="row mix-grid p10">
                  <ng-container
                    *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError">
                    <div *ngFor="let campaign of throughPartnerCampaignPagination.pagedItems; let i= index"
                      class="col-xs-12 col-sm-4 col-lg-3 GridviewSidePaddings mt_13">
                      <div class="grid-box">
                        <div class="gridViewImgBg">
                        <img src="https://cdn2.iconfinder.com/data/icons/facebook-ads-1/204/1-48.png" alt="">
                      </div>
                        <h4 class="xamplify-ellipsis GridViewCotent gridViewTextAlignmnent active-campaigns-all-btns-oneinline" title="{{campaign.campaignName}}"> <b>Campaign Name:</b>{{campaign.campaignName | slice:0:25}}
                          <span *ngIf="campaign.campaignName?.length>25">...</span>
                        </h4>
                        <h6 class="GridViewCotent xamplify-ellipsis mt10 mb0" [title]="campaign.createdBy"><b>By:</b> {{campaign.createdBy | slice:0:15}}<span
                            *ngIf="campaign.createdBy?.length>15">...</span></h6>
                        <h6 class="mt0 GridViewCotent xamplify-ellipsis"><b>From:</b> {{campaign.companyName | slice:0:15}}<span
                              *ngIf="campaign.companyName?.length>15">...</span></h6>
                        <h6 class="GridViewCotent">
                          <span>
                            <span *ngIf="campaign.launched"> <b>Launched On:</b></span>
                            <span *ngIf="!campaign.launched && campaign.launchedOn?.length > 0">Scheduled For</span>
                            <span *ngIf="!campaign.launched && campaign.launchedOn?.length==0">Saved On</span>
                          </span>
                          <span title="Upload date">
                            <span *ngIf="campaign.scheduleType=='NOW' || campaign.scheduleType=='SCHEDULE'">
                              <!-- {{campaign.launchedOn}} -->
                              <app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.displayTime"> </app-timestamp>
                            </span>
                            <span *ngIf="campaign.scheduleType=='SAVE'">
                              <app-timestamp [isOnlyDate]="false" [dateAndTime]="campaign.displayTime"> </app-timestamp>
                            </span>
                          </span>
                        </h6>
                        <div class="bookmark-ribbon">
                          <span style="margin: 0px -7px; font-size: 17px; color: white;">
                            <i *ngIf="campaign.campaignType.indexOf('VIDEO') > -1" class="fa fa-video-camera"
                              aria-hidden="true"></i>
                            <i *ngIf="campaign.campaignType.indexOf('REGULAR') > -1" class="fa fa-envelope"
                              aria-hidden="true"></i>
                            <i *ngIf="campaign.campaignType.indexOf('SOCIAL') > -1" class="fa fa-globe"
                              aria-hidden="true"></i>
                            <i *ngIf="campaign.campaignType.indexOf('EVENT') > -1" class="fa fa-calendar-check-o"
                              aria-hidden="true"></i>
                            <i *ngIf="campaign.campaignType.indexOf('LANDINGPAGE') > -1" class="fa fa-wpforms"
                              aria-hidden="true"></i>
                            <i *ngIf="campaign.campaignType.indexOf('SURVEY') > -1" class="fas fa-poll-h"
                              aria-hidden="true"></i>
                          </span>
                        </div>
                        <div class="ribbon tab-ribbon"
                          [class.active]="!campaign.launched && campaign.launchedOn?.length==0">
                          <span *ngIf="campaign.launched">Launched</span>
                          <span *ngIf="!campaign.launched && campaign.launchedOn?.length > 0">Scheduled</span>
                          <span *ngIf="!campaign.launched && campaign.launchedOn?.length==0">Saved</span>
                        </div>
                        <div class="bar gridIconCustomization">
                          <a (click)="referenseService.goToCampaignAnalytics(campaign)" data-toggle="tooltip"
                            data-placement="top" title="Campaign Based Reports" class="Iconhover custom-icon">
                            <i class="fa fa-line-chart" aria-hidden="true"></i>
                            <div class="clickicons"></div>
                          </a>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- End of 24 -->
              <div *ngIf="sortOption.totalRecords <= 0 && !isListView" class="alert alert-info">
                <strong>No campaigns found</strong>
              </div>
            </div>


            <div *ngIf="sortOption.totalRecords > 0 && !httpRequestLoader.isLoading && !httpRequestLoader.isServerError"
              class="bg-card-header">
              <app-pagination [pagination]="throughPartnerCampaignPagination"
                (notifyParent)="setPartnerCampaignsPageByType($event,'through-partner')"
                (notifyParentDropDown)="listThroughPartnerCampaigns($event)">
              </app-pagination>
            </div>
          </div>
          <!-- End Of tab Content -->
        </div>
      </div>
    </div>
  </div>


  <div *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv ">
    <div class="row">
      <div class="col-xs-12 cl-sm-12 col-md-12 col-lg-12">
        <div class="portlet light" style="padding: 10px !important;">
          <div class="portlet-title">
            <div class="caption margin_top7">
              <span class="caption-subject font-red-sunglo uppercase">
                {{ isSingUpPendingDiv ? 'Pending SignUp' : 'Incomplete Company Profile' }}
                {{ isSingUpPendingDiv ? '' : authenticationService?.partnerModule?.customName }} </span>
            </div>
            <div class="inputs mb5" style="float: right">
              <!-- XNFR-835 -->
              <div class="portlet-input d-flex">
                  <!-- XNFR-835 -->
              <button class="btn btn-xs l-g-view pos_mar_rgt4" data-placement="bottom" style=" margin: 0px 0 0 0;"
                (click)="downloadIncompleteCompanyProfilePartnersReport()">
                <i aria-hidden=" true" class="fas fa-file-export p10" data-toggle="tooltip" title=""
                  data-original-title="Export to Excel"></i>
              </button>
                <button *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv" class="btn btn-primary mr10" [disabled]="!isSendReminderEnabled" (click)="sendReminder()"
                >Send Reminder</button>
                <div class="input-icon right mTop" 
                [ngClass]="isIncompleteCompanyProfileDiv || isSingUpPendingDiv ? '' : 'input-icon right mTop'">
                 <input type="text" style="height: 34px;" class="form-control" [(ngModel)]="inActivePartnersSearchKey"
                    [ngModelOptions]="{ standalone: true }" placeholder="Search"
                    (keypress)=" inCompleteCompanyProfileSignupPendingPartnersSearch($event.keyCode)">
                  <button class="glyphicon glyphicon-remove search-box-item-clear" *ngIf="inActivePartnersSearchKey"
                    (click)="inActivePartnersSearchKey=''; searchCompanyProfileIncompleteAndSignupPendingPartnerAnalytics()"></button>
                  <button type="submit" class="search-box-item-click"
                    (click)="searchCompanyProfileIncompleteAndSignupPendingPartnerAnalytics()">
                    <i class="fa fa-search" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="alert alert-info">
            <span *ngIf="isIncompleteCompanyProfileDiv">List Of {{properties?.companyProfileIncompletepartnertileDescription}}</span>
            <span *ngIf="isSingUpPendingDiv">List Of {{properties?.signupPartnertileDescription}}</span>

          </div>
          <app-list-loader *ngIf="httpRequestLoader.isLoading"></app-list-loader>
          <app-response-message style="position: relative; bottom: 9px;" [customResponse]="customResponse"
            *ngIf="customResponse.isVisible"></app-response-message>
          <div class="portlet-body" *ngIf="!httpRequestLoader.isLoading">
            <div class="table-responsive">
              <table class="table tgrid"
                *ngIf="incompleteCompanyProfileAndPendingSingupPagination.pagedItems.length !== 0">
                <thead>
                  <tr>
                    <th *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv" class='text-center' scope="col"><input type="checkbox" class="checkBox_shadow" name="all"
                      [(ngModel)]="isHeaderCheckBoxChecked" (change)="toggleSelectAllForIncompleteProfiles($event)" />
                  </th>
                    <th class="center-aligned">partners</th>
                    <th *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv" style="text-align: center;">LAST REMINDER SENT</th>
                    <th style="text-align: center;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of incompleteCompanyProfileAndPendingSingupPagination.pagedItems"
                    style="cursor: pointer;">
                    <td   *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv"  class='text-center' scope="col"><input type="checkbox" class="checkBox_shadow" name="all"
                      [(ngModel)]="item.isSelected" (change)="updateSelectionStateForIncompleteProfiles()">
                  </td>
                    <td>
                      <app-user-info [userInfo]="item" [isPartnerEntityInfo]="true" [isPartnerInfo]="true">
                      </app-user-info>
                    </td>
                    <td *ngIf="isIncompleteCompanyProfileDiv || isSingUpPendingDiv" class="hidden-xs text-center">
                      <app-timestamp [isOnlyDate]="false" [dateAndTime]="item.sentOn"> </app-timestamp>
                      <h4 *ngIf="!item.sentOn"><strong>-</strong></h4><br>
                      <ng-container *ngIf="item.sentOn && isSingUpPendingDiv">
                        <span class="green-banner LableSpaceings" *ngIf="item.sentOn && item.activationMail">Activation</span>
                        <span class="view-banner LableSpaceings" *ngIf="item.sentOn && !item.activationMail">Registration</span>
                      </ng-container>
                    </td>
                    <td class="mAlign text-center" (click)="openSendTestEmailModalPopup(item)">
                      <div class="actions-block float-none">
                        <a class="custom-icon" data-toggle="tooltip" data-placement="left" title="Send reminder email">
                          <i class="fa fa-envelope IconCustomization" aria-hidden="true"></i>
                          <div class="clickicons"></div>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <app-pagination class="pg8" [pagination]="incompleteCompanyProfileAndPendingSingupPagination"
            [type]="'userInteraction'" (notifyParentDropDown)="CompanyProfileIncompleteAndSignupPendingList($event)"
            (notifyParent)="setCompanyProfileIncompleteAndSignupPendingPartnesPage($event)"></app-pagination>
        </div>
      </div>
    </div>
  </div>


  <!-- XNFR-944 -->
    <!--******************All Partners Donut and List Details******************-->
  <div class="row" *ngIf="totalPartnersDiv">
    <div class="ml15m">
        <app-donut-pie-chart [chartId]="'regionAndNonRegionDonut'" [isDetailedAnalytics]="false" 
        [fromAllPartners]="totalPartnersDiv"
        [applyFilter]="applyFilter"
        (notifySelectSlice)="interactionRegionDonutSliceSelected($event)"
        (notifyUnSelectSlice)="interactionRegionDonutSliceUnSelected($event)"></app-donut-pie-chart>
    </div>
    <div class="ml15m">
      <app-all-partners-list [regionName]="selectedRegionName" [isDetailedAnalytics]="false"
      [applyFilter]="applyFilter" (triggerSendEmailPopup)="openSendTestEmailModalPopup($event)" (partnersSelected)="openSendTestPopupFromAllPartner($event)" [isSentEmailNotification]="isSentEmailNotification" ></app-all-partners-list>
    </div>
  </div>

  <!--******************Interacted & Not Interacted Donut Chart & Details******************-->
  <div class="row rowPaddingCustomization"
    *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.lmsAccess)">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 cardPaddingCustomization">
      <!--******************Interacted & Not Interacted Donut Chart******************-->
      <div class="ml15m">
        <app-donut-pie-chart [chartId]="'interactedAndNotInteractedTracksDonut'" [isDetailedAnalytics]="false"
          [applyFilter]="applyFilter" (notifySelectSlice)="interactionTracksDonutSliceSelected($event)"
          [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [fromDateFilter]="partnerfromDateFilter"
          [toDateFilter]="partnertoDateFilter"
          [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
          (notifyUnSelectSlice)="interactionTracksDonutSliceUnSelected($event)"></app-donut-pie-chart>
      </div>

      <!--******************Interacted & Not Interacted Track Details*******************-->
      <app-interacted-not-interacted-track-details [trackType]="selectedTrackType" [isDetailedAnalytics]="false"
        [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"></app-interacted-not-interacted-track-details>
    </div>
  </div>

  <!--******************Status wise Track Assets Donut Chart & Details******************-->
  <div class="row rowPaddingCustomization"
    *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.lmsAccess)">
    <div class="col-sm-12 col-md-12 col-lg-12 cardPaddingCustomization">
      <!--******************Type wise Track Assets Donut Chart******************-->
      <div class="ml15m">
        <app-donut-pie-chart [trackType]="selectedTrackType" [chartId]="'typewiseTrackContentDonut'"
          [isDetailedAnalytics]="false" [applyFilter]="applyFilter"
          (notifySelectSlice)="typeWiseTrackAssetsDonutSliceSelected($event)"
          [selectedPartnerCompanyIds]="selectedPartnerCompanyIds"
          [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
          [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
          (notifyUnSelectSlice)="typeWiseTrackAssetsDonutSliceUnSelected($event)"></app-donut-pie-chart>
      </div>

      <!--******************Type wise Track Content Details*******************-->
      <app-typewise-track-content-details [trackType]="selectedTrackType" [assetType]="selectedAssetType"
        [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds"
        [applyFilter]="applyFilter" [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"></app-typewise-track-content-details>
    </div>
  </div>

  <!--******************Company wise Track Counts*******************-->
  <div class="row rowPaddingCustomization1" *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <!--******************Company wise Track Counts******************-->
      <app-userwise-track-counts [type]="'TRACK'" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
        [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter" [applyFilter]="applyFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        *ngIf="authenticationService?.lmsAccess"></app-userwise-track-counts>

      <!--******************Company wise Playbook Counts******************-->
      <app-userwise-track-counts [type]="'PLAYBOOK'" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
        [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [applyFilter]="applyFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv" *ngIf="authenticationService.module?.playbookAccess"></app-userwise-track-counts>
    </div>
  </div>
  <div class="row rowPaddingCustomization2">
    <app-play-book-journey-interaction [partnerCompanyId]="'0'" [applyFilter]="applyFilter"
    (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.module?.playbookAccess)"></app-play-book-journey-interaction>
  </div>
  <div class="row rowPaddingCustomization2">
    <app-partner-journey-asset-details [partnerCompanyId]="'0'"
      (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)" [isDetailedAnalytics]="false"
      [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.module?.damAccess)"></app-partner-journey-asset-details>
  </div>
   <div class="row rowPaddingCustomization2">
    <app-asset-journey-asset-details [partnerCompanyId]="'0'" [applyFilter]="applyFilter"
    (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.module?.damAccess)"></app-asset-journey-asset-details>
  </div>
  <!--******************Track Assets Detailed Report*******************-->
  <div class="row rowPaddingCustomization2">
    <app-userwise-track-details [partnerCompanyId]="'0'" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && (authenticationService?.lmsAccess)"></app-userwise-track-details>
  </div>

  <!--******************Track & Playbook Asset Details*******************-->
  <div class="row rowPaddingCustomization1" *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <!--******************Track Asset Details*******************-->
      <app-track-asset-details [partnerCompanyId]="'0'" [type]="'TRACK'" [isDetailedAnalytics]="false"
        [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        *ngIf="authenticationService?.lmsAccess"></app-track-asset-details>

      <!--******************Playbook Asset Details*******************-->
      <app-track-asset-details [partnerCompanyId]="'0'" [type]="'PLAYBOOK'" [isDetailedAnalytics]="false"
        [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        *ngIf="authenticationService.module?.playbookAccess"></app-track-asset-details>
    </div>
  </div>

  <!--******************Team Member Details*******************-->
  <div class="row rowPaddingCustomization2">
    <app-partner-journey-team-member-high-level-analytics-table *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)"
      [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)">
    </app-partner-journey-team-member-high-level-analytics-table>
  </div>
  <!--******************Share Lead Details*******************-->
  <div class="row rowPaddingCustomization2">
    <app-share-lead-details [partnerCompanyId]="'0'" (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)"></app-share-lead-details>
  </div>

  <div class="row rowMarginCustomization">
    <!-- -Campaigns Launched By Partners -->
    <!-- <ng-container *ngIf="reloadWithFilter"> -->
    <app-redistributed-campaigns-and-leads-bar-chart [applyTeamMemberFilter]="applyFilter"
      [chartId]="'allRedistributeCampaignsAndLeadsCountBarChart'" [fromDateFilter]="partnerfromDateFilter"
      [toDateFilter]="partnertoDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService.module?.isCampaign && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-redistributed-campaigns-and-leads-bar-chart>
    <app-redistributed-campaigns-and-leads-bar-chart [applyTeamMemberFilter]="applyFilter"
      [chartId]="'allLeadsAndDealsBarChart'" [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService?.enableLeads"></app-redistributed-campaigns-and-leads-bar-chart>
    <app-redistributed-campaigns-and-leads-bar-chart [applyTeamMemberFilter]="applyFilter"
      [chartId]="'redistributeCampaignsAndLeadsCountBarChart'" [fromDateFilter]="partnerfromDateFilter"
      [toDateFilter]="partnertoDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService.module?.isCampaign && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-redistributed-campaigns-and-leads-bar-chart>
    <!-- <app-redistributed-campaigns-and-leads-bar-chart [applyTeamMemberFilter]="applyFilter"
          [chartId]="'redistributeCampaignsAndLeadsCountBarChartQuarterly'"></app-redistributed-campaigns-and-leads-bar-chart> -->
    <app-redistributed-campaigns-and-leads-bar-chart [applyTeamMemberFilter]="applyFilter"
      [chartId]="'top10LeadsAndDealsBarChart'" [fromDateFilter]="partnerfromDateFilter"
      [toDateFilter]="partnertoDateFilter" [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9)  && authenticationService?.enableLeads"></app-redistributed-campaigns-and-leads-bar-chart>
    <!-- </ng-container> -->
  </div>

  <!--******************Redistributed Camapign Details*******************-->
  <div class="row rowPaddingCustomization4">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 cardPaddingCustomization">
      <div>
        <app-pie-chart [chartId]="'redistributedCampaignDetailsPieChart'"
          (notifySelectSlice)="redistributedCampaignDetailsPieChartSelected($event)"
          (notifyUnSelectSlice)="redistributedCampaignDetailsPieChartUnSelected($event)" [isDetailedAnalytics]="false"
          [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
          [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
          [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
          *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService.module?.isCampaign && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-pie-chart>
      </div>
      <app-redistributed-campaign-details [partnerCompanyId]="'0'" [campaignTypeFilter]="selectedCampaignType"
        [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds"
        (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)" [applyFilter]="applyFilter"
        [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
        [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
        *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService.module?.isCampaign && !authenticationService.module?.isPrm && !authenticationService.module?.isPrmTeamMember"></app-redistributed-campaign-details>
    </div>
  </div>

  <!--******************Lead Details*******************-->
  <div class="row rowPaddingCustomization2">
    <app-partner-journey-lead-details [partnerCompanyId]="'0'" [isDetailedAnalytics]="false"
      [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService?.enableLeads"></app-partner-journey-lead-details>
  </div>
  <!--******************Deal Details*******************-->
  <div class="row rowPaddingCustomization2">
    <app-partner-journey-deal-details [partnerCompanyId]="'0'" [isDetailedAnalytics]="false"
      [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService?.enableLeads"></app-partner-journey-deal-details>
  </div>

  <div class="row responsivepaddding1">
    <app-kpi [applyTeamMemberFilter]="applyFilter" *ngIf="!loadAllCharts && selectedTabIndex == 0"></app-kpi>

    <!--******************MDF Details*******************-->

    <app-mdf-detail-analytics *ngIf="!loadAllCharts && (selectedTabIndex == 0 || selectedTabIndex == 9) && authenticationService?.mdf"
      [isDetailedAnalytics]="false" [selectedPartnerCompanyIds]="selectedPartnerCompanyIds" [applyFilter]="applyFilter"
      [fromDateFilter]="partnerfromDateFilter" [toDateFilter]="partnertoDateFilter"
      [fromDeactivatedPartnersDiv]="isdeactivatePartnersDiv" [fromActivePartnersDiv]="isActivePartnerDiv"
      (notifyShowDetailedAnalytics)="goToDetailedAnalytics($event)"></app-mdf-detail-analytics>
  </div>
  <app-scroll-top></app-scroll-top>
</div>

<!--*******************Detailed Analytics****************-->
<div *ngIf="showDetailedAnalytics">
  <app-partner-detailed-analytics [partnerCompanyId]="detailedAnalyticsPartnerCompany"
    (notifyCloseDetailedAnalytics)="closeDetailedAnalytics()"></app-partner-detailed-analytics>
</div>


<div class="modal fade" id="campaignInteractionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog" role="document" style="width: 80%; margin: 1em auto">
    <div class="modal-content">
      <div class="modal-header">
        <a class="close-circle" data-dismiss="modal" (click)="closeModalPopUp()">
          <i class="fa fa-times"></i>
        </a>
        <h4 class="m0">partner campaign interactions</h4>
      </div>
      <div class="modal-body clearfix">
        <div *ngIf="campaignInteractionPagination.pagedItems?.length == 0" class="col-md-6"
          class="col-md-9 alert alert-info m0" style="width: 100%">
          <strong>No Results found</strong>
        </div>
        <div class="table-responsive" [class.hideDiv]="campaignInteractionPagination.pagedItems?.length == 0">
          <table class="table tgrid" id="sample_editable_1">
            <thead>
              <tr>
                <th>NAME</th>
                <th>CAMPAIGN NAME</th>
                <th>DATE & TIME</th>
                <th>LOCATION</th>
                <th>PLATFORM</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let emailClicked of campaignInteractionPagination.pagedItems;let i = index">
                <td>
                  <app-user-info [userInfo]="emailClicked"> </app-user-info>
                </td>
                <td class="center">
                  <h5>{{emailClicked.campaignName}}</h5>
                  <h4 *ngIf="emailClicked.campaignName==null">-</h4>
                </td>
                <td class="center">
                  <h5>{{emailClicked.time |date:'MM/dd/yyyy @ h:mma'}}</h5>
                </td>
                <td class="center">
                  <app-location [userLocation]="emailClicked"> </app-location>
                </td>
                <td class="center" *ngIf="emailClicked.deviceType">{{emailClicked.deviceType}}</td>
                <td class="center" *ngIf="!emailClicked.deviceType">-</td>
              </tr>
            </tbody>
          </table>
        </div>
        <app-pagination *ngIf="campaignInteractionPagination.pagedItems?.length>0"
          [pagination]="campaignInteractionPagination" [type]="'parnter-interaction'"
          (notifyParentDropDown)="paginationDropdown($event)" (notifyParent)="setPage($event)"></app-pagination>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-defaullistOfEmailOpenLogs listOfEmailOpenLogst" data-dismiss="modal"
          (click)="closeModalPopUp()">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- ..........Approve and Decline Partner request modal........... -->
<div class="modal fade right" id="approve-decline-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="my-container">
    </div>
    <div class="modal-content">
      <div class="modal-header">
        <a class="close-circle" (click)="closeRequestModal()" data-dismiss="modal"> <i class="fa fa-times"
            aria-hidden="true"></i></a>
        <h4 class="modal-title left" id="myModalLabel" *ngIf="requestText == 'Approve'">Approve vendor request and send
          an email.</h4>
        <h4 class="modal-title left" id="myModalLabel" *ngIf="requestText == 'Decline'">Decline vendor request and send
          an email.</h4>
      </div>
      <div class="modal-body">
        <div>
          <div *ngIf="isError" class="alert alert-danger alert-dismissible left">
            <a (click)="isError = false" class="close" data-dismiss="alert" aria-label="close"></a>
            Please complete the required fields.
          </div>


          <div class="form-group">
            <label for="subjectLine">Email subject <span class="text-danger">*</span></label>
            <input type="text" id="subjectLine" [(ngModel)]="vendoorInvitation.subject" (input)="validateRequest()"
              [ngModelOptions]="{standalone: true}" placeholder="Subject Line" class="form-control" name="subjectLine"
              maxlength="200" />
          </div>
          <div class="form-group" *ngIf="isShowCKeditor">
            <label for="subjectLine">Message <span class="text-danger">*</span></label>
            <ckeditor name="body" [(ngModel)]="vendoorInvitation.message" [ngModelOptions]="{standalone: true}"
              (input)="validateRequest()"></ckeditor>
          </div>

        </div>

      </div>
      <div class="modal-footer" style="border: none">
        <button class="btn Btn-Gray" (click)="closeRequestModal()" data-dismiss="modal">Cancel</button>
        <button *ngIf="requestText=='Approve'" type="submit" class="btn green" (click)="approvePartnerRequest()">Send &
          Approve</button>
        <button *ngIf="requestText=='Decline'" type="submit" class="btn green" (click)="declinePartnerRequest()">Send &
          Decline</button>
      </div>
    </div>
  </div>
</div>

<app-send-test-email *ngIf="sendTestEmailIconClicked" [selectedPartners]="selectedPartners" [vanityTemplatesPartnerAnalytics]="vanityTemplates" (sendmailNotify)= "emittedMethod($event.item)"  [selectedItem]="selectedItem" [id]="selectedEmailTemplateId" [toEmailId]="selectedEmailId" (sendTestEmailComponentEventEmitter)="sendTestEmailModalPopupEventReceiver()" [isAllPartners]="isAllPartners" [selectedIncompleteEmailTemplateId]="selectedIncompleteEmailTemplateId" [selectedDormantEmailTemplateId]="selectedDormantEmailTemplateId"></app-send-test-email>





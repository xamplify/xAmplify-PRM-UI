<app-response-message [customResponse]="customResponse" *ngIf="customResponse.isVisible">
</app-response-message>
<ngx-loading [show]="httpRequestLoader.isLoading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div class="portlet-title" style="border-bottom: 0px !important ;"  *ngIf="!showTracksPlayBook">
    <div *ngIf="!showAsset" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-bottom: 20px;">
        <a (click)="closeView()" class="pull-right close-circle" style="padding: 4px 5px; margin: 5px -8px 2px 0px;">
            <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;position: relative;
            top: 4px;" aria-hidden="true"></span></a>
        <div class="page-bar" style="padding: 3px;margin-bottom: 1px;margin-right: -15px;margin-left: -15px; ">
            <div class="col-md-6 col-lg-6 track-title" title="{{tracksPlayBook.title}}">
                <div class="title-class" style="color: #888;font-size: 13px;text-shadow: none;">Track's Title:</div>
                <a class="title padding_bottom" style="color: #888;font-size: 13px;text-shadow: none; padding-top: 10px;">{{tracksPlayBook.title}}</a>
            </div>                    
        </div>
    </div>
    <br>
</div>

<div [ngClass]="{'blur-content' : showFilePreview}">
    <ng-container *ngIf="tracksPlayBook != undefined && !httpRequestLoader.isLoading">
            <div class="row">
                <section *ngIf="showTracksPlayBook">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="padding-right: 0px;">
                        <div class="page-bar leftBar" style="padding: 0px;">
                            <div class="col-md-12 col-lg-12 border-line" style="border:0px !important"
                                >
                                <div class="row">
                                    <div class="col-md-6 col-lg-6 track-title text-color content-bg" title="{{tracksPlayBook.title}}">
                                        <div class="title-class">Track's Title:</div>
                                        <a class="title padding_bottom text-color content-bg"
                                            style="font-size: 15px; padding-top: 10px;">{{tracksPlayBook.title}}</a>
            
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding_bottom">
                                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 padding-none">
                                    <img class="img-asset-class" [src]="tracksPlayBook.featuredImage" alt=""
                                        onerror="this.src='assets/images/lms-thumbnail.png';" style="height: 123px !important;
                                                                                                       width: 200px !important;">
                                </div>
                                <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">
                                    <div class="center" style="padding-top: 10px;" title="{{tracksPlayBook.createdByName}}"
                                        translate>
                                        Created By <strong>{{tracksPlayBook.createdByName}}</strong>
                                    </div>
                                    <div class="center" style="padding-top: 10px;" title="{{tracksPlayBook.createdTime}}" translate>
                                        Created On
                                        <strong>
                                            <app-timestamp [showInLine]="'true'" [dateAndTime]="tracksPlayBook.createdTime">
                                            </app-timestamp>
                                        </strong>
                                    </div>
                                    <div *ngIf="(type == undefined || type == 'TRACK') && isCreatedUser" class="center"
                                        style="padding-top: 10px;">
                                        <button style="border-radius: 5px;"
                                            [className]="authenticationService.module.playbookAccess ? 'add-button-xamplify':'inactive'"
                                            [title]="authenticationService.module.playbookAccess?'':'You do not have access'"
                                            (click)="saveAsPlayBook(authenticationService.module.playbookAccess)" translate>
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                            Add To PlayBooks
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="padding_bottom text-wrap img-desc-section-wrap">
                                    <div [innerHTML]="tracksPlayBook.description"></div>
                                </div>
                            </div>
                        </div>
            
                    </div>
                </section>
                <section *ngIf="!showTracksPlayBook" style="margin:0 15px 0 15px; ">
                    <div *ngIf="!showAsset" class="portlet light page-bar Form-BgImg" style="margin-top:45px;"
                    [style.backgroundColor]="authenticationService.formBackground">
                        <!-- <div class="portlet-title">
                            <div *ngIf="!showAsset" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <a (click)="closeView()" class="pull-right close-circle" style="padding: 3px 5px; margin: 4px 0px 0px 0px;">
                                    <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
                                <div class="page-bar" style="padding: 3px;margin-bottom: 1px;                                ">
                                    <div class="col-md-6 col-lg-6 track-title" title="{{tracksPlayBook.title}}">
                                        <div class="title-class alert-spf track-text">Track's Title:</div>
                                        <a class="title padding_bottom alert-spf track-text" style="font-size: 15px; padding-top: 10px;">{{tracksPlayBook.title}}</a>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="portlet-body Form-BgImg">
                        <div class="col-md-12 col-lg-12" style="padding-top: 30px;">
                            <app-form-preview *ngIf="!showAsset" [learningTrackId]="tracksPlayBook.id"
                                [isTrackQuizSubmitted]="isCurrentQuizSubmitted" [partnerId]="loggedInUserId" (notifyParent)="closeView($event)">
                            </app-form-preview>
                        </div>
                    </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div>
                            <div *ngIf="showAsset">
                                <div>
                                    <app-modal-popup-loader [hidden]="!assetViewLoader"></app-modal-popup-loader>
                                    <div [hidden]="assetViewLoader">
                                        <div style="margin-bottom: 10px!important;padding:0px 0px !important;">
                                            <div class="row">
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding-right: 0px;padding-left:0px;">
                                                    <div class="portlet light cphdam page-bar">
                                                        <div class="portlet-title">
                                                            <div class="col-sm-12 col-lg-12 col-md-12 col-xs-12" style="color: #888;padding-right:5px;">
                                                                <a (click)="closeView()" class="pull-right close-circle" style="margin:5px 0px 4px 0px;">
                                                                    <span class="glyphicon glyphicon-remove" style="z-index: 1;font-size: 13px;" aria-hidden="true"></span></a>
                                                                <h4 class="name-wrap" style="font-size: 15px;font-weight: bold;" title="{{tracksPlayBook.title}}">
                                                                    <div class="title-class">Track's Title:</div>
                                                                    <a class="title padding_bottom" style="font-size: 15px; padding-top: 10px;color: #888;">{{tracksPlayBook.title}}</a>
                                                                </h4>
                                                            </div>
                                                            <div class="col-sm-12 col-lg-12 col-md-12 col-xs-12 asset-name-class">
                                                                <h4 class="name-wrap title-height" style="font-size: 15px;font-weight: bold;" title="{{assetDetails?.assetName}}">
                                                                    <strong>{{assetDetails?.assetName}}</strong>
                                                                </h4>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                            <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 padding-none">
                                                                <img class="img-class" src="{{assetDetails?.thumbnailPath}}"
                                                                    alt="No Image Found">
                                                            </div>
                                                            <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">
                                                                <div class="center title-height" style="padding: 10px;margin: 0 !important;font-size: 14px;" title="{{assetDetails.assetType}}"
                                                                    translate>
                                                                    <strong>Type: </strong>{{assetDetails.assetType}}<br>
                                                                    <!-- <div class="name-wrap" title="{{assetDetails?.assetName}}">
                                                                                                                                    <strong>Title: </strong>{{assetDetails?.assetName}}
                                                                                                                                </div> -->
                                                                </div>
                                                                <a class="btn btn-primary" (click)="assetPreview(assetDetails)">View</a>
                                                                <a class="btn btn-primary" [ngClass]="{'isDisabled' : !assetDetails?.thumbnailPath}"
                                                                    (click)="downloadAsset(assetDetails)">Download</a>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 6px 10px 10px 10px;">
                                                            <div class="description-scroll padding_bottom img-desc-section-wrap" [innerHTML]="assetDetails?.description">
                                                        </div>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section> 
                <section class="col-xs-6 col-sm-6 col-md-6 col-lg-6" *ngIf="showAsset || showTracksPlayBook">
                    <div class="col-md-12 col-lg-12 color-inline border-line">
                        <div style="display: inline;position: absolute;margin-top:7px !important;margin-left:3px;">
                            <a class="title padding_bottom text-color content-bg row-space" style="font-size: 15px; padding-top: 10px;">Content</a>
                        </div>
                        <!-- <div class="btn-group pull-right">
                            <ng-container class='m10'>
                                <span class="btn btn-xs hidden-xs l-g-view" data-toggle="tooltip" data-placement="bottom"
                                    title="List View" [class.disabled]="modulesDisplayType.isListView"
                                    (click)="setViewType('List')">
                                    <i class="fa fa-th-list p10" aria-hidden="true"></i></span> &nbsp;
                                <span class="btn btn-xs hidden-xs l-g-view margin-space" data-toggle="tooltip"
                                    data-placement="bottom" title="Grid View" [class.disabled]="modulesDisplayType.isGridView"
                                    (click)="setViewType('Grid')">
                                    <i class="fa fa-th-large p10" aria-hidden="true"></i>
                                </span>
                            </ng-container>
                        </div> -->
                    </div>
                    <div class="page-bar">
                        <app-list-loader *ngIf="trackViewLoader && modulesDisplayType.isListView">
                        </app-list-loader>
                        <!-- <app-grid-loader *ngIf="trackViewLoader && modulesDisplayType.isGridView">
                        </app-grid-loader> -->
                        <!---List View----->
                        <section *ngIf="modulesDisplayType.isListView && !trackViewLoader">
                            <div class="table-responsive" style="float: left;">
                                <table class='table tgrid table-hover table-sm' id="manage-assets-table"
                                    *ngIf="tracksPlayBook.contents?.length>0" aria-describedby="manageAssetTables">
                                    <thead>
                                        <tr>
                                            <th colspan="2" style="width: 70%" id="border-bottom"><span class="gridHea
                                                                            der" translate>Asset
                                                    Details </span></th>
                                            <th class="text-center" scope="row" translate>Type</th>
                                            <th class="text-center" id="min-width" translate>Actions</th>
                                        </tr>
                                    </thead>
                                    <div></div>
                                    <tbody>
                                        <ng-container *ngFor="let content of tracksPlayBook.contents ;let i =index">
                                            <tr
                                                [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser, 'content-in-view' : (contentIndexInView == i)}" (click)="$event.stopPropagation();viewContent(content, i)">
                                                <ng-container *ngIf="!content.typeQuizId">
                                                    <td style="width: 10%;">
                                                        <div class="list-image-container">
                                                            <div class="thumbnail-wrapper">
                                                                <img class="custom-image-css" src="{{content?.dam?.thumbnailPath}}"
                                                                    alt="Image Not Found">
                                                            </div>
                                                            <div *ngIf="content?.dam?.assetType != undefined && (videoFormats.indexOf(content.dam.assetType?.toLowerCase())>-1)"
                                                                class="overlay-icon">
                                                                <button
                                                                    [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                                    class="list-play-icon-wrap" title="View"
                                                                    (click)="$event.stopPropagation();viewContent(content, i)">
                                                                    <i class="fa fa-play list-play-icon"></i>
                                                                </button>
                                                            </div>
                                                            <div *ngIf="content?.dam?.assetType == undefined || !(videoFormats.indexOf(content.dam.assetType?.toLowerCase())>-1)"
                                                                class="overlay-icon">
                                                                <button
                                                                    [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                                    class="list-play-icon-wrap" title="View"
                                                                    (click)="$event.stopPropagation();viewContent(content, i)">
                                                                    <i class="fa fa-file list-file-icon"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <h4 class="moreipsis mt5 mb5 f-w-600" title="{{content?.dam?.assetName}}">
                                                            <span><strong>{{content?.dam?.assetName}}</strong></span>
                                                        </h4>
                                                        <div *ngIf="!isCreatedUser && (type == undefined || type == 'TRACK')"
                                                            style="padding-top: 5px;">
                                                            <h6 *ngIf="content.finished" style="background-color: #5cb85c;"
                                                                class="banner" translate>
                                                                Finished</h6>
                                                            <h6 *ngIf="content.opened && !content.finished"
                                                                style="background-color: #819081;" class="banner" translate>In
                                                                Progress</h6>
                                                        </div>
                                                    </td>
                                                    <td class="text-center">{{content?.dam?.assetType}}</td>
                                                </ng-container>
                                                <ng-container *ngIf="content.typeQuizId">
                                                    <td style="width: 10%;">
                                                        <div class="thumbnail-wrapper">
                                                            <img class="custom-image-css" [src]="tracksPlayBook.featuredImage"
                                                                onerror="this.src='assets/images/form.png';" alt="Image Not Found">
                                                            <div class="ribbon">
                                                                <span style="background-color: #5cb85c;" translate>Quiz</span>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <h4 class="moreipsis mt5 mb5 f-w-600" title="{{content.quiz.name}}">
                                                            <span><strong>{{content.quiz.name}}</strong></span>
                                                        </h4>
                                                        <div *ngIf="!isCreatedUser && (type == undefined || type == 'TRACK')"
                                                            style="padding-top: 5px;">
                                                            <h6 *ngIf="content.finished" style="background-color: #5cb85c;"
                                                                class="banner" translate>
                                                                Finished</h6>
                                                            <h6 *ngIf="content.opened && !content.quiz.finished"
                                                                style="background-color: #819081;" class="banner" translate>In
                                                                Progress</h6>
                                                        </div>
                                                    </td>
                                                    <td class="text-center">Form</td>
                                                </ng-container>
                                                <td id="actions-row" class="text-center">
                                                    <div class="actions-block override-actions custom-width-icon no-float">
                                                        <a [ngClass]="{'isDisabled' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                            data-toggle="tooltip" data-placement="top" title="View"
                                                            (click)="$event.stopPropagation();viewContent(content, i)">
                                                            <i class="fa fa-eye" aria-hidden="true"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-container>
                                        <!-- <tr *ngIf="(type == undefined || type == 'TRACK') && tracksPlayBook.quiz"
                                            [ngClass]="{'disable-click': !isCreatedUser && !tracksPlayBook.enableQuiz}" (click)="viewQuiz()">
                                            <td style="width: 10%;">
                                                <div class="thumbnail-wrapper">
                                                    <img class="custom-image-css" [src]="tracksPlayBook.featuredImage"
                                                        onerror="this.src='assets/images/form.png';" alt="Image Not Found">
                                                    <div class="ribbon">
                                                        <span style="background-color: #5cb85c;" translate>Quiz</span>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <h4 class="moreipsis mt5 mb5 f-w-600" title="{{tracksPlayBook.quiz.name}}">
                                                    <span><strong>{{tracksPlayBook.quiz.name}}</strong></span>
                                                </h4>
                                                <div *ngIf="!isCreatedUser && !tracksPlayBook.enableQuiz && tracksPlayBook.progress != undefined && tracksPlayBook.progress === 100"
                                                    style="padding-top: 5px;">
                                                    <h6 style="background-color: #5cb85c;" class="banner" translate>
                                                        Finished</h6>
                                                </div>
                                            </td>
                                            <td class="text-center">Form</td>
                                            <td id="actions-row" class="text-center">
                                                <div class="actions-block override-actions custom-width-icon no-float">
                                                    <a *ngIf="!isCreatedUser"
                                                        [ngClass]="{'isDisabled' : !tracksPlayBook.enableQuiz}"
                                                        data-toggle="tooltip" data-placement="top" title="View"
                                                        (click)="viewQuiz()">
                                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                                    </a>
                                                    <a *ngIf="isCreatedUser" data-toggle="tooltip" data-placement="top" title="View"
                                                        (click)="viewQuiz()">
                                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr> -->
                                    </tbody>
                                </table>
                            </div>
                        </section>
                        <!----Grid View------->
                        <!-- <section *ngIf="modulesDisplayType.isGridView && !trackViewLoader">
                            <div class="row padding_bottom">
                                <div class="col-md-3 col-sm-4 col-xs-12"
                                    *ngFor="let content of tracksPlayBook.contents ;let i =index"
                                    id="ContentListDiv_{{content.id}}">
                                    <div
                                        [ngClass]="{'disable' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}">
                                        <div class="grid-box box-shadow"
                                            [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                            (click)="viewContent(content, i)">
                                            <div
                                                *ngIf="content?.thumbnailPath?.indexOf('assets/images/')===0;then defaultThumbnail else thumbnail">
                                            </div>
                                            <ng-template #defaultThumbnail>
                                                <img class="image-fixed-default" [src]="content.thumbnailPath"
                                                    onerror="this.src='tracksPlayBook.featuredImage';" alt="{{content.title}}">
                                            </ng-template>
                                            <ng-template #thumbnail>
                                                <img class="image-fixed" [src]="content.thumbnailPath"
                                                    onerror="this.src='tracksPlayBook.featuredImage';" alt="{{content.title}}">
                                            </ng-template>
                                            <div *ngIf="content?.assetType != undefined && (videoFormats.indexOf(content.assetType?.toLowerCase())>-1)"
                                                class="overlay-icon padding-grid-overlay">
                                                <button
                                                    [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                    class="grid-play-icon-wrap" title="View"
                                                    (click)="$event.stopPropagation();viewContent(content, i)">
                                                    <i class="fa fa-play grid-play-icon"></i>
                                                </button>
                                            </div>
                                            <div *ngIf="content?.assetType == undefined || !(videoFormats.indexOf(content.assetType?.toLowerCase())>-1)"
                                                class="overlay-icon padding-grid-overlay">
                                                <button
                                                    [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                    class="grid-play-icon-wrap" title="View"
                                                    (click)="$event.stopPropagation();viewContent(content, i)">
                                                    <i class="fa fa-file grid-file-icon"></i>
                                                </button>
                                            </div>
                                            <h5 class="grid-asset-title" title="{{content.assetName}}" translate>
                                                <strong>Title: </strong>{{content.assetName | slice:0:25}} <span
                                                    *ngIf="content.assetName?.length>25">...</span>
                                            </h5>
                                            <h6 class="asset-type" title="{{content.assetType}}" translate>
                                                <strong>Type: </strong>{{content.assetType}}
                                            </h6>
                                            <div *ngIf="!isCreatedUser && (type == undefined || type == 'TRACK')" class="ribbon">
                                                <span style="background-color: #5cb85c;" *ngIf="content.finished"
                                                    translate>Finished</span>
                                                <span style="background-color: #819081;" *ngIf="content.opened && !content.finished"
                                                    translate>In
                                                    Progress</span>
                                            </div>
                                            <div class="bar">
                                                <a [ngClass]="{'disable-click' : (type == undefined || type == 'TRACK') && i != 0 && tracksPlayBook.followAssetSequence && !tracksPlayBook.contents[i-1].finished && !isCreatedUser}"
                                                    data-toggle="tooltip" data-placement="top" title="View"
                                                    (click)="$event.stopPropagation();viewContent(content)">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="type == undefined || type == 'TRACK'" class="col-md-3 col-sm-4 col-xs-12">
                                    <div [ngClass]="{'disable' : !isCreatedUser && !tracksPlayBook.enableQuiz}">
                                        <div class="grid-box box-shadow"
                                            [ngClass]="{'disable-click' : !isCreatedUser && !tracksPlayBook.enableQuiz}"
                                            *ngIf="tracksPlayBook.quiz" (click)="viewQuiz()">
                                            <img class="image-fixed" [src]="tracksPlayBook.featuredImage"
                                                onerror="this.src='assets/images/form.png';" alt="Image Not Found">
                                            <h5 class="grid-asset-title" title="{{tracksPlayBook.quiz.name}}" translate>
                                                <strong>Title: </strong>{{tracksPlayBook.quiz.name | slice:0:25}} <span
                                                    *ngIf="tracksPlayBook.quiz.name?.length>25">...</span><br>
                                            </h5>
                                            <h6 class="asset-type" title="Form" translate>
                                                <strong>Type: </strong>Form
                                            </h6>
                                            <div *ngIf="!isCreatedUser && !tracksPlayBook.enableQuiz && tracksPlayBook.progress != undefined && tracksPlayBook.progress === 100"
                                                class="ribbon">
                                                <span style="background-color: #5cb85c;" translate>Finished</span>
                                            </div>
                                            <div class="ribbon-right">
                                                <span style="background-color: #5cb85c;" translate>Quiz</span>
                                            </div>
                                            <div class="bar">
                                                <a *ngIf="!isCreatedUser" [ngClass]="{'disable-click' : !tracksPlayBook.enableQuiz}"
                                                    data-toggle="tooltip" data-placement="top" title="View" (click)="viewQuiz()">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </a>
                                                <a *ngIf="isCreatedUser" data-toggle="tooltip" data-placement="top" title="View"
                                                    (click)="viewQuiz()">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section> -->
                        <div *ngIf="tracksPlayBook.contents?.length==0 && !trackViewLoader" class="alert alert-info text-center">
                            <strong>No Data Found.</strong>
                        </div>
                    </div>
                </section>
            </div>
    </ng-container>
</div>

<!-- Form Preview Modal Popup -->
<app-preview-popup #previewPopupComponent></app-preview-popup>

<!-- Preview Assets -->
<ng-container *ngIf="showFilePreview">
    <div class="overlay page-content">
        <button type="button" class="close-circle" style="position: relative; top: 32px; right: 26px;" data-dismiss="modal" (click)="closeAssetPreview()">
            <i style="padding-bottom: 3px;" class="fa fa-times" aria-hidden="true"></i>
        </button>
        <div class="overlay-content">
            <ng-container *ngIf="isImage">
                <img class="fit-preview-asset" [src]="filePath" alt="No Image Found"><br>
            </ng-container>
            <ng-container *ngIf="isVideo">
                <video class="fit-preview-asset" controls>
                    <source [src]="filePath" [type]="fileType">
                    Your browser does not support the video tag.
                </video>
            </ng-container>
            <ng-container *ngIf="isAudio">
                <audio controls>
                    <source [src]="filePath" [type]="fileType">
                    Your browser does not support the audio tag.
                </audio>
            </ng-container>
            <div *ngIf="isFile && filePath?.length > 0">
                <iframe [src]="url" style="width:100%; height:75vh;" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</ng-container>


<!-- Preview Bee Template Modal Popup-->
<div class="modal fade right" id="asset-preview-modal" tabindex="-1" role="dialog" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg modal-template fullwidth" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close-circle" data-dismiss="modal" aria-hidden="true">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-break" id="assetTitle"></h4>
            </div>
            <div class="modal-body overflow-control">
                <app-modal-popup-loader *ngIf="modalPopupLoader"></app-modal-popup-loader>
                <div id="asset-preview-content"> 
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" data-dismiss="modal" class="btn btn-default" style="float: right">Close</a>
            </div>
        </div>
    </div>
</div>